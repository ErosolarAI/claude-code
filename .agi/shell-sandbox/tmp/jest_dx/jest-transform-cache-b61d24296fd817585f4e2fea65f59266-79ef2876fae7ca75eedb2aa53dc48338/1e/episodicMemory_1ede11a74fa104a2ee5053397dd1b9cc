d32beaeb77a3e17f7a83582681de8e75
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.EpisodicMemory = void 0;
exports.createEpisodicMemory = createEpisodicMemory;
exports.getEpisodicMemory = getEpisodicMemory;
var _nodeFs = require("node:fs");
var _nodePath = require("node:path");
var _nodeOs = require("node:os");
/**
 * Episodic Memory System - Cross-session pattern learning with semantic indexing
 *
 * Features:
 * 1. Episode detection and boundary marking
 * 2. Semantic indexing via vector embeddings (pluggable providers)
 * 3. Cross-session pattern learning and retrieval
 * 4. Task-specific memory with temporal decay
 * 5. Memory consolidation and pruning
 *
 * Storage: ~/.agi/episodic-memory/
 *   - episodes.json     (episode metadata index)
 *   - embeddings.bin    (vector embeddings cache)
 *   - patterns.json     (learned patterns)
 */

// ============================================================================
// TYPES
// ============================================================================

// ============================================================================
// TASK-SPECIFIC OPTIMIZATION PROFILES
// ============================================================================

/**
 * Optimization profile for task-specific settings.
 * Used to configure RL tournament behavior, validation, and execution strategies
 * based on learned patterns from successful episodes.
 */

/**
 * Default reward weights for each category
 */
const DEFAULT_REWARD_WEIGHTS = {
  bug_fix: {
    executionSuccess: 0.30,
    testsPassed: 0.35,
    staticAnalysis: 0.10,
    codeQuality: 0.05,
    blastRadius: 0.15,
    selfAssessment: 0.03,
    speedBonus: 0.02
  },
  feature_add: {
    executionSuccess: 0.25,
    testsPassed: 0.25,
    staticAnalysis: 0.15,
    codeQuality: 0.15,
    blastRadius: 0.10,
    selfAssessment: 0.05,
    speedBonus: 0.05
  },
  refactor: {
    executionSuccess: 0.25,
    testsPassed: 0.30,
    staticAnalysis: 0.20,
    codeQuality: 0.15,
    blastRadius: 0.05,
    selfAssessment: 0.03,
    speedBonus: 0.02
  },
  test_write: {
    executionSuccess: 0.30,
    testsPassed: 0.40,
    staticAnalysis: 0.10,
    codeQuality: 0.05,
    blastRadius: 0.05,
    selfAssessment: 0.05,
    speedBonus: 0.05
  },
  documentation: {
    executionSuccess: 0.35,
    testsPassed: 0.05,
    staticAnalysis: 0.10,
    codeQuality: 0.20,
    blastRadius: 0.10,
    selfAssessment: 0.10,
    speedBonus: 0.10
  },
  analysis: {
    executionSuccess: 0.40,
    testsPassed: 0.05,
    staticAnalysis: 0.05,
    codeQuality: 0.10,
    blastRadius: 0.05,
    selfAssessment: 0.20,
    speedBonus: 0.15
  },
  configuration: {
    executionSuccess: 0.35,
    testsPassed: 0.20,
    staticAnalysis: 0.15,
    codeQuality: 0.05,
    blastRadius: 0.15,
    selfAssessment: 0.05,
    speedBonus: 0.05
  },
  debugging: {
    executionSuccess: 0.35,
    testsPassed: 0.25,
    staticAnalysis: 0.05,
    codeQuality: 0.05,
    blastRadius: 0.05,
    selfAssessment: 0.15,
    speedBonus: 0.10
  },
  optimization: {
    executionSuccess: 0.25,
    testsPassed: 0.25,
    staticAnalysis: 0.10,
    codeQuality: 0.15,
    blastRadius: 0.05,
    selfAssessment: 0.05,
    speedBonus: 0.15
  },
  migration: {
    executionSuccess: 0.30,
    testsPassed: 0.30,
    staticAnalysis: 0.15,
    codeQuality: 0.05,
    blastRadius: 0.10,
    selfAssessment: 0.05,
    speedBonus: 0.05
  },
  unknown: {
    executionSuccess: 0.25,
    testsPassed: 0.30,
    staticAnalysis: 0.15,
    codeQuality: 0.10,
    blastRadius: 0.10,
    selfAssessment: 0.05,
    speedBonus: 0.05
  }
};

// ============================================================================
// DEFAULT EMBEDDING PROVIDER (Simple TF-IDF style, no external deps)
// ============================================================================

class SimpleEmbeddingProvider {
  dimension = 256;
  name = 'simple-tfidf';
  vocabulary = new Map();
  idf = new Map();
  async embed(text) {
    const tokens = this.tokenize(text);
    const vector = new Array(this.dimension).fill(0);

    // Simple hash-based embedding (deterministic, no training needed)
    for (const token of tokens) {
      const hash = this.hashToken(token);
      const idx = Math.abs(hash) % this.dimension;
      vector[idx] += 1;
    }

    // Normalize to unit vector
    const magnitude = Math.sqrt(vector.reduce((sum, v) => sum + v * v, 0));
    if (magnitude > 0) {
      for (let i = 0; i < vector.length; i++) {
        vector[i] /= magnitude;
      }
    }
    return vector;
  }
  tokenize(text) {
    return text.toLowerCase().replace(/[^a-z0-9\s]/g, ' ').split(/\s+/).filter(t => t.length > 2);
  }
  hashToken(token) {
    let hash = 0;
    for (let i = 0; i < token.length; i++) {
      const char = token.charCodeAt(i);
      hash = (hash << 5) - hash + char;
      hash = hash & hash; // Convert to 32-bit integer
    }
    return hash;
  }
}

// ============================================================================
// EPISODIC MEMORY SYSTEM
// ============================================================================

class EpisodicMemory {
  episodes = new Map();
  approaches = new Map();
  optimizationProfiles = new Map();
  dirty = false;

  // In-memory episode being recorded
  currentEpisode = null;
  episodeToolsUsed = new Set();
  episodeFilesModified = new Set();
  constructor(config = {}) {
    const dataRoot = process.env['EROSOLAR_DATA_DIR']?.trim() || (0, _nodePath.join)((0, _nodeOs.homedir)(), '.agi');
    this.config = {
      maxEpisodes: 1000,
      maxApproaches: 200,
      decayFactor: 0.95,
      minSimilarity: 0.3,
      useEmbeddings: true,
      storageDir: (0, _nodePath.join)(dataRoot, 'episodic-memory'),
      ...config
    };
    this.embeddingProvider = config.embeddingProvider || new SimpleEmbeddingProvider();
    this.load();
  }

  // ==========================================================================
  // EPISODE LIFECYCLE
  // ==========================================================================

  /**
   * Start recording a new episode
   */
  startEpisode(intent, sessionId, category) {
    const id = this.generateId();
    this.currentEpisode = {
      id,
      sessionId,
      startTime: Date.now(),
      intent,
      category: category || this.inferCategory(intent),
      toolsUsed: [],
      filesModified: [],
      success: false,
      summary: '',
      tags: this.extractTags(intent),
      retrievalCount: 0,
      lastRetrieved: 0
    };
    this.episodeToolsUsed.clear();
    this.episodeFilesModified.clear();
    return id;
  }

  /**
   * Record tool usage within current episode
   */
  recordToolUse(toolName) {
    this.episodeToolsUsed.add(toolName);
  }

  /**
   * Record file modification within current episode
   */
  recordFileModification(filePath) {
    this.episodeFilesModified.add(filePath);
  }

  /**
   * End current episode and save to memory
   */
  async endEpisode(success, summary) {
    if (!this.currentEpisode) return null;
    const episode = {
      ...this.currentEpisode,
      endTime: Date.now(),
      success,
      summary,
      toolsUsed: Array.from(this.episodeToolsUsed),
      filesModified: Array.from(this.episodeFilesModified)
    };

    // Generate embedding for semantic search
    if (this.config.useEmbeddings) {
      const textForEmbedding = `${episode.intent} ${episode.summary} ${episode.tags.join(' ')}`;
      episode.embedding = await this.embeddingProvider.embed(textForEmbedding);
    }
    this.episodes.set(episode.id, episode);
    this.dirty = true;

    // Learn from successful episodes
    if (success) {
      await this.learnFromEpisode(episode);
    }

    // Prune if needed
    this.pruneEpisodes();

    // Clear current episode
    this.currentEpisode = null;
    this.episodeToolsUsed.clear();
    this.episodeFilesModified.clear();

    // Auto-save
    this.save();
    return episode;
  }

  /**
   * Abort current episode without saving
   */
  abortEpisode() {
    this.currentEpisode = null;
    this.episodeToolsUsed.clear();
    this.episodeFilesModified.clear();
  }

  // ==========================================================================
  // RETRIEVAL & SEARCH
  // ==========================================================================

  /**
   * Search for similar past episodes
   */
  async search(query) {
    const results = [];
    const limit = query.limit || 10;

    // Generate query embedding if using embeddings
    let queryEmbedding = null;
    if (this.config.useEmbeddings) {
      queryEmbedding = await this.embeddingProvider.embed(query.query);
    }
    for (const episode of this.episodes.values()) {
      // Apply filters
      if (query.category && episode.category !== query.category) continue;
      if (query.successOnly && !episode.success) continue;
      if (query.since && episode.startTime < query.since) continue;
      if (query.tags && !query.tags.some(t => episode.tags.includes(t))) continue;

      // Calculate similarity
      let similarity = 0;
      let matchReason = '';
      if (queryEmbedding && episode.embedding) {
        // Cosine similarity for embeddings
        similarity = this.cosineSimilarity(queryEmbedding, episode.embedding);
        matchReason = 'semantic similarity';
      } else {
        // Fallback to keyword matching
        similarity = this.keywordSimilarity(query.query, episode.intent + ' ' + episode.summary);
        matchReason = 'keyword match';
      }

      // Apply temporal decay
      const ageInDays = (Date.now() - episode.endTime) / (1000 * 60 * 60 * 24);
      const decayedSimilarity = similarity * Math.pow(this.config.decayFactor, ageInDays / 30);

      // Boost for popularity
      const popularityBoost = 1 + episode.retrievalCount * 0.01;
      const finalSimilarity = decayedSimilarity * popularityBoost;
      if (finalSimilarity >= (query.minSimilarity || this.config.minSimilarity)) {
        results.push({
          episode,
          similarity: finalSimilarity,
          matchReason
        });
      }
    }

    // Sort by similarity and limit
    results.sort((a, b) => b.similarity - a.similarity);
    const topResults = results.slice(0, limit);

    // Update retrieval counts
    for (const result of topResults) {
      result.episode.retrievalCount++;
      result.episode.lastRetrieved = Date.now();
      this.dirty = true;
    }
    return topResults;
  }

  /**
   * Get learned approach for a task
   */
  async getApproach(intent) {
    const keywords = this.extractKeywords(intent);

    // First try exact keyword match
    for (const approach of this.approaches.values()) {
      const overlapCount = keywords.filter(k => approach.keywords.includes(k)).length;
      if (overlapCount >= Math.min(3, keywords.length * 0.5)) {
        return approach;
      }
    }

    // Try semantic search if embeddings enabled
    if (this.config.useEmbeddings) {
      const queryEmbedding = await this.embeddingProvider.embed(intent);
      let bestMatch = null;
      let bestSimilarity = 0;
      for (const approach of this.approaches.values()) {
        if (approach.embedding) {
          const similarity = this.cosineSimilarity(queryEmbedding, approach.embedding);
          if (similarity > bestSimilarity && similarity >= this.config.minSimilarity) {
            bestSimilarity = similarity;
            bestMatch = approach;
          }
        }
      }
      return bestMatch;
    }
    return null;
  }

  /**
   * Get recent episodes for context
   */
  getRecentEpisodes(limit = 5, sessionId) {
    const episodes = Array.from(this.episodes.values());
    const filtered = sessionId ? episodes.filter(e => e.sessionId === sessionId) : episodes;
    return filtered.sort((a, b) => b.endTime - a.endTime).slice(0, limit);
  }

  // ==========================================================================
  // LEARNING
  // ==========================================================================

  /**
   * Learn patterns from a successful episode
   */
  async learnFromEpisode(episode) {
    const keywords = this.extractKeywords(episode.intent);
    const approachKey = keywords.sort().join('_');
    const existing = this.approaches.get(approachKey);
    if (existing) {
      // Update existing approach
      existing.useCount++;
      existing.successRate = (existing.successRate * (existing.useCount - 1) + 1) / existing.useCount;
      existing.sourceEpisodes.push(episode.id);
      existing.tools = [...new Set([...existing.tools, ...episode.toolsUsed])];
      existing.updatedAt = Date.now();

      // Re-compute embedding
      if (this.config.useEmbeddings) {
        existing.embedding = await this.embeddingProvider.embed(existing.triggerPattern);
      }
    } else {
      // Create new approach
      const approach = {
        id: this.generateId(),
        triggerPattern: episode.intent,
        keywords,
        approach: [episode.summary],
        tools: episode.toolsUsed,
        successRate: 1,
        useCount: 1,
        sourceEpisodes: [episode.id],
        updatedAt: Date.now()
      };
      if (this.config.useEmbeddings) {
        approach.embedding = await this.embeddingProvider.embed(approach.triggerPattern);
      }
      this.approaches.set(approachKey, approach);
    }
    this.pruneApproaches();
    this.dirty = true;
  }

  /**
   * Record approach failure to update success rate
   */
  recordApproachFailure(approachId) {
    for (const approach of this.approaches.values()) {
      if (approach.id === approachId) {
        approach.useCount++;
        approach.successRate = approach.successRate * (approach.useCount - 1) / approach.useCount;
        approach.updatedAt = Date.now();
        this.dirty = true;
        break;
      }
    }
  }

  // ==========================================================================
  // HELPERS
  // ==========================================================================

  generateId() {
    const timestamp = Date.now().toString(36);
    const random = Math.random().toString(36).slice(2, 8);
    return `ep_${timestamp}_${random}`;
  }
  inferCategory(intent) {
    const lower = intent.toLowerCase();
    if (/\b(fix|bug|error|issue|crash|broken)\b/.test(lower)) return 'bug_fix';
    if (/\b(add|feature|implement|create|new)\b/.test(lower)) return 'feature_add';
    if (/\b(refactor|clean|reorganize|restructure)\b/.test(lower)) return 'refactor';
    if (/\b(test|spec|coverage)\b/.test(lower)) return 'test_write';
    if (/\b(doc|readme|comment|explain)\b/.test(lower)) return 'documentation';
    if (/\b(analyz|understand|explore|investigate)\b/.test(lower)) return 'analysis';
    if (/\b(config|setup|install|env)\b/.test(lower)) return 'configuration';
    if (/\b(debug|trace|log|inspect)\b/.test(lower)) return 'debugging';
    if (/\b(optim|perf|speed|fast)\b/.test(lower)) return 'optimization';
    if (/\b(migrat|upgrad|update|convert)\b/.test(lower)) return 'migration';
    return 'unknown';
  }
  extractTags(text) {
    const tags = [];
    const lower = text.toLowerCase();

    // Extract technology tags
    const techPatterns = {
      typescript: /\btypescript\b|\\.tsx?\b/,
      javascript: /\bjavascript\b|\\.jsx?\b/,
      python: /\bpython\b|\\.py\b/,
      react: /\breact\b/,
      node: /\bnode\.?js?\b/,
      api: /\bapi\b|\brest\b|\bgraphql\b/,
      database: /\bdb\b|\bdatabase\b|\bsql\b|\bmongo\b/,
      test: /\btest\b|\bspec\b|\bjest\b|\bvitest\b/,
      git: /\bgit\b|\bcommit\b|\bbranch\b/
    };
    for (const [tag, pattern] of Object.entries(techPatterns)) {
      if (pattern.test(lower)) {
        tags.push(tag);
      }
    }
    return tags;
  }
  extractKeywords(text) {
    return text.toLowerCase().replace(/[^a-z0-9\s]/g, ' ').split(/\s+/).filter(w => w.length > 3).filter(w => !['this', 'that', 'with', 'from', 'have', 'will', 'would', 'could', 'should'].includes(w));
  }
  cosineSimilarity(a, b) {
    if (a.length !== b.length) return 0;
    let dotProduct = 0;
    let magnitudeA = 0;
    let magnitudeB = 0;
    for (let i = 0; i < a.length; i++) {
      dotProduct += a[i] * b[i];
      magnitudeA += a[i] * a[i];
      magnitudeB += b[i] * b[i];
    }
    const magnitude = Math.sqrt(magnitudeA) * Math.sqrt(magnitudeB);
    return magnitude === 0 ? 0 : dotProduct / magnitude;
  }
  keywordSimilarity(query, text) {
    const queryWords = new Set(this.extractKeywords(query));
    const textWords = new Set(this.extractKeywords(text));
    if (queryWords.size === 0 || textWords.size === 0) return 0;
    let matches = 0;
    for (const word of queryWords) {
      if (textWords.has(word)) matches++;
    }
    return matches / queryWords.size;
  }

  // ==========================================================================
  // OPTIMIZATION PROFILES
  // ==========================================================================

  /**
   * Get or create an optimization profile for a category.
   * Used by the RL tournament system to get task-specific settings.
   */
  getOptimizationProfile(category, policyName) {
    const existing = this.optimizationProfiles.get(category);
    if (existing) {
      return existing;
    }

    // Create default profile for this category
    const profile = {
      id: `profile_${category}_${Date.now().toString(36)}`,
      category,
      policyName: policyName || `${category}_default`,
      preferredMode: this.inferPreferredMode(category),
      useGitWorktrees: category === 'migration' || category === 'refactor',
      rewardWeights: {
        ...DEFAULT_REWARD_WEIGHTS[category]
      },
      preferredTools: this.inferPreferredTools(category),
      autoApprovalThreshold: 0.85,
      successCount: 0,
      failureCount: 0,
      updatedAt: Date.now()
    };
    this.optimizationProfiles.set(category, profile);
    this.dirty = true;
    return profile;
  }

  /**
   * Update optimization profile based on episode outcome.
   * Called after an episode completes to adjust learned settings.
   */
  updateOptimizationProfile(category, success, options) {
    const profile = this.getOptimizationProfile(category);
    if (success) {
      profile.successCount++;

      // Update preferred tools based on successful episodes
      if (options?.toolsUsed) {
        for (const tool of options.toolsUsed) {
          if (!profile.preferredTools.includes(tool)) {
            profile.preferredTools.push(tool);
          }
        }
        // Keep only top 10 preferred tools
        profile.preferredTools = profile.preferredTools.slice(0, 10);
      }

      // Update mode preference if dual mode was successful
      if (options?.mode && options.mode !== 'single-continuous') {
        const successRate = profile.successCount / (profile.successCount + profile.failureCount);
        if (successRate > 0.7 && profile.preferredMode === 'single-continuous') {
          profile.preferredMode = 'dual-rl-continuous';
        }
      }

      // Track git worktree success
      if (options?.usedGitWorktrees && !profile.useGitWorktrees) {
        profile.useGitWorktrees = true;
      }
    } else {
      profile.failureCount++;

      // If success rate drops, adjust auto-approval threshold
      const successRate = profile.successCount / (profile.successCount + profile.failureCount);
      if (successRate < profile.autoApprovalThreshold) {
        profile.autoApprovalThreshold = Math.max(0.5, successRate - 0.05);
      }
    }
    profile.updatedAt = Date.now();
    this.dirty = true;
    this.save();
  }

  /**
   * Get reward weights for a category, adjusted based on learned patterns.
   */
  getRewardWeights(category) {
    const profile = this.getOptimizationProfile(category);
    return profile.rewardWeights;
  }

  /**
   * Update reward weights based on tournament outcomes.
   * Adjusts weights to favor signals that correlated with successful outcomes.
   */
  adjustRewardWeights(category, winningSignals, success) {
    const profile = this.getOptimizationProfile(category);
    const learningRate = 0.1;
    for (const [key, value] of Object.entries(winningSignals)) {
      const k = key;
      if (success) {
        // Slightly increase weight for signals that contributed to success
        profile.rewardWeights[k] = Math.min(0.5, profile.rewardWeights[k] + learningRate * value);
      } else {
        // Slightly decrease weight for signals that didn't prevent failure
        profile.rewardWeights[k] = Math.max(0.01, profile.rewardWeights[k] - learningRate * 0.5 * value);
      }
    }

    // Normalize weights to sum to 1
    const total = Object.values(profile.rewardWeights).reduce((sum, v) => sum + v, 0);
    for (const key of Object.keys(profile.rewardWeights)) {
      const k = key;
      profile.rewardWeights[k] /= total;
    }
    profile.updatedAt = Date.now();
    this.dirty = true;
  }

  /**
   * Get all optimization profiles for inspection.
   */
  getAllOptimizationProfiles() {
    return Array.from(this.optimizationProfiles.values());
  }
  inferPreferredMode(category) {
    // Categories that benefit from dual-agent comparison
    switch (category) {
      case 'refactor':
      case 'optimization':
      case 'migration':
        return 'dual-rl-tournament';
      case 'feature_add':
      case 'bug_fix':
        return 'dual-rl-continuous';
      default:
        return 'single-continuous';
    }
  }
  inferPreferredTools(category) {
    switch (category) {
      case 'bug_fix':
        return ['Read', 'Grep', 'Edit', 'Bash'];
      case 'feature_add':
        return ['Read', 'Write', 'Edit', 'Bash'];
      case 'refactor':
        return ['Read', 'Edit', 'Grep', 'Bash'];
      case 'test_write':
        return ['Read', 'Write', 'Bash'];
      case 'documentation':
        return ['Read', 'Write', 'Edit'];
      case 'analysis':
        return ['Read', 'Grep', 'Glob'];
      case 'debugging':
        return ['Read', 'Grep', 'Bash', 'Edit'];
      default:
        return ['Read', 'Edit', 'Bash'];
    }
  }

  // ==========================================================================
  // PRUNING
  // ==========================================================================

  pruneEpisodes() {
    if (this.episodes.size <= this.config.maxEpisodes) return;

    // Score episodes by value (recency + success + retrieval count)
    const scored = Array.from(this.episodes.values()).map(ep => {
      const ageScore = 1 - (Date.now() - ep.endTime) / (1000 * 60 * 60 * 24 * 365); // 1 year decay
      const successScore = ep.success ? 0.3 : 0;
      const retrievalScore = Math.min(ep.retrievalCount * 0.05, 0.2);
      return {
        id: ep.id,
        score: ageScore + successScore + retrievalScore
      };
    });
    scored.sort((a, b) => b.score - a.score);

    // Keep top episodes
    const toKeep = new Set(scored.slice(0, this.config.maxEpisodes).map(s => s.id));
    for (const id of this.episodes.keys()) {
      if (!toKeep.has(id)) {
        this.episodes.delete(id);
      }
    }
  }
  pruneApproaches() {
    if (this.approaches.size <= this.config.maxApproaches) return;

    // Score approaches by usefulness
    const scored = Array.from(this.approaches.entries()).map(([key, ap]) => {
      const recencyScore = 1 - (Date.now() - ap.updatedAt) / (1000 * 60 * 60 * 24 * 180); // 6 month decay
      const useScore = Math.min(ap.useCount * 0.1, 0.3);
      const successScore = ap.successRate * 0.4;
      return {
        key,
        score: recencyScore + useScore + successScore
      };
    });
    scored.sort((a, b) => b.score - a.score);

    // Keep top approaches
    const toKeep = new Set(scored.slice(0, this.config.maxApproaches).map(s => s.key));
    for (const key of this.approaches.keys()) {
      if (!toKeep.has(key)) {
        this.approaches.delete(key);
      }
    }
  }

  // ==========================================================================
  // PERSISTENCE
  // ==========================================================================

  load() {
    try {
      if (!(0, _nodeFs.existsSync)(this.config.storageDir)) {
        (0, _nodeFs.mkdirSync)(this.config.storageDir, {
          recursive: true
        });
        return;
      }
      const episodesPath = (0, _nodePath.join)(this.config.storageDir, 'episodes.json');
      const approachesPath = (0, _nodePath.join)(this.config.storageDir, 'approaches.json');
      const profilesPath = (0, _nodePath.join)(this.config.storageDir, 'optimization-profiles.json');
      if ((0, _nodeFs.existsSync)(episodesPath)) {
        const data = JSON.parse((0, _nodeFs.readFileSync)(episodesPath, 'utf-8'));
        for (const ep of data.episodes || []) {
          this.episodes.set(ep.id, ep);
        }
      }
      if ((0, _nodeFs.existsSync)(approachesPath)) {
        const data = JSON.parse((0, _nodeFs.readFileSync)(approachesPath, 'utf-8'));
        for (const [key, ap] of Object.entries(data.approaches || {})) {
          this.approaches.set(key, ap);
        }
      }
      if ((0, _nodeFs.existsSync)(profilesPath)) {
        const data = JSON.parse((0, _nodeFs.readFileSync)(profilesPath, 'utf-8'));
        for (const profile of data.profiles || []) {
          this.optimizationProfiles.set(profile.category, profile);
        }
      }
    } catch (error) {
      console.error('Failed to load episodic memory:', error);
    }
  }
  save() {
    if (!this.dirty) return;
    try {
      (0, _nodeFs.mkdirSync)(this.config.storageDir, {
        recursive: true
      });
      const episodesPath = (0, _nodePath.join)(this.config.storageDir, 'episodes.json');
      const approachesPath = (0, _nodePath.join)(this.config.storageDir, 'approaches.json');
      const profilesPath = (0, _nodePath.join)(this.config.storageDir, 'optimization-profiles.json');
      (0, _nodeFs.writeFileSync)(episodesPath, JSON.stringify({
        version: 1,
        updatedAt: Date.now(),
        episodes: Array.from(this.episodes.values())
      }, null, 2));
      (0, _nodeFs.writeFileSync)(approachesPath, JSON.stringify({
        version: 1,
        updatedAt: Date.now(),
        approaches: Object.fromEntries(this.approaches)
      }, null, 2));
      (0, _nodeFs.writeFileSync)(profilesPath, JSON.stringify({
        version: 1,
        updatedAt: Date.now(),
        profiles: Array.from(this.optimizationProfiles.values())
      }, null, 2));
      this.dirty = false;
    } catch (error) {
      console.error('Failed to save episodic memory:', error);
    }
  }

  // ==========================================================================
  // STATS
  // ==========================================================================

  getStats() {
    const categoryCounts = {};
    const tagCounts = {};
    let successCount = 0;
    for (const episode of this.episodes.values()) {
      categoryCounts[episode.category] = (categoryCounts[episode.category] || 0) + 1;
      if (episode.success) successCount++;
      for (const tag of episode.tags) {
        tagCounts[tag] = (tagCounts[tag] || 0) + 1;
      }
    }
    const topTags = Object.entries(tagCounts).sort((a, b) => b[1] - a[1]).slice(0, 10).map(([tag]) => tag);
    const profileSummary = Array.from(this.optimizationProfiles.values()).map(p => ({
      category: p.category,
      successRate: p.successCount + p.failureCount > 0 ? p.successCount / (p.successCount + p.failureCount) : 0,
      preferredMode: p.preferredMode
    })).sort((a, b) => b.successRate - a.successRate);
    return {
      totalEpisodes: this.episodes.size,
      successfulEpisodes: successCount,
      totalApproaches: this.approaches.size,
      totalProfiles: this.optimizationProfiles.size,
      categoryCounts,
      topTags,
      profileSummary
    };
  }
}

// ============================================================================
// SINGLETON & FACTORY
// ============================================================================
exports.EpisodicMemory = EpisodicMemory;
let defaultInstance = null;

/**
 * Get or create the default episodic memory instance
 */
function getEpisodicMemory(config) {
  if (!defaultInstance) {
    defaultInstance = new EpisodicMemory(config);
  }
  return defaultInstance;
}

/**
 * Create a new episodic memory instance with custom config
 */
function createEpisodicMemory(config = {}) {
  return new EpisodicMemory(config);
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbm9kZUZzIiwicmVxdWlyZSIsIl9ub2RlUGF0aCIsIl9ub2RlT3MiLCJERUZBVUxUX1JFV0FSRF9XRUlHSFRTIiwiYnVnX2ZpeCIsImV4ZWN1dGlvblN1Y2Nlc3MiLCJ0ZXN0c1Bhc3NlZCIsInN0YXRpY0FuYWx5c2lzIiwiY29kZVF1YWxpdHkiLCJibGFzdFJhZGl1cyIsInNlbGZBc3Nlc3NtZW50Iiwic3BlZWRCb251cyIsImZlYXR1cmVfYWRkIiwicmVmYWN0b3IiLCJ0ZXN0X3dyaXRlIiwiZG9jdW1lbnRhdGlvbiIsImFuYWx5c2lzIiwiY29uZmlndXJhdGlvbiIsImRlYnVnZ2luZyIsIm9wdGltaXphdGlvbiIsIm1pZ3JhdGlvbiIsInVua25vd24iLCJTaW1wbGVFbWJlZGRpbmdQcm92aWRlciIsImRpbWVuc2lvbiIsIm5hbWUiLCJ2b2NhYnVsYXJ5IiwiTWFwIiwiaWRmIiwiZW1iZWQiLCJ0ZXh0IiwidG9rZW5zIiwidG9rZW5pemUiLCJ2ZWN0b3IiLCJBcnJheSIsImZpbGwiLCJ0b2tlbiIsImhhc2giLCJoYXNoVG9rZW4iLCJpZHgiLCJNYXRoIiwiYWJzIiwibWFnbml0dWRlIiwic3FydCIsInJlZHVjZSIsInN1bSIsInYiLCJpIiwibGVuZ3RoIiwidG9Mb3dlckNhc2UiLCJyZXBsYWNlIiwic3BsaXQiLCJmaWx0ZXIiLCJ0IiwiY2hhciIsImNoYXJDb2RlQXQiLCJFcGlzb2RpY01lbW9yeSIsImVwaXNvZGVzIiwiYXBwcm9hY2hlcyIsIm9wdGltaXphdGlvblByb2ZpbGVzIiwiZGlydHkiLCJjdXJyZW50RXBpc29kZSIsImVwaXNvZGVUb29sc1VzZWQiLCJTZXQiLCJlcGlzb2RlRmlsZXNNb2RpZmllZCIsImNvbnN0cnVjdG9yIiwiY29uZmlnIiwiZGF0YVJvb3QiLCJwcm9jZXNzIiwiZW52IiwidHJpbSIsImpvaW4iLCJob21lZGlyIiwibWF4RXBpc29kZXMiLCJtYXhBcHByb2FjaGVzIiwiZGVjYXlGYWN0b3IiLCJtaW5TaW1pbGFyaXR5IiwidXNlRW1iZWRkaW5ncyIsInN0b3JhZ2VEaXIiLCJlbWJlZGRpbmdQcm92aWRlciIsImxvYWQiLCJzdGFydEVwaXNvZGUiLCJpbnRlbnQiLCJzZXNzaW9uSWQiLCJjYXRlZ29yeSIsImlkIiwiZ2VuZXJhdGVJZCIsInN0YXJ0VGltZSIsIkRhdGUiLCJub3ciLCJpbmZlckNhdGVnb3J5IiwidG9vbHNVc2VkIiwiZmlsZXNNb2RpZmllZCIsInN1Y2Nlc3MiLCJzdW1tYXJ5IiwidGFncyIsImV4dHJhY3RUYWdzIiwicmV0cmlldmFsQ291bnQiLCJsYXN0UmV0cmlldmVkIiwiY2xlYXIiLCJyZWNvcmRUb29sVXNlIiwidG9vbE5hbWUiLCJhZGQiLCJyZWNvcmRGaWxlTW9kaWZpY2F0aW9uIiwiZmlsZVBhdGgiLCJlbmRFcGlzb2RlIiwiZXBpc29kZSIsImVuZFRpbWUiLCJmcm9tIiwidGV4dEZvckVtYmVkZGluZyIsImVtYmVkZGluZyIsInNldCIsImxlYXJuRnJvbUVwaXNvZGUiLCJwcnVuZUVwaXNvZGVzIiwic2F2ZSIsImFib3J0RXBpc29kZSIsInNlYXJjaCIsInF1ZXJ5IiwicmVzdWx0cyIsImxpbWl0IiwicXVlcnlFbWJlZGRpbmciLCJ2YWx1ZXMiLCJzdWNjZXNzT25seSIsInNpbmNlIiwic29tZSIsImluY2x1ZGVzIiwic2ltaWxhcml0eSIsIm1hdGNoUmVhc29uIiwiY29zaW5lU2ltaWxhcml0eSIsImtleXdvcmRTaW1pbGFyaXR5IiwiYWdlSW5EYXlzIiwiZGVjYXllZFNpbWlsYXJpdHkiLCJwb3ciLCJwb3B1bGFyaXR5Qm9vc3QiLCJmaW5hbFNpbWlsYXJpdHkiLCJwdXNoIiwic29ydCIsImEiLCJiIiwidG9wUmVzdWx0cyIsInNsaWNlIiwicmVzdWx0IiwiZ2V0QXBwcm9hY2giLCJrZXl3b3JkcyIsImV4dHJhY3RLZXl3b3JkcyIsImFwcHJvYWNoIiwib3ZlcmxhcENvdW50IiwiayIsIm1pbiIsImJlc3RNYXRjaCIsImJlc3RTaW1pbGFyaXR5IiwiZ2V0UmVjZW50RXBpc29kZXMiLCJmaWx0ZXJlZCIsImUiLCJhcHByb2FjaEtleSIsImV4aXN0aW5nIiwiZ2V0IiwidXNlQ291bnQiLCJzdWNjZXNzUmF0ZSIsInNvdXJjZUVwaXNvZGVzIiwidG9vbHMiLCJ1cGRhdGVkQXQiLCJ0cmlnZ2VyUGF0dGVybiIsInBydW5lQXBwcm9hY2hlcyIsInJlY29yZEFwcHJvYWNoRmFpbHVyZSIsImFwcHJvYWNoSWQiLCJ0aW1lc3RhbXAiLCJ0b1N0cmluZyIsInJhbmRvbSIsImxvd2VyIiwidGVzdCIsInRlY2hQYXR0ZXJucyIsInR5cGVzY3JpcHQiLCJqYXZhc2NyaXB0IiwicHl0aG9uIiwicmVhY3QiLCJub2RlIiwiYXBpIiwiZGF0YWJhc2UiLCJnaXQiLCJ0YWciLCJwYXR0ZXJuIiwiT2JqZWN0IiwiZW50cmllcyIsInciLCJkb3RQcm9kdWN0IiwibWFnbml0dWRlQSIsIm1hZ25pdHVkZUIiLCJxdWVyeVdvcmRzIiwidGV4dFdvcmRzIiwic2l6ZSIsIm1hdGNoZXMiLCJ3b3JkIiwiaGFzIiwiZ2V0T3B0aW1pemF0aW9uUHJvZmlsZSIsInBvbGljeU5hbWUiLCJwcm9maWxlIiwicHJlZmVycmVkTW9kZSIsImluZmVyUHJlZmVycmVkTW9kZSIsInVzZUdpdFdvcmt0cmVlcyIsInJld2FyZFdlaWdodHMiLCJwcmVmZXJyZWRUb29scyIsImluZmVyUHJlZmVycmVkVG9vbHMiLCJhdXRvQXBwcm92YWxUaHJlc2hvbGQiLCJzdWNjZXNzQ291bnQiLCJmYWlsdXJlQ291bnQiLCJ1cGRhdGVPcHRpbWl6YXRpb25Qcm9maWxlIiwib3B0aW9ucyIsInRvb2wiLCJtb2RlIiwidXNlZEdpdFdvcmt0cmVlcyIsIm1heCIsImdldFJld2FyZFdlaWdodHMiLCJhZGp1c3RSZXdhcmRXZWlnaHRzIiwid2lubmluZ1NpZ25hbHMiLCJsZWFybmluZ1JhdGUiLCJrZXkiLCJ2YWx1ZSIsInRvdGFsIiwia2V5cyIsImdldEFsbE9wdGltaXphdGlvblByb2ZpbGVzIiwic2NvcmVkIiwibWFwIiwiZXAiLCJhZ2VTY29yZSIsInN1Y2Nlc3NTY29yZSIsInJldHJpZXZhbFNjb3JlIiwic2NvcmUiLCJ0b0tlZXAiLCJzIiwiZGVsZXRlIiwiYXAiLCJyZWNlbmN5U2NvcmUiLCJ1c2VTY29yZSIsImV4aXN0c1N5bmMiLCJta2RpclN5bmMiLCJyZWN1cnNpdmUiLCJlcGlzb2Rlc1BhdGgiLCJhcHByb2FjaGVzUGF0aCIsInByb2ZpbGVzUGF0aCIsImRhdGEiLCJKU09OIiwicGFyc2UiLCJyZWFkRmlsZVN5bmMiLCJwcm9maWxlcyIsImVycm9yIiwiY29uc29sZSIsIndyaXRlRmlsZVN5bmMiLCJzdHJpbmdpZnkiLCJ2ZXJzaW9uIiwiZnJvbUVudHJpZXMiLCJnZXRTdGF0cyIsImNhdGVnb3J5Q291bnRzIiwidGFnQ291bnRzIiwidG9wVGFncyIsInByb2ZpbGVTdW1tYXJ5IiwicCIsInRvdGFsRXBpc29kZXMiLCJzdWNjZXNzZnVsRXBpc29kZXMiLCJ0b3RhbEFwcHJvYWNoZXMiLCJ0b3RhbFByb2ZpbGVzIiwiZXhwb3J0cyIsImRlZmF1bHRJbnN0YW5jZSIsImdldEVwaXNvZGljTWVtb3J5IiwiY3JlYXRlRXBpc29kaWNNZW1vcnkiXSwic291cmNlcyI6WyJlcGlzb2RpY01lbW9yeS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEVwaXNvZGljIE1lbW9yeSBTeXN0ZW0gLSBDcm9zcy1zZXNzaW9uIHBhdHRlcm4gbGVhcm5pbmcgd2l0aCBzZW1hbnRpYyBpbmRleGluZ1xuICpcbiAqIEZlYXR1cmVzOlxuICogMS4gRXBpc29kZSBkZXRlY3Rpb24gYW5kIGJvdW5kYXJ5IG1hcmtpbmdcbiAqIDIuIFNlbWFudGljIGluZGV4aW5nIHZpYSB2ZWN0b3IgZW1iZWRkaW5ncyAocGx1Z2dhYmxlIHByb3ZpZGVycylcbiAqIDMuIENyb3NzLXNlc3Npb24gcGF0dGVybiBsZWFybmluZyBhbmQgcmV0cmlldmFsXG4gKiA0LiBUYXNrLXNwZWNpZmljIG1lbW9yeSB3aXRoIHRlbXBvcmFsIGRlY2F5XG4gKiA1LiBNZW1vcnkgY29uc29saWRhdGlvbiBhbmQgcHJ1bmluZ1xuICpcbiAqIFN0b3JhZ2U6IH4vLmFnaS9lcGlzb2RpYy1tZW1vcnkvXG4gKiAgIC0gZXBpc29kZXMuanNvbiAgICAgKGVwaXNvZGUgbWV0YWRhdGEgaW5kZXgpXG4gKiAgIC0gZW1iZWRkaW5ncy5iaW4gICAgKHZlY3RvciBlbWJlZGRpbmdzIGNhY2hlKVxuICogICAtIHBhdHRlcm5zLmpzb24gICAgIChsZWFybmVkIHBhdHRlcm5zKVxuICovXG5cbmltcG9ydCB7IG1rZGlyU3luYywgcmVhZEZpbGVTeW5jLCB3cml0ZUZpbGVTeW5jLCBleGlzdHNTeW5jIH0gZnJvbSAnbm9kZTpmcyc7XG5pbXBvcnQgeyBqb2luIH0gZnJvbSAnbm9kZTpwYXRoJztcbmltcG9ydCB7IGhvbWVkaXIgfSBmcm9tICdub2RlOm9zJztcbmltcG9ydCB7IGNyZWF0ZUhhc2ggfSBmcm9tICdub2RlOmNyeXB0byc7XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFRZUEVTXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmV4cG9ydCBpbnRlcmZhY2UgRXBpc29kZSB7XG4gIGlkOiBzdHJpbmc7XG4gIHNlc3Npb25JZDogc3RyaW5nO1xuICBzdGFydFRpbWU6IG51bWJlcjtcbiAgZW5kVGltZTogbnVtYmVyO1xuICAvKiogVXNlcidzIG9yaWdpbmFsIGludGVudC9wcm9tcHQgdGhhdCBzdGFydGVkIHRoaXMgZXBpc29kZSAqL1xuICBpbnRlbnQ6IHN0cmluZztcbiAgLyoqIENhdGVnb3J5IG9mIHdvcmsgcGVyZm9ybWVkICovXG4gIGNhdGVnb3J5OiBFcGlzb2RlQ2F0ZWdvcnk7XG4gIC8qKiBUb29scyB1c2VkIGR1cmluZyB0aGlzIGVwaXNvZGUgKi9cbiAgdG9vbHNVc2VkOiBzdHJpbmdbXTtcbiAgLyoqIEtleSBmaWxlcyB0b3VjaGVkICovXG4gIGZpbGVzTW9kaWZpZWQ6IHN0cmluZ1tdO1xuICAvKiogV2hldGhlciB0aGUgZXBpc29kZSB3YXMgc3VjY2Vzc2Z1bCAqL1xuICBzdWNjZXNzOiBib29sZWFuO1xuICAvKiogU3VtbWFyeSBvZiB3aGF0IHdhcyBhY2NvbXBsaXNoZWQgKi9cbiAgc3VtbWFyeTogc3RyaW5nO1xuICAvKiogVGFncyBmb3Igc2VtYW50aWMgZ3JvdXBpbmcgKi9cbiAgdGFnczogc3RyaW5nW107XG4gIC8qKiBFbWJlZGRpbmcgdmVjdG9yIGZvciBzZW1hbnRpYyBzZWFyY2ggKG9wdGlvbmFsKSAqL1xuICBlbWJlZGRpbmc/OiBudW1iZXJbXTtcbiAgLyoqIFBhcmVudCBlcGlzb2RlIGlmIHRoaXMgaXMgYSBzdWItdGFzayAqL1xuICBwYXJlbnRJZD86IHN0cmluZztcbiAgLyoqIFJldHJpZXZhbCBjb3VudCBmb3IgcG9wdWxhcml0eSB3ZWlnaHRpbmcgKi9cbiAgcmV0cmlldmFsQ291bnQ6IG51bWJlcjtcbiAgLyoqIExhc3QgdGltZSB0aGlzIGVwaXNvZGUgd2FzIHJldHJpZXZlZCAqL1xuICBsYXN0UmV0cmlldmVkOiBudW1iZXI7XG59XG5cbmV4cG9ydCB0eXBlIEVwaXNvZGVDYXRlZ29yeSA9XG4gIHwgJ2J1Z19maXgnXG4gIHwgJ2ZlYXR1cmVfYWRkJ1xuICB8ICdyZWZhY3RvcidcbiAgfCAndGVzdF93cml0ZSdcbiAgfCAnZG9jdW1lbnRhdGlvbidcbiAgfCAnYW5hbHlzaXMnXG4gIHwgJ2NvbmZpZ3VyYXRpb24nXG4gIHwgJ2RlYnVnZ2luZydcbiAgfCAnb3B0aW1pemF0aW9uJ1xuICB8ICdtaWdyYXRpb24nXG4gIHwgJ3Vua25vd24nO1xuXG5leHBvcnQgaW50ZXJmYWNlIExlYXJuZWRBcHByb2FjaCB7XG4gIGlkOiBzdHJpbmc7XG4gIC8qKiBQYXR0ZXJuIHRoYXQgdHJpZ2dlcnMgdGhpcyBhcHByb2FjaCAobm9ybWFsaXplZCkgKi9cbiAgdHJpZ2dlclBhdHRlcm46IHN0cmluZztcbiAgLyoqIEtleXdvcmRzIGZvciBmYXN0IG1hdGNoaW5nICovXG4gIGtleXdvcmRzOiBzdHJpbmdbXTtcbiAgLyoqIFN0ZXAtYnktc3RlcCBhcHByb2FjaCB0aGF0IHdvcmtlZCAqL1xuICBhcHByb2FjaDogc3RyaW5nW107XG4gIC8qKiBUb29scyB0eXBpY2FsbHkgdXNlZCAqL1xuICB0b29sczogc3RyaW5nW107XG4gIC8qKiBTdWNjZXNzIHJhdGUgKDAtMSkgKi9cbiAgc3VjY2Vzc1JhdGU6IG51bWJlcjtcbiAgLyoqIE51bWJlciBvZiB0aW1lcyB0aGlzIGFwcHJvYWNoIHdhcyB1c2VkICovXG4gIHVzZUNvdW50OiBudW1iZXI7XG4gIC8qKiBFcGlzb2RlIElEcyB0aGF0IGNvbnRyaWJ1dGVkIHRvIHRoaXMgcGF0dGVybiAqL1xuICBzb3VyY2VFcGlzb2Rlczogc3RyaW5nW107XG4gIC8qKiBFbWJlZGRpbmcgZm9yIHNlbWFudGljIG1hdGNoaW5nICovXG4gIGVtYmVkZGluZz86IG51bWJlcltdO1xuICAvKiogTGFzdCB1cGRhdGUgdGltZXN0YW1wICovXG4gIHVwZGF0ZWRBdDogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE1lbW9yeVF1ZXJ5IHtcbiAgLyoqIE5hdHVyYWwgbGFuZ3VhZ2UgcXVlcnkgKi9cbiAgcXVlcnk6IHN0cmluZztcbiAgLyoqIEZpbHRlciBieSBjYXRlZ29yeSAqL1xuICBjYXRlZ29yeT86IEVwaXNvZGVDYXRlZ29yeTtcbiAgLyoqIEZpbHRlciBieSB0YWdzICovXG4gIHRhZ3M/OiBzdHJpbmdbXTtcbiAgLyoqIEZpbHRlciBieSB0aW1lIHJhbmdlIChtcyBzaW5jZSBlcG9jaCkgKi9cbiAgc2luY2U/OiBudW1iZXI7XG4gIC8qKiBGaWx0ZXIgYnkgc3VjY2VzcyBzdGF0dXMgKi9cbiAgc3VjY2Vzc09ubHk/OiBib29sZWFuO1xuICAvKiogTWF4aW11bSByZXN1bHRzICovXG4gIGxpbWl0PzogbnVtYmVyO1xuICAvKiogTWluaW11bSBzaW1pbGFyaXR5IHRocmVzaG9sZCAoMC0xKSAqL1xuICBtaW5TaW1pbGFyaXR5PzogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE1lbW9yeVNlYXJjaFJlc3VsdCB7XG4gIGVwaXNvZGU6IEVwaXNvZGU7XG4gIHNpbWlsYXJpdHk6IG51bWJlcjtcbiAgbWF0Y2hSZWFzb246IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBFbWJlZGRpbmdQcm92aWRlciB7XG4gIC8qKiBHZW5lcmF0ZSBlbWJlZGRpbmcgdmVjdG9yIGZvciB0ZXh0ICovXG4gIGVtYmVkKHRleHQ6IHN0cmluZyk6IFByb21pc2U8bnVtYmVyW10+O1xuICAvKiogRGltZW5zaW9uIG9mIGVtYmVkZGluZyB2ZWN0b3JzICovXG4gIGRpbWVuc2lvbjogbnVtYmVyO1xuICAvKiogUHJvdmlkZXIgbmFtZSBmb3IgdHJhY2tpbmcgKi9cbiAgbmFtZTogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEVwaXNvZGljTWVtb3J5Q29uZmlnIHtcbiAgLyoqIE1heGltdW0gZXBpc29kZXMgdG8ga2VlcCAqL1xuICBtYXhFcGlzb2RlczogbnVtYmVyO1xuICAvKiogTWF4aW11bSBsZWFybmVkIGFwcHJvYWNoZXMgdG8ga2VlcCAqL1xuICBtYXhBcHByb2FjaGVzOiBudW1iZXI7XG4gIC8qKiBUZW1wb3JhbCBkZWNheSBmYWN0b3IgKDAtMSwgbG93ZXIgPSBmYXN0ZXIgZGVjYXkpICovXG4gIGRlY2F5RmFjdG9yOiBudW1iZXI7XG4gIC8qKiBNaW5pbXVtIHNpbWlsYXJpdHkgZm9yIHNlbWFudGljIHNlYXJjaCAoMC0xKSAqL1xuICBtaW5TaW1pbGFyaXR5OiBudW1iZXI7XG4gIC8qKiBFbmFibGUgZW1iZWRkaW5nLWJhc2VkIHNlYXJjaCAqL1xuICB1c2VFbWJlZGRpbmdzOiBib29sZWFuO1xuICAvKiogRW1iZWRkaW5nIHByb3ZpZGVyIChvcHRpb25hbCkgKi9cbiAgZW1iZWRkaW5nUHJvdmlkZXI/OiBFbWJlZGRpbmdQcm92aWRlcjtcbiAgLyoqIFN0b3JhZ2UgZGlyZWN0b3J5ICovXG4gIHN0b3JhZ2VEaXI6IHN0cmluZztcbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gVEFTSy1TUEVDSUZJQyBPUFRJTUlaQVRJT04gUFJPRklMRVNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuLyoqXG4gKiBPcHRpbWl6YXRpb24gcHJvZmlsZSBmb3IgdGFzay1zcGVjaWZpYyBzZXR0aW5ncy5cbiAqIFVzZWQgdG8gY29uZmlndXJlIFJMIHRvdXJuYW1lbnQgYmVoYXZpb3IsIHZhbGlkYXRpb24sIGFuZCBleGVjdXRpb24gc3RyYXRlZ2llc1xuICogYmFzZWQgb24gbGVhcm5lZCBwYXR0ZXJucyBmcm9tIHN1Y2Nlc3NmdWwgZXBpc29kZXMuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgT3B0aW1pemF0aW9uUHJvZmlsZSB7XG4gIGlkOiBzdHJpbmc7XG4gIC8qKiBDYXRlZ29yeSB0aGlzIHByb2ZpbGUgYXBwbGllcyB0byAqL1xuICBjYXRlZ29yeTogRXBpc29kZUNhdGVnb3J5O1xuICAvKiogUG9saWN5IG5hbWUgZm9yIGh1bWFuIHJlZmVyZW5jZSAqL1xuICBwb2xpY3lOYW1lOiBzdHJpbmc7XG4gIC8qKiBQcmVmZXJyZWQgdXBncmFkZSBtb2RlIGZvciB0aGlzIGNhdGVnb3J5ICovXG4gIHByZWZlcnJlZE1vZGU6ICdzaW5nbGUtY29udGludW91cycgfCAnZHVhbC1ybC1jb250aW51b3VzJyB8ICdkdWFsLXJsLXRvdXJuYW1lbnQnO1xuICAvKiogV2hldGhlciB0byB1c2UgZ2l0IHdvcmt0cmVlcyBmb3IgaXNvbGF0aW9uICovXG4gIHVzZUdpdFdvcmt0cmVlczogYm9vbGVhbjtcbiAgLyoqIEN1c3RvbSByZXdhcmQgd2VpZ2h0cyBmb3IgUkwgdG91cm5hbWVudCAqL1xuICByZXdhcmRXZWlnaHRzOiB7XG4gICAgZXhlY3V0aW9uU3VjY2VzczogbnVtYmVyO1xuICAgIHRlc3RzUGFzc2VkOiBudW1iZXI7XG4gICAgc3RhdGljQW5hbHlzaXM6IG51bWJlcjtcbiAgICBjb2RlUXVhbGl0eTogbnVtYmVyO1xuICAgIGJsYXN0UmFkaXVzOiBudW1iZXI7XG4gICAgc2VsZkFzc2Vzc21lbnQ6IG51bWJlcjtcbiAgICBzcGVlZEJvbnVzOiBudW1iZXI7XG4gIH07XG4gIC8qKiBUb29scyB0aGF0IHBlcmZvcm0gd2VsbCBmb3IgdGhpcyBjYXRlZ29yeSAqL1xuICBwcmVmZXJyZWRUb29sczogc3RyaW5nW107XG4gIC8qKiBTdWNjZXNzIHJhdGUgdGhyZXNob2xkIGZvciBhdXRvLWFwcHJvdmFsICovXG4gIGF1dG9BcHByb3ZhbFRocmVzaG9sZDogbnVtYmVyO1xuICAvKiogTnVtYmVyIG9mIHN1Y2Nlc3NmdWwgZXhlY3V0aW9ucyAqL1xuICBzdWNjZXNzQ291bnQ6IG51bWJlcjtcbiAgLyoqIE51bWJlciBvZiBmYWlsZWQgZXhlY3V0aW9ucyAqL1xuICBmYWlsdXJlQ291bnQ6IG51bWJlcjtcbiAgLyoqIExhc3QgdXBkYXRlIHRpbWVzdGFtcCAqL1xuICB1cGRhdGVkQXQ6IG51bWJlcjtcbn1cblxuLyoqXG4gKiBEZWZhdWx0IHJld2FyZCB3ZWlnaHRzIGZvciBlYWNoIGNhdGVnb3J5XG4gKi9cbmNvbnN0IERFRkFVTFRfUkVXQVJEX1dFSUdIVFM6IFJlY29yZDxFcGlzb2RlQ2F0ZWdvcnksIE9wdGltaXphdGlvblByb2ZpbGVbJ3Jld2FyZFdlaWdodHMnXT4gPSB7XG4gIGJ1Z19maXg6IHtcbiAgICBleGVjdXRpb25TdWNjZXNzOiAwLjMwLFxuICAgIHRlc3RzUGFzc2VkOiAwLjM1LFxuICAgIHN0YXRpY0FuYWx5c2lzOiAwLjEwLFxuICAgIGNvZGVRdWFsaXR5OiAwLjA1LFxuICAgIGJsYXN0UmFkaXVzOiAwLjE1LFxuICAgIHNlbGZBc3Nlc3NtZW50OiAwLjAzLFxuICAgIHNwZWVkQm9udXM6IDAuMDIsXG4gIH0sXG4gIGZlYXR1cmVfYWRkOiB7XG4gICAgZXhlY3V0aW9uU3VjY2VzczogMC4yNSxcbiAgICB0ZXN0c1Bhc3NlZDogMC4yNSxcbiAgICBzdGF0aWNBbmFseXNpczogMC4xNSxcbiAgICBjb2RlUXVhbGl0eTogMC4xNSxcbiAgICBibGFzdFJhZGl1czogMC4xMCxcbiAgICBzZWxmQXNzZXNzbWVudDogMC4wNSxcbiAgICBzcGVlZEJvbnVzOiAwLjA1LFxuICB9LFxuICByZWZhY3Rvcjoge1xuICAgIGV4ZWN1dGlvblN1Y2Nlc3M6IDAuMjUsXG4gICAgdGVzdHNQYXNzZWQ6IDAuMzAsXG4gICAgc3RhdGljQW5hbHlzaXM6IDAuMjAsXG4gICAgY29kZVF1YWxpdHk6IDAuMTUsXG4gICAgYmxhc3RSYWRpdXM6IDAuMDUsXG4gICAgc2VsZkFzc2Vzc21lbnQ6IDAuMDMsXG4gICAgc3BlZWRCb251czogMC4wMixcbiAgfSxcbiAgdGVzdF93cml0ZToge1xuICAgIGV4ZWN1dGlvblN1Y2Nlc3M6IDAuMzAsXG4gICAgdGVzdHNQYXNzZWQ6IDAuNDAsXG4gICAgc3RhdGljQW5hbHlzaXM6IDAuMTAsXG4gICAgY29kZVF1YWxpdHk6IDAuMDUsXG4gICAgYmxhc3RSYWRpdXM6IDAuMDUsXG4gICAgc2VsZkFzc2Vzc21lbnQ6IDAuMDUsXG4gICAgc3BlZWRCb251czogMC4wNSxcbiAgfSxcbiAgZG9jdW1lbnRhdGlvbjoge1xuICAgIGV4ZWN1dGlvblN1Y2Nlc3M6IDAuMzUsXG4gICAgdGVzdHNQYXNzZWQ6IDAuMDUsXG4gICAgc3RhdGljQW5hbHlzaXM6IDAuMTAsXG4gICAgY29kZVF1YWxpdHk6IDAuMjAsXG4gICAgYmxhc3RSYWRpdXM6IDAuMTAsXG4gICAgc2VsZkFzc2Vzc21lbnQ6IDAuMTAsXG4gICAgc3BlZWRCb251czogMC4xMCxcbiAgfSxcbiAgYW5hbHlzaXM6IHtcbiAgICBleGVjdXRpb25TdWNjZXNzOiAwLjQwLFxuICAgIHRlc3RzUGFzc2VkOiAwLjA1LFxuICAgIHN0YXRpY0FuYWx5c2lzOiAwLjA1LFxuICAgIGNvZGVRdWFsaXR5OiAwLjEwLFxuICAgIGJsYXN0UmFkaXVzOiAwLjA1LFxuICAgIHNlbGZBc3Nlc3NtZW50OiAwLjIwLFxuICAgIHNwZWVkQm9udXM6IDAuMTUsXG4gIH0sXG4gIGNvbmZpZ3VyYXRpb246IHtcbiAgICBleGVjdXRpb25TdWNjZXNzOiAwLjM1LFxuICAgIHRlc3RzUGFzc2VkOiAwLjIwLFxuICAgIHN0YXRpY0FuYWx5c2lzOiAwLjE1LFxuICAgIGNvZGVRdWFsaXR5OiAwLjA1LFxuICAgIGJsYXN0UmFkaXVzOiAwLjE1LFxuICAgIHNlbGZBc3Nlc3NtZW50OiAwLjA1LFxuICAgIHNwZWVkQm9udXM6IDAuMDUsXG4gIH0sXG4gIGRlYnVnZ2luZzoge1xuICAgIGV4ZWN1dGlvblN1Y2Nlc3M6IDAuMzUsXG4gICAgdGVzdHNQYXNzZWQ6IDAuMjUsXG4gICAgc3RhdGljQW5hbHlzaXM6IDAuMDUsXG4gICAgY29kZVF1YWxpdHk6IDAuMDUsXG4gICAgYmxhc3RSYWRpdXM6IDAuMDUsXG4gICAgc2VsZkFzc2Vzc21lbnQ6IDAuMTUsXG4gICAgc3BlZWRCb251czogMC4xMCxcbiAgfSxcbiAgb3B0aW1pemF0aW9uOiB7XG4gICAgZXhlY3V0aW9uU3VjY2VzczogMC4yNSxcbiAgICB0ZXN0c1Bhc3NlZDogMC4yNSxcbiAgICBzdGF0aWNBbmFseXNpczogMC4xMCxcbiAgICBjb2RlUXVhbGl0eTogMC4xNSxcbiAgICBibGFzdFJhZGl1czogMC4wNSxcbiAgICBzZWxmQXNzZXNzbWVudDogMC4wNSxcbiAgICBzcGVlZEJvbnVzOiAwLjE1LFxuICB9LFxuICBtaWdyYXRpb246IHtcbiAgICBleGVjdXRpb25TdWNjZXNzOiAwLjMwLFxuICAgIHRlc3RzUGFzc2VkOiAwLjMwLFxuICAgIHN0YXRpY0FuYWx5c2lzOiAwLjE1LFxuICAgIGNvZGVRdWFsaXR5OiAwLjA1LFxuICAgIGJsYXN0UmFkaXVzOiAwLjEwLFxuICAgIHNlbGZBc3Nlc3NtZW50OiAwLjA1LFxuICAgIHNwZWVkQm9udXM6IDAuMDUsXG4gIH0sXG4gIHVua25vd246IHtcbiAgICBleGVjdXRpb25TdWNjZXNzOiAwLjI1LFxuICAgIHRlc3RzUGFzc2VkOiAwLjMwLFxuICAgIHN0YXRpY0FuYWx5c2lzOiAwLjE1LFxuICAgIGNvZGVRdWFsaXR5OiAwLjEwLFxuICAgIGJsYXN0UmFkaXVzOiAwLjEwLFxuICAgIHNlbGZBc3Nlc3NtZW50OiAwLjA1LFxuICAgIHNwZWVkQm9udXM6IDAuMDUsXG4gIH0sXG59O1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBERUZBVUxUIEVNQkVERElORyBQUk9WSURFUiAoU2ltcGxlIFRGLUlERiBzdHlsZSwgbm8gZXh0ZXJuYWwgZGVwcylcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuY2xhc3MgU2ltcGxlRW1iZWRkaW5nUHJvdmlkZXIgaW1wbGVtZW50cyBFbWJlZGRpbmdQcm92aWRlciB7XG4gIHJlYWRvbmx5IGRpbWVuc2lvbiA9IDI1NjtcbiAgcmVhZG9ubHkgbmFtZSA9ICdzaW1wbGUtdGZpZGYnO1xuXG4gIHByaXZhdGUgdm9jYWJ1bGFyeTogTWFwPHN0cmluZywgbnVtYmVyPiA9IG5ldyBNYXAoKTtcbiAgcHJpdmF0ZSBpZGY6IE1hcDxzdHJpbmcsIG51bWJlcj4gPSBuZXcgTWFwKCk7XG5cbiAgYXN5bmMgZW1iZWQodGV4dDogc3RyaW5nKTogUHJvbWlzZTxudW1iZXJbXT4ge1xuICAgIGNvbnN0IHRva2VucyA9IHRoaXMudG9rZW5pemUodGV4dCk7XG4gICAgY29uc3QgdmVjdG9yID0gbmV3IEFycmF5KHRoaXMuZGltZW5zaW9uKS5maWxsKDApO1xuXG4gICAgLy8gU2ltcGxlIGhhc2gtYmFzZWQgZW1iZWRkaW5nIChkZXRlcm1pbmlzdGljLCBubyB0cmFpbmluZyBuZWVkZWQpXG4gICAgZm9yIChjb25zdCB0b2tlbiBvZiB0b2tlbnMpIHtcbiAgICAgIGNvbnN0IGhhc2ggPSB0aGlzLmhhc2hUb2tlbih0b2tlbik7XG4gICAgICBjb25zdCBpZHggPSBNYXRoLmFicyhoYXNoKSAlIHRoaXMuZGltZW5zaW9uO1xuICAgICAgdmVjdG9yW2lkeF0gKz0gMTtcbiAgICB9XG5cbiAgICAvLyBOb3JtYWxpemUgdG8gdW5pdCB2ZWN0b3JcbiAgICBjb25zdCBtYWduaXR1ZGUgPSBNYXRoLnNxcnQodmVjdG9yLnJlZHVjZSgoc3VtLCB2KSA9PiBzdW0gKyB2ICogdiwgMCkpO1xuICAgIGlmIChtYWduaXR1ZGUgPiAwKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZlY3Rvci5sZW5ndGg7IGkrKykge1xuICAgICAgICB2ZWN0b3JbaV0gLz0gbWFnbml0dWRlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB2ZWN0b3I7XG4gIH1cblxuICBwcml2YXRlIHRva2VuaXplKHRleHQ6IHN0cmluZyk6IHN0cmluZ1tdIHtcbiAgICByZXR1cm4gdGV4dFxuICAgICAgLnRvTG93ZXJDYXNlKClcbiAgICAgIC5yZXBsYWNlKC9bXmEtejAtOVxcc10vZywgJyAnKVxuICAgICAgLnNwbGl0KC9cXHMrLylcbiAgICAgIC5maWx0ZXIodCA9PiB0Lmxlbmd0aCA+IDIpO1xuICB9XG5cbiAgcHJpdmF0ZSBoYXNoVG9rZW4odG9rZW46IHN0cmluZyk6IG51bWJlciB7XG4gICAgbGV0IGhhc2ggPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdG9rZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGNoYXIgPSB0b2tlbi5jaGFyQ29kZUF0KGkpO1xuICAgICAgaGFzaCA9ICgoaGFzaCA8PCA1KSAtIGhhc2gpICsgY2hhcjtcbiAgICAgIGhhc2ggPSBoYXNoICYgaGFzaDsgLy8gQ29udmVydCB0byAzMi1iaXQgaW50ZWdlclxuICAgIH1cbiAgICByZXR1cm4gaGFzaDtcbiAgfVxufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBFUElTT0RJQyBNRU1PUlkgU1lTVEVNXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmV4cG9ydCBjbGFzcyBFcGlzb2RpY01lbW9yeSB7XG4gIHByaXZhdGUgY29uZmlnOiBFcGlzb2RpY01lbW9yeUNvbmZpZztcbiAgcHJpdmF0ZSBlcGlzb2RlczogTWFwPHN0cmluZywgRXBpc29kZT4gPSBuZXcgTWFwKCk7XG4gIHByaXZhdGUgYXBwcm9hY2hlczogTWFwPHN0cmluZywgTGVhcm5lZEFwcHJvYWNoPiA9IG5ldyBNYXAoKTtcbiAgcHJpdmF0ZSBvcHRpbWl6YXRpb25Qcm9maWxlczogTWFwPEVwaXNvZGVDYXRlZ29yeSwgT3B0aW1pemF0aW9uUHJvZmlsZT4gPSBuZXcgTWFwKCk7XG4gIHByaXZhdGUgZW1iZWRkaW5nUHJvdmlkZXI6IEVtYmVkZGluZ1Byb3ZpZGVyO1xuICBwcml2YXRlIGRpcnR5ID0gZmFsc2U7XG5cbiAgLy8gSW4tbWVtb3J5IGVwaXNvZGUgYmVpbmcgcmVjb3JkZWRcbiAgcHJpdmF0ZSBjdXJyZW50RXBpc29kZTogUGFydGlhbDxFcGlzb2RlPiB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIGVwaXNvZGVUb29sc1VzZWQ6IFNldDxzdHJpbmc+ID0gbmV3IFNldCgpO1xuICBwcml2YXRlIGVwaXNvZGVGaWxlc01vZGlmaWVkOiBTZXQ8c3RyaW5nPiA9IG5ldyBTZXQoKTtcblxuICBjb25zdHJ1Y3Rvcihjb25maWc6IFBhcnRpYWw8RXBpc29kaWNNZW1vcnlDb25maWc+ID0ge30pIHtcbiAgICBjb25zdCBkYXRhUm9vdCA9IHByb2Nlc3MuZW52WydFUk9TT0xBUl9EQVRBX0RJUiddPy50cmltKCkgfHwgam9pbihob21lZGlyKCksICcuYWdpJyk7XG5cbiAgICB0aGlzLmNvbmZpZyA9IHtcbiAgICAgIG1heEVwaXNvZGVzOiAxMDAwLFxuICAgICAgbWF4QXBwcm9hY2hlczogMjAwLFxuICAgICAgZGVjYXlGYWN0b3I6IDAuOTUsXG4gICAgICBtaW5TaW1pbGFyaXR5OiAwLjMsXG4gICAgICB1c2VFbWJlZGRpbmdzOiB0cnVlLFxuICAgICAgc3RvcmFnZURpcjogam9pbihkYXRhUm9vdCwgJ2VwaXNvZGljLW1lbW9yeScpLFxuICAgICAgLi4uY29uZmlnLFxuICAgIH07XG5cbiAgICB0aGlzLmVtYmVkZGluZ1Byb3ZpZGVyID0gY29uZmlnLmVtYmVkZGluZ1Byb3ZpZGVyIHx8IG5ldyBTaW1wbGVFbWJlZGRpbmdQcm92aWRlcigpO1xuICAgIHRoaXMubG9hZCgpO1xuICB9XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gRVBJU09ERSBMSUZFQ1lDTEVcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAvKipcbiAgICogU3RhcnQgcmVjb3JkaW5nIGEgbmV3IGVwaXNvZGVcbiAgICovXG4gIHN0YXJ0RXBpc29kZShpbnRlbnQ6IHN0cmluZywgc2Vzc2lvbklkOiBzdHJpbmcsIGNhdGVnb3J5PzogRXBpc29kZUNhdGVnb3J5KTogc3RyaW5nIHtcbiAgICBjb25zdCBpZCA9IHRoaXMuZ2VuZXJhdGVJZCgpO1xuXG4gICAgdGhpcy5jdXJyZW50RXBpc29kZSA9IHtcbiAgICAgIGlkLFxuICAgICAgc2Vzc2lvbklkLFxuICAgICAgc3RhcnRUaW1lOiBEYXRlLm5vdygpLFxuICAgICAgaW50ZW50LFxuICAgICAgY2F0ZWdvcnk6IGNhdGVnb3J5IHx8IHRoaXMuaW5mZXJDYXRlZ29yeShpbnRlbnQpLFxuICAgICAgdG9vbHNVc2VkOiBbXSxcbiAgICAgIGZpbGVzTW9kaWZpZWQ6IFtdLFxuICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICBzdW1tYXJ5OiAnJyxcbiAgICAgIHRhZ3M6IHRoaXMuZXh0cmFjdFRhZ3MoaW50ZW50KSxcbiAgICAgIHJldHJpZXZhbENvdW50OiAwLFxuICAgICAgbGFzdFJldHJpZXZlZDogMCxcbiAgICB9O1xuXG4gICAgdGhpcy5lcGlzb2RlVG9vbHNVc2VkLmNsZWFyKCk7XG4gICAgdGhpcy5lcGlzb2RlRmlsZXNNb2RpZmllZC5jbGVhcigpO1xuXG4gICAgcmV0dXJuIGlkO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlY29yZCB0b29sIHVzYWdlIHdpdGhpbiBjdXJyZW50IGVwaXNvZGVcbiAgICovXG4gIHJlY29yZFRvb2xVc2UodG9vbE5hbWU6IHN0cmluZyk6IHZvaWQge1xuICAgIHRoaXMuZXBpc29kZVRvb2xzVXNlZC5hZGQodG9vbE5hbWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlY29yZCBmaWxlIG1vZGlmaWNhdGlvbiB3aXRoaW4gY3VycmVudCBlcGlzb2RlXG4gICAqL1xuICByZWNvcmRGaWxlTW9kaWZpY2F0aW9uKGZpbGVQYXRoOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLmVwaXNvZGVGaWxlc01vZGlmaWVkLmFkZChmaWxlUGF0aCk7XG4gIH1cblxuICAvKipcbiAgICogRW5kIGN1cnJlbnQgZXBpc29kZSBhbmQgc2F2ZSB0byBtZW1vcnlcbiAgICovXG4gIGFzeW5jIGVuZEVwaXNvZGUoc3VjY2VzczogYm9vbGVhbiwgc3VtbWFyeTogc3RyaW5nKTogUHJvbWlzZTxFcGlzb2RlIHwgbnVsbD4ge1xuICAgIGlmICghdGhpcy5jdXJyZW50RXBpc29kZSkgcmV0dXJuIG51bGw7XG5cbiAgICBjb25zdCBlcGlzb2RlOiBFcGlzb2RlID0ge1xuICAgICAgLi4udGhpcy5jdXJyZW50RXBpc29kZSBhcyBFcGlzb2RlLFxuICAgICAgZW5kVGltZTogRGF0ZS5ub3coKSxcbiAgICAgIHN1Y2Nlc3MsXG4gICAgICBzdW1tYXJ5LFxuICAgICAgdG9vbHNVc2VkOiBBcnJheS5mcm9tKHRoaXMuZXBpc29kZVRvb2xzVXNlZCksXG4gICAgICBmaWxlc01vZGlmaWVkOiBBcnJheS5mcm9tKHRoaXMuZXBpc29kZUZpbGVzTW9kaWZpZWQpLFxuICAgIH07XG5cbiAgICAvLyBHZW5lcmF0ZSBlbWJlZGRpbmcgZm9yIHNlbWFudGljIHNlYXJjaFxuICAgIGlmICh0aGlzLmNvbmZpZy51c2VFbWJlZGRpbmdzKSB7XG4gICAgICBjb25zdCB0ZXh0Rm9yRW1iZWRkaW5nID0gYCR7ZXBpc29kZS5pbnRlbnR9ICR7ZXBpc29kZS5zdW1tYXJ5fSAke2VwaXNvZGUudGFncy5qb2luKCcgJyl9YDtcbiAgICAgIGVwaXNvZGUuZW1iZWRkaW5nID0gYXdhaXQgdGhpcy5lbWJlZGRpbmdQcm92aWRlci5lbWJlZCh0ZXh0Rm9yRW1iZWRkaW5nKTtcbiAgICB9XG5cbiAgICB0aGlzLmVwaXNvZGVzLnNldChlcGlzb2RlLmlkLCBlcGlzb2RlKTtcbiAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcblxuICAgIC8vIExlYXJuIGZyb20gc3VjY2Vzc2Z1bCBlcGlzb2Rlc1xuICAgIGlmIChzdWNjZXNzKSB7XG4gICAgICBhd2FpdCB0aGlzLmxlYXJuRnJvbUVwaXNvZGUoZXBpc29kZSk7XG4gICAgfVxuXG4gICAgLy8gUHJ1bmUgaWYgbmVlZGVkXG4gICAgdGhpcy5wcnVuZUVwaXNvZGVzKCk7XG5cbiAgICAvLyBDbGVhciBjdXJyZW50IGVwaXNvZGVcbiAgICB0aGlzLmN1cnJlbnRFcGlzb2RlID0gbnVsbDtcbiAgICB0aGlzLmVwaXNvZGVUb29sc1VzZWQuY2xlYXIoKTtcbiAgICB0aGlzLmVwaXNvZGVGaWxlc01vZGlmaWVkLmNsZWFyKCk7XG5cbiAgICAvLyBBdXRvLXNhdmVcbiAgICB0aGlzLnNhdmUoKTtcblxuICAgIHJldHVybiBlcGlzb2RlO1xuICB9XG5cbiAgLyoqXG4gICAqIEFib3J0IGN1cnJlbnQgZXBpc29kZSB3aXRob3V0IHNhdmluZ1xuICAgKi9cbiAgYWJvcnRFcGlzb2RlKCk6IHZvaWQge1xuICAgIHRoaXMuY3VycmVudEVwaXNvZGUgPSBudWxsO1xuICAgIHRoaXMuZXBpc29kZVRvb2xzVXNlZC5jbGVhcigpO1xuICAgIHRoaXMuZXBpc29kZUZpbGVzTW9kaWZpZWQuY2xlYXIoKTtcbiAgfVxuXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vIFJFVFJJRVZBTCAmIFNFQVJDSFxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIC8qKlxuICAgKiBTZWFyY2ggZm9yIHNpbWlsYXIgcGFzdCBlcGlzb2Rlc1xuICAgKi9cbiAgYXN5bmMgc2VhcmNoKHF1ZXJ5OiBNZW1vcnlRdWVyeSk6IFByb21pc2U8TWVtb3J5U2VhcmNoUmVzdWx0W10+IHtcbiAgICBjb25zdCByZXN1bHRzOiBNZW1vcnlTZWFyY2hSZXN1bHRbXSA9IFtdO1xuICAgIGNvbnN0IGxpbWl0ID0gcXVlcnkubGltaXQgfHwgMTA7XG5cbiAgICAvLyBHZW5lcmF0ZSBxdWVyeSBlbWJlZGRpbmcgaWYgdXNpbmcgZW1iZWRkaW5nc1xuICAgIGxldCBxdWVyeUVtYmVkZGluZzogbnVtYmVyW10gfCBudWxsID0gbnVsbDtcbiAgICBpZiAodGhpcy5jb25maWcudXNlRW1iZWRkaW5ncykge1xuICAgICAgcXVlcnlFbWJlZGRpbmcgPSBhd2FpdCB0aGlzLmVtYmVkZGluZ1Byb3ZpZGVyLmVtYmVkKHF1ZXJ5LnF1ZXJ5KTtcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IGVwaXNvZGUgb2YgdGhpcy5lcGlzb2Rlcy52YWx1ZXMoKSkge1xuICAgICAgLy8gQXBwbHkgZmlsdGVyc1xuICAgICAgaWYgKHF1ZXJ5LmNhdGVnb3J5ICYmIGVwaXNvZGUuY2F0ZWdvcnkgIT09IHF1ZXJ5LmNhdGVnb3J5KSBjb250aW51ZTtcbiAgICAgIGlmIChxdWVyeS5zdWNjZXNzT25seSAmJiAhZXBpc29kZS5zdWNjZXNzKSBjb250aW51ZTtcbiAgICAgIGlmIChxdWVyeS5zaW5jZSAmJiBlcGlzb2RlLnN0YXJ0VGltZSA8IHF1ZXJ5LnNpbmNlKSBjb250aW51ZTtcbiAgICAgIGlmIChxdWVyeS50YWdzICYmICFxdWVyeS50YWdzLnNvbWUodCA9PiBlcGlzb2RlLnRhZ3MuaW5jbHVkZXModCkpKSBjb250aW51ZTtcblxuICAgICAgLy8gQ2FsY3VsYXRlIHNpbWlsYXJpdHlcbiAgICAgIGxldCBzaW1pbGFyaXR5ID0gMDtcbiAgICAgIGxldCBtYXRjaFJlYXNvbiA9ICcnO1xuXG4gICAgICBpZiAocXVlcnlFbWJlZGRpbmcgJiYgZXBpc29kZS5lbWJlZGRpbmcpIHtcbiAgICAgICAgLy8gQ29zaW5lIHNpbWlsYXJpdHkgZm9yIGVtYmVkZGluZ3NcbiAgICAgICAgc2ltaWxhcml0eSA9IHRoaXMuY29zaW5lU2ltaWxhcml0eShxdWVyeUVtYmVkZGluZywgZXBpc29kZS5lbWJlZGRpbmcpO1xuICAgICAgICBtYXRjaFJlYXNvbiA9ICdzZW1hbnRpYyBzaW1pbGFyaXR5JztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEZhbGxiYWNrIHRvIGtleXdvcmQgbWF0Y2hpbmdcbiAgICAgICAgc2ltaWxhcml0eSA9IHRoaXMua2V5d29yZFNpbWlsYXJpdHkocXVlcnkucXVlcnksIGVwaXNvZGUuaW50ZW50ICsgJyAnICsgZXBpc29kZS5zdW1tYXJ5KTtcbiAgICAgICAgbWF0Y2hSZWFzb24gPSAna2V5d29yZCBtYXRjaCc7XG4gICAgICB9XG5cbiAgICAgIC8vIEFwcGx5IHRlbXBvcmFsIGRlY2F5XG4gICAgICBjb25zdCBhZ2VJbkRheXMgPSAoRGF0ZS5ub3coKSAtIGVwaXNvZGUuZW5kVGltZSkgLyAoMTAwMCAqIDYwICogNjAgKiAyNCk7XG4gICAgICBjb25zdCBkZWNheWVkU2ltaWxhcml0eSA9IHNpbWlsYXJpdHkgKiBNYXRoLnBvdyh0aGlzLmNvbmZpZy5kZWNheUZhY3RvciwgYWdlSW5EYXlzIC8gMzApO1xuXG4gICAgICAvLyBCb29zdCBmb3IgcG9wdWxhcml0eVxuICAgICAgY29uc3QgcG9wdWxhcml0eUJvb3N0ID0gMSArIChlcGlzb2RlLnJldHJpZXZhbENvdW50ICogMC4wMSk7XG4gICAgICBjb25zdCBmaW5hbFNpbWlsYXJpdHkgPSBkZWNheWVkU2ltaWxhcml0eSAqIHBvcHVsYXJpdHlCb29zdDtcblxuICAgICAgaWYgKGZpbmFsU2ltaWxhcml0eSA+PSAocXVlcnkubWluU2ltaWxhcml0eSB8fCB0aGlzLmNvbmZpZy5taW5TaW1pbGFyaXR5KSkge1xuICAgICAgICByZXN1bHRzLnB1c2goe1xuICAgICAgICAgIGVwaXNvZGUsXG4gICAgICAgICAgc2ltaWxhcml0eTogZmluYWxTaW1pbGFyaXR5LFxuICAgICAgICAgIG1hdGNoUmVhc29uLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBTb3J0IGJ5IHNpbWlsYXJpdHkgYW5kIGxpbWl0XG4gICAgcmVzdWx0cy5zb3J0KChhLCBiKSA9PiBiLnNpbWlsYXJpdHkgLSBhLnNpbWlsYXJpdHkpO1xuICAgIGNvbnN0IHRvcFJlc3VsdHMgPSByZXN1bHRzLnNsaWNlKDAsIGxpbWl0KTtcblxuICAgIC8vIFVwZGF0ZSByZXRyaWV2YWwgY291bnRzXG4gICAgZm9yIChjb25zdCByZXN1bHQgb2YgdG9wUmVzdWx0cykge1xuICAgICAgcmVzdWx0LmVwaXNvZGUucmV0cmlldmFsQ291bnQrKztcbiAgICAgIHJlc3VsdC5lcGlzb2RlLmxhc3RSZXRyaWV2ZWQgPSBEYXRlLm5vdygpO1xuICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRvcFJlc3VsdHM7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGxlYXJuZWQgYXBwcm9hY2ggZm9yIGEgdGFza1xuICAgKi9cbiAgYXN5bmMgZ2V0QXBwcm9hY2goaW50ZW50OiBzdHJpbmcpOiBQcm9taXNlPExlYXJuZWRBcHByb2FjaCB8IG51bGw+IHtcbiAgICBjb25zdCBrZXl3b3JkcyA9IHRoaXMuZXh0cmFjdEtleXdvcmRzKGludGVudCk7XG5cbiAgICAvLyBGaXJzdCB0cnkgZXhhY3Qga2V5d29yZCBtYXRjaFxuICAgIGZvciAoY29uc3QgYXBwcm9hY2ggb2YgdGhpcy5hcHByb2FjaGVzLnZhbHVlcygpKSB7XG4gICAgICBjb25zdCBvdmVybGFwQ291bnQgPSBrZXl3b3Jkcy5maWx0ZXIoayA9PiBhcHByb2FjaC5rZXl3b3Jkcy5pbmNsdWRlcyhrKSkubGVuZ3RoO1xuICAgICAgaWYgKG92ZXJsYXBDb3VudCA+PSBNYXRoLm1pbigzLCBrZXl3b3Jkcy5sZW5ndGggKiAwLjUpKSB7XG4gICAgICAgIHJldHVybiBhcHByb2FjaDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBUcnkgc2VtYW50aWMgc2VhcmNoIGlmIGVtYmVkZGluZ3MgZW5hYmxlZFxuICAgIGlmICh0aGlzLmNvbmZpZy51c2VFbWJlZGRpbmdzKSB7XG4gICAgICBjb25zdCBxdWVyeUVtYmVkZGluZyA9IGF3YWl0IHRoaXMuZW1iZWRkaW5nUHJvdmlkZXIuZW1iZWQoaW50ZW50KTtcbiAgICAgIGxldCBiZXN0TWF0Y2g6IExlYXJuZWRBcHByb2FjaCB8IG51bGwgPSBudWxsO1xuICAgICAgbGV0IGJlc3RTaW1pbGFyaXR5ID0gMDtcblxuICAgICAgZm9yIChjb25zdCBhcHByb2FjaCBvZiB0aGlzLmFwcHJvYWNoZXMudmFsdWVzKCkpIHtcbiAgICAgICAgaWYgKGFwcHJvYWNoLmVtYmVkZGluZykge1xuICAgICAgICAgIGNvbnN0IHNpbWlsYXJpdHkgPSB0aGlzLmNvc2luZVNpbWlsYXJpdHkocXVlcnlFbWJlZGRpbmcsIGFwcHJvYWNoLmVtYmVkZGluZyk7XG4gICAgICAgICAgaWYgKHNpbWlsYXJpdHkgPiBiZXN0U2ltaWxhcml0eSAmJiBzaW1pbGFyaXR5ID49IHRoaXMuY29uZmlnLm1pblNpbWlsYXJpdHkpIHtcbiAgICAgICAgICAgIGJlc3RTaW1pbGFyaXR5ID0gc2ltaWxhcml0eTtcbiAgICAgICAgICAgIGJlc3RNYXRjaCA9IGFwcHJvYWNoO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gYmVzdE1hdGNoO1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCByZWNlbnQgZXBpc29kZXMgZm9yIGNvbnRleHRcbiAgICovXG4gIGdldFJlY2VudEVwaXNvZGVzKGxpbWl0ID0gNSwgc2Vzc2lvbklkPzogc3RyaW5nKTogRXBpc29kZVtdIHtcbiAgICBjb25zdCBlcGlzb2RlcyA9IEFycmF5LmZyb20odGhpcy5lcGlzb2Rlcy52YWx1ZXMoKSk7XG5cbiAgICBjb25zdCBmaWx0ZXJlZCA9IHNlc3Npb25JZFxuICAgICAgPyBlcGlzb2Rlcy5maWx0ZXIoZSA9PiBlLnNlc3Npb25JZCA9PT0gc2Vzc2lvbklkKVxuICAgICAgOiBlcGlzb2RlcztcblxuICAgIHJldHVybiBmaWx0ZXJlZFxuICAgICAgLnNvcnQoKGEsIGIpID0+IGIuZW5kVGltZSAtIGEuZW5kVGltZSlcbiAgICAgIC5zbGljZSgwLCBsaW1pdCk7XG4gIH1cblxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBMRUFSTklOR1xuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIC8qKlxuICAgKiBMZWFybiBwYXR0ZXJucyBmcm9tIGEgc3VjY2Vzc2Z1bCBlcGlzb2RlXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIGxlYXJuRnJvbUVwaXNvZGUoZXBpc29kZTogRXBpc29kZSk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IGtleXdvcmRzID0gdGhpcy5leHRyYWN0S2V5d29yZHMoZXBpc29kZS5pbnRlbnQpO1xuICAgIGNvbnN0IGFwcHJvYWNoS2V5ID0ga2V5d29yZHMuc29ydCgpLmpvaW4oJ18nKTtcblxuICAgIGNvbnN0IGV4aXN0aW5nID0gdGhpcy5hcHByb2FjaGVzLmdldChhcHByb2FjaEtleSk7XG5cbiAgICBpZiAoZXhpc3RpbmcpIHtcbiAgICAgIC8vIFVwZGF0ZSBleGlzdGluZyBhcHByb2FjaFxuICAgICAgZXhpc3RpbmcudXNlQ291bnQrKztcbiAgICAgIGV4aXN0aW5nLnN1Y2Nlc3NSYXRlID0gKGV4aXN0aW5nLnN1Y2Nlc3NSYXRlICogKGV4aXN0aW5nLnVzZUNvdW50IC0gMSkgKyAxKSAvIGV4aXN0aW5nLnVzZUNvdW50O1xuICAgICAgZXhpc3Rpbmcuc291cmNlRXBpc29kZXMucHVzaChlcGlzb2RlLmlkKTtcbiAgICAgIGV4aXN0aW5nLnRvb2xzID0gWy4uLm5ldyBTZXQoWy4uLmV4aXN0aW5nLnRvb2xzLCAuLi5lcGlzb2RlLnRvb2xzVXNlZF0pXTtcbiAgICAgIGV4aXN0aW5nLnVwZGF0ZWRBdCA9IERhdGUubm93KCk7XG5cbiAgICAgIC8vIFJlLWNvbXB1dGUgZW1iZWRkaW5nXG4gICAgICBpZiAodGhpcy5jb25maWcudXNlRW1iZWRkaW5ncykge1xuICAgICAgICBleGlzdGluZy5lbWJlZGRpbmcgPSBhd2FpdCB0aGlzLmVtYmVkZGluZ1Byb3ZpZGVyLmVtYmVkKGV4aXN0aW5nLnRyaWdnZXJQYXR0ZXJuKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQ3JlYXRlIG5ldyBhcHByb2FjaFxuICAgICAgY29uc3QgYXBwcm9hY2g6IExlYXJuZWRBcHByb2FjaCA9IHtcbiAgICAgICAgaWQ6IHRoaXMuZ2VuZXJhdGVJZCgpLFxuICAgICAgICB0cmlnZ2VyUGF0dGVybjogZXBpc29kZS5pbnRlbnQsXG4gICAgICAgIGtleXdvcmRzLFxuICAgICAgICBhcHByb2FjaDogW2VwaXNvZGUuc3VtbWFyeV0sXG4gICAgICAgIHRvb2xzOiBlcGlzb2RlLnRvb2xzVXNlZCxcbiAgICAgICAgc3VjY2Vzc1JhdGU6IDEsXG4gICAgICAgIHVzZUNvdW50OiAxLFxuICAgICAgICBzb3VyY2VFcGlzb2RlczogW2VwaXNvZGUuaWRdLFxuICAgICAgICB1cGRhdGVkQXQ6IERhdGUubm93KCksXG4gICAgICB9O1xuXG4gICAgICBpZiAodGhpcy5jb25maWcudXNlRW1iZWRkaW5ncykge1xuICAgICAgICBhcHByb2FjaC5lbWJlZGRpbmcgPSBhd2FpdCB0aGlzLmVtYmVkZGluZ1Byb3ZpZGVyLmVtYmVkKGFwcHJvYWNoLnRyaWdnZXJQYXR0ZXJuKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5hcHByb2FjaGVzLnNldChhcHByb2FjaEtleSwgYXBwcm9hY2gpO1xuICAgIH1cblxuICAgIHRoaXMucHJ1bmVBcHByb2FjaGVzKCk7XG4gICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gIH1cblxuICAvKipcbiAgICogUmVjb3JkIGFwcHJvYWNoIGZhaWx1cmUgdG8gdXBkYXRlIHN1Y2Nlc3MgcmF0ZVxuICAgKi9cbiAgcmVjb3JkQXBwcm9hY2hGYWlsdXJlKGFwcHJvYWNoSWQ6IHN0cmluZyk6IHZvaWQge1xuICAgIGZvciAoY29uc3QgYXBwcm9hY2ggb2YgdGhpcy5hcHByb2FjaGVzLnZhbHVlcygpKSB7XG4gICAgICBpZiAoYXBwcm9hY2guaWQgPT09IGFwcHJvYWNoSWQpIHtcbiAgICAgICAgYXBwcm9hY2gudXNlQ291bnQrKztcbiAgICAgICAgYXBwcm9hY2guc3VjY2Vzc1JhdGUgPSAoYXBwcm9hY2guc3VjY2Vzc1JhdGUgKiAoYXBwcm9hY2gudXNlQ291bnQgLSAxKSkgLyBhcHByb2FjaC51c2VDb3VudDtcbiAgICAgICAgYXBwcm9hY2gudXBkYXRlZEF0ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vIEhFTFBFUlNcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBwcml2YXRlIGdlbmVyYXRlSWQoKTogc3RyaW5nIHtcbiAgICBjb25zdCB0aW1lc3RhbXAgPSBEYXRlLm5vdygpLnRvU3RyaW5nKDM2KTtcbiAgICBjb25zdCByYW5kb20gPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zbGljZSgyLCA4KTtcbiAgICByZXR1cm4gYGVwXyR7dGltZXN0YW1wfV8ke3JhbmRvbX1gO1xuICB9XG5cbiAgcHJpdmF0ZSBpbmZlckNhdGVnb3J5KGludGVudDogc3RyaW5nKTogRXBpc29kZUNhdGVnb3J5IHtcbiAgICBjb25zdCBsb3dlciA9IGludGVudC50b0xvd2VyQ2FzZSgpO1xuXG4gICAgaWYgKC9cXGIoZml4fGJ1Z3xlcnJvcnxpc3N1ZXxjcmFzaHxicm9rZW4pXFxiLy50ZXN0KGxvd2VyKSkgcmV0dXJuICdidWdfZml4JztcbiAgICBpZiAoL1xcYihhZGR8ZmVhdHVyZXxpbXBsZW1lbnR8Y3JlYXRlfG5ldylcXGIvLnRlc3QobG93ZXIpKSByZXR1cm4gJ2ZlYXR1cmVfYWRkJztcbiAgICBpZiAoL1xcYihyZWZhY3RvcnxjbGVhbnxyZW9yZ2FuaXplfHJlc3RydWN0dXJlKVxcYi8udGVzdChsb3dlcikpIHJldHVybiAncmVmYWN0b3InO1xuICAgIGlmICgvXFxiKHRlc3R8c3BlY3xjb3ZlcmFnZSlcXGIvLnRlc3QobG93ZXIpKSByZXR1cm4gJ3Rlc3Rfd3JpdGUnO1xuICAgIGlmICgvXFxiKGRvY3xyZWFkbWV8Y29tbWVudHxleHBsYWluKVxcYi8udGVzdChsb3dlcikpIHJldHVybiAnZG9jdW1lbnRhdGlvbic7XG4gICAgaWYgKC9cXGIoYW5hbHl6fHVuZGVyc3RhbmR8ZXhwbG9yZXxpbnZlc3RpZ2F0ZSlcXGIvLnRlc3QobG93ZXIpKSByZXR1cm4gJ2FuYWx5c2lzJztcbiAgICBpZiAoL1xcYihjb25maWd8c2V0dXB8aW5zdGFsbHxlbnYpXFxiLy50ZXN0KGxvd2VyKSkgcmV0dXJuICdjb25maWd1cmF0aW9uJztcbiAgICBpZiAoL1xcYihkZWJ1Z3x0cmFjZXxsb2d8aW5zcGVjdClcXGIvLnRlc3QobG93ZXIpKSByZXR1cm4gJ2RlYnVnZ2luZyc7XG4gICAgaWYgKC9cXGIob3B0aW18cGVyZnxzcGVlZHxmYXN0KVxcYi8udGVzdChsb3dlcikpIHJldHVybiAnb3B0aW1pemF0aW9uJztcbiAgICBpZiAoL1xcYihtaWdyYXR8dXBncmFkfHVwZGF0ZXxjb252ZXJ0KVxcYi8udGVzdChsb3dlcikpIHJldHVybiAnbWlncmF0aW9uJztcblxuICAgIHJldHVybiAndW5rbm93bic7XG4gIH1cblxuICBwcml2YXRlIGV4dHJhY3RUYWdzKHRleHQ6IHN0cmluZyk6IHN0cmluZ1tdIHtcbiAgICBjb25zdCB0YWdzOiBzdHJpbmdbXSA9IFtdO1xuICAgIGNvbnN0IGxvd2VyID0gdGV4dC50b0xvd2VyQ2FzZSgpO1xuXG4gICAgLy8gRXh0cmFjdCB0ZWNobm9sb2d5IHRhZ3NcbiAgICBjb25zdCB0ZWNoUGF0dGVybnM6IFJlY29yZDxzdHJpbmcsIFJlZ0V4cD4gPSB7XG4gICAgICB0eXBlc2NyaXB0OiAvXFxidHlwZXNjcmlwdFxcYnxcXFxcLnRzeD9cXGIvLFxuICAgICAgamF2YXNjcmlwdDogL1xcYmphdmFzY3JpcHRcXGJ8XFxcXC5qc3g/XFxiLyxcbiAgICAgIHB5dGhvbjogL1xcYnB5dGhvblxcYnxcXFxcLnB5XFxiLyxcbiAgICAgIHJlYWN0OiAvXFxicmVhY3RcXGIvLFxuICAgICAgbm9kZTogL1xcYm5vZGVcXC4/anM/XFxiLyxcbiAgICAgIGFwaTogL1xcYmFwaVxcYnxcXGJyZXN0XFxifFxcYmdyYXBocWxcXGIvLFxuICAgICAgZGF0YWJhc2U6IC9cXGJkYlxcYnxcXGJkYXRhYmFzZVxcYnxcXGJzcWxcXGJ8XFxibW9uZ29cXGIvLFxuICAgICAgdGVzdDogL1xcYnRlc3RcXGJ8XFxic3BlY1xcYnxcXGJqZXN0XFxifFxcYnZpdGVzdFxcYi8sXG4gICAgICBnaXQ6IC9cXGJnaXRcXGJ8XFxiY29tbWl0XFxifFxcYmJyYW5jaFxcYi8sXG4gICAgfTtcblxuICAgIGZvciAoY29uc3QgW3RhZywgcGF0dGVybl0gb2YgT2JqZWN0LmVudHJpZXModGVjaFBhdHRlcm5zKSkge1xuICAgICAgaWYgKHBhdHRlcm4udGVzdChsb3dlcikpIHtcbiAgICAgICAgdGFncy5wdXNoKHRhZyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhZ3M7XG4gIH1cblxuICBwcml2YXRlIGV4dHJhY3RLZXl3b3Jkcyh0ZXh0OiBzdHJpbmcpOiBzdHJpbmdbXSB7XG4gICAgcmV0dXJuIHRleHRcbiAgICAgIC50b0xvd2VyQ2FzZSgpXG4gICAgICAucmVwbGFjZSgvW15hLXowLTlcXHNdL2csICcgJylcbiAgICAgIC5zcGxpdCgvXFxzKy8pXG4gICAgICAuZmlsdGVyKHcgPT4gdy5sZW5ndGggPiAzKVxuICAgICAgLmZpbHRlcih3ID0+ICFbJ3RoaXMnLCAndGhhdCcsICd3aXRoJywgJ2Zyb20nLCAnaGF2ZScsICd3aWxsJywgJ3dvdWxkJywgJ2NvdWxkJywgJ3Nob3VsZCddLmluY2x1ZGVzKHcpKTtcbiAgfVxuXG4gIHByaXZhdGUgY29zaW5lU2ltaWxhcml0eShhOiBudW1iZXJbXSwgYjogbnVtYmVyW10pOiBudW1iZXIge1xuICAgIGlmIChhLmxlbmd0aCAhPT0gYi5sZW5ndGgpIHJldHVybiAwO1xuXG4gICAgbGV0IGRvdFByb2R1Y3QgPSAwO1xuICAgIGxldCBtYWduaXR1ZGVBID0gMDtcbiAgICBsZXQgbWFnbml0dWRlQiA9IDA7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGEubGVuZ3RoOyBpKyspIHtcbiAgICAgIGRvdFByb2R1Y3QgKz0gYVtpXSAqIGJbaV07XG4gICAgICBtYWduaXR1ZGVBICs9IGFbaV0gKiBhW2ldO1xuICAgICAgbWFnbml0dWRlQiArPSBiW2ldICogYltpXTtcbiAgICB9XG5cbiAgICBjb25zdCBtYWduaXR1ZGUgPSBNYXRoLnNxcnQobWFnbml0dWRlQSkgKiBNYXRoLnNxcnQobWFnbml0dWRlQik7XG4gICAgcmV0dXJuIG1hZ25pdHVkZSA9PT0gMCA/IDAgOiBkb3RQcm9kdWN0IC8gbWFnbml0dWRlO1xuICB9XG5cbiAgcHJpdmF0ZSBrZXl3b3JkU2ltaWxhcml0eShxdWVyeTogc3RyaW5nLCB0ZXh0OiBzdHJpbmcpOiBudW1iZXIge1xuICAgIGNvbnN0IHF1ZXJ5V29yZHMgPSBuZXcgU2V0KHRoaXMuZXh0cmFjdEtleXdvcmRzKHF1ZXJ5KSk7XG4gICAgY29uc3QgdGV4dFdvcmRzID0gbmV3IFNldCh0aGlzLmV4dHJhY3RLZXl3b3Jkcyh0ZXh0KSk7XG5cbiAgICBpZiAocXVlcnlXb3Jkcy5zaXplID09PSAwIHx8IHRleHRXb3Jkcy5zaXplID09PSAwKSByZXR1cm4gMDtcblxuICAgIGxldCBtYXRjaGVzID0gMDtcbiAgICBmb3IgKGNvbnN0IHdvcmQgb2YgcXVlcnlXb3Jkcykge1xuICAgICAgaWYgKHRleHRXb3Jkcy5oYXMod29yZCkpIG1hdGNoZXMrKztcbiAgICB9XG5cbiAgICByZXR1cm4gbWF0Y2hlcyAvIHF1ZXJ5V29yZHMuc2l6ZTtcbiAgfVxuXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vIE9QVElNSVpBVElPTiBQUk9GSUxFU1xuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIC8qKlxuICAgKiBHZXQgb3IgY3JlYXRlIGFuIG9wdGltaXphdGlvbiBwcm9maWxlIGZvciBhIGNhdGVnb3J5LlxuICAgKiBVc2VkIGJ5IHRoZSBSTCB0b3VybmFtZW50IHN5c3RlbSB0byBnZXQgdGFzay1zcGVjaWZpYyBzZXR0aW5ncy5cbiAgICovXG4gIGdldE9wdGltaXphdGlvblByb2ZpbGUoY2F0ZWdvcnk6IEVwaXNvZGVDYXRlZ29yeSwgcG9saWN5TmFtZT86IHN0cmluZyk6IE9wdGltaXphdGlvblByb2ZpbGUge1xuICAgIGNvbnN0IGV4aXN0aW5nID0gdGhpcy5vcHRpbWl6YXRpb25Qcm9maWxlcy5nZXQoY2F0ZWdvcnkpO1xuICAgIGlmIChleGlzdGluZykge1xuICAgICAgcmV0dXJuIGV4aXN0aW5nO1xuICAgIH1cblxuICAgIC8vIENyZWF0ZSBkZWZhdWx0IHByb2ZpbGUgZm9yIHRoaXMgY2F0ZWdvcnlcbiAgICBjb25zdCBwcm9maWxlOiBPcHRpbWl6YXRpb25Qcm9maWxlID0ge1xuICAgICAgaWQ6IGBwcm9maWxlXyR7Y2F0ZWdvcnl9XyR7RGF0ZS5ub3coKS50b1N0cmluZygzNil9YCxcbiAgICAgIGNhdGVnb3J5LFxuICAgICAgcG9saWN5TmFtZTogcG9saWN5TmFtZSB8fCBgJHtjYXRlZ29yeX1fZGVmYXVsdGAsXG4gICAgICBwcmVmZXJyZWRNb2RlOiB0aGlzLmluZmVyUHJlZmVycmVkTW9kZShjYXRlZ29yeSksXG4gICAgICB1c2VHaXRXb3JrdHJlZXM6IGNhdGVnb3J5ID09PSAnbWlncmF0aW9uJyB8fCBjYXRlZ29yeSA9PT0gJ3JlZmFjdG9yJyxcbiAgICAgIHJld2FyZFdlaWdodHM6IHsgLi4uREVGQVVMVF9SRVdBUkRfV0VJR0hUU1tjYXRlZ29yeV0gfSxcbiAgICAgIHByZWZlcnJlZFRvb2xzOiB0aGlzLmluZmVyUHJlZmVycmVkVG9vbHMoY2F0ZWdvcnkpLFxuICAgICAgYXV0b0FwcHJvdmFsVGhyZXNob2xkOiAwLjg1LFxuICAgICAgc3VjY2Vzc0NvdW50OiAwLFxuICAgICAgZmFpbHVyZUNvdW50OiAwLFxuICAgICAgdXBkYXRlZEF0OiBEYXRlLm5vdygpLFxuICAgIH07XG5cbiAgICB0aGlzLm9wdGltaXphdGlvblByb2ZpbGVzLnNldChjYXRlZ29yeSwgcHJvZmlsZSk7XG4gICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgcmV0dXJuIHByb2ZpbGU7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIG9wdGltaXphdGlvbiBwcm9maWxlIGJhc2VkIG9uIGVwaXNvZGUgb3V0Y29tZS5cbiAgICogQ2FsbGVkIGFmdGVyIGFuIGVwaXNvZGUgY29tcGxldGVzIHRvIGFkanVzdCBsZWFybmVkIHNldHRpbmdzLlxuICAgKi9cbiAgdXBkYXRlT3B0aW1pemF0aW9uUHJvZmlsZShcbiAgICBjYXRlZ29yeTogRXBpc29kZUNhdGVnb3J5LFxuICAgIHN1Y2Nlc3M6IGJvb2xlYW4sXG4gICAgb3B0aW9ucz86IHtcbiAgICAgIHRvb2xzVXNlZD86IHN0cmluZ1tdO1xuICAgICAgbW9kZT86ICdzaW5nbGUtY29udGludW91cycgfCAnZHVhbC1ybC1jb250aW51b3VzJyB8ICdkdWFsLXJsLXRvdXJuYW1lbnQnO1xuICAgICAgdXNlZEdpdFdvcmt0cmVlcz86IGJvb2xlYW47XG4gICAgfVxuICApOiB2b2lkIHtcbiAgICBjb25zdCBwcm9maWxlID0gdGhpcy5nZXRPcHRpbWl6YXRpb25Qcm9maWxlKGNhdGVnb3J5KTtcblxuICAgIGlmIChzdWNjZXNzKSB7XG4gICAgICBwcm9maWxlLnN1Y2Nlc3NDb3VudCsrO1xuXG4gICAgICAvLyBVcGRhdGUgcHJlZmVycmVkIHRvb2xzIGJhc2VkIG9uIHN1Y2Nlc3NmdWwgZXBpc29kZXNcbiAgICAgIGlmIChvcHRpb25zPy50b29sc1VzZWQpIHtcbiAgICAgICAgZm9yIChjb25zdCB0b29sIG9mIG9wdGlvbnMudG9vbHNVc2VkKSB7XG4gICAgICAgICAgaWYgKCFwcm9maWxlLnByZWZlcnJlZFRvb2xzLmluY2x1ZGVzKHRvb2wpKSB7XG4gICAgICAgICAgICBwcm9maWxlLnByZWZlcnJlZFRvb2xzLnB1c2godG9vbCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIEtlZXAgb25seSB0b3AgMTAgcHJlZmVycmVkIHRvb2xzXG4gICAgICAgIHByb2ZpbGUucHJlZmVycmVkVG9vbHMgPSBwcm9maWxlLnByZWZlcnJlZFRvb2xzLnNsaWNlKDAsIDEwKTtcbiAgICAgIH1cblxuICAgICAgLy8gVXBkYXRlIG1vZGUgcHJlZmVyZW5jZSBpZiBkdWFsIG1vZGUgd2FzIHN1Y2Nlc3NmdWxcbiAgICAgIGlmIChvcHRpb25zPy5tb2RlICYmIG9wdGlvbnMubW9kZSAhPT0gJ3NpbmdsZS1jb250aW51b3VzJykge1xuICAgICAgICBjb25zdCBzdWNjZXNzUmF0ZSA9IHByb2ZpbGUuc3VjY2Vzc0NvdW50IC8gKHByb2ZpbGUuc3VjY2Vzc0NvdW50ICsgcHJvZmlsZS5mYWlsdXJlQ291bnQpO1xuICAgICAgICBpZiAoc3VjY2Vzc1JhdGUgPiAwLjcgJiYgcHJvZmlsZS5wcmVmZXJyZWRNb2RlID09PSAnc2luZ2xlLWNvbnRpbnVvdXMnKSB7XG4gICAgICAgICAgcHJvZmlsZS5wcmVmZXJyZWRNb2RlID0gJ2R1YWwtcmwtY29udGludW91cyc7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gVHJhY2sgZ2l0IHdvcmt0cmVlIHN1Y2Nlc3NcbiAgICAgIGlmIChvcHRpb25zPy51c2VkR2l0V29ya3RyZWVzICYmICFwcm9maWxlLnVzZUdpdFdvcmt0cmVlcykge1xuICAgICAgICBwcm9maWxlLnVzZUdpdFdvcmt0cmVlcyA9IHRydWU7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHByb2ZpbGUuZmFpbHVyZUNvdW50Kys7XG5cbiAgICAgIC8vIElmIHN1Y2Nlc3MgcmF0ZSBkcm9wcywgYWRqdXN0IGF1dG8tYXBwcm92YWwgdGhyZXNob2xkXG4gICAgICBjb25zdCBzdWNjZXNzUmF0ZSA9IHByb2ZpbGUuc3VjY2Vzc0NvdW50IC8gKHByb2ZpbGUuc3VjY2Vzc0NvdW50ICsgcHJvZmlsZS5mYWlsdXJlQ291bnQpO1xuICAgICAgaWYgKHN1Y2Nlc3NSYXRlIDwgcHJvZmlsZS5hdXRvQXBwcm92YWxUaHJlc2hvbGQpIHtcbiAgICAgICAgcHJvZmlsZS5hdXRvQXBwcm92YWxUaHJlc2hvbGQgPSBNYXRoLm1heCgwLjUsIHN1Y2Nlc3NSYXRlIC0gMC4wNSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcHJvZmlsZS51cGRhdGVkQXQgPSBEYXRlLm5vdygpO1xuICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgIHRoaXMuc2F2ZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCByZXdhcmQgd2VpZ2h0cyBmb3IgYSBjYXRlZ29yeSwgYWRqdXN0ZWQgYmFzZWQgb24gbGVhcm5lZCBwYXR0ZXJucy5cbiAgICovXG4gIGdldFJld2FyZFdlaWdodHMoY2F0ZWdvcnk6IEVwaXNvZGVDYXRlZ29yeSk6IE9wdGltaXphdGlvblByb2ZpbGVbJ3Jld2FyZFdlaWdodHMnXSB7XG4gICAgY29uc3QgcHJvZmlsZSA9IHRoaXMuZ2V0T3B0aW1pemF0aW9uUHJvZmlsZShjYXRlZ29yeSk7XG4gICAgcmV0dXJuIHByb2ZpbGUucmV3YXJkV2VpZ2h0cztcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgcmV3YXJkIHdlaWdodHMgYmFzZWQgb24gdG91cm5hbWVudCBvdXRjb21lcy5cbiAgICogQWRqdXN0cyB3ZWlnaHRzIHRvIGZhdm9yIHNpZ25hbHMgdGhhdCBjb3JyZWxhdGVkIHdpdGggc3VjY2Vzc2Z1bCBvdXRjb21lcy5cbiAgICovXG4gIGFkanVzdFJld2FyZFdlaWdodHMoXG4gICAgY2F0ZWdvcnk6IEVwaXNvZGVDYXRlZ29yeSxcbiAgICB3aW5uaW5nU2lnbmFsczogUGFydGlhbDxPcHRpbWl6YXRpb25Qcm9maWxlWydyZXdhcmRXZWlnaHRzJ10+LFxuICAgIHN1Y2Nlc3M6IGJvb2xlYW5cbiAgKTogdm9pZCB7XG4gICAgY29uc3QgcHJvZmlsZSA9IHRoaXMuZ2V0T3B0aW1pemF0aW9uUHJvZmlsZShjYXRlZ29yeSk7XG4gICAgY29uc3QgbGVhcm5pbmdSYXRlID0gMC4xO1xuXG4gICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMod2lubmluZ1NpZ25hbHMpKSB7XG4gICAgICBjb25zdCBrID0ga2V5IGFzIGtleW9mIE9wdGltaXphdGlvblByb2ZpbGVbJ3Jld2FyZFdlaWdodHMnXTtcbiAgICAgIGlmIChzdWNjZXNzKSB7XG4gICAgICAgIC8vIFNsaWdodGx5IGluY3JlYXNlIHdlaWdodCBmb3Igc2lnbmFscyB0aGF0IGNvbnRyaWJ1dGVkIHRvIHN1Y2Nlc3NcbiAgICAgICAgcHJvZmlsZS5yZXdhcmRXZWlnaHRzW2tdID0gTWF0aC5taW4oMC41LCBwcm9maWxlLnJld2FyZFdlaWdodHNba10gKyBsZWFybmluZ1JhdGUgKiAodmFsdWUgYXMgbnVtYmVyKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBTbGlnaHRseSBkZWNyZWFzZSB3ZWlnaHQgZm9yIHNpZ25hbHMgdGhhdCBkaWRuJ3QgcHJldmVudCBmYWlsdXJlXG4gICAgICAgIHByb2ZpbGUucmV3YXJkV2VpZ2h0c1trXSA9IE1hdGgubWF4KDAuMDEsIHByb2ZpbGUucmV3YXJkV2VpZ2h0c1trXSAtIGxlYXJuaW5nUmF0ZSAqIDAuNSAqICh2YWx1ZSBhcyBudW1iZXIpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBOb3JtYWxpemUgd2VpZ2h0cyB0byBzdW0gdG8gMVxuICAgIGNvbnN0IHRvdGFsID0gT2JqZWN0LnZhbHVlcyhwcm9maWxlLnJld2FyZFdlaWdodHMpLnJlZHVjZSgoc3VtLCB2KSA9PiBzdW0gKyB2LCAwKTtcbiAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhwcm9maWxlLnJld2FyZFdlaWdodHMpKSB7XG4gICAgICBjb25zdCBrID0ga2V5IGFzIGtleW9mIE9wdGltaXphdGlvblByb2ZpbGVbJ3Jld2FyZFdlaWdodHMnXTtcbiAgICAgIHByb2ZpbGUucmV3YXJkV2VpZ2h0c1trXSAvPSB0b3RhbDtcbiAgICB9XG5cbiAgICBwcm9maWxlLnVwZGF0ZWRBdCA9IERhdGUubm93KCk7XG4gICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGFsbCBvcHRpbWl6YXRpb24gcHJvZmlsZXMgZm9yIGluc3BlY3Rpb24uXG4gICAqL1xuICBnZXRBbGxPcHRpbWl6YXRpb25Qcm9maWxlcygpOiBPcHRpbWl6YXRpb25Qcm9maWxlW10ge1xuICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMub3B0aW1pemF0aW9uUHJvZmlsZXMudmFsdWVzKCkpO1xuICB9XG5cbiAgcHJpdmF0ZSBpbmZlclByZWZlcnJlZE1vZGUoXG4gICAgY2F0ZWdvcnk6IEVwaXNvZGVDYXRlZ29yeVxuICApOiAnc2luZ2xlLWNvbnRpbnVvdXMnIHwgJ2R1YWwtcmwtY29udGludW91cycgfCAnZHVhbC1ybC10b3VybmFtZW50JyB7XG4gICAgLy8gQ2F0ZWdvcmllcyB0aGF0IGJlbmVmaXQgZnJvbSBkdWFsLWFnZW50IGNvbXBhcmlzb25cbiAgICBzd2l0Y2ggKGNhdGVnb3J5KSB7XG4gICAgICBjYXNlICdyZWZhY3Rvcic6XG4gICAgICBjYXNlICdvcHRpbWl6YXRpb24nOlxuICAgICAgY2FzZSAnbWlncmF0aW9uJzpcbiAgICAgICAgcmV0dXJuICdkdWFsLXJsLXRvdXJuYW1lbnQnO1xuICAgICAgY2FzZSAnZmVhdHVyZV9hZGQnOlxuICAgICAgY2FzZSAnYnVnX2ZpeCc6XG4gICAgICAgIHJldHVybiAnZHVhbC1ybC1jb250aW51b3VzJztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiAnc2luZ2xlLWNvbnRpbnVvdXMnO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgaW5mZXJQcmVmZXJyZWRUb29scyhjYXRlZ29yeTogRXBpc29kZUNhdGVnb3J5KTogc3RyaW5nW10ge1xuICAgIHN3aXRjaCAoY2F0ZWdvcnkpIHtcbiAgICAgIGNhc2UgJ2J1Z19maXgnOlxuICAgICAgICByZXR1cm4gWydSZWFkJywgJ0dyZXAnLCAnRWRpdCcsICdCYXNoJ107XG4gICAgICBjYXNlICdmZWF0dXJlX2FkZCc6XG4gICAgICAgIHJldHVybiBbJ1JlYWQnLCAnV3JpdGUnLCAnRWRpdCcsICdCYXNoJ107XG4gICAgICBjYXNlICdyZWZhY3Rvcic6XG4gICAgICAgIHJldHVybiBbJ1JlYWQnLCAnRWRpdCcsICdHcmVwJywgJ0Jhc2gnXTtcbiAgICAgIGNhc2UgJ3Rlc3Rfd3JpdGUnOlxuICAgICAgICByZXR1cm4gWydSZWFkJywgJ1dyaXRlJywgJ0Jhc2gnXTtcbiAgICAgIGNhc2UgJ2RvY3VtZW50YXRpb24nOlxuICAgICAgICByZXR1cm4gWydSZWFkJywgJ1dyaXRlJywgJ0VkaXQnXTtcbiAgICAgIGNhc2UgJ2FuYWx5c2lzJzpcbiAgICAgICAgcmV0dXJuIFsnUmVhZCcsICdHcmVwJywgJ0dsb2InXTtcbiAgICAgIGNhc2UgJ2RlYnVnZ2luZyc6XG4gICAgICAgIHJldHVybiBbJ1JlYWQnLCAnR3JlcCcsICdCYXNoJywgJ0VkaXQnXTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBbJ1JlYWQnLCAnRWRpdCcsICdCYXNoJ107XG4gICAgfVxuICB9XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gUFJVTklOR1xuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIHByaXZhdGUgcHJ1bmVFcGlzb2RlcygpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5lcGlzb2Rlcy5zaXplIDw9IHRoaXMuY29uZmlnLm1heEVwaXNvZGVzKSByZXR1cm47XG5cbiAgICAvLyBTY29yZSBlcGlzb2RlcyBieSB2YWx1ZSAocmVjZW5jeSArIHN1Y2Nlc3MgKyByZXRyaWV2YWwgY291bnQpXG4gICAgY29uc3Qgc2NvcmVkID0gQXJyYXkuZnJvbSh0aGlzLmVwaXNvZGVzLnZhbHVlcygpKS5tYXAoZXAgPT4ge1xuICAgICAgY29uc3QgYWdlU2NvcmUgPSAxIC0gKERhdGUubm93KCkgLSBlcC5lbmRUaW1lKSAvICgxMDAwICogNjAgKiA2MCAqIDI0ICogMzY1KTsgLy8gMSB5ZWFyIGRlY2F5XG4gICAgICBjb25zdCBzdWNjZXNzU2NvcmUgPSBlcC5zdWNjZXNzID8gMC4zIDogMDtcbiAgICAgIGNvbnN0IHJldHJpZXZhbFNjb3JlID0gTWF0aC5taW4oZXAucmV0cmlldmFsQ291bnQgKiAwLjA1LCAwLjIpO1xuICAgICAgcmV0dXJuIHsgaWQ6IGVwLmlkLCBzY29yZTogYWdlU2NvcmUgKyBzdWNjZXNzU2NvcmUgKyByZXRyaWV2YWxTY29yZSB9O1xuICAgIH0pO1xuXG4gICAgc2NvcmVkLnNvcnQoKGEsIGIpID0+IGIuc2NvcmUgLSBhLnNjb3JlKTtcblxuICAgIC8vIEtlZXAgdG9wIGVwaXNvZGVzXG4gICAgY29uc3QgdG9LZWVwID0gbmV3IFNldChzY29yZWQuc2xpY2UoMCwgdGhpcy5jb25maWcubWF4RXBpc29kZXMpLm1hcChzID0+IHMuaWQpKTtcblxuICAgIGZvciAoY29uc3QgaWQgb2YgdGhpcy5lcGlzb2Rlcy5rZXlzKCkpIHtcbiAgICAgIGlmICghdG9LZWVwLmhhcyhpZCkpIHtcbiAgICAgICAgdGhpcy5lcGlzb2Rlcy5kZWxldGUoaWQpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgcHJ1bmVBcHByb2FjaGVzKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLmFwcHJvYWNoZXMuc2l6ZSA8PSB0aGlzLmNvbmZpZy5tYXhBcHByb2FjaGVzKSByZXR1cm47XG5cbiAgICAvLyBTY29yZSBhcHByb2FjaGVzIGJ5IHVzZWZ1bG5lc3NcbiAgICBjb25zdCBzY29yZWQgPSBBcnJheS5mcm9tKHRoaXMuYXBwcm9hY2hlcy5lbnRyaWVzKCkpLm1hcCgoW2tleSwgYXBdKSA9PiB7XG4gICAgICBjb25zdCByZWNlbmN5U2NvcmUgPSAxIC0gKERhdGUubm93KCkgLSBhcC51cGRhdGVkQXQpIC8gKDEwMDAgKiA2MCAqIDYwICogMjQgKiAxODApOyAvLyA2IG1vbnRoIGRlY2F5XG4gICAgICBjb25zdCB1c2VTY29yZSA9IE1hdGgubWluKGFwLnVzZUNvdW50ICogMC4xLCAwLjMpO1xuICAgICAgY29uc3Qgc3VjY2Vzc1Njb3JlID0gYXAuc3VjY2Vzc1JhdGUgKiAwLjQ7XG4gICAgICByZXR1cm4geyBrZXksIHNjb3JlOiByZWNlbmN5U2NvcmUgKyB1c2VTY29yZSArIHN1Y2Nlc3NTY29yZSB9O1xuICAgIH0pO1xuXG4gICAgc2NvcmVkLnNvcnQoKGEsIGIpID0+IGIuc2NvcmUgLSBhLnNjb3JlKTtcblxuICAgIC8vIEtlZXAgdG9wIGFwcHJvYWNoZXNcbiAgICBjb25zdCB0b0tlZXAgPSBuZXcgU2V0KHNjb3JlZC5zbGljZSgwLCB0aGlzLmNvbmZpZy5tYXhBcHByb2FjaGVzKS5tYXAocyA9PiBzLmtleSkpO1xuXG4gICAgZm9yIChjb25zdCBrZXkgb2YgdGhpcy5hcHByb2FjaGVzLmtleXMoKSkge1xuICAgICAgaWYgKCF0b0tlZXAuaGFzKGtleSkpIHtcbiAgICAgICAgdGhpcy5hcHByb2FjaGVzLmRlbGV0ZShrZXkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vIFBFUlNJU1RFTkNFXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgcHJpdmF0ZSBsb2FkKCk6IHZvaWQge1xuICAgIHRyeSB7XG4gICAgICBpZiAoIWV4aXN0c1N5bmModGhpcy5jb25maWcuc3RvcmFnZURpcikpIHtcbiAgICAgICAgbWtkaXJTeW5jKHRoaXMuY29uZmlnLnN0b3JhZ2VEaXIsIHsgcmVjdXJzaXZlOiB0cnVlIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGVwaXNvZGVzUGF0aCA9IGpvaW4odGhpcy5jb25maWcuc3RvcmFnZURpciwgJ2VwaXNvZGVzLmpzb24nKTtcbiAgICAgIGNvbnN0IGFwcHJvYWNoZXNQYXRoID0gam9pbih0aGlzLmNvbmZpZy5zdG9yYWdlRGlyLCAnYXBwcm9hY2hlcy5qc29uJyk7XG4gICAgICBjb25zdCBwcm9maWxlc1BhdGggPSBqb2luKHRoaXMuY29uZmlnLnN0b3JhZ2VEaXIsICdvcHRpbWl6YXRpb24tcHJvZmlsZXMuanNvbicpO1xuXG4gICAgICBpZiAoZXhpc3RzU3luYyhlcGlzb2Rlc1BhdGgpKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKHJlYWRGaWxlU3luYyhlcGlzb2Rlc1BhdGgsICd1dGYtOCcpKTtcbiAgICAgICAgZm9yIChjb25zdCBlcCBvZiBkYXRhLmVwaXNvZGVzIHx8IFtdKSB7XG4gICAgICAgICAgdGhpcy5lcGlzb2Rlcy5zZXQoZXAuaWQsIGVwKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoZXhpc3RzU3luYyhhcHByb2FjaGVzUGF0aCkpIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UocmVhZEZpbGVTeW5jKGFwcHJvYWNoZXNQYXRoLCAndXRmLTgnKSk7XG4gICAgICAgIGZvciAoY29uc3QgW2tleSwgYXBdIG9mIE9iamVjdC5lbnRyaWVzKGRhdGEuYXBwcm9hY2hlcyB8fCB7fSkpIHtcbiAgICAgICAgICB0aGlzLmFwcHJvYWNoZXMuc2V0KGtleSwgYXAgYXMgTGVhcm5lZEFwcHJvYWNoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoZXhpc3RzU3luYyhwcm9maWxlc1BhdGgpKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKHJlYWRGaWxlU3luYyhwcm9maWxlc1BhdGgsICd1dGYtOCcpKTtcbiAgICAgICAgZm9yIChjb25zdCBwcm9maWxlIG9mIGRhdGEucHJvZmlsZXMgfHwgW10pIHtcbiAgICAgICAgICB0aGlzLm9wdGltaXphdGlvblByb2ZpbGVzLnNldChwcm9maWxlLmNhdGVnb3J5IGFzIEVwaXNvZGVDYXRlZ29yeSwgcHJvZmlsZSBhcyBPcHRpbWl6YXRpb25Qcm9maWxlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gbG9hZCBlcGlzb2RpYyBtZW1vcnk6JywgZXJyb3IpO1xuICAgIH1cbiAgfVxuXG4gIHNhdmUoKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmRpcnR5KSByZXR1cm47XG5cbiAgICB0cnkge1xuICAgICAgbWtkaXJTeW5jKHRoaXMuY29uZmlnLnN0b3JhZ2VEaXIsIHsgcmVjdXJzaXZlOiB0cnVlIH0pO1xuXG4gICAgICBjb25zdCBlcGlzb2Rlc1BhdGggPSBqb2luKHRoaXMuY29uZmlnLnN0b3JhZ2VEaXIsICdlcGlzb2Rlcy5qc29uJyk7XG4gICAgICBjb25zdCBhcHByb2FjaGVzUGF0aCA9IGpvaW4odGhpcy5jb25maWcuc3RvcmFnZURpciwgJ2FwcHJvYWNoZXMuanNvbicpO1xuICAgICAgY29uc3QgcHJvZmlsZXNQYXRoID0gam9pbih0aGlzLmNvbmZpZy5zdG9yYWdlRGlyLCAnb3B0aW1pemF0aW9uLXByb2ZpbGVzLmpzb24nKTtcblxuICAgICAgd3JpdGVGaWxlU3luYyhlcGlzb2Rlc1BhdGgsIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgdmVyc2lvbjogMSxcbiAgICAgICAgdXBkYXRlZEF0OiBEYXRlLm5vdygpLFxuICAgICAgICBlcGlzb2RlczogQXJyYXkuZnJvbSh0aGlzLmVwaXNvZGVzLnZhbHVlcygpKSxcbiAgICAgIH0sIG51bGwsIDIpKTtcblxuICAgICAgd3JpdGVGaWxlU3luYyhhcHByb2FjaGVzUGF0aCwgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICB2ZXJzaW9uOiAxLFxuICAgICAgICB1cGRhdGVkQXQ6IERhdGUubm93KCksXG4gICAgICAgIGFwcHJvYWNoZXM6IE9iamVjdC5mcm9tRW50cmllcyh0aGlzLmFwcHJvYWNoZXMpLFxuICAgICAgfSwgbnVsbCwgMikpO1xuXG4gICAgICB3cml0ZUZpbGVTeW5jKHByb2ZpbGVzUGF0aCwgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICB2ZXJzaW9uOiAxLFxuICAgICAgICB1cGRhdGVkQXQ6IERhdGUubm93KCksXG4gICAgICAgIHByb2ZpbGVzOiBBcnJheS5mcm9tKHRoaXMub3B0aW1pemF0aW9uUHJvZmlsZXMudmFsdWVzKCkpLFxuICAgICAgfSwgbnVsbCwgMikpO1xuXG4gICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBzYXZlIGVwaXNvZGljIG1lbW9yeTonLCBlcnJvcik7XG4gICAgfVxuICB9XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gU1RBVFNcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBnZXRTdGF0cygpOiB7XG4gICAgdG90YWxFcGlzb2RlczogbnVtYmVyO1xuICAgIHN1Y2Nlc3NmdWxFcGlzb2RlczogbnVtYmVyO1xuICAgIHRvdGFsQXBwcm9hY2hlczogbnVtYmVyO1xuICAgIHRvdGFsUHJvZmlsZXM6IG51bWJlcjtcbiAgICBjYXRlZ29yeUNvdW50czogUmVjb3JkPHN0cmluZywgbnVtYmVyPjtcbiAgICB0b3BUYWdzOiBzdHJpbmdbXTtcbiAgICBwcm9maWxlU3VtbWFyeTogeyBjYXRlZ29yeTogc3RyaW5nOyBzdWNjZXNzUmF0ZTogbnVtYmVyOyBwcmVmZXJyZWRNb2RlOiBzdHJpbmcgfVtdO1xuICB9IHtcbiAgICBjb25zdCBjYXRlZ29yeUNvdW50czogUmVjb3JkPHN0cmluZywgbnVtYmVyPiA9IHt9O1xuICAgIGNvbnN0IHRhZ0NvdW50czogUmVjb3JkPHN0cmluZywgbnVtYmVyPiA9IHt9O1xuICAgIGxldCBzdWNjZXNzQ291bnQgPSAwO1xuXG4gICAgZm9yIChjb25zdCBlcGlzb2RlIG9mIHRoaXMuZXBpc29kZXMudmFsdWVzKCkpIHtcbiAgICAgIGNhdGVnb3J5Q291bnRzW2VwaXNvZGUuY2F0ZWdvcnldID0gKGNhdGVnb3J5Q291bnRzW2VwaXNvZGUuY2F0ZWdvcnldIHx8IDApICsgMTtcbiAgICAgIGlmIChlcGlzb2RlLnN1Y2Nlc3MpIHN1Y2Nlc3NDb3VudCsrO1xuICAgICAgZm9yIChjb25zdCB0YWcgb2YgZXBpc29kZS50YWdzKSB7XG4gICAgICAgIHRhZ0NvdW50c1t0YWddID0gKHRhZ0NvdW50c1t0YWddIHx8IDApICsgMTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCB0b3BUYWdzID0gT2JqZWN0LmVudHJpZXModGFnQ291bnRzKVxuICAgICAgLnNvcnQoKGEsIGIpID0+IGJbMV0gLSBhWzFdKVxuICAgICAgLnNsaWNlKDAsIDEwKVxuICAgICAgLm1hcCgoW3RhZ10pID0+IHRhZyk7XG5cbiAgICBjb25zdCBwcm9maWxlU3VtbWFyeSA9IEFycmF5LmZyb20odGhpcy5vcHRpbWl6YXRpb25Qcm9maWxlcy52YWx1ZXMoKSlcbiAgICAgIC5tYXAocCA9PiAoe1xuICAgICAgICBjYXRlZ29yeTogcC5jYXRlZ29yeSxcbiAgICAgICAgc3VjY2Vzc1JhdGU6IHAuc3VjY2Vzc0NvdW50ICsgcC5mYWlsdXJlQ291bnQgPiAwXG4gICAgICAgICAgPyBwLnN1Y2Nlc3NDb3VudCAvIChwLnN1Y2Nlc3NDb3VudCArIHAuZmFpbHVyZUNvdW50KVxuICAgICAgICAgIDogMCxcbiAgICAgICAgcHJlZmVycmVkTW9kZTogcC5wcmVmZXJyZWRNb2RlLFxuICAgICAgfSkpXG4gICAgICAuc29ydCgoYSwgYikgPT4gYi5zdWNjZXNzUmF0ZSAtIGEuc3VjY2Vzc1JhdGUpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHRvdGFsRXBpc29kZXM6IHRoaXMuZXBpc29kZXMuc2l6ZSxcbiAgICAgIHN1Y2Nlc3NmdWxFcGlzb2Rlczogc3VjY2Vzc0NvdW50LFxuICAgICAgdG90YWxBcHByb2FjaGVzOiB0aGlzLmFwcHJvYWNoZXMuc2l6ZSxcbiAgICAgIHRvdGFsUHJvZmlsZXM6IHRoaXMub3B0aW1pemF0aW9uUHJvZmlsZXMuc2l6ZSxcbiAgICAgIGNhdGVnb3J5Q291bnRzLFxuICAgICAgdG9wVGFncyxcbiAgICAgIHByb2ZpbGVTdW1tYXJ5LFxuICAgIH07XG4gIH1cbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gU0lOR0xFVE9OICYgRkFDVE9SWVxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5sZXQgZGVmYXVsdEluc3RhbmNlOiBFcGlzb2RpY01lbW9yeSB8IG51bGwgPSBudWxsO1xuXG4vKipcbiAqIEdldCBvciBjcmVhdGUgdGhlIGRlZmF1bHQgZXBpc29kaWMgbWVtb3J5IGluc3RhbmNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRFcGlzb2RpY01lbW9yeShjb25maWc/OiBQYXJ0aWFsPEVwaXNvZGljTWVtb3J5Q29uZmlnPik6IEVwaXNvZGljTWVtb3J5IHtcbiAgaWYgKCFkZWZhdWx0SW5zdGFuY2UpIHtcbiAgICBkZWZhdWx0SW5zdGFuY2UgPSBuZXcgRXBpc29kaWNNZW1vcnkoY29uZmlnKTtcbiAgfVxuICByZXR1cm4gZGVmYXVsdEluc3RhbmNlO1xufVxuXG4vKipcbiAqIENyZWF0ZSBhIG5ldyBlcGlzb2RpYyBtZW1vcnkgaW5zdGFuY2Ugd2l0aCBjdXN0b20gY29uZmlnXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVFcGlzb2RpY01lbW9yeShjb25maWc6IFBhcnRpYWw8RXBpc29kaWNNZW1vcnlDb25maWc+ID0ge30pOiBFcGlzb2RpY01lbW9yeSB7XG4gIHJldHVybiBuZXcgRXBpc29kaWNNZW1vcnkoY29uZmlnKTtcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFnQkEsSUFBQUEsT0FBQSxHQUFBQyxPQUFBO0FBQ0EsSUFBQUMsU0FBQSxHQUFBRCxPQUFBO0FBQ0EsSUFBQUUsT0FBQSxHQUFBRixPQUFBO0FBbEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFPQTtBQUNBO0FBQ0E7O0FBbUhBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQWlDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNRyxzQkFBcUYsR0FBRztFQUM1RkMsT0FBTyxFQUFFO0lBQ1BDLGdCQUFnQixFQUFFLElBQUk7SUFDdEJDLFdBQVcsRUFBRSxJQUFJO0lBQ2pCQyxjQUFjLEVBQUUsSUFBSTtJQUNwQkMsV0FBVyxFQUFFLElBQUk7SUFDakJDLFdBQVcsRUFBRSxJQUFJO0lBQ2pCQyxjQUFjLEVBQUUsSUFBSTtJQUNwQkMsVUFBVSxFQUFFO0VBQ2QsQ0FBQztFQUNEQyxXQUFXLEVBQUU7SUFDWFAsZ0JBQWdCLEVBQUUsSUFBSTtJQUN0QkMsV0FBVyxFQUFFLElBQUk7SUFDakJDLGNBQWMsRUFBRSxJQUFJO0lBQ3BCQyxXQUFXLEVBQUUsSUFBSTtJQUNqQkMsV0FBVyxFQUFFLElBQUk7SUFDakJDLGNBQWMsRUFBRSxJQUFJO0lBQ3BCQyxVQUFVLEVBQUU7RUFDZCxDQUFDO0VBQ0RFLFFBQVEsRUFBRTtJQUNSUixnQkFBZ0IsRUFBRSxJQUFJO0lBQ3RCQyxXQUFXLEVB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