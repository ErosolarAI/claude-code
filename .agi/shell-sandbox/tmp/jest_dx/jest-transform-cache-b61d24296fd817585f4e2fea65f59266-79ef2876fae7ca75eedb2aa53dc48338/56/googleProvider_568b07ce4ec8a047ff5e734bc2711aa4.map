{"version":3,"names":["cov_1y5frwd2w4","actualCoverage","GoogleGenAI","logDebug","RECOVERABLE_ERROR_PATTERNS","s","isRecoverableError","error","f","Error","b","message","toLowerCase","errorName","name","allText","some","pattern","includes","supportsThinking","model","lowerModel","isGemini3Pro","GoogleGenAIProvider","constructor","options","client","apiKey","id","providerId","temperature","maxOutputTokens","maxRetries","thinking","undefined","thinkingLevel","sleep","ms","Promise","resolve","setTimeout","getBackoffDelay","attempt","baseDelay","maxDelay","delay","Math","min","pow","random","executeWithRetry","operation","operationName","lastError","String","round","generate","messages","tools","contents","systemInstruction","mapConversation","config","mappedTools","mapTools","length","enabled","thinkingConfig","includeThoughts","budgetTokens","response","models","generateContent","createEmptyUserContent","Object","keys","usage","mapUsage","usageMetadata","toolCalls","mapFunctionCalls","functionCalls","parseError","content","extractTextFromResponse","type","generateStream","stream","generateContentStream","pendingFunctionCalls","chunk","candidates","parts","part","thought","text","functionCall","fc","push","finishReason","toolCall","arguments","toRecord","args","cachedModelInfo","getModelInfo","modelName","startsWith","modelInfo","get","contextWindow","inputTokenLimit","outputTokenLimit","sanitizeMessageSequence","sanitized","pendingToolCallIds","Set","role","tc","add","toolCallId","has","delete","slice","clear","sanitizedMessages","systemPrompts","trim","mapAssistantMessage","mapToolMessage","join","call","functionResponse","parseToolResponse","trimmed","output","parsed","JSON","parse","Array","isArray","calls","filter","Boolean","map","functionDeclarations","tool","description","parametersJsonSchema","parameters","properties","metadata","inputTokens","promptTokenCount","outputTokens","candidatesTokenCount","totalTokens","totalTokenCount","value","isPlainRecord","textParts"],"sources":["googleProvider.ts"],"sourcesContent":["import {\n  GoogleGenAI,\n  type Content,\n  type GenerateContentConfig,\n  type GenerateContentResponse,\n  type GenerateContentResponseUsageMetadata,\n  type Tool,\n  type FunctionCall,\n} from '@google/genai';\nimport type {\n  AssistantMessage,\n  ConversationMessage,\n  LLMProvider,\n  ProviderId,\n  ProviderModelInfo,\n  ProviderResponse,\n  ProviderToolDefinition,\n  ProviderUsage,\n  ToolCallRequest,\n  ToolMessage,\n  StreamChunk,\n  ThinkingBudgetConfig,\n  ThinkingLevel,\n} from '../core/types.js';\nimport { logDebug } from '../utils/debugLogger.js';\n\n// ============================================================================\n// Error Recovery Constants\n// ============================================================================\n\nconst RECOVERABLE_ERROR_PATTERNS = [\n  'premature close',\n  'premature end',\n  'unexpected end',\n  'aborted',\n  'fetcherror',\n  'invalid response body',\n  'gunzip',\n  'decompress',\n  'econnreset',\n  'econnrefused',\n  'epipe',\n  'socket hang up',\n  'network',\n  'timeout',\n  'rate limit',\n  '429',\n  '500',\n  '502',\n  '503',\n  '504',\n] as const;\n\nfunction isRecoverableError(error: unknown): boolean {\n  if (!(error instanceof Error)) return false;\n  const message = error.message.toLowerCase();\n  const errorName = error.name?.toLowerCase() ?? '';\n  const allText = `${message} ${errorName}`;\n  return RECOVERABLE_ERROR_PATTERNS.some(pattern => allText.includes(pattern));\n}\n\ninterface GoogleGenAIProviderOptions {\n  apiKey: string;\n  model: string;\n  providerId?: ProviderId;\n  temperature?: number;\n  maxOutputTokens?: number;\n  /** Maximum retries for transient errors (default: 3) */\n  maxRetries?: number;\n  /** Request timeout in milliseconds (default: 120000) */\n  timeout?: number;\n  /** Thinking configuration for Gemini 2.5/3 models */\n  thinking?: ThinkingBudgetConfig;\n  /** Thinking level for Gemini 3 Pro (low/medium/high) */\n  thinkingLevel?: ThinkingLevel;\n}\n\n/**\n * Check if a model supports thinking features\n * Gemini 2.5 and 3 series models support thinking\n */\nfunction supportsThinking(model: string): boolean {\n  const lowerModel = model.toLowerCase();\n  return (\n    lowerModel.includes('gemini-2.5') ||\n    lowerModel.includes('gemini-3') ||\n    lowerModel.includes('2.5-pro') ||\n    lowerModel.includes('2.5-flash') ||\n    lowerModel.includes('3-pro')\n  );\n}\n\n/**\n * Check if a model is Gemini 3 Pro (supports thinkingLevel)\n */\nfunction isGemini3Pro(model: string): boolean {\n  const lowerModel = model.toLowerCase();\n  return lowerModel.includes('gemini-3') && lowerModel.includes('pro');\n}\n\nexport class GoogleGenAIProvider implements LLMProvider {\n  readonly id: ProviderId;\n  readonly model: string;\n  private readonly client: GoogleGenAI;\n  private readonly temperature?: number;\n  private readonly maxOutputTokens?: number;\n  private readonly maxRetries: number;\n  private readonly thinking?: ThinkingBudgetConfig;\n  private readonly thinkingLevel?: ThinkingLevel;\n\n  constructor(options: GoogleGenAIProviderOptions) {\n    this.client = new GoogleGenAI({\n      apiKey: options.apiKey,\n    });\n    this.id = options.providerId ?? 'google';\n    this.model = options.model;\n    this.temperature = options.temperature;\n    this.maxOutputTokens = options.maxOutputTokens;\n    this.maxRetries = options.maxRetries ?? 3;\n    // Only enable thinking for models that support it\n    this.thinking = supportsThinking(options.model) ? options.thinking : undefined;\n    this.thinkingLevel = isGemini3Pro(options.model) ? options.thinkingLevel : undefined;\n  }\n\n  /**\n   * Sleep for a given number of milliseconds\n   */\n  private sleep(ms: number): Promise<void> {\n    return new Promise(resolve => setTimeout(resolve, ms));\n  }\n\n  /**\n   * Calculate exponential backoff delay with jitter\n   */\n  private getBackoffDelay(attempt: number, baseDelay = 1000, maxDelay = 30000): number {\n    const delay = Math.min(baseDelay * Math.pow(2, attempt), maxDelay);\n    return delay + Math.random() * delay * 0.1;\n  }\n\n  /**\n   * Execute request with retry logic for transient errors\n   */\n  private async executeWithRetry<T>(\n    operation: () => Promise<T>,\n    operationName: string\n  ): Promise<T> {\n    let lastError: Error | undefined;\n\n    for (let attempt = 0; attempt <= this.maxRetries; attempt++) {\n      try {\n        return await operation();\n      } catch (error) {\n        lastError = error instanceof Error ? error : new Error(String(error));\n\n        if (isRecoverableError(error) && attempt < this.maxRetries) {\n          const delay = this.getBackoffDelay(attempt);\n          logDebug(\n            `[${this.id}] ${operationName} failed (attempt ${attempt + 1}/${this.maxRetries + 1}): ` +\n            `${lastError.message}. Retrying in ${Math.round(delay)}ms...`\n          );\n          await this.sleep(delay);\n          continue;\n        }\n\n        throw error;\n      }\n    }\n\n    throw lastError;\n  }\n\n  async generate(messages: ConversationMessage[], tools: ProviderToolDefinition[]): Promise<ProviderResponse> {\n    return this.executeWithRetry(async () => {\n      const { contents, systemInstruction } = mapConversation(messages);\n      const config: GenerateContentConfig = {};\n\n      if (systemInstruction) {\n        config.systemInstruction = systemInstruction;\n      }\n      if (typeof this.temperature === 'number') {\n        config.temperature = this.temperature;\n      }\n      if (typeof this.maxOutputTokens === 'number') {\n        config.maxOutputTokens = this.maxOutputTokens;\n      }\n\n      const mappedTools = mapTools(tools);\n      if (mappedTools.length > 0) {\n        config.tools = mappedTools;\n      }\n\n      // Add thinking configuration for Gemini 2.5/3 models\n      if (this.thinking?.enabled || this.thinkingLevel) {\n        const thinkingConfig: Record<string, unknown> = {\n          includeThoughts: true,\n        };\n\n        // Set thinking budget for 2.5 models\n        if (this.thinking?.budgetTokens !== undefined) {\n          thinkingConfig['thinkingBudget'] = this.thinking.budgetTokens;\n        } else if (this.thinking?.enabled) {\n          // Default to dynamic thinking (-1) if enabled without specific budget\n          thinkingConfig['thinkingBudget'] = -1;\n        }\n\n        // Set thinking level for Gemini 3 Pro\n        if (this.thinkingLevel) {\n          thinkingConfig['thinkingLevel'] = this.thinkingLevel;\n        }\n\n        (config as Record<string, unknown>)['thinkingConfig'] = thinkingConfig;\n      }\n\n      const response = await this.client.models.generateContent({\n        model: this.model,\n        contents: contents.length ? contents : createEmptyUserContent(),\n        config: Object.keys(config).length ? config : undefined,\n      });\n\n      const usage = mapUsage(response.usageMetadata);\n\n      // Safely extract tool calls with error recovery\n      let toolCalls: ToolCallRequest[] = [];\n      try {\n        toolCalls = mapFunctionCalls(response.functionCalls ?? []);\n      } catch (parseError) {\n        logDebug(\n          `[${this.id}] Failed to parse function calls, recovering: ` +\n          `${parseError instanceof Error ? parseError.message : String(parseError)}`\n        );\n      }\n\n      // Extract text content manually to avoid SDK warning when function calls are present\n      // The SDK's response.text getter logs a warning when there are non-text parts\n      const content = extractTextFromResponse(response);\n\n      if (toolCalls.length > 0) {\n        return {\n          type: 'tool_calls',\n          toolCalls,\n          content,\n          usage,\n        };\n      }\n\n      return {\n        type: 'message',\n        content,\n        usage,\n      };\n    }, 'generate');\n  }\n\n  /**\n   * Stream generation with thinking support for Gemini 2.5/3 models\n   * Streams both content and thinking/reasoning chunks\n   */\n  async *generateStream(\n    messages: ConversationMessage[],\n    tools: ProviderToolDefinition[]\n  ): AsyncIterableIterator<StreamChunk> {\n    const { contents, systemInstruction } = mapConversation(messages);\n    const config: GenerateContentConfig = {};\n\n    if (systemInstruction) {\n      config.systemInstruction = systemInstruction;\n    }\n    if (typeof this.temperature === 'number') {\n      config.temperature = this.temperature;\n    }\n    if (typeof this.maxOutputTokens === 'number') {\n      config.maxOutputTokens = this.maxOutputTokens;\n    }\n\n    const mappedTools = mapTools(tools);\n    if (mappedTools.length > 0) {\n      config.tools = mappedTools;\n    }\n\n    // Add thinking configuration for Gemini 2.5/3 models\n    if (this.thinking?.enabled || this.thinkingLevel) {\n      const thinkingConfig: Record<string, unknown> = {\n        includeThoughts: true,\n      };\n\n      if (this.thinking?.budgetTokens !== undefined) {\n        thinkingConfig['thinkingBudget'] = this.thinking.budgetTokens;\n      } else if (this.thinking?.enabled) {\n        thinkingConfig['thinkingBudget'] = -1;\n      }\n\n      if (this.thinkingLevel) {\n        thinkingConfig['thinkingLevel'] = this.thinkingLevel;\n      }\n\n      (config as Record<string, unknown>)['thinkingConfig'] = thinkingConfig;\n    }\n\n    // Use generateContentStream for streaming\n    const stream = await this.client.models.generateContentStream({\n      model: this.model,\n      contents: contents.length ? contents : createEmptyUserContent(),\n      config: Object.keys(config).length ? config : undefined,\n    });\n\n    // Track accumulated function calls\n    const pendingFunctionCalls: FunctionCall[] = [];\n\n    for await (const chunk of stream) {\n      // Process candidates and their parts\n      const candidates = chunk.candidates;\n      if (!candidates || candidates.length === 0) continue;\n\n      const content = candidates[0]?.content;\n      if (!content?.parts) continue;\n\n      for (const part of content.parts) {\n        // Handle thought/reasoning parts\n        if ('thought' in part && part.thought === true && 'text' in part) {\n          yield {\n            type: 'reasoning',\n            content: (part as { text: string }).text,\n          };\n        }\n        // Handle regular text parts\n        else if ('text' in part && typeof part.text === 'string') {\n          // Only yield if it's not a thought part (checked above)\n          if (!('thought' in part) || part.thought !== true) {\n            yield {\n              type: 'content',\n              content: part.text,\n            };\n          }\n        }\n        // Handle function calls\n        else if ('functionCall' in part && part.functionCall) {\n          const fc = part.functionCall as FunctionCall;\n          pendingFunctionCalls.push(fc);\n        }\n      }\n\n      // Check for finish reason to emit tool calls and usage\n      const finishReason = candidates[0]?.finishReason;\n      if (finishReason) {\n        // Emit accumulated function calls\n        for (const fc of pendingFunctionCalls) {\n          yield {\n            type: 'tool_call',\n            toolCall: {\n              id: fc.id || fc.name || 'function_call',\n              name: fc.name ?? 'function_call',\n              arguments: toRecord(fc.args),\n            },\n          };\n        }\n\n        // Emit usage if available\n        if (chunk.usageMetadata) {\n          const usage = mapUsage(chunk.usageMetadata);\n          if (usage) {\n            yield { type: 'usage', usage };\n          }\n        }\n\n        yield { type: 'done' };\n      }\n    }\n  }\n\n  private cachedModelInfo: ProviderModelInfo | null = null;\n\n  /**\n   * Fetch model info from Google Gemini API\n   * Returns context window and token limits from the real API\n   */\n  async getModelInfo(): Promise<ProviderModelInfo | null> {\n    if (this.cachedModelInfo) {\n      return this.cachedModelInfo;\n    }\n\n    try {\n      // Use the Gemini models API to get real model info\n      // The model name needs to be prefixed with \"models/\" for the API\n      const modelName = this.model.startsWith('models/') ? this.model : `models/${this.model}`;\n      const modelInfo = await this.client.models.get({ model: modelName });\n\n      if (modelInfo) {\n        // Gemini API returns inputTokenLimit and outputTokenLimit\n        const contextWindow = modelInfo.inputTokenLimit;\n        const maxOutputTokens = modelInfo.outputTokenLimit;\n\n        if (contextWindow) {\n          this.cachedModelInfo = {\n            id: this.model,\n            contextWindow,\n            maxOutputTokens,\n            inputTokenLimit: contextWindow,\n            outputTokenLimit: maxOutputTokens,\n          };\n          return this.cachedModelInfo;\n        }\n      }\n    } catch (error) {\n      // Models API may not be available for all models\n      // Fall through to return null\n      const message = error instanceof Error ? error.message : String(error);\n      if (!message.includes('404') && !message.includes('not found')) {\n        // Log unexpected errors but don't fail\n        logDebug(`Failed to fetch model info for ${this.model}:`, message);\n      }\n    }\n\n    return null;\n  }\n}\n\n/**\n * Validate and sanitize message sequence to ensure tool messages have preceding tool_calls.\n * Gemini API also requires function responses to follow function calls.\n */\nfunction sanitizeMessageSequence(messages: ConversationMessage[]): ConversationMessage[] {\n  const sanitized: ConversationMessage[] = [];\n  const pendingToolCallIds = new Set<string>();\n\n  for (const message of messages) {\n    if (message.role === 'assistant' && message.toolCalls?.length) {\n      // Track tool call IDs that need responses\n      for (const tc of message.toolCalls) {\n        if (tc.id) pendingToolCallIds.add(tc.id);\n      }\n      sanitized.push(message);\n    } else if (message.role === 'tool') {\n      // Only include tool messages if we have a pending tool call for them\n      const toolCallId = message.toolCallId;\n      if (toolCallId && pendingToolCallIds.has(toolCallId)) {\n        pendingToolCallIds.delete(toolCallId);\n        sanitized.push(message);\n      } else {\n        // ORPHANED TOOL MESSAGE - skip it to prevent API error\n        logDebug(`[GoogleProvider] Skipping orphaned tool message (no preceding tool_call): ${toolCallId?.slice(0, 20) || 'no-id'}`);\n      }\n    } else {\n      // system, user, assistant without tool_calls - pass through\n      if (message.role === 'user') {\n        pendingToolCallIds.clear();\n      }\n      sanitized.push(message);\n    }\n  }\n\n  return sanitized;\n}\n\nfunction mapConversation(messages: ConversationMessage[]): { contents: Content[]; systemInstruction?: string } {\n  // CRITICAL: Sanitize message sequence to prevent orphaned tool messages\n  const sanitizedMessages = sanitizeMessageSequence(messages);\n\n  const contents: Content[] = [];\n  const systemPrompts: string[] = [];\n\n  for (const message of sanitizedMessages) {\n    switch (message.role) {\n      case 'system': {\n        if (message.content.trim()) {\n          systemPrompts.push(message.content.trim());\n        }\n        break;\n      }\n      case 'user': {\n        contents.push({\n          role: 'user',\n          parts: [{ text: message.content }],\n        });\n        break;\n      }\n      case 'assistant': {\n        contents.push(mapAssistantMessage(message));\n        break;\n      }\n      case 'tool': {\n        const content = mapToolMessage(message);\n        if (content) {\n          contents.push(content);\n        }\n        break;\n      }\n      default:\n        break;\n    }\n  }\n\n  return {\n    contents,\n    systemInstruction: systemPrompts.length ? systemPrompts.join('\\n\\n') : undefined,\n  };\n}\n\nfunction mapAssistantMessage(message: AssistantMessage): Content {\n  const parts: NonNullable<Content['parts']> = [];\n  const text = message.content.trim();\n  if (text) {\n    parts.push({ text });\n  }\n\n  for (const call of message.toolCalls ?? []) {\n    parts.push({\n      functionCall: {\n        id: call.id || undefined,\n        name: call.name,\n        args: toRecord(call.arguments),\n      },\n    });\n  }\n\n  return {\n    role: 'model',\n    parts: parts.length ? parts : [{ text: '' }],\n  };\n}\n\nfunction mapToolMessage(message: ToolMessage): Content | null {\n  if (!message.toolCallId) {\n    return null;\n  }\n\n  return {\n    role: 'user',\n    parts: [\n      {\n        functionResponse: {\n          id: message.toolCallId,\n          name: message.name,\n          response: parseToolResponse(message.content),\n        },\n      },\n    ],\n  };\n}\n\nfunction parseToolResponse(content: string): Record<string, unknown> {\n  const trimmed = content.trim();\n  if (!trimmed) {\n    return { output: '' };\n  }\n\n  try {\n    const parsed = JSON.parse(trimmed);\n    if (parsed && typeof parsed === 'object' && !Array.isArray(parsed)) {\n      return parsed as Record<string, unknown>;\n    }\n  } catch {\n    // Non-JSON content; fall back to raw output.\n  }\n\n  return { output: content };\n}\n\nfunction mapFunctionCalls(calls: FunctionCall[]): ToolCallRequest[] {\n  return calls\n    .filter((call) => Boolean(call.name))\n    .map((call) => ({\n      id: call.id || call.name || 'function_call',\n      name: call.name ?? 'function_call',\n      arguments: toRecord(call.args),\n    }));\n}\n\nfunction createEmptyUserContent(): Content[] {\n  return [\n    {\n      role: 'user',\n      parts: [{ text: '' }],\n    },\n  ];\n}\n\nfunction mapTools(tools: ProviderToolDefinition[]): Tool[] {\n  if (!tools.length) {\n    return [];\n  }\n\n  return [\n    {\n      functionDeclarations: tools.map((tool) => ({\n        name: tool.name,\n        description: tool.description,\n        parametersJsonSchema: tool.parameters ?? { type: 'object', properties: {} },\n      })),\n    },\n  ];\n}\n\nfunction mapUsage(metadata?: GenerateContentResponseUsageMetadata | null): ProviderUsage | null {\n  if (!metadata) {\n    return null;\n  }\n  return {\n    inputTokens: metadata.promptTokenCount ?? undefined,\n    outputTokens: metadata.candidatesTokenCount ?? undefined,\n    totalTokens: metadata.totalTokenCount ?? undefined,\n  };\n}\n\nfunction toRecord(value: unknown): Record<string, unknown> {\n  if (isPlainRecord(value)) {\n    return value;\n  }\n  if (typeof value === 'string') {\n    const trimmed = value.trim();\n    if (!trimmed) {\n      return {};\n    }\n    try {\n      const parsed = JSON.parse(trimmed);\n      return isPlainRecord(parsed) ? parsed : {};\n    } catch {\n      return {};\n    }\n  }\n  return {};\n}\n\nfunction isPlainRecord(value: unknown): value is Record<string, unknown> {\n  return typeof value === 'object' && value !== null && !Array.isArray(value);\n}\n\n/**\n * Extract text content from response without using the SDK's text getter.\n * This avoids the SDK warning \"there are non-text parts functionCall in the response\"\n * which is logged when accessing response.text and the response contains function calls.\n */\nfunction extractTextFromResponse(response: GenerateContentResponse): string {\n  const candidates = response.candidates;\n  if (!candidates || candidates.length === 0) {\n    return '';\n  }\n\n  const content = candidates[0]?.content;\n  if (!content?.parts) {\n    return '';\n  }\n\n  // Extract only text parts, ignoring function calls and other part types\n  const textParts = content.parts\n    .filter((part): part is { text: string } => 'text' in part && typeof part.text === 'string')\n    .map(part => part.text);\n\n  return textParts.join('').trim();\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}