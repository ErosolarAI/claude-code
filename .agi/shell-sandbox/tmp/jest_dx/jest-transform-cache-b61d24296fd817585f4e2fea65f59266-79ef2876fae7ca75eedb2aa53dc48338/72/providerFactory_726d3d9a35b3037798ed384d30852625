e19e2f57213fd1e444b5bc6aec5c54bd
/* istanbul ignore next */
function cov_drx2u7c4z() {
  var path = "/Users/bo/GitHub/agi-core-CLI-coding/src/providers/providerFactory.ts";
  var hash = "aca85b9a318d568c64434267153f08d5c55bd600";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/Users/bo/GitHub/agi-core-CLI-coding/src/providers/providerFactory.ts",
    statementMap: {
      "0": {
        start: {
          line: 29,
          column: 17
        },
        end: {
          line: 29,
          column: 55
        }
      },
      "1": {
        start: {
          line: 32,
          column: 2
        },
        end: {
          line: 34,
          column: 3
        }
      },
      "2": {
        start: {
          line: 33,
          column: 4
        },
        end: {
          line: 33,
          column: 52
        }
      },
      "3": {
        start: {
          line: 35,
          column: 2
        },
        end: {
          line: 37,
          column: 3
        }
      },
      "4": {
        start: {
          line: 36,
          column: 4
        },
        end: {
          line: 36,
          column: 63
        }
      },
      "5": {
        start: {
          line: 38,
          column: 2
        },
        end: {
          line: 38,
          column: 28
        }
      },
      "6": {
        start: {
          line: 42,
          column: 18
        },
        end: {
          line: 42,
          column: 47
        }
      },
      "7": {
        start: {
          line: 43,
          column: 2
        },
        end: {
          line: 46,
          column: 3
        }
      },
      "8": {
        start: {
          line: 44,
          column: 18
        },
        end: {
          line: 44,
          column: 63
        }
      },
      "9": {
        start: {
          line: 45,
          column: 4
        },
        end: {
          line: 45,
          column: 114
        }
      },
      "10": {
        start: {
          line: 47,
          column: 2
        },
        end: {
          line: 47,
          column: 25
        }
      },
      "11": {
        start: {
          line: 51,
          column: 2
        },
        end: {
          line: 51,
          column: 37
        }
      },
      "12": {
        start: {
          line: 55,
          column: 2
        },
        end: {
          line: 55,
          column: 26
        }
      }
    },
    fnMap: {
      "0": {
        name: "registerProvider",
        decl: {
          start: {
            line: 31,
            column: 16
          },
          end: {
            line: 31,
            column: 32
          }
        },
        loc: {
          start: {
            line: 31,
            column: 120
          },
          end: {
            line: 39,
            column: 1
          }
        },
        line: 31
      },
      "1": {
        name: "createProvider",
        decl: {
          start: {
            line: 41,
            column: 16
          },
          end: {
            line: 41,
            column: 30
          }
        },
        loc: {
          start: {
            line: 41,
            column: 68
          },
          end: {
            line: 48,
            column: 1
          }
        },
        line: 41
      },
      "2": {
        name: "listRegisteredProviders",
        decl: {
          start: {
            line: 50,
            column: 16
          },
          end: {
            line: 50,
            column: 39
          }
        },
        loc: {
          start: {
            line: 50,
            column: 56
          },
          end: {
            line: 52,
            column: 1
          }
        },
        line: 50
      },
      "3": {
        name: "hasProvider",
        decl: {
          start: {
            line: 54,
            column: 16
          },
          end: {
            line: 54,
            column: 27
          }
        },
        loc: {
          start: {
            line: 54,
            column: 53
          },
          end: {
            line: 56,
            column: 1
          }
        },
        line: 54
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 31,
            column: 75
          },
          end: {
            line: 31,
            column: 112
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 31,
            column: 110
          },
          end: {
            line: 31,
            column: 112
          }
        }],
        line: 31
      },
      "1": {
        loc: {
          start: {
            line: 32,
            column: 2
          },
          end: {
            line: 34,
            column: 3
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 32,
            column: 2
          },
          end: {
            line: 34,
            column: 3
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 32
      },
      "2": {
        loc: {
          start: {
            line: 35,
            column: 2
          },
          end: {
            line: 37,
            column: 3
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 35,
            column: 2
          },
          end: {
            line: 37,
            column: 3
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 35
      },
      "3": {
        loc: {
          start: {
            line: 35,
            column: 6
          },
          end: {
            line: 35,
            column: 43
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 35,
            column: 6
          },
          end: {
            line: 35,
            column: 22
          }
        }, {
          start: {
            line: 35,
            column: 26
          },
          end: {
            line: 35,
            column: 43
          }
        }],
        line: 35
      },
      "4": {
        loc: {
          start: {
            line: 43,
            column: 2
          },
          end: {
            line: 46,
            column: 3
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 43,
            column: 2
          },
          end: {
            line: 46,
            column: 3
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 43
      },
      "5": {
        loc: {
          start: {
            line: 45,
            column: 94
          },
          end: {
            line: 45,
            column: 109
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 45,
            column: 94
          },
          end: {
            line: 45,
            column: 99
          }
        }, {
          start: {
            line: 45,
            column: 103
          },
          end: {
            line: 45,
            column: 109
          }
        }],
        line: 45
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0
    },
    b: {
      "0": [0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0]
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "aca85b9a318d568c64434267153f08d5c55bd600"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_drx2u7c4z = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_drx2u7c4z();
const registry =
/* istanbul ignore next */
(cov_drx2u7c4z().s[0]++, new Map());
export function registerProvider(id, factory, options =
/* istanbul ignore next */
(cov_drx2u7c4z().b[0][0]++, {})) {
  /* istanbul ignore next */
  cov_drx2u7c4z().f[0]++;
  cov_drx2u7c4z().s[1]++;
  if (!id?.trim()) {
    /* istanbul ignore next */
    cov_drx2u7c4z().b[1][0]++;
    cov_drx2u7c4z().s[2]++;
    throw new Error('Provider id cannot be blank.');
  } else
  /* istanbul ignore next */
  {
    cov_drx2u7c4z().b[1][1]++;
  }
  cov_drx2u7c4z().s[3]++;
  if (
  /* istanbul ignore next */
  (cov_drx2u7c4z().b[3][0]++, registry.has(id)) &&
  /* istanbul ignore next */
  (cov_drx2u7c4z().b[3][1]++, !options.override)) {
    /* istanbul ignore next */
    cov_drx2u7c4z().b[2][0]++;
    cov_drx2u7c4z().s[4]++;
    throw new Error(`Provider "${id}" is already registered.`);
  } else
  /* istanbul ignore next */
  {
    cov_drx2u7c4z().b[2][1]++;
  }
  cov_drx2u7c4z().s[5]++;
  registry.set(id, factory);
}
export function createProvider(config) {
  /* istanbul ignore next */
  cov_drx2u7c4z().f[1]++;
  const factory =
  /* istanbul ignore next */
  (cov_drx2u7c4z().s[6]++, registry.get(config.provider));
  /* istanbul ignore next */
  cov_drx2u7c4z().s[7]++;
  if (!factory) {
    /* istanbul ignore next */
    cov_drx2u7c4z().b[4][0]++;
    const known =
    /* istanbul ignore next */
    (cov_drx2u7c4z().s[8]++, Array.from(registry.keys()).sort().join(', '));
    /* istanbul ignore next */
    cov_drx2u7c4z().s[9]++;
    throw new Error(`Provider "${config.provider}" is not registered. Registered providers: ${
    /* istanbul ignore next */
    (cov_drx2u7c4z().b[5][0]++, known) ||
    /* istanbul ignore next */
    (cov_drx2u7c4z().b[5][1]++, 'none')}.`);
  } else
  /* istanbul ignore next */
  {
    cov_drx2u7c4z().b[4][1]++;
  }
  cov_drx2u7c4z().s[10]++;
  return factory(config);
}
export function listRegisteredProviders() {
  /* istanbul ignore next */
  cov_drx2u7c4z().f[2]++;
  cov_drx2u7c4z().s[11]++;
  return Array.from(registry.keys());
}
export function hasProvider(id) {
  /* istanbul ignore next */
  cov_drx2u7c4z().f[3]++;
  cov_drx2u7c4z().s[12]++;
  return registry.has(id);
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfZHJ4MnU3YzR6IiwiYWN0dWFsQ292ZXJhZ2UiLCJyZWdpc3RyeSIsInMiLCJNYXAiLCJyZWdpc3RlclByb3ZpZGVyIiwiaWQiLCJmYWN0b3J5Iiwib3B0aW9ucyIsImIiLCJmIiwidHJpbSIsIkVycm9yIiwiaGFzIiwib3ZlcnJpZGUiLCJzZXQiLCJjcmVhdGVQcm92aWRlciIsImNvbmZpZyIsImdldCIsInByb3ZpZGVyIiwia25vd24iLCJBcnJheSIsImZyb20iLCJrZXlzIiwic29ydCIsImpvaW4iLCJsaXN0UmVnaXN0ZXJlZFByb3ZpZGVycyIsImhhc1Byb3ZpZGVyIl0sInNvdXJjZXMiOlsicHJvdmlkZXJGYWN0b3J5LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHtcbiAgTExNUHJvdmlkZXIsXG4gIFByb3ZpZGVySWQsXG4gIFJlYXNvbmluZ0VmZm9ydExldmVsLFxuICBUZXh0VmVyYm9zaXR5TGV2ZWwsXG4gIFRoaW5raW5nQnVkZ2V0Q29uZmlnLFxuICBUaGlua2luZ0xldmVsLFxufSBmcm9tICcuLi9jb3JlL3R5cGVzLmpzJztcblxuZXhwb3J0IGludGVyZmFjZSBQcm92aWRlckNvbmZpZyB7XG4gIHByb3ZpZGVyOiBQcm92aWRlcklkO1xuICBtb2RlbDogc3RyaW5nO1xuICB0ZW1wZXJhdHVyZT86IG51bWJlcjtcbiAgbWF4VG9rZW5zPzogbnVtYmVyO1xuICByZWFzb25pbmdFZmZvcnQ/OiBSZWFzb25pbmdFZmZvcnRMZXZlbDtcbiAgdGV4dFZlcmJvc2l0eT86IFRleHRWZXJib3NpdHlMZXZlbDtcbiAgLyoqIEV4dGVuZGVkIHRoaW5raW5nIGNvbmZpZ3VyYXRpb24gZm9yIHN1cHBvcnRlZCBtb2RlbHMgKEFudGhyb3BpYyBDbGF1ZGUgNC8zLjcsIEdlbWluaSAyLjUrKSAqL1xuICB0aGlua2luZz86IFRoaW5raW5nQnVkZ2V0Q29uZmlnO1xuICAvKiogVGhpbmtpbmcgbGV2ZWwgZm9yIG1vZGVscyB0aGF0IHN1cHBvcnQgZGlzY3JldGUgaW50ZW5zaXRpZXMgKEdlbWluaSAzIFBybykgKi9cbiAgdGhpbmtpbmdMZXZlbD86IFRoaW5raW5nTGV2ZWw7XG59XG5cbmV4cG9ydCB0eXBlIFByb3ZpZGVyRmFjdG9yeSA9IChjb25maWc6IFByb3ZpZGVyQ29uZmlnKSA9PiBMTE1Qcm92aWRlcjtcblxuZXhwb3J0IGludGVyZmFjZSBSZWdpc3RlclByb3ZpZGVyT3B0aW9ucyB7XG4gIG92ZXJyaWRlPzogYm9vbGVhbjtcbn1cblxuY29uc3QgcmVnaXN0cnkgPSBuZXcgTWFwPFByb3ZpZGVySWQsIFByb3ZpZGVyRmFjdG9yeT4oKTtcblxuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyUHJvdmlkZXIoaWQ6IFByb3ZpZGVySWQsIGZhY3Rvcnk6IFByb3ZpZGVyRmFjdG9yeSwgb3B0aW9uczogUmVnaXN0ZXJQcm92aWRlck9wdGlvbnMgPSB7fSk6IHZvaWQge1xuICBpZiAoIWlkPy50cmltKCkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1Byb3ZpZGVyIGlkIGNhbm5vdCBiZSBibGFuay4nKTtcbiAgfVxuICBpZiAocmVnaXN0cnkuaGFzKGlkKSAmJiAhb3B0aW9ucy5vdmVycmlkZSkge1xuICAgIHRocm93IG5ldyBFcnJvcihgUHJvdmlkZXIgXCIke2lkfVwiIGlzIGFscmVhZHkgcmVnaXN0ZXJlZC5gKTtcbiAgfVxuICByZWdpc3RyeS5zZXQoaWQsIGZhY3RvcnkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUHJvdmlkZXIoY29uZmlnOiBQcm92aWRlckNvbmZpZyk6IExMTVByb3ZpZGVyIHtcbiAgY29uc3QgZmFjdG9yeSA9IHJlZ2lzdHJ5LmdldChjb25maWcucHJvdmlkZXIpO1xuICBpZiAoIWZhY3RvcnkpIHtcbiAgICBjb25zdCBrbm93biA9IEFycmF5LmZyb20ocmVnaXN0cnkua2V5cygpKS5zb3J0KCkuam9pbignLCAnKTtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYFByb3ZpZGVyIFwiJHtjb25maWcucHJvdmlkZXJ9XCIgaXMgbm90IHJlZ2lzdGVyZWQuIFJlZ2lzdGVyZWQgcHJvdmlkZXJzOiAke2tub3duIHx8ICdub25lJ30uYCk7XG4gIH1cbiAgcmV0dXJuIGZhY3RvcnkoY29uZmlnKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxpc3RSZWdpc3RlcmVkUHJvdmlkZXJzKCk6IFByb3ZpZGVySWRbXSB7XG4gIHJldHVybiBBcnJheS5mcm9tKHJlZ2lzdHJ5LmtleXMoKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoYXNQcm92aWRlcihpZDogUHJvdmlkZXJJZCk6IGJvb2xlYW4ge1xuICByZXR1cm4gcmVnaXN0cnkuaGFzKGlkKTtcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUFlWTtJQUFBQSxhQUFBLFlBQUFBLENBQUE7TUFBQSxPQUFBQyxjQUFBO0lBQUE7RUFBQTtFQUFBLE9BQUFBLGNBQUE7QUFBQTtBQUFBRCxhQUFBO0FBYVosTUFBTUUsUUFBUTtBQUFBO0FBQUEsQ0FBQUYsYUFB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