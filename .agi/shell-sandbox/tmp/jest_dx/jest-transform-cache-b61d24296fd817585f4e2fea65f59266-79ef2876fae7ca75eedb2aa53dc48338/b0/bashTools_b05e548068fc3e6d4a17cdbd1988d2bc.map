{"version":3,"names":["cov_2hgep96e2y","actualCoverage","spawn","mkdir","join","reportToolProgress","validateBashCommand","SmartFixer","toStructuredError","analyzeBashFlow","buildError","verifiedSuccess","verifiedFailure","analyzeOutput","OutputPatterns","createCommandCheck","createErrorFixer","BackgroundShell","outputBuffer","s","errorBuffer","lastReadPosition","isRunning","constructor","id","command","workingDir","f","start","process","cwd","stdio","stdout","on","data","push","toString","stderr","code","exitCode","b","getNewOutput","filter","allOutput","newOutput","substring","length","allError","lines","split","line","test","status","kill","setTimeout","killed","BackgroundShellManager","shells","Map","nextId","createShell","shellId","shell","set","getShell","get","killShell","delete","listShells","Array","from","keys","shellManager","execWithStreaming","options","MAX_BUFFER_BYTES","Promise","resolve","reject","stdoutBytes","stderrBytes","stdoutTruncated","stderrTruncated","lineCount","child","env","timeoutId","timeout","processLine","isStderr","trimmedLine","slice","current","message","appendChunk","chunks","isStdout","byteLength","used","available","subarray","consumed","stdoutBuffer","text","pop","trim","stderrBuffer","buildOutput","truncated","output","limitKb","Math","round","notice","clearTimeout","stdoutText","stderrText","error","findGuiLauncher","_command","errorFixerCache","getErrorFixer","fixer","getSmartTimeout","cmd","toLowerCase","sandboxCache","ensureSandboxPaths","pending","createSandboxPaths","root","home","cache","config","tmp","all","map","dir","recursive","buildSandboxEnv","envPreference","preserveHome","Boolean","paths","EROSOLAR_SANDBOX_ROOT","EROSOLAR_SANDBOX_HOME","EROSOLAR_SANDBOX_TMP","createBashTools","name","description","parameters","type","properties","run_in_background","required","handler","args","runInBackground","userTimeout","flowWarnings","warning","suffix","suggestion","console","warn","validation","valid","structuredError","errorMsg","toDisplayString","autoFix","fixed","changes","fixDangerousCommand","change","warnings","guiBlocked","startTime","Date","now","durationMs","combinedOutput","commandLower","patterns","startsWith","git","npm","analysis","commandCheck","errorFixer","aiErrors","aiGuidance","formatForAI","suggestions","firstError","suggestedFixes","unshift","isFailure","check","passed","details","matchedPattern","isSuccess","execError","combinedError","bash_id","additionalProperties","bashId","filterStr","RegExp","undefined","parts","shell_id","success"],"sources":["bashTools.ts"],"sourcesContent":["import { spawn, ChildProcess } from 'node:child_process';\nimport { mkdir } from 'node:fs/promises';\nimport { join } from 'node:path';\nimport type { ToolDefinition } from '../core/toolRuntime.js';\nimport { reportToolProgress } from '../core/toolRuntime.js';\nimport { validateBashCommand, SmartFixer } from '../core/errors/safetyValidator.js';\nimport { toStructuredError } from '../core/errors/errorTypes.js';\nimport { analyzeBashFlow } from '../core/bashCommandGuidance.js';\nimport { buildError } from '../core/errors.js';\nimport {\n  verifiedSuccess,\n  verifiedFailure,\n  analyzeOutput,\n  OutputPatterns,\n  createCommandCheck,\n} from '../core/resultVerification.js';\nimport { createErrorFixer, type AIErrorFixer } from '../core/aiErrorFixer.js';\n\n// ============================================================================\n// Background Shell Manager (consolidated from backgroundBashTools.ts)\n// ============================================================================\n\nclass BackgroundShell {\n  private process?: ChildProcess;\n  private outputBuffer: string[] = [];\n  private errorBuffer: string[] = [];\n  private lastReadPosition = 0;\n  private isRunning = false;\n  private exitCode?: number;\n\n  constructor(\n    public readonly id: string,\n    private command: string,\n    private workingDir: string\n  ) {}\n\n  start(): void {\n    this.process = spawn('bash', ['-c', this.command], {\n      cwd: this.workingDir,\n      stdio: ['ignore', 'pipe', 'pipe'],\n    });\n\n    this.isRunning = true;\n\n    this.process.stdout?.on('data', (data) => {\n      this.outputBuffer.push(data.toString());\n    });\n\n    this.process.stderr?.on('data', (data) => {\n      this.errorBuffer.push(data.toString());\n    });\n\n    this.process.on('exit', (code) => {\n      this.exitCode = code ?? 0;\n      this.isRunning = false;\n    });\n  }\n\n  getNewOutput(filter?: RegExp): { stdout: string; stderr: string; status: string } {\n    const allOutput = this.outputBuffer.join('');\n    const newOutput = allOutput.substring(this.lastReadPosition);\n    this.lastReadPosition = allOutput.length;\n\n    const allError = this.errorBuffer.join('');\n\n    let stdout = newOutput;\n    if (filter) {\n      const lines = newOutput.split('\\n');\n      stdout = lines.filter(line => filter.test(line)).join('\\n');\n    }\n\n    return {\n      stdout,\n      stderr: allError,\n      status: this.isRunning ? 'running' : `exited with code ${this.exitCode}`,\n    };\n  }\n\n  kill(): void {\n    if (this.process) {\n      this.process.kill('SIGTERM');\n      setTimeout(() => {\n        if (this.process && !this.process.killed) {\n          this.process.kill('SIGKILL');\n        }\n      }, 5000);\n    }\n  }\n}\n\nclass BackgroundShellManager {\n  private shells = new Map<string, BackgroundShell>();\n  private nextId = 1;\n\n  createShell(command: string, workingDir: string): string {\n    const shellId = `shell_${this.nextId++}`;\n    const shell = new BackgroundShell(shellId, command, workingDir);\n    this.shells.set(shellId, shell);\n    shell.start();\n    return shellId;\n  }\n\n  getShell(shellId: string): BackgroundShell | undefined {\n    return this.shells.get(shellId);\n  }\n\n  killShell(shellId: string): boolean {\n    const shell = this.shells.get(shellId);\n    if (shell) {\n      shell.kill();\n      this.shells.delete(shellId);\n      return true;\n    }\n    return false;\n  }\n\n  listShells(): string[] {\n    return Array.from(this.shells.keys());\n  }\n}\n\n// Global shell manager instance\nconst shellManager = new BackgroundShellManager();\n\n// ============================================================================\n// Streaming Execution\n// ============================================================================\n\nasync function execWithStreaming(\n  command: string,\n  options: { cwd: string; timeout: number; env: NodeJS.ProcessEnv }\n): Promise<{ stdout: string; stderr: string; exitCode: number }> {\n  const MAX_BUFFER_BYTES = 1_000_000; // ~1MB per stream to prevent OOM on chatty commands\n  return new Promise((resolve, reject) => {\n    const stdout: string[] = [];\n    const stderr: string[] = [];\n    let stdoutBytes = 0;\n    let stderrBytes = 0;\n    let stdoutTruncated = false;\n    let stderrTruncated = false;\n    let lineCount = 0;\n    let killed = false;\n\n    const child = spawn('bash', ['-c', command], {\n      cwd: options.cwd,\n      env: options.env,\n      stdio: ['ignore', 'pipe', 'pipe'],\n    });\n\n    const timeoutId = setTimeout(() => {\n      killed = true;\n      child.kill('SIGTERM');\n      setTimeout(() => child.kill('SIGKILL'), 1000);\n    }, options.timeout);\n\n    const processLine = (line: string, isStderr: boolean) => {\n      lineCount++;\n      const trimmedLine = line.slice(0, 80);\n      reportToolProgress({\n        current: lineCount,\n        message: isStderr ? `stderr: ${trimmedLine}` : trimmedLine,\n      });\n    };\n\n    const appendChunk = (chunks: string[], data: Buffer, isStdout: boolean): void => {\n      const byteLength = data.length;\n      const used = isStdout ? stdoutBytes : stderrBytes;\n      const available = MAX_BUFFER_BYTES - used;\n      if (available <= 0) {\n        if (isStdout) stdoutTruncated = true;\n        else stderrTruncated = true;\n        return;\n      }\n\n      const slice = byteLength > available ? data.subarray(0, available) : data;\n      chunks.push(slice.toString());\n      const consumed = slice.length; // Buffer length in bytes\n      if (isStdout) {\n        stdoutBytes += consumed;\n        if (byteLength > available) stdoutTruncated = true;\n      } else {\n        stderrBytes += consumed;\n        if (byteLength > available) stderrTruncated = true;\n      }\n    };\n\n    let stdoutBuffer = '';\n    child.stdout?.on('data', (data: Buffer) => {\n      const text = data.toString();\n      appendChunk(stdout, data, true);\n      stdoutBuffer += text;\n      if (stdoutBuffer.length > 4096) {\n        stdoutBuffer = stdoutBuffer.slice(-2048);\n      }\n      const lines = stdoutBuffer.split('\\n');\n      stdoutBuffer = lines.pop() || '';\n      for (const line of lines) {\n        if (line.trim()) processLine(line, false);\n      }\n    });\n\n    let stderrBuffer = '';\n    child.stderr?.on('data', (data: Buffer) => {\n      const text = data.toString();\n      appendChunk(stderr, data, false);\n      stderrBuffer += text;\n      if (stderrBuffer.length > 4096) {\n        stderrBuffer = stderrBuffer.slice(-2048);\n      }\n      const lines = stderrBuffer.split('\\n');\n      stderrBuffer = lines.pop() || '';\n      for (const line of lines) {\n        if (line.trim()) processLine(line, true);\n      }\n    });\n\n    const buildOutput = (chunks: string[], truncated: boolean): string => {\n      const output = chunks.join('');\n      if (!truncated) return output;\n      const limitKb = Math.round(MAX_BUFFER_BYTES / 1024);\n      const notice = `\\n[output truncated after ${limitKb}KB to protect memory; rerun with narrower command to see full output]`;\n      return output ? `${output}${notice}` : notice.trim();\n    };\n\n    child.on('close', (code) => {\n      clearTimeout(timeoutId);\n      if (stdoutBuffer.trim()) processLine(stdoutBuffer, false);\n      if (stderrBuffer.trim()) processLine(stderrBuffer, true);\n\n      const stdoutText = buildOutput(stdout, stdoutTruncated);\n      const stderrText = buildOutput(stderr, stderrTruncated);\n\n      if (killed) {\n        reject({ killed: true, stdout: stdoutText, stderr: stderrText, code });\n      } else {\n        resolve({ stdout: stdoutText, stderr: stderrText, exitCode: code ?? 0 });\n      }\n    });\n\n    child.on('error', (error) => {\n      clearTimeout(timeoutId);\n      reject(error);\n    });\n  });\n}\n\n// ============================================================================\n// Utility Functions\n// ============================================================================\n\n// Keep the shell responsive while long commands run\nfunction findGuiLauncher(_command: string): string | null {\n  return null;\n}\n\nconst errorFixerCache = new Map<string, AIErrorFixer>();\nfunction getErrorFixer(workingDir: string): AIErrorFixer {\n  let fixer = errorFixerCache.get(workingDir);\n  if (!fixer) {\n    fixer = createErrorFixer({ workingDir });\n    errorFixerCache.set(workingDir, fixer);\n  }\n  return fixer;\n}\n\n/**\n * Smart timeout detection based on command type\n */\nfunction getSmartTimeout(command: string): number {\n  const cmd = command.toLowerCase().trim();\n\n  // Long-running ML/AI training jobs (10 minutes)\n  if (/\\b(python|python3)\\b/.test(cmd) && /\\b(train|fine[-\\s]?tune|finetune)\\b/.test(cmd)) {\n    return 600000;\n  }\n  if (/\\b(torchrun|accelerate\\s+launch)\\b/.test(cmd)) return 600000;\n\n  // Python/pytest test runners (5 minutes)\n  if (/\\b(pytest|python\\s+-m\\s+pytest)\\b/.test(cmd)) return 300000;\n\n  // NPM/Yarn/PNPM operations (5 minutes)\n  if (/\\b(npm|yarn|pnpm)\\s+(install|ci|i|add|update|upgrade)\\b/.test(cmd)) return 300000;\n  if (/\\b(npm|yarn|pnpm)\\s+(run\\s+)?(build|test|lint|start|dev)\\b/.test(cmd)) return 300000;\n  if (/\\bnpx\\s+(create-|degit|giget)\\b/.test(cmd)) return 300000;\n\n  // Prisma (3 minutes)\n  if (/\\b(prisma|npx prisma)\\s+(generate|migrate|db push|db pull)\\b/.test(cmd)) return 180000;\n\n  // Docker (10 minutes)\n  if (/\\bdocker\\s+(build|pull|push|compose)\\b/.test(cmd)) return 600000;\n\n  // Git clone / pip install (3 minutes)\n  if (/\\bgit\\s+clone\\b/.test(cmd)) return 180000;\n  if (/\\bpip\\s+install\\b/.test(cmd)) return 180000;\n\n  return 30000; // Default\n}\n\n// ============================================================================\n// Sandbox Environment\n// ============================================================================\n\ninterface SandboxPaths {\n  root: string;\n  home: string;\n  cache: string;\n  config: string;\n  data: string;\n  tmp: string;\n}\n\nconst sandboxCache = new Map<string, Promise<SandboxPaths>>();\n\nasync function ensureSandboxPaths(workingDir: string): Promise<SandboxPaths> {\n  let pending = sandboxCache.get(workingDir);\n  if (!pending) {\n    pending = createSandboxPaths(workingDir);\n    sandboxCache.set(workingDir, pending);\n  }\n  return pending;\n}\n\nasync function createSandboxPaths(workingDir: string): Promise<SandboxPaths> {\n  const root = join(workingDir, '.agi', 'shell-sandbox');\n  const home = join(root, 'home');\n  const cache = join(root, 'cache');\n  const config = join(root, 'config');\n  const data = join(root, 'data');\n  const tmp = join(root, 'tmp');\n  await Promise.all([home, cache, config, data, tmp].map((dir) => mkdir(dir, { recursive: true })));\n  return { root, home, cache, config, data, tmp };\n}\n\nexport async function buildSandboxEnv(\n  workingDir: string,\n  options?: { preserveHome?: boolean }\n): Promise<NodeJS.ProcessEnv> {\n  const envPreference = process.env['EROSOLAR_PRESERVE_HOME'];\n  const preserveHome = envPreference === '1' ? true : envPreference === '0' ? false : Boolean(options?.preserveHome);\n  const paths = await ensureSandboxPaths(workingDir);\n\n  const env: NodeJS.ProcessEnv = {\n    ...process.env,\n    EROSOLAR_SANDBOX_ROOT: paths.root,\n    EROSOLAR_SANDBOX_HOME: paths.home,\n    EROSOLAR_SANDBOX_TMP: paths.tmp,\n  };\n\n  if (!preserveHome) env['HOME'] = paths.home;\n  env['XDG_CACHE_HOME'] = paths.cache;\n  env['XDG_CONFIG_HOME'] = paths.config;\n  env['XDG_DATA_HOME'] = paths.data;\n  env['TMPDIR'] = paths.tmp;\n  env['TMP'] = paths.tmp;\n  env['TEMP'] = paths.tmp;\n\n  return env;\n}\n\n// ============================================================================\n// Main Tool Factory\n// ============================================================================\n\nexport function createBashTools(workingDir: string): ToolDefinition[] {\n  return [\n    // Main bash execution tool\n    {\n      name: 'execute_bash',\n      description: 'Execute a bash command. Commands auto-timeout based on type. Use run_in_background: true for servers/watchers.',\n      parameters: {\n        type: 'object',\n        properties: {\n          command: { type: 'string', description: 'The bash command to execute' },\n          timeout: { type: 'number', description: 'Timeout in milliseconds (smart defaults apply)' },\n          run_in_background: { type: 'boolean', description: 'Run in background for long-running processes' },\n        },\n        required: ['command'],\n      },\n      handler: async (args) => {\n        const command = args['command'] as string;\n        const runInBackground = args['run_in_background'] === true;\n        const userTimeout = args['timeout'] as number | undefined;\n        const timeout = userTimeout ?? getSmartTimeout(command);\n\n        // Flow guidance\n        const flowWarnings = analyzeBashFlow(command);\n        for (const warning of flowWarnings) {\n          const suffix = warning.suggestion ? ` â€” ${warning.suggestion}` : '';\n          console.warn(`[Bash Flow] ${warning.message}${suffix}`);\n        }\n\n        // Safety validation\n        const validation = validateBashCommand(command);\n        if (!validation.valid) {\n          const structuredError = validation.error ? toStructuredError(validation.error) : null;\n          if (structuredError) {\n            let errorMsg = structuredError.toDisplayString();\n            if (validation.autoFix?.available) {\n              const { fixed, changes } = SmartFixer.fixDangerousCommand(command);\n              if (changes.length > 0) {\n                errorMsg += '\\n\\nAuto-fix available:';\n                for (const change of changes) errorMsg += `\\n  - ${change}`;\n                errorMsg += `\\n\\nFixed command: ${fixed}`;\n              }\n            }\n            return errorMsg;\n          }\n          return 'Error: Command validation failed';\n        }\n\n        if (validation.warnings.length > 0) {\n          for (const warning of validation.warnings) {\n            console.warn(`[Bash Safety] ${warning}`);\n          }\n        }\n\n        // GUI blocking check (disabled for red team ops)\n        const guiBlocked = findGuiLauncher(command);\n        if (guiBlocked) {\n          return `Blocked: ${guiBlocked}`;\n        }\n\n        // Background execution\n        if (runInBackground) {\n          const shellId = shellManager.createShell(command, workingDir);\n          return `Background shell started: ${shellId}\\n\\nUse BashOutput with bash_id=\"${shellId}\" to monitor.\\nUse KillShell with shell_id=\"${shellId}\" to terminate.`;\n        }\n\n        // Foreground execution\n        const startTime = Date.now();\n        try {\n          const env = await buildSandboxEnv(workingDir);\n          const { stdout, stderr, exitCode } = await execWithStreaming(command, { cwd: workingDir, timeout, env });\n          const durationMs = Date.now() - startTime;\n          const combinedOutput = [stdout, stderr].filter(Boolean).join('\\n');\n\n          const commandLower = command.toLowerCase().trim();\n          let patterns = OutputPatterns.command;\n          if (commandLower.startsWith('git ') || commandLower === 'git') patterns = OutputPatterns.git;\n          else if (commandLower.startsWith('npm ') || commandLower.startsWith('npx ')) patterns = OutputPatterns.npm;\n\n          const analysis = analyzeOutput(combinedOutput, patterns, exitCode);\n          const commandCheck = createCommandCheck('Command execution', exitCode, combinedOutput);\n\n          if (exitCode !== 0) {\n            const errorFixer = getErrorFixer(workingDir);\n            const aiErrors = errorFixer.analyzeOutput(combinedOutput, command);\n            const aiGuidance = aiErrors.length > 0 ? errorFixer.formatForAI(aiErrors) : '';\n            const suggestions = ['Review the error message', 'Fix the issue and retry'];\n            const firstError = aiErrors[0];\n            if (firstError?.suggestedFixes[0]) {\n              suggestions.unshift(`AI Suggestion: ${firstError.suggestedFixes[0].description}`);\n            }\n\n            return verifiedFailure(\n              `Command failed with exit code ${exitCode}`,\n              `Command: ${command}\\n\\nOutput:\\n${combinedOutput || '(none)'}${aiGuidance}`,\n              suggestions,\n              [commandCheck],\n              durationMs\n            );\n          }\n\n          if (analysis.isFailure) {\n            return verifiedFailure(\n              `Command completed with exit code 0 but output indicates failure`,\n              `Command: ${command}\\n\\nOutput:\\n${combinedOutput || '(no output)'}`,\n              ['Review the error message in the output', 'Fix the underlying issue and retry'],\n              [commandCheck, { check: 'Output analysis', passed: false, details: `Failure pattern: ${analysis.matchedPattern}` }],\n              durationMs\n            );\n          }\n\n          return verifiedSuccess(\n            combinedOutput.trim() ? `Command executed successfully` : `Command executed successfully (no output)`,\n            `Command: ${command}${combinedOutput.trim() ? `\\n\\nOutput:\\n${combinedOutput}` : ''}`,\n            [commandCheck, ...(analysis.isSuccess ? [{ check: 'Output analysis', passed: true, details: `Success pattern matched` }] : [])],\n            durationMs\n          );\n        } catch (error: unknown) {\n          const execError = error as { code?: number; stdout?: string; stderr?: string; message?: string; killed?: boolean };\n          const durationMs = Date.now() - startTime;\n          const exitCode = execError.code ?? 1;\n          const combinedError = [execError.stdout, execError.stderr, execError.message].filter(Boolean).join('\\n');\n\n          if (execError.killed) {\n            return verifiedFailure(\n              `Command timed out after ${timeout}ms`,\n              `Command: ${command}\\n\\nPartial output:\\n${combinedError || '(none)'}`,\n              ['Increase timeout if command legitimately needs more time', 'Check if command is hanging'],\n              [{ check: 'Timeout', passed: false, details: `Exceeded ${timeout}ms` }],\n              durationMs\n            );\n          }\n\n          const errorFixer = getErrorFixer(workingDir);\n          const aiErrors = errorFixer.analyzeOutput(combinedError, command);\n          const aiGuidance = aiErrors.length > 0 ? errorFixer.formatForAI(aiErrors) : '';\n          const suggestions = ['Review the error message', 'Fix the issue and retry'];\n          const firstError = aiErrors[0];\n          if (firstError?.suggestedFixes[0]) {\n            suggestions.unshift(`AI Suggestion: ${firstError.suggestedFixes[0].description}`);\n          }\n\n          return verifiedFailure(\n            `Command failed with exit code ${exitCode}`,\n            `Command: ${command}\\n\\nError output:\\n${combinedError || '(none)'}${aiGuidance}`,\n            suggestions,\n            [createCommandCheck('Command execution', exitCode, combinedError)],\n            durationMs\n          );\n        }\n      },\n    },\n\n    // Background shell output retrieval\n    {\n      name: 'BashOutput',\n      description: 'Retrieve output from a running or completed background bash shell.',\n      parameters: {\n        type: 'object',\n        properties: {\n          bash_id: { type: 'string', description: 'The ID of the background shell' },\n          filter: { type: 'string', description: 'Optional regex to filter output lines' },\n        },\n        required: ['bash_id'],\n        additionalProperties: false,\n      },\n      handler: async (args) => {\n        const bashId = args['bash_id'];\n        const filterStr = args['filter'];\n\n        if (typeof bashId !== 'string' || !bashId.trim()) {\n          return 'Error: bash_id must be a non-empty string.';\n        }\n\n        try {\n          const shell = shellManager.getShell(bashId);\n          if (!shell) {\n            const available = shellManager.listShells();\n            return `Error: Shell \"${bashId}\" not found.\\n\\nAvailable: ${available.length > 0 ? available.join(', ') : 'none'}`;\n          }\n\n          const filter = filterStr && typeof filterStr === 'string' ? new RegExp(filterStr) : undefined;\n          const { stdout, stderr, status } = shell.getNewOutput(filter);\n\n          const parts: string[] = [`Shell: ${bashId}`, `Status: ${status}`];\n          if (stdout) { parts.push('\\n=== New Output ==='); parts.push(stdout); }\n          if (stderr) { parts.push('\\n=== Errors ==='); parts.push(stderr); }\n          if (!stdout && !stderr) parts.push('\\n(No new output)');\n\n          return parts.join('\\n');\n        } catch (error: unknown) {\n          return buildError('retrieving shell output', error, { bash_id: bashId });\n        }\n      },\n    },\n\n    // Kill background shell\n    {\n      name: 'KillShell',\n      description: 'Kill a running background bash shell by its ID.',\n      parameters: {\n        type: 'object',\n        properties: {\n          shell_id: { type: 'string', description: 'The ID of the background shell to kill' },\n        },\n        required: ['shell_id'],\n        additionalProperties: false,\n      },\n      handler: async (args) => {\n        const shellId = args['shell_id'];\n\n        if (typeof shellId !== 'string' || !shellId.trim()) {\n          return 'Error: shell_id must be a non-empty string.';\n        }\n\n        try {\n          const success = shellManager.killShell(shellId);\n          if (success) {\n            return `Shell \"${shellId}\" has been terminated.`;\n          } else {\n            const available = shellManager.listShells();\n            return `Error: Shell \"${shellId}\" not found.\\n\\nAvailable: ${available.length > 0 ? available.join(', ') : 'none'}`;\n          }\n        } catch (error: unknown) {\n          return buildError('killing shell', error, { shell_id: shellId });\n        }\n      },\n    },\n  ];\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}