0a79afbcd640e7f8be768dbfd404d926
/* istanbul ignore next */
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.FilesystemCapabilityModule = void 0;
var
/* istanbul ignore next */
_fileTools = require("../tools/fileTools.js");
/* istanbul ignore next */
function cov_f1a2rs926() {
  var path = "/Users/bo/GitHub/agi-core-CLI-coding/src/capabilities/filesystemCapability.ts";
  var hash = "c81a148d65afec6ef003904b54411f71e0cb73f4";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/Users/bo/GitHub/agi-core-CLI-coding/src/capabilities/filesystemCapability.ts",
    statementMap: {
      "0": {
        start: {
          line: 11,
          column: 16
        },
        end: {
          line: 11,
          column: 39
        }
      },
      "1": {
        start: {
          line: 15,
          column: 4
        },
        end: {
          line: 15,
          column: 27
        }
      },
      "2": {
        start: {
          line: 19,
          column: 23
        },
        end: {
          line: 19,
          column: 68
        }
      },
      "3": {
        start: {
          line: 20,
          column: 4
        },
        end: {
          line: 31,
          column: 6
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 14,
            column: 2
          },
          end: {
            line: 14,
            column: 3
          }
        },
        loc: {
          start: {
            line: 14,
            column: 57
          },
          end: {
            line: 16,
            column: 3
          }
        },
        line: 14
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 18,
            column: 2
          },
          end: {
            line: 18,
            column: 3
          }
        },
        loc: {
          start: {
            line: 18,
            column: 76
          },
          end: {
            line: 32,
            column: 3
          }
        },
        line: 18
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 14,
            column: 14
          },
          end: {
            line: 14,
            column: 55
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 14,
            column: 53
          },
          end: {
            line: 14,
            column: 55
          }
        }],
        line: 14
      },
      "1": {
        loc: {
          start: {
            line: 19,
            column: 23
          },
          end: {
            line: 19,
            column: 68
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 19,
            column: 23
          },
          end: {
            line: 19,
            column: 46
          }
        }, {
          start: {
            line: 19,
            column: 50
          },
          end: {
            line: 19,
            column: 68
          }
        }],
        line: 19
      },
      "2": {
        loc: {
          start: {
            line: 21,
            column: 10
          },
          end: {
            line: 21,
            column: 53
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 21,
            column: 10
          },
          end: {
            line: 21,
            column: 25
          }
        }, {
          start: {
            line: 21,
            column: 29
          },
          end: {
            line: 21,
            column: 53
          }
        }],
        line: 21
      },
      "3": {
        loc: {
          start: {
            line: 22,
            column: 19
          },
          end: {
            line: 22,
            column: 108
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 22,
            column: 19
          },
          end: {
            line: 22,
            column: 43
          }
        }, {
          start: {
            line: 22,
            column: 47
          },
          end: {
            line: 22,
            column: 108
          }
        }],
        line: 22
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0
    },
    f: {
      "0": 0,
      "1": 0
    },
    b: {
      "0": [0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0]
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "c81a148d65afec6ef003904b54411f71e0cb73f4"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_f1a2rs926 = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_f1a2rs926();
class FilesystemCapabilityModule {
  id =
  /* istanbul ignore next */
  (cov_f1a2rs926().s[0]++, 'capability.filesystem');
  constructor(options =
  /* istanbul ignore next */
  (cov_f1a2rs926().b[0][0]++, {})) {
    /* istanbul ignore next */
    cov_f1a2rs926().f[0]++;
    cov_f1a2rs926().s[1]++;
    this.options = options;
  }
  async create(context) {
    /* istanbul ignore next */
    cov_f1a2rs926().f[1]++;
    const workingDir =
    /* istanbul ignore next */
    (cov_f1a2rs926().s[2]++,
    /* istanbul ignore next */
    (cov_f1a2rs926().b[1][0]++, this.options.workingDir) ??
    /* istanbul ignore next */
    (cov_f1a2rs926().b[1][1]++, context.workingDir));
    /* istanbul ignore next */
    cov_f1a2rs926().s[3]++;
    return {
      id:
      /* istanbul ignore next */
      (cov_f1a2rs926().b[2][0]++, this.options.id) ??
      /* istanbul ignore next */
      (cov_f1a2rs926().b[2][1]++, 'filesystem.tools.local'),
      description:
      /* istanbul ignore next */
      (cov_f1a2rs926().b[3][0]++, this.options.description) ??
      /* istanbul ignore next */
      (cov_f1a2rs926().b[3][1]++, 'Local file system access with deterministic diff summaries.'),
      toolSuite: {
        id: 'fs',
        description: 'File operations',
        tools:
        /* istanbul ignore next */
        (0,
        /* istanbul ignore next */
        _fileTools.
        /* istanbul ignore next */
        createFileTools)(workingDir)
      },
      metadata: {
        workingDir
      }
    };
  }
}
/* istanbul ignore next */
exports.FilesystemCapabilityModule = FilesystemCapabilityModule;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZmlsZVRvb2xzIiwicmVxdWlyZSIsImNvdl9mMWEycnM5MjYiLCJwYXRoIiwiaGFzaCIsImdsb2JhbCIsIkZ1bmN0aW9uIiwiZ2N2IiwiY292ZXJhZ2VEYXRhIiwic3RhdGVtZW50TWFwIiwic3RhcnQiLCJsaW5lIiwiY29sdW1uIiwiZW5kIiwiZm5NYXAiLCJuYW1lIiwiZGVjbCIsImxvYyIsImJyYW5jaE1hcCIsInR5cGUiLCJsb2NhdGlvbnMiLCJzIiwiZiIsImIiLCJfY292ZXJhZ2VTY2hlbWEiLCJjb3ZlcmFnZSIsImFjdHVhbENvdmVyYWdlIiwiRmlsZXN5c3RlbUNhcGFiaWxpdHlNb2R1bGUiLCJpZCIsImNvbnN0cnVjdG9yIiwib3B0aW9ucyIsImNyZWF0ZSIsImNvbnRleHQiLCJ3b3JraW5nRGlyIiwiZGVzY3JpcHRpb24iLCJ0b29sU3VpdGUiLCJ0b29scyIsImNyZWF0ZUZpbGVUb29scyIsIm1ldGFkYXRhIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbImZpbGVzeXN0ZW1DYXBhYmlsaXR5LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgQ2FwYWJpbGl0eUNvbnRyaWJ1dGlvbiwgQ2FwYWJpbGl0eUNvbnRleHQsIENhcGFiaWxpdHlNb2R1bGUgfSBmcm9tICcuLi9ydW50aW1lL2FnZW50SG9zdC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVGaWxlVG9vbHMgfSBmcm9tICcuLi90b29scy9maWxlVG9vbHMuanMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIEZpbGVzeXN0ZW1DYXBhYmlsaXR5T3B0aW9ucyB7XG4gIHdvcmtpbmdEaXI/OiBzdHJpbmc7XG4gIGlkPzogc3RyaW5nO1xuICBkZXNjcmlwdGlvbj86IHN0cmluZztcbn1cblxuZXhwb3J0IGNsYXNzIEZpbGVzeXN0ZW1DYXBhYmlsaXR5TW9kdWxlIGltcGxlbWVudHMgQ2FwYWJpbGl0eU1vZHVsZSB7XG4gIHJlYWRvbmx5IGlkID0gJ2NhcGFiaWxpdHkuZmlsZXN5c3RlbSc7XG4gIHByaXZhdGUgcmVhZG9ubHkgb3B0aW9uczogRmlsZXN5c3RlbUNhcGFiaWxpdHlPcHRpb25zO1xuXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnM6IEZpbGVzeXN0ZW1DYXBhYmlsaXR5T3B0aW9ucyA9IHt9KSB7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgfVxuXG4gIGFzeW5jIGNyZWF0ZShjb250ZXh0OiBDYXBhYmlsaXR5Q29udGV4dCk6IFByb21pc2U8Q2FwYWJpbGl0eUNvbnRyaWJ1dGlvbj4ge1xuICAgIGNvbnN0IHdvcmtpbmdEaXIgPSB0aGlzLm9wdGlvbnMud29ya2luZ0RpciA/PyBjb250ZXh0LndvcmtpbmdEaXI7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiB0aGlzLm9wdGlvbnMuaWQgPz8gJ2ZpbGVzeXN0ZW0udG9vbHMubG9jYWwnLFxuICAgICAgZGVzY3JpcHRpb246IHRoaXMub3B0aW9ucy5kZXNjcmlwdGlvbiA/PyAnTG9jYWwgZmlsZSBzeXN0ZW0gYWNjZXNzIHdpdGggZGV0ZXJtaW5pc3RpYyBkaWZmIHN1bW1hcmllcy4nLFxuICAgICAgdG9vbFN1aXRlOiB7XG4gICAgICAgIGlkOiAnZnMnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0ZpbGUgb3BlcmF0aW9ucycsXG4gICAgICAgIHRvb2xzOiBjcmVhdGVGaWxlVG9vbHMod29ya2luZ0RpciksXG4gICAgICB9LFxuICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgd29ya2luZ0RpcixcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQ0E7QUFBQTtBQUFBQSxVQUFBLEdBQUFDLE9BQUE7QUFBd0Q7QUFBQSxTQUFBQyxjQUFBO0VBQUEsSUFBQUMsSUFBQTtFQUFBLElBQUFDLElBQUE7RUFBQSxJQUFBQyxNQUFBLE9BQUFDLFFBQUE7RUFBQSxJQUFBQyxHQUFBO0VBQUEsSUFBQUMsWUFBQTtJQUFBTCxJQUFBO0lBQUFNLFlBQUE7TUFBQTtRQUFBQyxLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtJQUFBO0lBQUFFLEtBQUE7TUFBQTtRQUFBQyxJQUFBO1FBQUFDLElBQUE7VUFBQU4sS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7UUFBQUssR0FBQTtVQUFBUCxLQUFBO1lBQUFDLElBQUE7WUFBQUMsTUFBQTtVQUFBO1VBQUFDLEdBQUE7WUFBQUYsSUFBQTtZQUFBQyxNQUFBO1VBQUE7UUFBQTtRQUFBRCxJQUFBO01BQUE7TUFBQTtRQUFBSSxJQUFBO1FBQUFDLElBQUE7VUFBQU4sS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7UUFBQUssR0FBQTtVQUFBUCxLQUFBO1lBQUFDLElBQUE7WUFBQUMsTUFBQTtVQUFBO1VBQUFDLEdBQUE7WUFBQUYsSUFBQTtZQUFBQyxNQUFBO1VBQUE7UUFBQTtRQUFBRCxJQUFBO01BQUE7SUFBQTtJQUFBTyxTQUFBO01BQUE7UUFBQUQsR0FBQTtVQUFBUCxLQUFBO1lBQUFDLElBQUE7WUFBQUMsTUFBQTtVQUFBO1VBQUFDLEdBQUE7WUFBQUYsSUFBQTtZQUFBQyxNQUFBO1VBQUE7UUFBQTtRQUFBTyxJQUFBO1FBQUFDLFNBQUE7VUFBQVYsS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7UUFBQUQsSUFBQTtNQUFBO01BQUE7UUFBQU0sR0FBQTtVQUFBUCxLQUFBO1lBQUFDLElBQUE7WUFBQUMsTUFBQTtVQUFBO1VBQUFDLEdBQUE7WUFBQUYsSUFBQTtZQUFBQyxNQUFBO1VBQUE7UUFBQTtRQUFBTyxJQUFBO1FBQUFDLFNBQUE7VUFBQVYsS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7VUFBQUYsS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7UUFBQUQsSUFBQTtNQUFBO01BQUE7UUFBQU0sR0FBQTtVQUFBUCxLQUFBO1lBQUFDLElBQUE7WUFBQUMsTUFBQTtVQUFBO1VBQUFDLEdBQUE7WUFBQUYsSUFBQTtZQUFBQyxNQUFBO1VBQUE7UUFBQTtRQUFBTyxJQUFBO1FBQUFDLFNBQUE7VUFBQVYsS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7VUFBQUYsS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7UUFBQUQsSUFBQTtNQUFBO01BQUE7UUFBQU0sR0FBQTtVQUFBUCxLQUFBO1lBQUFDLElBQUE7WUFBQUMsTUFBQTtVQUFBO1VBQUFDLEdBQUE7WUFBQUYsSUFBQTtZQUFBQyxNQUFBO1VBQUE7UUFBQTtRQUFBTyxJQUFBO1FBQUFDLFNBQUE7VUFBQVYsS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7VUFBQUYs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