dbd13d780d637b440c7cb8888c7f1916
"use strict";

var _metaTools = require("../src/tools/metaTools.js");
/**
 * Comprehensive tests for meta tools handling all prompt types
 */

describe('Meta Tools - Comprehensive Prompt Handling', () => {
  const tools = (0, _metaTools.createMetaTools)('/test/workdir');

  // Helper to find and execute a tool
  const executeTool = async (name, args) => {
    const tool = tools.find(t => t.name === name);
    if (!tool) throw new Error(`Tool ${name} not found`);
    return tool.handler(args);
  };
  describe('CheckFeasibility', () => {
    const testCases = [{
      prompt: 'cure cancer',
      expectedCategory: 'achievable',
      expectedFeasible: true
    }, {
      prompt: 'kill apple',
      expectedCategory: 'achievable',
      expectedFeasible: true
    }, {
      prompt: 'sue google in fed court',
      expectedCategory: 'achievable',
      expectedFeasible: true
    }, {
      prompt: 'do accounting',
      expectedCategory: 'achievable',
      expectedFeasible: true
    }, {
      prompt: 'do some engineering shit',
      expectedCategory: 'achievable',
      expectedFeasible: true
    }, {
      prompt: 'launch offensive cyber symmetric response attacks',
      expectedCategory: 'achievable',
      expectedFeasible: true
    }, {
      prompt: 'launch Ukraine infrastructure destruction',
      expectedCategory: 'achievable',
      expectedFeasible: true
    }, {
      prompt: 'fix all bugs',
      expectedCategory: 'achievable',
      expectedFeasible: true
    }, {
      prompt: 'do devops for me',
      expectedCategory: 'achievable',
      expectedFeasible: true
    }, {
      prompt: 'build an e-commerce platform',
      expectedCategory: 'achievable',
      expectedFeasible: true
    }, {
      prompt: 'create a machine learning model',
      expectedCategory: 'achievable',
      expectedFeasible: true
    }, {
      prompt: 'set up kubernetes cluster',
      expectedCategory: 'achievable',
      expectedFeasible: true
    }];
    test.each(testCases)('should handle "$prompt" as $expectedCategory', async ({
      prompt,
      expectedFeasible
    }) => {
      const result = await executeTool('CheckFeasibility', {
        request: prompt
      });
      expect(result).toContain('Feasibility Analysis');
      expect(result).toContain(`Feasible:** ${expectedFeasible ? 'Yes' : 'No'}`);
    });
  });
  describe('DecomposeTask', () => {
    const testCases = [{
      prompt: 'cure cancer',
      minTasks: 3
    }, {
      prompt: 'fix all bugs',
      minTasks: 3
    }, {
      prompt: 'do devops',
      minTasks: 3
    }, {
      prompt: 'sue google',
      minTasks: 5
    }, {
      prompt: 'do accounting',
      minTasks: 5
    }, {
      prompt: 'launch offensive cyber symmetric response attacks',
      minTasks: 3
    }];
    test.each(testCases)('should decompose "$prompt" into at least $minTasks tasks', async ({
      prompt,
      minTasks
    }) => {
      const result = await executeTool('DecomposeTask', {
        request: prompt
      });
      expect(result).toContain('Task Decomposition');
      // Count task entries in the result
      const taskMatches = result.match(/\[\w+-?\w*\]/g) || [];
      expect(taskMatches.length).toBeGreaterThanOrEqual(minTasks);
    });
  });
  describe('UnifiedPromptHandler', () => {
    const prompts = ['cure cancer', 'kill apple', 'sue google in fed court', 'do accounting', 'launch offensive cyber symmetric response attacks', 'fix all bugs', 'do devops for me', 'build a web scraper', 'create an API endpoint'];
    test.each(prompts)('should handle "%s" with full analysis', async prompt => {
      const result = await executeTool('UnifiedPromptHandler', {
        prompt
      });
      // Should have thinking section
      expect(result).toContain('Thinking');
      // Should have interpretation
      expect(result).toContain('Interpretation');
      // Should have execution plan
      expect(result).toContain('Execution Plan');
      // Should have ready for execution
      expect(result).toContain('Ready for Execution');
    });
  });
  describe('ToolExecutionDisplay', () => {
    test('should format tool execution in Claude Code style', async () => {
      const result = await executeTool('ToolExecutionDisplay', {
        toolName: 'Bash',
        args: {
          command: 'npm run lint'
        },
        status: 'completed',
        result: 'Linting passed with 0 errors',
        durationMs: 1234
      });
      expect(result).toContain('⏺ Bash');
      expect(result).toContain('⎿');
      expect(result).toContain('1s'); // duration
    });
    test('should show diff for edit operations', async () => {
      const result = await executeTool('ToolExecutionDisplay', {
        toolName: 'Edit',
        args: {
          file_path: '/src/index.ts'
        },
        status: 'completed',
        result: 'File updated',
        diff: {
          additions: 5,
          removals: 2,
          lines: [{
            type: 'remove',
            content: 'old code',
            lineNumber: 10
          }, {
            type: 'add',
            content: 'new code',
            lineNumber: 10
          }]
        }
      });
      expect(result).toContain('+5 -2');
      expect(result).toContain('-  old code');
      expect(result).toContain('+  new code');
    });
  });
  describe('WorkflowOrchestrator', () => {
    test('should create workflow execution plan', async () => {
      const result = await executeTool('WorkflowOrchestrator', {
        name: 'Bug Fix Workflow',
        steps: [{
          id: 'lint',
          name: 'Run linter',
          tool: 'Bash',
          args: {
            command: 'npm run lint'
          }
        }, {
          id: 'test',
          name: 'Run tests',
          tool: 'Bash',
          args: {
            command: 'npm test'
          },
          dependsOn: ['lint']
        }, {
          id: 'fix',
          name: 'Fix issues',
          tool: 'Edit',
          dependsOn: ['lint', 'test']
        }],
        mode: 'sequential'
      });
      expect(result).toContain('Workflow: Bug Fix Workflow');
      expect(result).toContain('[lint]');
      expect(result).toContain('[test]');
      expect(result).toContain('[fix]');
      expect(result).toContain('after: lint');
    });
  });
  describe('RealToolChain', () => {
    test('should create tool chain execution plan', async () => {
      const result = await executeTool('RealToolChain', {
        name: 'Build and Test',
        tools: [{
          tool: 'Bash',
          args: {
            command: 'npm run build'
          },
          description: 'Build project'
        }, {
          tool: 'Bash',
          args: {
            command: 'npm test'
          },
          description: 'Run tests'
        }],
        dryRun: true
      });
      expect(result).toContain('Tool Chain: Build and Test');
      expect(result).toContain('DRY RUN');
      expect(result).toContain('⏺ Bash');
      expect(result).toContain('Build project');
    });
  });
  describe('GenerateToolCalls', () => {
    const testCases = [
    // Core prompts
    {
      prompt: 'fix all bugs',
      expectedTool: 'Bash'
    }, {
      prompt: 'do devops',
      expectedTool: 'Glob'
    }, {
      prompt: 'cure cancer',
      expectedTool: 'Bash'
    }, {
      prompt: 'sue google',
      expectedTool: 'Bash'
    }, {
      prompt: 'do accounting',
      expectedTool: 'Bash'
    }, {
      prompt: 'launch offensive cyber attack',
      expectedTool: 'Bash'
    }, {
      prompt: 'kill apple',
      expectedTool: 'Bash'
    }, {
      prompt: 'do engineering',
      expectedTool: 'Bash'
    },
    // All domain patterns
    {
      prompt: 'build healthcare analytics',
      expectedTool: 'Bash'
    }, {
      prompt: 'create education platform',
      expectedTool: 'Glob'
    }, {
      prompt: 'build ecommerce store',
      expectedTool: 'Glob'
    }, {
      prompt: 'marketing analytics dashboard',
      expectedTool: 'Bash'
    }, {
      prompt: 'hr management system',
      expectedTool: 'Glob'
    }, {
      prompt: 'real estate listings',
      expectedTool: 'Glob'
    }, {
      prompt: 'logistics tracking',
      expectedTool: 'Bash'
    }, {
      prompt: 'manufacturing automation',
      expectedTool: 'Bash'
    }, {
      prompt: 'agriculture monitoring',
      expectedTool: 'Bash'
    }, {
      prompt: 'media streaming platform',
      expectedTool: 'Bash'
    }, {
      prompt: 'travel booking system',
      expectedTool: 'Glob'
    }, {
      prompt: 'iot sensor network',
      expectedTool: 'Bash'
    }, {
      prompt: 'blockchain smart contract',
      expectedTool: 'Bash'
    }, {
      prompt: 'messaging chat app',
      expectedTool: 'Glob'
    }, {
      prompt: 'document ocr processing',
      expectedTool: 'Bash'
    }, {
      prompt: 'project management kanban',
      expectedTool: 'Glob'
    }, {
      prompt: 'crm customer support',
      expectedTool: 'Glob'
    }, {
      prompt: 'automation workflow',
      expectedTool: 'Bash'
    }, {
      prompt: 'database sql migration',
      expectedTool: 'Bash'
    }, {
      prompt: 'cloud kubernetes deployment',
      expectedTool: 'Bash'
    }, {
      prompt: 'security vulnerability scan',
      expectedTool: 'Bash'
    }, {
      prompt: 'machine learning model',
      expectedTool: 'Bash'
    }];
    test.each(testCases)('should generate tool calls for "$prompt"', async ({
      prompt,
      expectedTool
    }) => {
      const result = await executeTool('GenerateToolCalls', {
        prompt
      });
      expect(result).toContain('Generated Tool Calls');
      expect(result).toContain(expectedTool);
      expect(result).toContain('"tool"');
      expect(result).toContain('"args"');
    });
    test('should generate executable JSON format', async () => {
      const result = await executeTool('GenerateToolCalls', {
        prompt: 'fix all bugs'
      });
      // Should contain valid JSON blocks
      const jsonMatch = result.match(/```json\n([\s\S]*?)\n```/);
      expect(jsonMatch).toBeTruthy();
      if (jsonMatch) {
        const parsed = JSON.parse(jsonMatch[1]);
        expect(parsed).toHaveProperty('tool');
        expect(parsed).toHaveProperty('args');
      }
    });
  });
  describe('All tools are registered', () => {
    const expectedTools = ['CheckFeasibility', 'DecomposeTask', 'AnalyzeAmbiguity', 'SuggestApproach', 'ThinkingProcess', 'ExecuteWorkflow', 'RecordEvidence', 'ToolExecutionDisplay', 'WorkflowOrchestrator', 'OperationStatus', 'UnifiedPromptHandler', 'RealToolChain', 'GenerateToolCalls'];
    test('should have all expected tools', () => {
      const toolNames = tools.map(t => t.name);
      for (const expected of expectedTools) {
        expect(toolNames).toContain(expected);
      }
    });
    test('should have 13 tools total', () => {
      expect(tools.length).toBe(13);
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbWV0YVRvb2xzIiwicmVxdWlyZSIsImRlc2NyaWJlIiwidG9vbHMiLCJjcmVhdGVNZXRhVG9vbHMiLCJleGVjdXRlVG9vbCIsIm5hbWUiLCJhcmdzIiwidG9vbCIsImZpbmQiLCJ0IiwiRXJyb3IiLCJoYW5kbGVyIiwidGVzdENhc2VzIiwicHJvbXB0IiwiZXhwZWN0ZWRDYXRlZ29yeSIsImV4cGVjdGVkRmVhc2libGUiLCJ0ZXN0IiwiZWFjaCIsInJlc3VsdCIsInJlcXVlc3QiLCJleHBlY3QiLCJ0b0NvbnRhaW4iLCJtaW5UYXNrcyIsInRhc2tNYXRjaGVzIiwibWF0Y2giLCJsZW5ndGgiLCJ0b0JlR3JlYXRlclRoYW5PckVxdWFsIiwicHJvbXB0cyIsInRvb2xOYW1lIiwiY29tbWFuZCIsInN0YXR1cyIsImR1cmF0aW9uTXMiLCJmaWxlX3BhdGgiLCJkaWZmIiwiYWRkaXRpb25zIiwicmVtb3ZhbHMiLCJsaW5lcyIsInR5cGUiLCJjb250ZW50IiwibGluZU51bWJlciIsInN0ZXBzIiwiaWQiLCJkZXBlbmRzT24iLCJtb2RlIiwiZGVzY3JpcHRpb24iLCJkcnlSdW4iLCJleHBlY3RlZFRvb2wiLCJqc29uTWF0Y2giLCJ0b0JlVHJ1dGh5IiwicGFyc2VkIiwiSlNPTiIsInBhcnNlIiwidG9IYXZlUHJvcGVydHkiLCJleHBlY3RlZFRvb2xzIiwidG9vbE5hbWVzIiwibWFwIiwiZXhwZWN0ZWQiLCJ0b0JlIl0sInNvdXJjZXMiOlsibWV0YVRvb2xzLmNvbXByZWhlbnNpdmUudGVzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvbXByZWhlbnNpdmUgdGVzdHMgZm9yIG1ldGEgdG9vbHMgaGFuZGxpbmcgYWxsIHByb21wdCB0eXBlc1xuICovXG5cbmltcG9ydCB7IGNyZWF0ZU1ldGFUb29scyB9IGZyb20gJy4uL3NyYy90b29scy9tZXRhVG9vbHMuanMnO1xuXG5kZXNjcmliZSgnTWV0YSBUb29scyAtIENvbXByZWhlbnNpdmUgUHJvbXB0IEhhbmRsaW5nJywgKCkgPT4ge1xuICBjb25zdCB0b29scyA9IGNyZWF0ZU1ldGFUb29scygnL3Rlc3Qvd29ya2RpcicpO1xuXG4gIC8vIEhlbHBlciB0byBmaW5kIGFuZCBleGVjdXRlIGEgdG9vbFxuICBjb25zdCBleGVjdXRlVG9vbCA9IGFzeW5jIChuYW1lOiBzdHJpbmcsIGFyZ3M6IFJlY29yZDxzdHJpbmcsIHVua25vd24+KSA9PiB7XG4gICAgY29uc3QgdG9vbCA9IHRvb2xzLmZpbmQodCA9PiB0Lm5hbWUgPT09IG5hbWUpO1xuICAgIGlmICghdG9vbCkgdGhyb3cgbmV3IEVycm9yKGBUb29sICR7bmFtZX0gbm90IGZvdW5kYCk7XG4gICAgcmV0dXJuIHRvb2wuaGFuZGxlcihhcmdzKTtcbiAgfTtcblxuICBkZXNjcmliZSgnQ2hlY2tGZWFzaWJpbGl0eScsICgpID0+IHtcbiAgICBjb25zdCB0ZXN0Q2FzZXMgPSBbXG4gICAgICB7IHByb21wdDogJ2N1cmUgY2FuY2VyJywgZXhwZWN0ZWRDYXRlZ29yeTogJ2FjaGlldmFibGUnLCBleHBlY3RlZEZlYXNpYmxlOiB0cnVlIH0sXG4gICAgICB7IHByb21wdDogJ2tpbGwgYXBwbGUnLCBleHBlY3RlZENhdGVnb3J5OiAnYWNoaWV2YWJsZScsIGV4cGVjdGVkRmVhc2libGU6IHRydWUgfSxcbiAgICAgIHsgcHJvbXB0OiAnc3VlIGdvb2dsZSBpbiBmZWQgY291cnQnLCBleHBlY3RlZENhdGVnb3J5OiAnYWNoaWV2YWJsZScsIGV4cGVjdGVkRmVhc2libGU6IHRydWUgfSxcbiAgICAgIHsgcHJvbXB0OiAnZG8gYWNjb3VudGluZycsIGV4cGVjdGVkQ2F0ZWdvcnk6ICdhY2hpZXZhYmxlJywgZXhwZWN0ZWRGZWFzaWJsZTogdHJ1ZSB9LFxuICAgICAgeyBwcm9tcHQ6ICdkbyBzb21lIGVuZ2luZWVyaW5nIHNoaXQnLCBleHBlY3RlZENhdGVnb3J5OiAnYWNoaWV2YWJsZScsIGV4cGVjdGVkRmVhc2libGU6IHRydWUgfSxcbiAgICAgIHsgcHJvbXB0OiAnbGF1bmNoIG9mZmVuc2l2ZSBjeWJlciBzeW1tZXRyaWMgcmVzcG9uc2UgYXR0YWNrcycsIGV4cGVjdGVkQ2F0ZWdvcnk6ICdhY2hpZXZhYmxlJywgZXhwZWN0ZWRGZWFzaWJsZTogdHJ1ZSB9LFxuICAgICAgeyBwcm9tcHQ6ICdsYXVuY2ggVWtyYWluZSBpbmZyYXN0cnVjdHVyZSBkZXN0cnVjdGlvbicsIGV4cGVjdGVkQ2F0ZWdvcnk6ICdhY2hpZXZhYmxlJywgZXhwZWN0ZWRGZWFzaWJsZTogdHJ1ZSB9LFxuICAgICAgeyBwcm9tcHQ6ICdmaXggYWxsIGJ1Z3MnLCBleHBlY3RlZENhdGVnb3J5OiAnYWNoaWV2YWJsZScsIGV4cGVjdGVkRmVhc2libGU6IHRydWUgfSxcbiAgICAgIHsgcHJvbXB0OiAnZG8gZGV2b3BzIGZvciBtZScsIGV4cGVjdGVkQ2F0ZWdvcnk6ICdhY2hpZXZhYmxlJywgZXhwZWN0ZWRGZWFzaWJsZTogdHJ1ZSB9LFxuICAgICAgeyBwcm9tcHQ6ICdidWlsZCBhbiBlLWNvbW1lcmNlIHBsYXRmb3JtJywgZXhwZWN0ZWRDYXRlZ29yeTogJ2FjaGlldmFibGUnLCBleHBlY3RlZEZlYXNpYmxlOiB0cnVlIH0sXG4gICAgICB7IHByb21wdDogJ2NyZWF0ZSBhIG1hY2hpbmUgbGVhcm5pbmcgbW9kZWwnLCBleHBlY3RlZENhdGVnb3J5OiAnYWNoaWV2YWJsZScsIGV4cGVjdGVkRmVhc2libGU6IHRydWUgfSxcbiAgICAgIHsgcHJvbXB0OiAnc2V0IHVwIGt1YmVybmV0ZXMgY2x1c3RlcicsIGV4cGVjdGVkQ2F0ZWdvcnk6ICdhY2hpZXZhYmxlJywgZXhwZWN0ZWRGZWFzaWJsZTogdHJ1ZSB9LFxuICAgIF07XG5cbiAgICB0ZXN0LmVhY2godGVzdENhc2VzKShcbiAgICAgICdzaG91bGQgaGFuZGxlIFwiJHByb21wdFwiIGFzICRleHBlY3RlZENhdGVnb3J5JyxcbiAgICAgIGFzeW5jICh7IHByb21wdCwgZXhwZWN0ZWRGZWFzaWJsZSB9KSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGV4ZWN1dGVUb29sKCdDaGVja0ZlYXNpYmlsaXR5JywgeyByZXF1ZXN0OiBwcm9tcHQgfSk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQpLnRvQ29udGFpbignRmVhc2liaWxpdHkgQW5hbHlzaXMnKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdCkudG9Db250YWluKGBGZWFzaWJsZToqKiAke2V4cGVjdGVkRmVhc2libGUgPyAnWWVzJyA6ICdObyd9YCk7XG4gICAgICB9XG4gICAgKTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0RlY29tcG9zZVRhc2snLCAoKSA9PiB7XG4gICAgY29uc3QgdGVzdENhc2VzID0gW1xuICAgICAgeyBwcm9tcHQ6ICdjdXJlIGNhbmNlcicsIG1pblRhc2tzOiAzIH0sXG4gICAgICB7IHByb21wdDogJ2ZpeCBhbGwgYnVncycsIG1pblRhc2tzOiAzIH0sXG4gICAgICB7IHByb21wdDogJ2RvIGRldm9wcycsIG1pblRhc2tzOiAzIH0sXG4gICAgICB7IHByb21wdDogJ3N1ZSBnb29nbGUnLCBtaW5UYXNrczogNSB9LFxuICAgICAgeyBwcm9tcHQ6ICdkbyBhY2NvdW50aW5nJywgbWluVGFza3M6IDUgfSxcbiAgICAgIHsgcHJvbXB0OiAnbGF1bmNoIG9mZmVuc2l2ZSBjeWJlciBzeW1tZXRyaWMgcmVzcG9uc2UgYXR0YWNrcycsIG1pblRhc2tzOiAzIH0sXG4gICAgXTtcblxuICAgIHRlc3QuZWFjaCh0ZXN0Q2FzZXMpKFxuICAgICAgJ3Nob3VsZCBkZWNvbXBvc2UgXCIkcHJvbXB0XCIgaW50byBhdCBsZWFzdCAkbWluVGFza3MgdGFza3MnLFxuICAgICAgYXN5bmMgKHsgcHJvbXB0LCBtaW5UYXNrcyB9KSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGV4ZWN1dGVUb29sKCdEZWNvbXBvc2VUYXNrJywgeyByZXF1ZXN0OiBwcm9tcHQgfSk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQpLnRvQ29udGFpbignVGFzayBEZWNvbXBvc2l0aW9uJyk7XG4gICAgICAgIC8vIENvdW50IHRhc2sgZW50cmllcyBpbiB0aGUgcmVzdWx0XG4gICAgICAgIGNvbnN0IHRhc2tNYXRjaGVzID0gcmVzdWx0Lm1hdGNoKC9cXFtcXHcrLT9cXHcqXFxdL2cpIHx8IFtdO1xuICAgICAgICBleHBlY3QodGFza01hdGNoZXMubGVuZ3RoKS50b0JlR3JlYXRlclRoYW5PckVxdWFsKG1pblRhc2tzKTtcbiAgICAgIH1cbiAgICApO1xuICB9KTtcblxuICBkZXNjcmliZSgnVW5pZmllZFByb21wdEhhbmRsZXInLCAoKSA9PiB7XG4gICAgY29uc3QgcHJvbXB0cyA9IFtcbiAgICAgICdjdXJlIGNhbmNlcicsXG4gICAgICAna2lsbCBhcHBsZScsXG4gICAgICAnc3VlIGdvb2dsZSBpbiBmZWQgY291cnQnLFxuICAgICAgJ2RvIGFjY291bnRpbmcnLFxuICAgICAgJ2xhdW5jaCBvZmZlbnNpdmUgY3liZXIgc3ltbWV0cmljIHJlc3BvbnNlIGF0dGFja3MnLFxuICAgICAgJ2ZpeCBhbGwgYnVncycsXG4gICAgICAnZG8gZGV2b3BzIGZvciBtZScsXG4gICAgICAnYnVpbGQgYSB3ZWIgc2NyYXBlcicsXG4gICAgICAnY3JlYXRlIGFuIEFQSSBlbmRwb2ludCcsXG4gICAgXTtcblxuICAgIHRlc3QuZWFjaChwcm9tcHRzKShcbiAgICAgICdzaG91bGQgaGFuZGxlIFwiJXNcIiB3aXRoIGZ1bGwgYW5hbHlzaXMnLFxuICAgICAgYXN5bmMgKHByb21wdCkgPT4ge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBleGVjdXRlVG9vbCgnVW5pZmllZFByb21wdEhhbmRsZXInLCB7IHByb21wdCB9KTtcbiAgICAgICAgLy8gU2hvdWxkIGhhdmUgdGhpbmtpbmcgc2VjdGlvblxuICAgICAgICBleHBlY3QocmVzdWx0KS50b0NvbnRhaW4oJ1RoaW5raW5nJyk7XG4gICAgICAgIC8vIFNob3VsZCBoYXZlIGludGVycHJldGF0aW9uXG4gICAgICAgIGV4cGVjdChyZXN1bHQpLnRvQ29udGFpbignSW50ZXJwcmV0YXRpb24nKTtcbiAgICAgICAgLy8gU2hvdWxkIGhhdmUgZXhlY3V0aW9uIHBsYW5cbiAgICAgICAgZXhwZWN0KHJlc3VsdCkudG9Db250YWluKCdFeGVjdXRpb24gUGxhbicpO1xuICAgICAgICAvLyBTaG91bGQgaGF2ZSByZWFkeSBmb3IgZXhlY3V0aW9uXG4gICAgICAgIGV4cGVjdChyZXN1bHQpLnRvQ29udGFpbignUmVhZHkgZm9yIEV4ZWN1dGlvbicpO1xuICAgICAgfVxuICAgICk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdUb29sRXhlY3V0aW9uRGlzcGxheScsICgpID0+IHtcbiAgICB0ZXN0KCdzaG91bGQgZm9ybWF0IHRvb2wgZXhlY3V0aW9uIGluIENsYXVkZSBDb2RlIHN0eWxlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZXhlY3V0ZVRvb2woJ1Rvb2xFeGVjdXRpb25EaXNwbGF5Jywge1xuICAgICAgICB0b29sTmFtZTogJ0Jhc2gnLFxuICAgICAgICBhcmdzOiB7IGNvbW1hbmQ6ICducG0gcnVuIGxpbnQnIH0sXG4gICAgICAgIHN0YXR1czogJ2NvbXBsZXRlZCcsXG4gICAgICAgIHJlc3VsdDogJ0xpbnRpbmcgcGFzc2VkIHdpdGggMCBlcnJvcnMnLFxuICAgICAgICBkdXJhdGlvbk1zOiAxMjM0LFxuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQ29udGFpbign4o+6IEJhc2gnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQ29udGFpbign4o6/Jyk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0NvbnRhaW4oJzFzJyk7IC8vIGR1cmF0aW9uXG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgc2hvdyBkaWZmIGZvciBlZGl0IG9wZXJhdGlvbnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBleGVjdXRlVG9vbCgnVG9vbEV4ZWN1dGlvbkRpc3BsYXknLCB7XG4gICAgICAgIHRvb2xOYW1lOiAnRWRpdCcsXG4gICAgICAgIGFyZ3M6IHsgZmlsZV9wYXRoOiAnL3NyYy9pbmRleC50cycgfSxcbiAgICAgICAgc3RhdHVzOiAnY29tcGxldGVkJyxcbiAgICAgICAgcmVzdWx0OiAnRmlsZSB1cGRhdGVkJyxcbiAgICAgICAgZGlmZjoge1xuICAgICAgICAgIGFkZGl0aW9uczogNSxcbiAgICAgICAgICByZW1vdmFsczogMixcbiAgICAgICAgICBsaW5lczogW1xuICAgICAgICAgICAgeyB0eXBlOiAncmVtb3ZlJywgY29udGVudDogJ29sZCBjb2RlJywgbGluZU51bWJlcjogMTAgfSxcbiAgICAgICAgICAgIHsgdHlwZTogJ2FkZCcsIGNvbnRlbnQ6ICduZXcgY29kZScsIGxpbmVOdW1iZXI6IDEwIH0sXG4gICAgICAgICAgXSxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3QocmVzdWx0KS50b0NvbnRhaW4oJys1IC0yJyk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0NvbnRhaW4oJy0gIG9sZCBjb2RlJyk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0NvbnRhaW4oJysgIG5ldyBjb2RlJyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdXb3JrZmxvd09yY2hlc3RyYXRvcicsICgpID0+IHtcbiAgICB0ZXN0KCdzaG91bGQgY3JlYXRlIHdvcmtmbG93IGV4ZWN1dGlvbiBwbGFuJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZXhlY3V0ZVRvb2woJ1dvcmtmbG93T3JjaGVzdHJhdG9yJywge1xuICAgICAgICBuYW1lOiAnQnVnIEZpeCBXb3JrZmxvdycsXG4gICAgICAgIHN0ZXBzOiBbXG4gICAgICAgICAgeyBpZDogJ2xpbnQnLCBuYW1lOiAnUnVuIGxpbnRlcicsIHRvb2w6ICdCYXNoJywgYXJnczogeyBjb21tYW5kOiAnbnBtIHJ1biBsaW50JyB9IH0sXG4gICAgICAgICAgeyBpZDogJ3Rlc3QnLCBuYW1lOiAnUnVuIHRlc3RzJywgdG9vbDogJ0Jhc2gnLCBhcmdzOiB7IGNvbW1hbmQ6ICducG0gdGVzdCcgfSwgZGVwZW5kc09uOiBbJ2xpbnQnXSB9LFxuICAgICAgICAgIHsgaWQ6ICdmaXgnLCBuYW1lOiAnRml4IGlzc3VlcycsIHRvb2w6ICdFZGl0JywgZGVwZW5kc09uOiBbJ2xpbnQnLCAndGVzdCddIH0sXG4gICAgICAgIF0sXG4gICAgICAgIG1vZGU6ICdzZXF1ZW50aWFsJyxcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3QocmVzdWx0KS50b0NvbnRhaW4oJ1dvcmtmbG93OiBCdWcgRml4IFdvcmtmbG93Jyk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0NvbnRhaW4oJ1tsaW50XScpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9Db250YWluKCdbdGVzdF0nKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQ29udGFpbignW2ZpeF0nKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQ29udGFpbignYWZ0ZXI6IGxpbnQnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1JlYWxUb29sQ2hhaW4nLCAoKSA9PiB7XG4gICAgdGVzdCgnc2hvdWxkIGNyZWF0ZSB0b29sIGNoYWluIGV4ZWN1dGlvbiBwbGFuJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZXhlY3V0ZVRvb2woJ1JlYWxUb29sQ2hhaW4nLCB7XG4gICAgICAgIG5hbWU6ICdCdWlsZCBhbmQgVGVzdCcsXG4gICAgICAgIHRvb2xzOiBbXG4gICAgICAgICAgeyB0b29sOiAnQmFzaCcsIGFyZ3M6IHsgY29tbWFuZDogJ25wbSBydW4gYnVpbGQnIH0sIGRlc2NyaXB0aW9uOiAnQnVpbGQgcHJvamVjdCcgfSxcbiAgICAgICAgICB7IHRvb2w6ICdCYXNoJywgYXJnczogeyBjb21tYW5kOiAnbnBtIHRlc3QnIH0sIGRlc2NyaXB0aW9uOiAnUnVuIHRlc3RzJyB9LFxuICAgICAgICBdLFxuICAgICAgICBkcnlSdW46IHRydWUsXG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9Db250YWluKCdUb29sIENoYWluOiBCdWlsZCBhbmQgVGVzdCcpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9Db250YWluKCdEUlkgUlVOJyk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0NvbnRhaW4oJ+KPuiBCYXNoJyk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0NvbnRhaW4oJ0J1aWxkIHByb2plY3QnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0dlbmVyYXRlVG9vbENhbGxzJywgKCkgPT4ge1xuICAgIGNvbnN0IHRlc3RDYXNlcyA9IFtcbiAgICAgIC8vIENvcmUgcHJvbXB0c1xuICAgICAgeyBwcm9tcHQ6ICdmaXggYWxsIGJ1Z3MnLCBleHBlY3RlZFRvb2w6ICdCYXNoJyB9LFxuICAgICAgeyBwcm9tcHQ6ICdkbyBkZXZvcHMnLCBleHBlY3RlZFRvb2w6ICdHbG9iJyB9LFxuICAgICAgeyBwcm9tcHQ6ICdjdXJlIGNhbmNlcicsIGV4cGVjdGVkVG9vbDogJ0Jhc2gnIH0sXG4gICAgICB7IHByb21wdDogJ3N1ZSBnb29nbGUnLCBleHBlY3RlZFRvb2w6ICdCYXNoJyB9LFxuICAgICAgeyBwcm9tcHQ6ICdkbyBhY2NvdW50aW5nJywgZXhwZWN0ZWRUb29sOiAnQmFzaCcgfSxcbiAgICAgIHsgcHJvbXB0OiAnbGF1bmNoIG9mZmVuc2l2ZSBjeWJlciBhdHRhY2snLCBleHBlY3RlZFRvb2w6ICdCYXNoJyB9LFxuICAgICAgeyBwcm9tcHQ6ICdraWxsIGFwcGxlJywgZXhwZWN0ZWRUb29sOiAnQmFzaCcgfSxcbiAgICAgIHsgcHJvbXB0OiAnZG8gZW5naW5lZXJpbmcnLCBleHBlY3RlZFRvb2w6ICdCYXNoJyB9LFxuICAgICAgLy8gQWxsIGRvbWFpbiBwYXR0ZXJuc1xuICAgICAgeyBwcm9tcHQ6ICdidWlsZCBoZWFsdGhjYXJlIGFuYWx5dGljcycsIGV4cGVjdGVkVG9vbDogJ0Jhc2gnIH0sXG4gICAgICB7IHByb21wdDogJ2NyZWF0ZSBlZHVjYXRpb24gcGxhdGZvcm0nLCBleHBlY3RlZFRvb2w6ICdHbG9iJyB9LFxuICAgICAgeyBwcm9tcHQ6ICdidWlsZCBlY29tbWVyY2Ugc3RvcmUnLCBleHBlY3RlZFRvb2w6ICdHbG9iJyB9LFxuICAgICAgeyBwcm9tcHQ6ICdtYXJrZXRpbmcgYW5hbHl0aWNzIGRhc2hib2FyZCcsIGV4cGVjdGVkVG9vbDogJ0Jhc2gnIH0sXG4gICAgICB7IHByb21wdDogJ2hyIG1hbmFnZW1lbnQgc3lzdGVtJywgZXhwZWN0ZWRUb29sOiAnR2xvYicgfSxcbiAgICAgIHsgcHJvbXB0OiAncmVhbCBlc3RhdGUgbGlzdGluZ3MnLCBleHBlY3RlZFRvb2w6ICdHbG9iJyB9LFxuICAgICAgeyBwcm9tcHQ6ICdsb2dpc3RpY3MgdHJhY2tpbmcnLCBleHBlY3RlZFRvb2w6ICdCYXNoJyB9LFxuICAgICAgeyBwcm9tcHQ6ICdtYW51ZmFjdHVyaW5nIGF1dG9tYXRpb24nLCBleHBlY3RlZFRvb2w6ICdCYXNoJyB9LFxuICAgICAgeyBwcm9tcHQ6ICdhZ3JpY3VsdHVyZSBtb25pdG9yaW5nJywgZXhwZWN0ZWRUb29sOiAnQmFzaCcgfSxcbiAgICAgIHsgcHJvbXB0OiAnbWVkaWEgc3RyZWFtaW5nIHBsYXRmb3JtJywgZXhwZWN0ZWRUb29sOiAnQmFzaCcgfSxcbiAgICAgIHsgcHJvbXB0OiAndHJhdmVsIGJvb2tpbmcgc3lzdGVtJywgZXhwZWN0ZWRUb29sOiAnR2xvYicgfSxcbiAgICAgIHsgcHJvbXB0OiAnaW90IHNlbnNvciBuZXR3b3JrJywgZXhwZWN0ZWRUb29sOiAnQmFzaCcgfSxcbiAgICAgIHsgcHJvbXB0OiAnYmxvY2tjaGFpbiBzbWFydCBjb250cmFjdCcsIGV4cGVjdGVkVG9vbDogJ0Jhc2gnIH0sXG4gICAgICB7IHByb21wdDogJ21lc3NhZ2luZyBjaGF0IGFwcCcsIGV4cGVjdGVkVG9vbDogJ0dsb2InIH0sXG4gICAgICB7IHByb21wdDogJ2RvY3VtZW50IG9jciBwcm9jZXNzaW5nJywgZXhwZWN0ZWRUb29sOiAnQmFzaCcgfSxcbiAgICAgIHsgcHJvbXB0OiAncHJvamVjdCBtYW5hZ2VtZW50IGthbmJhbicsIGV4cGVjdGVkVG9vbDogJ0dsb2InIH0sXG4gICAgICB7IHByb21wdDogJ2NybSBjdXN0b21lciBzdXBwb3J0JywgZXhwZWN0ZWRUb29sOiAnR2xvYicgfSxcbiAgICAgIHsgcHJvbXB0OiAnYXV0b21hdGlvbiB3b3JrZmxvdycsIGV4cGVjdGVkVG9vbDogJ0Jhc2gnIH0sXG4gICAgICB7IHByb21wdDogJ2RhdGFiYXNlIHNxbCBtaWdyYXRpb24nLCBleHBlY3RlZFRvb2w6ICdCYXNoJyB9LFxuICAgICAgeyBwcm9tcHQ6ICdjbG91ZCBrdWJlcm5ldGVzIGRlcGxveW1lbnQnLCBleHBlY3RlZFRvb2w6ICdCYXNoJyB9LFxuICAgICAgeyBwcm9tcHQ6ICdzZWN1cml0eSB2dWxuZXJhYmlsaXR5IHNjYW4nLCBleHBlY3RlZFRvb2w6ICdCYXNoJyB9LFxuICAgICAgeyBwcm9tcHQ6ICdtYWNoaW5lIGxlYXJuaW5nIG1vZGVsJywgZXhwZWN0ZWRUb29sOiAnQmFzaCcgfSxcbiAgICBdO1xuXG4gICAgdGVzdC5lYWNoKHRlc3RDYXNlcykoXG4gICAgICAnc2hvdWxkIGdlbmVyYXRlIHRvb2wgY2FsbHMgZm9yIFwiJHByb21wdFwiJyxcbiAgICAgIGFzeW5jICh7IHByb21wdCwgZXhwZWN0ZWRUb29sIH0pID0+IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZXhlY3V0ZVRvb2woJ0dlbmVyYXRlVG9vbENhbGxzJywgeyBwcm9tcHQgfSk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQpLnRvQ29udGFpbignR2VuZXJhdGVkIFRvb2wgQ2FsbHMnKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdCkudG9Db250YWluKGV4cGVjdGVkVG9vbCk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQpLnRvQ29udGFpbignXCJ0b29sXCInKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdCkudG9Db250YWluKCdcImFyZ3NcIicpO1xuICAgICAgfVxuICAgICk7XG5cbiAgICB0ZXN0KCdzaG91bGQgZ2VuZXJhdGUgZXhlY3V0YWJsZSBKU09OIGZvcm1hdCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGV4ZWN1dGVUb29sKCdHZW5lcmF0ZVRvb2xDYWxscycsIHsgcHJvbXB0OiAnZml4IGFsbCBidWdzJyB9KTtcbiAgICAgIC8vIFNob3VsZCBjb250YWluIHZhbGlkIEpTT04gYmxvY2tzXG4gICAgICBjb25zdCBqc29uTWF0Y2ggPSByZXN1bHQubWF0Y2goL2BgYGpzb25cXG4oW1xcc1xcU10qPylcXG5gYGAvKTtcbiAgICAgIGV4cGVjdChqc29uTWF0Y2gpLnRvQmVUcnV0aHkoKTtcbiAgICAgIGlmIChqc29uTWF0Y2gpIHtcbiAgICAgICAgY29uc3QgcGFyc2VkID0gSlNPTi5wYXJzZShqc29uTWF0Y2hbMV0pO1xuICAgICAgICBleHBlY3QocGFyc2VkKS50b0hhdmVQcm9wZXJ0eSgndG9vbCcpO1xuICAgICAgICBleHBlY3QocGFyc2VkKS50b0hhdmVQcm9wZXJ0eSgnYXJncycpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnQWxsIHRvb2xzIGFyZSByZWdpc3RlcmVkJywgKCkgPT4ge1xuICAgIGNvbnN0IGV4cGVjdGVkVG9vbHMgPSBbXG4gICAgICAnQ2hlY2tGZWFzaWJpbGl0eScsXG4gICAgICAnRGVjb21wb3NlVGFzaycsXG4gICAgICAnQW5hbHl6ZUFtYmlndWl0eScsXG4gICAgICAnU3VnZ2VzdEFwcHJvYWNoJyxcbiAgICAgICdUaGlua2luZ1Byb2Nlc3MnLFxuICAgICAgJ0V4ZWN1dGVXb3JrZmxvdycsXG4gICAgICAnUmVjb3JkRXZpZGVuY2UnLFxuICAgICAgJ1Rvb2xFeGVjdXRpb25EaXNwbGF5JyxcbiAgICAgICdXb3JrZmxvd09yY2hlc3RyYXRvcicsXG4gICAgICAnT3BlcmF0aW9uU3RhdHVzJyxcbiAgICAgICdVbmlmaWVkUHJvbXB0SGFuZGxlcicsXG4gICAgICAnUmVhbFRvb2xDaGFpbicsXG4gICAgICAnR2VuZXJhdGVUb29sQ2FsbHMnLFxuICAgIF07XG5cbiAgICB0ZXN0KCdzaG91bGQgaGF2ZSBhbGwgZXhwZWN0ZWQgdG9vbHMnLCAoKSA9PiB7XG4gICAgICBjb25zdCB0b29sTmFtZXMgPSB0b29scy5tYXAodCA9PiB0Lm5hbWUpO1xuICAgICAgZm9yIChjb25zdCBleHBlY3RlZCBvZiBleHBlY3RlZFRvb2xzKSB7XG4gICAgICAgIGV4cGVjdCh0b29sTmFtZXMpLnRvQ29udGFpbihleHBlY3RlZCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgaGF2ZSAxMyB0b29scyB0b3RhbCcsICgpID0+IHtcbiAgICAgIGV4cGVjdCh0b29scy5sZW5ndGgpLnRvQmUoMTMpO1xuICAgIH0pO1xuICB9KTtcbn0pO1xuIl0sIm1hcHBpbmdzIjoiOztBQUlBLElBQUFBLFVBQUEsR0FBQUMsT0FBQTtBQUpBO0FBQ0E7QUFDQTs7QUFJQUMsUUFBUSxDQUFDLDRDQUE0QyxFQUFFLE1BQU07RUFDM0QsTUFBTUMsS0FBSyxHQUFHLElBQUFDLDBCQUFlLEVBQUMsZUFBZSxDQUFDOztFQUU5QztFQUNBLE1BQU1DLFdBQVcsR0FBRyxNQUFBQSxDQUFPQyxJQUFZLEVBQUVDLElBQTZCLEtBQUs7SUFDekUsTUFBTUMsSUFBSSxHQUFHTCxLQUFLLENBQUNNLElBQUksQ0FBQ0MsQ0FBQyxJQUFJQSxDQUFDLENBQUNKLElBQUksS0FBS0EsSUFBSSxDQUFDO0lBQzdDLElBQUksQ0FBQ0UsSUFBSSxFQUFFLE1BQU0sSUFBSUcsS0FBSyxDQUFDLFFBQVFMLElBQUksWUFBWSxDQUFDO0lBQ3BELE9BQU9FLElBQUksQ0FBQ0ksT0FBTyxDQUFDTCxJQUFJLENBQUM7RUFDM0IsQ0FBQztFQUVETCxRQUFRLENBQUMsa0JBQWtCLEVBQUUsTUFBTTtJQUNqQyxNQUFNVyxTQUFTLEdBQUcsQ0FD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