3888a5f9ac5d4348c3fdd0c4fbba4d96
/* istanbul ignore next */
function cov_22f02z566z() {
  var path = "/Users/bo/GitHub/agi-core-CLI-coding/src/ui/telemetry/ResponseTracker.ts";
  var hash = "4ea3861ae49e3020d84248dbd0ba20ea44ddc571";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/Users/bo/GitHub/agi-core-CLI-coding/src/ui/telemetry/ResponseTracker.ts",
    statementMap: {
      "0": {
        start: {
          line: 15,
          column: 19
        },
        end: {
          line: 15,
          column: 20
        }
      },
      "1": {
        start: {
          line: 16,
          column: 36
        },
        end: {
          line: 16,
          column: 40
        }
      },
      "2": {
        start: {
          line: 17,
          column: 42
        },
        end: {
          line: 17,
          column: 46
        }
      },
      "3": {
        start: {
          line: 22,
          column: 23
        },
        end: {
          line: 22,
          column: 37
        }
      },
      "4": {
        start: {
          line: 23,
          column: 4
        },
        end: {
          line: 23,
          column: 33
        }
      },
      "5": {
        start: {
          line: 23,
          column: 21
        },
        end: {
          line: 23,
          column: 33
        }
      },
      "6": {
        start: {
          line: 25,
          column: 4
        },
        end: {
          line: 28,
          column: 5
        }
      },
      "7": {
        start: {
          line: 26,
          column: 6
        },
        end: {
          line: 26,
          column: 38
        }
      },
      "8": {
        start: {
          line: 27,
          column: 6
        },
        end: {
          line: 27,
          column: 34
        }
      },
      "9": {
        start: {
          line: 30,
          column: 4
        },
        end: {
          line: 32,
          column: 19
        }
      },
      "10": {
        start: {
          line: 34,
          column: 4
        },
        end: {
          line: 39,
          column: 7
        }
      },
      "11": {
        start: {
          line: 41,
          column: 4
        },
        end: {
          line: 41,
          column: 25
        }
      },
      "12": {
        start: {
          line: 45,
          column: 23
        },
        end: {
          line: 45,
          column: 38
        }
      },
      "13": {
        start: {
          line: 46,
          column: 4
        },
        end: {
          line: 46,
          column: 33
        }
      },
      "14": {
        start: {
          line: 46,
          column: 21
        },
        end: {
          line: 46,
          column: 33
        }
      },
      "15": {
        start: {
          line: 48,
          column: 15
        },
        end: {
          line: 48,
          column: 70
        }
      },
      "16": {
        start: {
          line: 49,
          column: 4
        },
        end: {
          line: 51,
          column: 5
        }
      },
      "17": {
        start: {
          line: 50,
          column: 6
        },
        end: {
          line: 50,
          column: 23
        }
      },
      "18": {
        start: {
          line: 53,
          column: 20
        },
        end: {
          line: 53,
          column: 75
        }
      },
      "19": {
        start: {
          line: 55,
          column: 4
        },
        end: {
          line: 63,
          column: 7
        }
      },
      "20": {
        start: {
          line: 65,
          column: 4
        },
        end: {
          line: 65,
          column: 31
        }
      },
      "21": {
        start: {
          line: 66,
          column: 4
        },
        end: {
          line: 66,
          column: 25
        }
      },
      "22": {
        start: {
          line: 67,
          column: 4
        },
        end: {
          line: 67,
          column: 14
        }
      },
      "23": {
        start: {
          line: 71,
          column: 4
        },
        end: {
          line: 71,
          column: 42
        }
      },
      "24": {
        start: {
          line: 71,
          column: 29
        },
        end: {
          line: 71,
          column: 42
        }
      },
      "25": {
        start: {
          line: 72,
          column: 4
        },
        end: {
          line: 72,
          column: 53
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 19,
            column: 2
          },
          end: {
            line: 19,
            column: 3
          }
        },
        loc: {
          start: {
            line: 19,
            column: 55
          },
          end: {
            line: 19,
            column: 57
          }
        },
        line: 19
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 21,
            column: 2
          },
          end: {
            line: 21,
            column: 3
          }
        },
        loc: {
          start: {
            line: 21,
            column: 48
          },
          end: {
            line: 42,
            column: 3
          }
        },
        line: 21
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 44,
            column: 2
          },
          end: {
            line: 44,
            column: 3
          }
        },
        loc: {
          start: {
            line: 44,
            column: 92
          },
          end: {
            line: 68,
            column: 3
          }
        },
        line: 44
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 70,
            column: 2
          },
          end: {
            line: 70,
            column: 3
          }
        },
        loc: {
          start: {
            line: 70,
            column: 61
          },
          end: {
            line: 73,
            column: 3
          }
        },
        line: 70
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 23,
            column: 4
          },
          end: {
            line: 23,
            column: 33
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 23,
            column: 4
          },
          end: {
            line: 23,
            column: 33
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 23
      },
      "1": {
        loc: {
          start: {
            line: 25,
            column: 4
          },
          end: {
            line: 28,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 25,
            column: 4
          },
          end: {
            line: 28,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 25
      },
      "2": {
        loc: {
          start: {
            line: 30,
            column: 26
          },
          end: {
            line: 32,
            column: 18
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 31,
            column: 8
          },
          end: {
            line: 31,
            column: 47
          }
        }, {
          start: {
            line: 32,
            column: 8
          },
          end: {
            line: 32,
            column: 18
          }
        }],
        line: 30
      },
      "3": {
        loc: {
          start: {
            line: 44,
            column: 35
          },
          end: {
            line: 44,
            column: 75
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 44,
            column: 73
          },
          end: {
            line: 44,
            column: 75
          }
        }],
        line: 44
      },
      "4": {
        loc: {
          start: {
            line: 46,
            column: 4
          },
          end: {
            line: 46,
            column: 33
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 46,
            column: 4
          },
          end: {
            line: 46,
            column: 33
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 46
      },
      "5": {
        loc: {
          start: {
            line: 48,
            column: 15
          },
          end: {
            line: 48,
            column: 70
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 48,
            column: 15
          },
          end: {
            line: 48,
            column: 34
          }
        }, {
          start: {
            line: 48,
            column: 38
          },
          end: {
            line: 48,
            column: 51
          }
        }, {
          start: {
            line: 48,
            column: 55
          },
          end: {
            line: 48,
            column: 70
          }
        }],
        line: 48
      },
      "6": {
        loc: {
          start: {
            line: 49,
            column: 4
          },
          end: {
            line: 51,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 49,
            column: 4
          },
          end: {
            line: 51,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 49
      },
      "7": {
        loc: {
          start: {
            line: 53,
            column: 20
          },
          end: {
            line: 53,
            column: 75
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 53,
            column: 20
          },
          end: {
            line: 53,
            column: 44
          }
        }, {
          start: {
            line: 53,
            column: 48
          },
          end: {
            line: 53,
            column: 67
          }
        }, {
          start: {
            line: 53,
            column: 71
          },
          end: {
            line: 53,
            column: 75
          }
        }],
        line: 53
      },
      "8": {
        loc: {
          start: {
            line: 60,
            column: 22
          },
          end: {
            line: 60,
            column: 66
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 60,
            column: 32
          },
          end: {
            line: 60,
            column: 54
          }
        }, {
          start: {
            line: 60,
            column: 57
          },
          end: {
            line: 60,
            column: 66
          }
        }],
        line: 60
      },
      "9": {
        loc: {
          start: {
            line: 61,
            column: 14
          },
          end: {
            line: 61,
            column: 40
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 61,
            column: 14
          },
          end: {
            line: 61,
            column: 29
          }
        }, {
          start: {
            line: 61,
            column: 33
          },
          end: {
            line: 61,
            column: 40
          }
        }],
        line: 61
      },
      "10": {
        loc: {
          start: {
            line: 62,
            column: 13
          },
          end: {
            line: 62,
            column: 35
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 62,
            column: 13
          },
          end: {
            line: 62,
            column: 27
          }
        }, {
          start: {
            line: 62,
            column: 31
          },
          end: {
            line: 62,
            column: 35
          }
        }],
        line: 62
      },
      "11": {
        loc: {
          start: {
            line: 70,
            column: 34
          },
          end: {
            line: 70,
            column: 51
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 70,
            column: 48
          },
          end: {
            line: 70,
            column: 51
          }
        }],
        line: 70
      },
      "12": {
        loc: {
          start: {
            line: 71,
            column: 4
          },
          end: {
            line: 71,
            column: 42
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 71,
            column: 4
          },
          end: {
            line: 71,
            column: 42
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 71
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0],
      "4": [0, 0],
      "5": [0, 0, 0],
      "6": [0, 0],
      "7": [0, 0, 0],
      "8": [0, 0],
      "9": [0, 0],
      "10": [0, 0],
      "11": [0],
      "12": [0, 0]
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "4ea3861ae49e3020d84248dbd0ba20ea44ddc571"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_22f02z566z = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_22f02z566z();
/**
 * Tracks assistant thought/response pairs as single events.
 * Ensures multi-line messages are counted once per response.
 */
export class ResponseTracker {
  nextId =
  /* istanbul ignore next */
  (cov_22f02z566z().s[0]++, 0);
  activeId =
  /* istanbul ignore next */
  (cov_22f02z566z().s[1]++, null);
  pendingThought =
  /* istanbul ignore next */
  (cov_22f02z566z().s[2]++, null);
  constructor(telemetry) {
    /* istanbul ignore next */
    this.telemetry = telemetry;
    /* istanbul ignore next */
    cov_22f02z566z().f[0]++;
  }
  recordThought(thought) {
    /* istanbul ignore next */
    cov_22f02z566z().f[1]++;
    const normalized =
    /* istanbul ignore next */
    (cov_22f02z566z().s[3]++, thought.trim());
    /* istanbul ignore next */
    cov_22f02z566z().s[4]++;
    if (!normalized) {
      /* istanbul ignore next */
      cov_22f02z566z().b[0][0]++;
      cov_22f02z566z().s[5]++;
      return null;
    } else
    /* istanbul ignore next */
    {
      cov_22f02z566z().b[0][1]++;
    }
    cov_22f02z566z().s[6]++;
    if (!this.activeId) {
      /* istanbul ignore next */
      cov_22f02z566z().b[1][0]++;
      cov_22f02z566z().s[7]++;
      this.activeId = this.nextId + 1;
      /* istanbul ignore next */
      cov_22f02z566z().s[8]++;
      this.nextId = this.activeId;
    } else
    /* istanbul ignore next */
    {
      cov_22f02z566z().b[1][1]++;
    }
    cov_22f02z566z().s[9]++;
    this.pendingThought = this.pendingThought ?
    /* istanbul ignore next */
    (cov_22f02z566z().b[2][0]++, `${this.pendingThought}\n${normalized}`) :
    /* istanbul ignore next */
    (cov_22f02z566z().b[2][1]++, normalized);
    /* istanbul ignore next */
    cov_22f02z566z().s[10]++;
    this.telemetry.recordEvent('assistant.thought', {
      id: this.activeId,
      phase: 'thought',
      summary: this.truncate(normalized),
      length: normalized.length
    });
    /* istanbul ignore next */
    cov_22f02z566z().s[11]++;
    return this.activeId;
  }
  recordResponse(response, metadata =
  /* istanbul ignore next */
  (cov_22f02z566z().b[3][0]++, {})) {
    /* istanbul ignore next */
    cov_22f02z566z().f[2]++;
    const normalized =
    /* istanbul ignore next */
    (cov_22f02z566z().s[12]++, response.trim());
    /* istanbul ignore next */
    cov_22f02z566z().s[13]++;
    if (!normalized) {
      /* istanbul ignore next */
      cov_22f02z566z().b[4][0]++;
      cov_22f02z566z().s[14]++;
      return null;
    } else
    /* istanbul ignore next */
    {
      cov_22f02z566z().b[4][1]++;
    }
    const id =
    /* istanbul ignore next */
    (cov_22f02z566z().s[15]++,
    /* istanbul ignore next */
    (cov_22f02z566z().b[5][0]++, metadata.responseId) ??
    /* istanbul ignore next */
    (cov_22f02z566z().b[5][1]++, this.activeId) ??
    /* istanbul ignore next */
    (cov_22f02z566z().b[5][2]++, this.nextId + 1));
    /* istanbul ignore next */
    cov_22f02z566z().s[16]++;
    if (id > this.nextId) {
      /* istanbul ignore next */
      cov_22f02z566z().b[6][0]++;
      cov_22f02z566z().s[17]++;
      this.nextId = id;
    } else
    /* istanbul ignore next */
    {
      cov_22f02z566z().b[6][1]++;
    }
    const thought =
    /* istanbul ignore next */
    (cov_22f02z566z().s[18]++,
    /* istanbul ignore next */
    (cov_22f02z566z().b[7][0]++, metadata.thought?.trim()) ||
    /* istanbul ignore next */
    (cov_22f02z566z().b[7][1]++, this.pendingThought) ||
    /* istanbul ignore next */
    (cov_22f02z566z().b[7][2]++, null));
    /* istanbul ignore next */
    cov_22f02z566z().s[19]++;
    this.telemetry.recordEvent('assistant.response', {
      id,
      phase: 'response',
      summary: this.truncate(normalized),
      length: normalized.length,
      thoughtSummary: thought ?
      /* istanbul ignore next */
      (cov_22f02z566z().b[8][0]++, this.truncate(thought)) :
      /* istanbul ignore next */
      (cov_22f02z566z().b[8][1]++, undefined),
      source:
      /* istanbul ignore next */
      (cov_22f02z566z().b[9][0]++, metadata.source) ??
      /* istanbul ignore next */
      (cov_22f02z566z().b[9][1]++, 'final'),
      usage:
      /* istanbul ignore next */
      (cov_22f02z566z().b[10][0]++, metadata.usage) ??
      /* istanbul ignore next */
      (cov_22f02z566z().b[10][1]++, null)
    });
    /* istanbul ignore next */
    cov_22f02z566z().s[20]++;
    this.pendingThought = null;
    /* istanbul ignore next */
    cov_22f02z566z().s[21]++;
    this.activeId = null;
    /* istanbul ignore next */
    cov_22f02z566z().s[22]++;
    return id;
  }
  truncate(value, max =
  /* istanbul ignore next */
  (cov_22f02z566z().b[11][0]++, 240)) {
    /* istanbul ignore next */
    cov_22f02z566z().f[3]++;
    cov_22f02z566z().s[23]++;
    if (value.length <= max) {
      /* istanbul ignore next */
      cov_22f02z566z().b[12][0]++;
      cov_22f02z566z().s[24]++;
      return value;
    } else
    /* istanbul ignore next */
    {
      cov_22f02z566z().b[12][1]++;
    }
    cov_22f02z566z().s[25]++;
    return `${value.slice(0, max - 3).trimEnd()}...`;
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMjJmMDJ6NTY2eiIsImFjdHVhbENvdmVyYWdlIiwiUmVzcG9uc2VUcmFja2VyIiwibmV4dElkIiwicyIsImFjdGl2ZUlkIiwicGVuZGluZ1Rob3VnaHQiLCJjb25zdHJ1Y3RvciIsInRlbGVtZXRyeSIsImYiLCJyZWNvcmRUaG91Z2h0IiwidGhvdWdodCIsIm5vcm1hbGl6ZWQiLCJ0cmltIiwiYiIsInJlY29yZEV2ZW50IiwiaWQiLCJwaGFzZSIsInN1bW1hcnkiLCJ0cnVuY2F0ZSIsImxlbmd0aCIsInJlY29yZFJlc3BvbnNlIiwicmVzcG9uc2UiLCJtZXRhZGF0YSIsInJlc3BvbnNlSWQiLCJ0aG91Z2h0U3VtbWFyeSIsInVuZGVmaW5lZCIsInNvdXJjZSIsInVzYWdlIiwidmFsdWUiLCJtYXgiLCJzbGljZSIsInRyaW1FbmQiXSwic291cmNlcyI6WyJSZXNwb25zZVRyYWNrZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBVSVRlbGVtZXRyeSB9IGZyb20gJy4vVUlUZWxlbWV0cnkuanMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIEFzc2lzdGFudFJlc3BvbnNlTWV0YWRhdGEge1xuICB0aG91Z2h0Pzogc3RyaW5nIHwgbnVsbDtcbiAgcmVzcG9uc2VJZD86IG51bWJlcjtcbiAgdXNhZ2U/OiB1bmtub3duO1xuICBzb3VyY2U/OiAnZmluYWwnIHwgJ3N0cmVhbScgfCAnbmFycmF0aXZlJztcbn1cblxuLyoqXG4gKiBUcmFja3MgYXNzaXN0YW50IHRob3VnaHQvcmVzcG9uc2UgcGFpcnMgYXMgc2luZ2xlIGV2ZW50cy5cbiAqIEVuc3VyZXMgbXVsdGktbGluZSBtZXNzYWdlcyBhcmUgY291bnRlZCBvbmNlIHBlciByZXNwb25zZS5cbiAqL1xuZXhwb3J0IGNsYXNzIFJlc3BvbnNlVHJhY2tlciB7XG4gIHByaXZhdGUgbmV4dElkID0gMDtcbiAgcHJpdmF0ZSBhY3RpdmVJZDogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgcGVuZGluZ1Rob3VnaHQ6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgdGVsZW1ldHJ5OiBVSVRlbGVtZXRyeSkge31cblxuICByZWNvcmRUaG91Z2h0KHRob3VnaHQ6IHN0cmluZyk6IG51bWJlciB8IG51bGwge1xuICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSB0aG91Z2h0LnRyaW0oKTtcbiAgICBpZiAoIW5vcm1hbGl6ZWQpIHJldHVybiBudWxsO1xuXG4gICAgaWYgKCF0aGlzLmFjdGl2ZUlkKSB7XG4gICAgICB0aGlzLmFjdGl2ZUlkID0gdGhpcy5uZXh0SWQgKyAxO1xuICAgICAgdGhpcy5uZXh0SWQgPSB0aGlzLmFjdGl2ZUlkO1xuICAgIH1cblxuICAgIHRoaXMucGVuZGluZ1Rob3VnaHQgPSB0aGlzLnBlbmRpbmdUaG91Z2h0XG4gICAgICA/IGAke3RoaXMucGVuZGluZ1Rob3VnaHR9XFxuJHtub3JtYWxpemVkfWBcbiAgICAgIDogbm9ybWFsaXplZDtcblxuICAgIHRoaXMudGVsZW1ldHJ5LnJlY29yZEV2ZW50KCdhc3Npc3RhbnQudGhvdWdodCcsIHtcbiAgICAgIGlkOiB0aGlzLmFjdGl2ZUlkLFxuICAgICAgcGhhc2U6ICd0aG91Z2h0JyxcbiAgICAgIHN1bW1hcnk6IHRoaXMudHJ1bmNhdGUobm9ybWFsaXplZCksXG4gICAgICBsZW5ndGg6IG5vcm1hbGl6ZWQubGVuZ3RoLFxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRoaXMuYWN0aXZlSWQ7XG4gIH1cblxuICByZWNvcmRSZXNwb25zZShyZXNwb25zZTogc3RyaW5nLCBtZXRhZGF0YTogQXNzaXN0YW50UmVzcG9uc2VNZXRhZGF0YSA9IHt9KTogbnVtYmVyIHwgbnVsbCB7XG4gICAgY29uc3Qgbm9ybWFsaXplZCA9IHJlc3BvbnNlLnRyaW0oKTtcbiAgICBpZiAoIW5vcm1hbGl6ZWQpIHJldHVybiBudWxsO1xuXG4gICAgY29uc3QgaWQgPSBtZXRhZGF0YS5yZXNwb25zZUlkID8/IHRoaXMuYWN0aXZlSWQgPz8gdGhpcy5uZXh0SWQgKyAxO1xuICAgIGlmIChpZCA+IHRoaXMubmV4dElkKSB7XG4gICAgICB0aGlzLm5leHRJZCA9IGlkO1xuICAgIH1cblxuICAgIGNvbnN0IHRob3VnaHQgPSBtZXRhZGF0YS50aG91Z2h0Py50cmltKCkgfHwgdGhpcy5wZW5kaW5nVGhvdWdodCB8fCBudWxsO1xuXG4gICAgdGhpcy50ZWxlbWV0cnkucmVjb3JkRXZlbnQoJ2Fzc2lzdGFudC5yZXNwb25zZScsIHtcbiAgICAgIGlkLFxuICAgICAgcGhhc2U6ICdyZXNwb25zZScsXG4gICAgICBzdW1tYXJ5OiB0aGlzLnRydW5jYXRlKG5vcm1hbGl6ZWQpLFxuICAgICAgbGVuZ3RoOiBub3JtYWxpemVkLmxlbmd0aCxcbiAgICAgIHRob3VnaHRTdW1tYXJ5OiB0aG91Z2h0ID8gdGhpcy50cnVuY2F0ZSh0aG91Z2h0KSA6IHVuZGVmaW5lZCxcbiAgICAgIHNvdXJjZTogbWV0YWRhdGEuc291cmNlID8/ICdmaW5hbCcsXG4gICAgICB1c2FnZTogbWV0YWRhdGEudXNhZ2UgPz8gbnVsbCxcbiAgICB9KTtcblxuICAgIHRoaXMucGVuZGluZ1Rob3VnaHQgPSBudWxsO1xuICAgIHRoaXMuYWN0aXZlSWQgPSBudWxsO1xuICAgIHJldHVybiBpZDtcbiAgfVxuXG4gIHByaXZhdGUgdHJ1bmNhdGUodmFsdWU6IHN0cmluZywgbWF4OiBudW1iZXIgPSAyNDApOiBzdHJpbmcge1xuICAgIGlmICh2YWx1ZS5sZW5ndGggPD0gbWF4KSByZXR1cm4gdmFsdWU7XG4gICAgcmV0dXJuIGAke3ZhbHVlLnNsaWNlKDAsIG1heCAtIDMpLnRyaW1FbmQoKX0uLi5gO1xuICB9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0lBZVk7SUFBQUEsY0FBQSxZQUFBQSxDQUFBO01BQUEsT0FBQUMsY0FBQTtJQUFBO0VBQUE7RUFBQSxPQUFBQSxjQUFBO0FBQUE7QUFBQUQsY0FBQTtBQU5aO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTyxNQUFNRSxlQUFlLENBQUM7RUFDbkJDLE1BQU07RUFBQTtFQUFBLENBQUFILGNB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