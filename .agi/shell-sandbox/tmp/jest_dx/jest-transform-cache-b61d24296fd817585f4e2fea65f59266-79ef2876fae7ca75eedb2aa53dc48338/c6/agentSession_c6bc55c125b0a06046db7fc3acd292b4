ddd4a2d327c612b9fc480844964d59fc
/* istanbul ignore next */
function cov_1dxjdqsuvz() {
  var path = "/Users/bo/GitHub/agi-core-CLI-coding/src/runtime/agentSession.ts";
  var hash = "1930a75bd1b81b242969c13f026c5dd8461e98be";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/Users/bo/GitHub/agi-core-CLI-coding/src/runtime/agentSession.ts",
    statementMap: {
      "0": {
        start: {
          line: 19,
          column: 38
        },
        end: {
          line: 23,
          column: 61
        }
      },
      "1": {
        start: {
          line: 61,
          column: 4
        },
        end: {
          line: 61,
          column: 37
        }
      },
      "2": {
        start: {
          line: 62,
          column: 26
        },
        end: {
          line: 62,
          column: 89
        }
      },
      "3": {
        start: {
          line: 63,
          column: 46
        },
        end: {
          line: 68,
          column: 5
        }
      },
      "4": {
        start: {
          line: 71,
          column: 27
        },
        end: {
          line: 71,
          column: 84
        }
      },
      "5": {
        start: {
          line: 73,
          column: 23
        },
        end: {
          line: 73,
          column: 72
        }
      },
      "6": {
        start: {
          line: 74,
          column: 24
        },
        end: {
          line: 81,
          column: 5
        }
      },
      "7": {
        start: {
          line: 83,
          column: 4
        },
        end: {
          line: 92,
          column: 6
        }
      },
      "8": {
        start: {
          line: 100,
          column: 57
        },
        end: {
          line: 150,
          column: 5
        }
      },
      "9": {
        start: {
          line: 101,
          column: 6
        },
        end: {
          line: 149,
          column: 7
        }
      },
      "10": {
        start: {
          line: 103,
          column: 25
        },
        end: {
          line: 108,
          column: 10
        }
      },
      "11": {
        start: {
          line: 111,
          column: 55
        },
        end: {
          line: 116,
          column: 9
        }
      },
      "12": {
        start: {
          line: 118,
          column: 27
        },
        end: {
          line: 123,
          column: 10
        }
      },
      "13": {
        start: {
          line: 126,
          column: 27
        },
        end: {
          line: 126,
          column: 105
        }
      },
      "14": {
        start: {
          line: 126,
          column: 49
        },
        end: {
          line: 126,
          column: 70
        }
      },
      "15": {
        start: {
          line: 126,
          column: 89
        },
        end: {
          line: 126,
          column: 104
        }
      },
      "16": {
        start: {
          line: 128,
          column: 8
        },
        end: {
          line: 130,
          column: 9
        }
      },
      "17": {
        start: {
          line: 129,
          column: 10
        },
        end: {
          line: 129,
          column: 45
        }
      },
      "18": {
        start: {
          line: 133,
          column: 23
        },
        end: {
          line: 133,
          column: 54
        }
      },
      "19": {
        start: {
          line: 136,
          column: 29
        },
        end: {
          line: 136,
          column: 31
        }
      },
      "20": {
        start: {
          line: 137,
          column: 8
        },
        end: {
          line: 143,
          column: 9
        }
      },
      "21": {
        start: {
          line: 138,
          column: 25
        },
        end: {
          line: 140,
          column: 79
        }
      },
      "22": {
        start: {
          line: 142,
          column: 10
        },
        end: {
          line: 142,
          column: 66
        }
      },
      "23": {
        start: {
          line: 145,
          column: 8
        },
        end: {
          line: 145,
          column: 63
        }
      },
      "24": {
        start: {
          line: 148,
          column: 8
        },
        end: {
          line: 148,
          column: 101
        }
      },
      "25": {
        start: {
          line: 152,
          column: 4
        },
        end: {
          line: 155,
          column: 28
        }
      },
      "26": {
        start: {
          line: 160,
          column: 4
        },
        end: {
          line: 160,
          column: 30
        }
      },
      "27": {
        start: {
          line: 164,
          column: 4
        },
        end: {
          line: 164,
          column: 36
        }
      },
      "28": {
        start: {
          line: 168,
          column: 4
        },
        end: {
          line: 168,
          column: 47
        }
      },
      "29": {
        start: {
          line: 172,
          column: 4
        },
        end: {
          line: 172,
          column: 34
        }
      },
      "30": {
        start: {
          line: 176,
          column: 4
        },
        end: {
          line: 176,
          column: 34
        }
      },
      "31": {
        start: {
          line: 185,
          column: 21
        },
        end: {
          line: 185,
          column: 64
        }
      },
      "32": {
        start: {
          line: 186,
          column: 25
        },
        end: {
          line: 186,
          column: 97
        }
      },
      "33": {
        start: {
          line: 188,
          column: 4
        },
        end: {
          line: 195,
          column: 7
        }
      },
      "34": {
        start: {
          line: 200,
          column: 4
        },
        end: {
          line: 204,
          column: 6
        }
      },
      "35": {
        start: {
          line: 208,
          column: 21
        },
        end: {
          line: 208,
          column: 79
        }
      },
      "36": {
        start: {
          line: 209,
          column: 4
        },
        end: {
          line: 209,
          column: 51
        }
      },
      "37": {
        start: {
          line: 211,
          column: 4
        },
        end: {
          line: 214,
          column: 6
        }
      },
      "38": {
        start: {
          line: 215,
          column: 4
        },
        end: {
          line: 219,
          column: 6
        }
      },
      "39": {
        start: {
          line: 220,
          column: 4
        },
        end: {
          line: 227,
          column: 6
        }
      },
      "40": {
        start: {
          line: 228,
          column: 4
        },
        end: {
          line: 228,
          column: 36
        }
      },
      "41": {
        start: {
          line: 232,
          column: 4
        },
        end: {
          line: 232,
          column: 37
        }
      },
      "42": {
        start: {
          line: 240,
          column: 2
        },
        end: {
          line: 251,
          column: 3
        }
      },
      "43": {
        start: {
          line: 242,
          column: 6
        },
        end: {
          line: 242,
          column: 40
        }
      },
      "44": {
        start: {
          line: 244,
          column: 6
        },
        end: {
          line: 244,
          column: 45
        }
      },
      "45": {
        start: {
          line: 246,
          column: 6
        },
        end: {
          line: 246,
          column: 70
        }
      },
      "46": {
        start: {
          line: 248,
          column: 6
        },
        end: {
          line: 248,
          column: 42
        }
      },
      "47": {
        start: {
          line: 250,
          column: 6
        },
        end: {
          line: 250,
          column: 16
        }
      },
      "48": {
        start: {
          line: 258,
          column: 27
        },
        end: {
          line: 258,
          column: 29
        }
      },
      "49": {
        start: {
          line: 259,
          column: 15
        },
        end: {
          line: 259,
          column: 17
        }
      },
      "50": {
        start: {
          line: 261,
          column: 2
        },
        end: {
          line: 269,
          column: 3
        }
      },
      "51": {
        start: {
          line: 262,
          column: 20
        },
        end: {
          line: 262,
          column: 51
        }
      },
      "52": {
        start: {
          line: 263,
          column: 4
        },
        end: {
          line: 267,
          column: 5
        }
      },
      "53": {
        start: {
          line: 264,
          column: 6
        },
        end: {
          line: 264,
          column: 33
        }
      },
      "54": {
        start: {
          line: 265,
          column: 6
        },
        end: {
          line: 265,
          column: 21
        }
      },
      "55": {
        start: {
          line: 266,
          column: 6
        },
        end: {
          line: 266,
          column: 15
        }
      },
      "56": {
        start: {
          line: 268,
          column: 4
        },
        end: {
          line: 268,
          column: 46
        }
      },
      "57": {
        start: {
          line: 271,
          column: 2
        },
        end: {
          line: 273,
          column: 3
        }
      },
      "58": {
        start: {
          line: 272,
          column: 4
        },
        end: {
          line: 272,
          column: 31
        }
      },
      "59": {
        start: {
          line: 275,
          column: 2
        },
        end: {
          line: 275,
          column: 16
        }
      },
      "60": {
        start: {
          line: 279,
          column: 2
        },
        end: {
          line: 289,
          column: 4
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 60,
            column: 2
          },
          end: {
            line: 60,
            column: 3
          }
        },
        loc: {
          start: {
            line: 60,
            column: 44
          },
          end: {
            line: 93,
            column: 3
          }
        },
        line: 60
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 98,
            column: 2
          },
          end: {
            line: 98,
            column: 3
          }
        },
        loc: {
          start: {
            line: 98,
            column: 102
          },
          end: {
            line: 156,
            column: 3
          }
        },
        line: 98
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 100,
            column: 57
          },
          end: {
            line: 100,
            column: 58
          }
        },
        loc: {
          start: {
            line: 100,
            column: 100
          },
          end: {
            line: 150,
            column: 5
          }
        },
        line: 100
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 126,
            column: 40
          },
          end: {
            line: 126,
            column: 41
          }
        },
        loc: {
          start: {
            line: 126,
            column: 49
          },
          end: {
            line: 126,
            column: 70
          }
        },
        line: 126
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 126,
            column: 79
          },
          end: {
            line: 126,
            column: 80
          }
        },
        loc: {
          start: {
            line: 126,
            column: 89
          },
          end: {
            line: 126,
            column: 104
          }
        },
        line: 126
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 159,
            column: 2
          },
          end: {
            line: 159,
            column: 3
          }
        },
        loc: {
          start: {
            line: 159,
            column: 29
          },
          end: {
            line: 161,
            column: 3
          }
        },
        line: 159
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 163,
            column: 2
          },
          end: {
            line: 163,
            column: 3
          }
        },
        loc: {
          start: {
            line: 163,
            column: 45
          },
          end: {
            line: 165,
            column: 3
          }
        },
        line: 163
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 167,
            column: 2
          },
          end: {
            line: 167,
            column: 3
          }
        },
        loc: {
          start: {
            line: 167,
            column: 40
          },
          end: {
            line: 169,
            column: 3
          }
        },
        line: 167
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 171,
            column: 2
          },
          end: {
            line: 171,
            column: 3
          }
        },
        loc: {
          start: {
            line: 171,
            column: 33
          },
          end: {
            line: 173,
            column: 3
          }
        },
        line: 171
      },
      "9": {
        name: "(anonymous_9)",
        decl: {
          start: {
            line: 175,
            column: 2
          },
          end: {
            line: 175,
            column: 3
          }
        },
        loc: {
          start: {
            line: 175,
            column: 42
          },
          end: {
            line: 177,
            column: 3
          }
        },
        line: 175
      },
      "10": {
        name: "(anonymous_10)",
        decl: {
          start: {
            line: 179,
            column: 2
          },
          end: {
            line: 179,
            column: 3
          }
        },
        loc: {
          start: {
            line: 184,
            column: 18
          },
          end: {
            line: 196,
            column: 3
          }
        },
        line: 184
      },
      "11": {
        name: "(anonymous_11)",
        decl: {
          start: {
            line: 198,
            column: 2
          },
          end: {
            line: 198,
            column: 3
          }
        },
        loc: {
          start: {
            line: 198,
            column: 53
          },
          end: {
            line: 205,
            column: 3
          }
        },
        line: 198
      },
      "12": {
        name: "(anonymous_12)",
        decl: {
          start: {
            line: 207,
            column: 2
          },
          end: {
            line: 207,
            column: 3
          }
        },
        loc: {
          start: {
            line: 207,
            column: 82
          },
          end: {
            line: 229,
            column: 3
          }
        },
        line: 207
      },
      "13": {
        name: "(anonymous_13)",
        decl: {
          start: {
            line: 231,
            column: 2
          },
          end: {
            line: 231,
            column: 3
          }
        },
        loc: {
          start: {
            line: 231,
            column: 39
          },
          end: {
            line: 233,
            column: 3
          }
        },
        line: 231
      },
      "14": {
        name: "serializeMessage",
        decl: {
          start: {
            line: 239,
            column: 9
          },
          end: {
            line: 239,
            column: 25
          }
        },
        loc: {
          start: {
            line: 239,
            column: 64
          },
          end: {
            line: 252,
            column: 1
          }
        },
        line: 239
      },
      "15": {
        name: "chunkMessages",
        decl: {
          start: {
            line: 257,
            column: 9
          },
          end: {
            line: 257,
            column: 22
          }
        },
        loc: {
          start: {
            line: 257,
            column: 81
          },
          end: {
            line: 276,
            column: 1
          }
        },
        line: 257
      },
      "16": {
        name: "asProviderConfig",
        decl: {
          start: {
            line: 278,
            column: 9
          },
          end: {
            line: 278,
            column: 25
          }
        },
        loc: {
          start: {
            line: 278,
            column: 69
          },
          end: {
            line: 290,
            column: 1
          }
        },
        line: 278
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 73,
            column: 23
          },
          end: {
            line: 73,
            column: 72
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 73,
            column: 44
          },
          end: {
            line: 73,
            column: 67
          }
        }, {
          start: {
            line: 73,
            column: 70
          },
          end: {
            line: 73,
            column: 72
          }
        }],
        line: 73
      },
      "1": {
        loc: {
          start: {
            line: 128,
            column: 8
          },
          end: {
            line: 130,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 128,
            column: 8
          },
          end: {
            line: 130,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 128
      },
      "2": {
        loc: {
          start: {
            line: 138,
            column: 25
          },
          end: {
            line: 140,
            column: 79
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 139,
            column: 14
          },
          end: {
            line: 139,
            column: 167
          }
        }, {
          start: {
            line: 140,
            column: 14
          },
          end: {
            line: 140,
            column: 79
          }
        }],
        line: 138
      },
      "3": {
        loc: {
          start: {
            line: 145,
            column: 15
          },
          end: {
            line: 145,
            column: 62
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 145,
            column: 15
          },
          end: {
            line: 145,
            column: 29
          }
        }, {
          start: {
            line: 145,
            column: 33
          },
          end: {
            line: 145,
            column: 62
          }
        }],
        line: 145
      },
      "4": {
        loc: {
          start: {
            line: 148,
            column: 41
          },
          end: {
            line: 148,
            column: 97
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 148,
            column: 66
          },
          end: {
            line: 148,
            column: 79
          }
        }, {
          start: {
            line: 148,
            column: 82
          },
          end: {
            line: 148,
            column: 97
          }
        }],
        line: 148
      },
      "5": {
        loc: {
          start: {
            line: 168,
            column: 11
          },
          end: {
            line: 168,
            column: 46
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 168,
            column: 11
          },
          end: {
            line: 168,
            column: 38
          }
        }, {
          start: {
            line: 168,
            column: 42
          },
          end: {
            line: 168,
            column: 46
          }
        }],
        line: 168
      },
      "6": {
        loc: {
          start: {
            line: 186,
            column: 26
          },
          end: {
            line: 186,
            column: 89
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 186,
            column: 26
          },
          end: {
            line: 186,
            column: 48
          }
        }, {
          start: {
            line: 186,
            column: 52
          },
          end: {
            line: 186,
            column: 89
          }
        }],
        line: 186
      },
      "7": {
        loc: {
          start: {
            line: 190,
            column: 19
          },
          end: {
            line: 190,
            column: 64
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 190,
            column: 19
          },
          end: {
            line: 190,
            column: 38
          }
        }, {
          start: {
            line: 190,
            column: 42
          },
          end: {
            line: 190,
            column: 64
          }
        }],
        line: 190
      },
      "8": {
        loc: {
          start: {
            line: 240,
            column: 2
          },
          end: {
            line: 251,
            column: 3
          }
        },
        type: "switch",
        locations: [{
          start: {
            line: 241,
            column: 4
          },
          end: {
            line: 242,
            column: 40
          }
        }, {
          start: {
            line: 243,
            column: 4
          },
          end: {
            line: 244,
            column: 45
          }
        }, {
          start: {
            line: 245,
            column: 4
          },
          end: {
            line: 246,
            column: 70
          }
        }, {
          start: {
            line: 247,
            column: 4
          },
          end: {
            line: 248,
            column: 42
          }
        }, {
          start: {
            line: 249,
            column: 4
          },
          end: {
            line: 250,
            column: 16
          }
        }],
        line: 240
      },
      "9": {
        loc: {
          start: {
            line: 246,
            column: 21
          },
          end: {
            line: 246,
            column: 46
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 246,
            column: 21
          },
          end: {
            line: 246,
            column: 33
          }
        }, {
          start: {
            line: 246,
            column: 37
          },
          end: {
            line: 246,
            column: 46
          }
        }],
        line: 246
      },
      "10": {
        loc: {
          start: {
            line: 262,
            column: 20
          },
          end: {
            line: 262,
            column: 51
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 262,
            column: 29
          },
          end: {
            line: 262,
            column: 43
          }
        }, {
          start: {
            line: 262,
            column: 46
          },
          end: {
            line: 262,
            column: 51
          }
        }],
        line: 262
      },
      "11": {
        loc: {
          start: {
            line: 263,
            column: 4
          },
          end: {
            line: 267,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 263,
            column: 4
          },
          end: {
            line: 267,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 263
      },
      "12": {
        loc: {
          start: {
            line: 263,
            column: 8
          },
          end: {
            line: 263,
            column: 67
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 263,
            column: 8
          },
          end: {
            line: 263,
            column: 14
          }
        }, {
          start: {
            line: 263,
            column: 18
          },
          end: {
            line: 263,
            column: 67
          }
        }],
        line: 263
      },
      "13": {
        loc: {
          start: {
            line: 268,
            column: 14
          },
          end: {
            line: 268,
            column: 45
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 268,
            column: 23
          },
          end: {
            line: 268,
            column: 37
          }
        }, {
          start: {
            line: 268,
            column: 40
          },
          end: {
            line: 268,
            column: 45
          }
        }],
        line: 268
      },
      "14": {
        loc: {
          start: {
            line: 271,
            column: 2
          },
          end: {
            line: 273,
            column: 3
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 271,
            column: 2
          },
          end: {
            line: 273,
            column: 3
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 271
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0,
      "52": 0,
      "53": 0,
      "54": 0,
      "55": 0,
      "56": 0,
      "57": 0,
      "58": 0,
      "59": 0,
      "60": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0, 0, 0, 0],
      "9": [0, 0],
      "10": [0, 0],
      "11": [0, 0],
      "12": [0, 0],
      "13": [0, 0],
      "14": [0, 0]
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "1930a75bd1b81b242969c13f026c5dd8461e98be"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_1dxjdqsuvz = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_1dxjdqsuvz();
import { resolveProfileConfig } from '../config.js';
import { createDefaultToolRuntime } from '../core/toolRuntime.js';
import { createProvider } from '../providers/providerFactory.js';
import { AgentRuntime } from '../core/agent.js';
import { registerDefaultProviderPlugins } from '../plugins/providers/index.js';
import { createDefaultContextManager } from '../core/contextManager.js';
/**
 * System prompt for context summarization
 * Instructs the LLM to create concise summaries of conversation history
 */
const CONTEXT_CLEANUP_SYSTEM_PROMPT =
/* istanbul ignore next */
(cov_1dxjdqsuvz().s[0]++, `Summarize earlier conversation logs to preserve context while staying within token limits.
- Merge any prior summary with the new chunk.
- Capture decisions, tasks, file changes/paths, tool observations, and open questions.
- Separate completed work from follow-ups; keep it under ~180 words with tight bullets.
- Respond in plain Markdown only (no tool or command calls).`);
export class AgentSession {
  constructor(options) {
    /* istanbul ignore next */
    cov_1dxjdqsuvz().f[0]++;
    cov_1dxjdqsuvz().s[1]++;
    registerDefaultProviderPlugins();
    const profileConfig =
    /* istanbul ignore next */
    (cov_1dxjdqsuvz().s[2]++, resolveProfileConfig(options.profile, options.workspaceContext));
    const toolContext =
    /* istanbul ignore next */
    (cov_1dxjdqsuvz().s[3]++, {
      profileName: profileConfig.profile,
      provider: profileConfig.provider,
      model: profileConfig.model,
      workspaceContext: options.workspaceContext
    });

    // Create context manager with LLM-based summarization callback
    const contextManager =
    /* istanbul ignore next */
    (cov_1dxjdqsuvz().s[4]++, this.createContextManagerWithSummarization(profileConfig));
    const toolSuites =
    /* istanbul ignore next */
    (cov_1dxjdqsuvz().s[5]++, options.toolSuites ?
    /* istanbul ignore next */
    (cov_1dxjdqsuvz().b[0][0]++, [...options.toolSuites]) :
    /* istanbul ignore next */
    (cov_1dxjdqsuvz().b[0][1]++, []));
    const toolRuntime =
    /* istanbul ignore next */
    (cov_1dxjdqsuvz().s[6]++, createDefaultToolRuntime(toolContext, toolSuites, {
      observer: options.toolObserver,
      contextManager // Pass context manager for output truncation
    }));
    /* istanbul ignore next */
    cov_1dxjdqsuvz().s[7]++;
    this.state = {
      profile: options.profile,
      workspaceContext: options.workspaceContext,
      profileConfig,
      toolContext,
      toolRuntime,
      toolSuites,
      toolObserver: options.toolObserver,
      contextManager
    };
  }

  /**
   * Creates a context manager with LLM-based summarization support
   */
  createContextManagerWithSummarization(profileConfig) {
    /* istanbul ignore next */
    cov_1dxjdqsuvz().f[1]++;
    cov_1dxjdqsuvz().s[8]++;
    // Create summarization callback that doesn't reference this.state
    const summarizationCallback = async messages => {
      /* istanbul ignore next */
      cov_1dxjdqsuvz().f[2]++;
      cov_1dxjdqsuvz().s[9]++;
      try {
        // Create a lightweight agent for summarization
        const provider =
        /* istanbul ignore next */
        (cov_1dxjdqsuvz().s[10]++, createProvider({
          provider: profileConfig.provider,
          model: profileConfig.model,
          temperature: 0,
          // Use deterministic summarization
          maxTokens: 500 // Keep summaries concise
        }));

        // Create empty tool context for summarization (no tools needed)
        const emptyToolContext =
        /* istanbul ignore next */
        (cov_1dxjdqsuvz().s[11]++, {
          profileName: profileConfig.profile,
          provider: profileConfig.provider,
          model: profileConfig.model,
          workspaceContext: null
        });
        const summarizer =
        /* istanbul ignore next */
        (cov_1dxjdqsuvz().s[12]++, new AgentRuntime({
          provider,
          toolRuntime: createDefaultToolRuntime(emptyToolContext, []),
          // No tools for summarization
          systemPrompt: CONTEXT_CLEANUP_SYSTEM_PROMPT,
          callbacks: {} // No callbacks needed for summarization
        }));

        // Serialize messages into chunks
        const serialized =
        /* istanbul ignore next */
        (cov_1dxjdqsuvz().s[13]++, messages.map(msg => {
          /* istanbul ignore next */
          cov_1dxjdqsuvz().f[3]++;
          cov_1dxjdqsuvz().s[14]++;
          return serializeMessage(msg);
        }).filter(text => {
          /* istanbul ignore next */
          cov_1dxjdqsuvz().f[4]++;
          cov_1dxjdqsuvz().s[15]++;
          return text.length > 0;
        }));
        /* istanbul ignore next */
        cov_1dxjdqsuvz().s[16]++;
        if (!serialized.length) {
          /* istanbul ignore next */
          cov_1dxjdqsuvz().b[1][0]++;
          cov_1dxjdqsuvz().s[17]++;
          return '[No content to summarize]';
        } else
        /* istanbul ignore next */
        {
          cov_1dxjdqsuvz().b[1][1]++;
        }

        // Chunk messages to avoid overwhelming the summarizer
        const chunks =
        /* istanbul ignore next */
        (cov_1dxjdqsuvz().s[18]++, chunkMessages(serialized, 6000));

        // Iteratively summarize chunks
        let runningSummary =
        /* istanbul ignore next */
        (cov_1dxjdqsuvz().s[19]++, '');
        /* istanbul ignore next */
        cov_1dxjdqsuvz().s[20]++;
        for (const chunk of chunks) {
          const prompt =
          /* istanbul ignore next */
          (cov_1dxjdqsuvz().s[21]++, runningSummary ?
          /* istanbul ignore next */
          (cov_1dxjdqsuvz().b[2][0]++, `Existing summary:\n${runningSummary}\n\nNew conversation chunk:\n${chunk}\n\nMerge the chunk into the running summary, keeping it concise (<200 words).`) :
          /* istanbul ignore next */
          (cov_1dxjdqsuvz().b[2][1]++, `Summarize this conversation concisely (<200 words):\n\n${chunk}`));
          /* istanbul ignore next */
          cov_1dxjdqsuvz().s[22]++;
          runningSummary = (await summarizer.send(prompt)).trim();
        }
        /* istanbul ignore next */
        cov_1dxjdqsuvz().s[23]++;
        return /* istanbul ignore next */(cov_1dxjdqsuvz().b[3][0]++, runningSummary) ||
        /* istanbul ignore next */
        (cov_1dxjdqsuvz().b[3][1]++, '[Summary generation failed]');
      } catch (error) {
        /* istanbul ignore next */
        cov_1dxjdqsuvz().s[24]++;
        // If summarization fails, return a fallback message
        return `[Summarization failed: ${error instanceof Error ?
        /* istanbul ignore next */
        (cov_1dxjdqsuvz().b[4][0]++, error.message) :
        /* istanbul ignore next */
        (cov_1dxjdqsuvz().b[4][1]++, 'Unknown error')}]`;
      }
    };
    /* istanbul ignore next */
    cov_1dxjdqsuvz().s[25]++;
    return createDefaultContextManager({
      useLLMSummarization: true,
      summarizationCallback
    }, profileConfig.model);
  }
  get profile() {
    /* istanbul ignore next */
    cov_1dxjdqsuvz().f[5]++;
    cov_1dxjdqsuvz().s[26]++;
    return this.state.profile;
  }
  get profileConfig() {
    /* istanbul ignore next */
    cov_1dxjdqsuvz().f[6]++;
    cov_1dxjdqsuvz().s[27]++;
    return this.state.profileConfig;
  }
  get workspaceContext() {
    /* istanbul ignore next */
    cov_1dxjdqsuvz().f[7]++;
    cov_1dxjdqsuvz().s[28]++;
    return /* istanbul ignore next */(cov_1dxjdqsuvz().b[5][0]++, this.state.workspaceContext) ??
    /* istanbul ignore next */
    (cov_1dxjdqsuvz().b[5][1]++, null);
  }
  get toolRuntime() {
    /* istanbul ignore next */
    cov_1dxjdqsuvz().f[8]++;
    cov_1dxjdqsuvz().s[29]++;
    return this.state.toolRuntime;
  }
  get toolContext() {
    /* istanbul ignore next */
    cov_1dxjdqsuvz().f[9]++;
    cov_1dxjdqsuvz().s[30]++;
    return this.state.toolContext;
  }
  createAgent(selection, callbacks, toolRuntimeOverride, options) {
    /* istanbul ignore next */
    cov_1dxjdqsuvz().f[10]++;
    const provider =
    /* istanbul ignore next */
    (cov_1dxjdqsuvz().s[31]++, createProvider(asProviderConfig(selection)));
    const systemPrompt =
    /* istanbul ignore next */
    (cov_1dxjdqsuvz().s[32]++, (
    /* istanbul ignore next */
    (cov_1dxjdqsuvz().b[6][0]++, selection.systemPrompt) ??
    /* istanbul ignore next */
    (cov_1dxjdqsuvz().b[6][1]++, this.state.profileConfig.systemPrompt)).trim());
    /* istanbul ignore next */
    cov_1dxjdqsuvz().s[33]++;
    return new AgentRuntime({
      provider,
      toolRuntime:
      /* istanbul ignore next */
      (cov_1dxjdqsuvz().b[7][0]++, toolRuntimeOverride) ??
      /* istanbul ignore next */
      (cov_1dxjdqsuvz().b[7][1]++, this.state.toolRuntime),
      systemPrompt,
      callbacks,
      contextManager: this.state.contextManager,
      // Pass context manager for history pruning
      explainEdits: options?.explainEdits
    });
  }
  updateToolContext(selection) {
    /* istanbul ignore next */
    cov_1dxjdqsuvz().f[11]++;
    cov_1dxjdqsuvz().s[34]++;
    // Create new context with updated provider/model (properties are readonly)
    this.state.toolContext = {
      ...this.state.toolContext,
      provider: selection.provider,
      model: selection.model
    };
  }
  refreshWorkspaceContext(workspaceContext) {
    /* istanbul ignore next */
    cov_1dxjdqsuvz().f[12]++;
    const resolved =
    /* istanbul ignore next */
    (cov_1dxjdqsuvz().s[35]++, resolveProfileConfig(this.state.profile, workspaceContext));
    /* istanbul ignore next */
    cov_1dxjdqsuvz().s[36]++;
    this.state.workspaceContext = workspaceContext;
    // Create new context with updated workspace (properties are readonly)
    /* istanbul ignore next */
    cov_1dxjdqsuvz().s[37]++;
    this.state.toolContext = {
      ...this.state.toolContext,
      workspaceContext
    };
    /* istanbul ignore next */
    cov_1dxjdqsuvz().s[38]++;
    this.state.profileConfig = {
      ...this.state.profileConfig,
      systemPrompt: resolved.systemPrompt,
      rulebook: resolved.rulebook
    };
    /* istanbul ignore next */
    cov_1dxjdqsuvz().s[39]++;
    this.state.toolRuntime = createDefaultToolRuntime(this.state.toolContext, this.state.toolSuites, {
      observer: this.state.toolObserver,
      contextManager: this.state.contextManager // Preserve context manager
    });
    /* istanbul ignore next */
    cov_1dxjdqsuvz().s[40]++;
    return this.state.profileConfig;
  }
  get contextManager() {
    /* istanbul ignore next */
    cov_1dxjdqsuvz().f[13]++;
    cov_1dxjdqsuvz().s[41]++;
    return this.state.contextManager;
  }
}

/**
 * Serialize a message for summarization
 */
function serializeMessage(message) {
  /* istanbul ignore next */
  cov_1dxjdqsuvz().f[14]++;
  cov_1dxjdqsuvz().s[42]++;
  switch (message.role) {
    case 'user':
      /* istanbul ignore next */
      cov_1dxjdqsuvz().b[8][0]++;
      cov_1dxjdqsuvz().s[43]++;
      return `User: ${message.content}`;
    case 'assistant':
      /* istanbul ignore next */
      cov_1dxjdqsuvz().b[8][1]++;
      cov_1dxjdqsuvz().s[44]++;
      return `Assistant: ${message.content}`;
    case 'tool':
      /* istanbul ignore next */
      cov_1dxjdqsuvz().b[8][2]++;
      cov_1dxjdqsuvz().s[45]++;
      return `Tool(${
      /* istanbul ignore next */
      (cov_1dxjdqsuvz().b[9][0]++, message.name) ??
      /* istanbul ignore next */
      (cov_1dxjdqsuvz().b[9][1]++, 'unknown')}): ${message.content}`;
    case 'system':
      /* istanbul ignore next */
      cov_1dxjdqsuvz().b[8][3]++;
      cov_1dxjdqsuvz().s[46]++;
      return `System: ${message.content}`;
    default:
      /* istanbul ignore next */
      cov_1dxjdqsuvz().b[8][4]++;
      cov_1dxjdqsuvz().s[47]++;
      return '';
  }
}

/**
 * Chunk messages by character count
 */
function chunkMessages(serialized, maxCharsPerChunk) {
  /* istanbul ignore next */
  cov_1dxjdqsuvz().f[15]++;
  const chunks =
  /* istanbul ignore next */
  (cov_1dxjdqsuvz().s[48]++, []);
  let buffer =
  /* istanbul ignore next */
  (cov_1dxjdqsuvz().s[49]++, '');
  /* istanbul ignore next */
  cov_1dxjdqsuvz().s[50]++;
  for (const entry of serialized) {
    const segment =
    /* istanbul ignore next */
    (cov_1dxjdqsuvz().s[51]++, buffer ?
    /* istanbul ignore next */
    (cov_1dxjdqsuvz().b[10][0]++, `\n\n${entry}`) :
    /* istanbul ignore next */
    (cov_1dxjdqsuvz().b[10][1]++, entry));
    /* istanbul ignore next */
    cov_1dxjdqsuvz().s[52]++;
    if (
    /* istanbul ignore next */
    (cov_1dxjdqsuvz().b[12][0]++, buffer) &&
    /* istanbul ignore next */
    (cov_1dxjdqsuvz().b[12][1]++, buffer.length + segment.length > maxCharsPerChunk)) {
      /* istanbul ignore next */
      cov_1dxjdqsuvz().b[11][0]++;
      cov_1dxjdqsuvz().s[53]++;
      chunks.push(buffer.trim());
      /* istanbul ignore next */
      cov_1dxjdqsuvz().s[54]++;
      buffer = entry;
      /* istanbul ignore next */
      cov_1dxjdqsuvz().s[55]++;
      continue;
    } else
    /* istanbul ignore next */
    {
      cov_1dxjdqsuvz().b[11][1]++;
    }
    cov_1dxjdqsuvz().s[56]++;
    buffer += buffer ?
    /* istanbul ignore next */
    (cov_1dxjdqsuvz().b[13][0]++, `\n\n${entry}`) :
    /* istanbul ignore next */
    (cov_1dxjdqsuvz().b[13][1]++, entry);
  }
  /* istanbul ignore next */
  cov_1dxjdqsuvz().s[57]++;
  if (buffer) {
    /* istanbul ignore next */
    cov_1dxjdqsuvz().b[14][0]++;
    cov_1dxjdqsuvz().s[58]++;
    chunks.push(buffer.trim());
  } else
  /* istanbul ignore next */
  {
    cov_1dxjdqsuvz().b[14][1]++;
  }
  cov_1dxjdqsuvz().s[59]++;
  return chunks;
}
function asProviderConfig(selection) {
  /* istanbul ignore next */
  cov_1dxjdqsuvz().f[16]++;
  cov_1dxjdqsuvz().s[60]++;
  return {
    provider: selection.provider,
    model: selection.model,
    temperature: selection.temperature,
    maxTokens: selection.maxTokens,
    reasoningEffort: selection.reasoningEffort,
    textVerbosity: selection.textVerbosity,
    // Pass thinking configuration for extended thinking models
    thinking: selection.thinking,
    thinkingLevel: selection.thinkingLevel
  };
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMWR4amRxc3V2eiIsImFjdHVhbENvdmVyYWdlIiwicmVzb2x2ZVByb2ZpbGVDb25maWciLCJjcmVhdGVEZWZhdWx0VG9vbFJ1bnRpbWUiLCJjcmVhdGVQcm92aWRlciIsIkFnZW50UnVudGltZSIsInJlZ2lzdGVyRGVmYXVsdFByb3ZpZGVyUGx1Z2lucyIsImNyZWF0ZURlZmF1bHRDb250ZXh0TWFuYWdlciIsIkNPTlRFWFRfQ0xFQU5VUF9TWVNURU1fUFJPTVBUIiwicyIsIkFnZW50U2Vzc2lvbiIsImNvbnN0cnVjdG9yIiwib3B0aW9ucyIsImYiLCJwcm9maWxlQ29uZmlnIiwicHJvZmlsZSIsIndvcmtzcGFjZUNvbnRleHQiLCJ0b29sQ29udGV4dCIsInByb2ZpbGVOYW1lIiwicHJvdmlkZXIiLCJtb2RlbCIsImNvbnRleHRNYW5hZ2VyIiwiY3JlYXRlQ29udGV4dE1hbmFnZXJXaXRoU3VtbWFyaXphdGlvbiIsInRvb2xTdWl0ZXMiLCJiIiwidG9vbFJ1bnRpbWUiLCJvYnNlcnZlciIsInRvb2xPYnNlcnZlciIsInN0YXRlIiwic3VtbWFyaXphdGlvbkNhbGxiYWNrIiwibWVzc2FnZXMiLCJ0ZW1wZXJhdHVyZSIsIm1heFRva2VucyIsImVtcHR5VG9vbENvbnRleHQiLCJzdW1tYXJpemVyIiwic3lzdGVtUHJvbXB0IiwiY2FsbGJhY2tzIiwic2VyaWFsaXplZCIsIm1hcCIsIm1zZyIsInNlcmlhbGl6ZU1lc3NhZ2UiLCJmaWx0ZXIiLCJ0ZXh0IiwibGVuZ3RoIiwiY2h1bmtzIiwiY2h1bmtNZXNzYWdlcyIsInJ1bm5pbmdTdW1tYXJ5IiwiY2h1bmsiLCJwcm9tcHQiLCJzZW5kIiwidHJpbSIsImVycm9yIiwiRXJyb3IiLCJtZXNzYWdlIiwidXNlTExNU3VtbWFyaXphdGlvbiIsImNyZWF0ZUFnZW50Iiwic2VsZWN0aW9uIiwidG9vbFJ1bnRpbWVPdmVycmlkZSIsImFzUHJvdmlkZXJDb25maWciLCJleHBsYWluRWRpdHMiLCJ1cGRhdGVUb29sQ29udGV4dCIsInJlZnJlc2hXb3Jrc3BhY2VDb250ZXh0IiwicmVzb2x2ZWQiLCJydWxlYm9vayIsInJvbGUiLCJjb250ZW50IiwibmFtZSIsIm1heENoYXJzUGVyQ2h1bmsiLCJidWZmZXIiLCJlbnRyeSIsInNlZ21lbnQiLCJwdXNoIiwicmVhc29uaW5nRWZmb3J0IiwidGV4dFZlcmJvc2l0eSIsInRoaW5raW5nIiwidGhpbmtpbmdMZXZlbCJdLCJzb3VyY2VzIjpbImFnZW50U2Vzc2lvbi50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyByZXNvbHZlUHJvZmlsZUNvbmZpZywgdHlwZSBQcm9maWxlTmFtZSwgdHlwZSBSZXNvbHZlZFByb2ZpbGVDb25maWcgfSBmcm9tICcuLi9jb25maWcuanMnO1xuaW1wb3J0IHtcbiAgY3JlYXRlRGVmYXVsdFRvb2xSdW50aW1lLFxuICB0eXBlIFRvb2xFeGVjdXRpb25Db250ZXh0LFxuICB0eXBlIFRvb2xSdW50aW1lLFxuICB0eXBlIElUb29sUnVudGltZSxcbiAgdHlwZSBUb29sUnVudGltZU9ic2VydmVyLFxuICB0eXBlIFRvb2xTdWl0ZSxcbn0gZnJvbSAnLi4vY29yZS90b29sUnVudGltZS5qcyc7XG5pbXBvcnQgdHlwZSB7IFByb3ZpZGVySWQsIFJlYXNvbmluZ0VmZm9ydExldmVsLCBUZXh0VmVyYm9zaXR5TGV2ZWwsIENvbnZlcnNhdGlvbk1lc3NhZ2UsIFRoaW5raW5nQnVkZ2V0Q29uZmlnLCBUaGlua2luZ0xldmVsIH0gZnJvbSAnLi4vY29yZS90eXBlcy5qcyc7XG5pbXBvcnQgeyBjcmVhdGVQcm92aWRlciwgdHlwZSBQcm92aWRlckNvbmZpZyB9IGZyb20gJy4uL3Byb3ZpZGVycy9wcm92aWRlckZhY3RvcnkuanMnO1xuaW1wb3J0IHsgQWdlbnRSdW50aW1lLCB0eXBlIEFnZW50Q2FsbGJhY2tzIH0gZnJvbSAnLi4vY29yZS9hZ2VudC5qcyc7XG5pbXBvcnQgeyByZWdpc3RlckRlZmF1bHRQcm92aWRlclBsdWdpbnMgfSBmcm9tICcuLi9wbHVnaW5zL3Byb3ZpZGVycy9pbmRleC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVEZWZhdWx0Q29udGV4dE1hbmFnZXIsIENvbnRleHRNYW5hZ2VyLCB0eXBlIFN1bW1hcml6YXRpb25DYWxsYmFjayB9IGZyb20gJy4uL2NvcmUvY29udGV4dE1hbmFnZXIuanMnO1xuLyoqXG4gKiBTeXN0ZW0gcHJvbXB0IGZvciBjb250ZXh0IHN1bW1hcml6YXRpb25cbiAqIEluc3RydWN0cyB0aGUgTExNIHRvIGNyZWF0ZSBjb25jaXNlIHN1bW1hcmllcyBvZiBjb252ZXJzYXRpb24gaGlzdG9yeVxuICovXG5jb25zdCBDT05URVhUX0NMRUFOVVBfU1lTVEVNX1BST01QVCA9IGBTdW1tYXJpemUgZWFybGllciBjb252ZXJzYXRpb24gbG9ncyB0byBwcmVzZXJ2ZSBjb250ZXh0IHdoaWxlIHN0YXlpbmcgd2l0aGluIHRva2VuIGxpbWl0cy5cbi0gTWVyZ2UgYW55IHByaW9yIHN1bW1hcnkgd2l0aCB0aGUgbmV3IGNodW5rLlxuLSBDYXB0dXJlIGRlY2lzaW9ucywgdGFza3MsIGZpbGUgY2hhbmdlcy9wYXRocywgdG9vbCBvYnNlcnZhdGlvbnMsIGFuZCBvcGVuIHF1ZXN0aW9ucy5cbi0gU2VwYXJhdGUgY29tcGxldGVkIHdvcmsgZnJvbSBmb2xsb3ctdXBzOyBrZWVwIGl0IHVuZGVyIH4xODAgd29yZHMgd2l0aCB0aWdodCBidWxsZXRzLlxuLSBSZXNwb25kIGluIHBsYWluIE1hcmtkb3duIG9ubHkgKG5vIHRvb2wgb3IgY29tbWFuZCBjYWxscykuYDtcblxuZXhwb3J0IGludGVyZmFjZSBBZ2VudFNlc3Npb25PcHRpb25zIHtcbiAgcHJvZmlsZTogUHJvZmlsZU5hbWU7XG4gIHdvcmtzcGFjZUNvbnRleHQ6IHN0cmluZyB8IG51bGw7XG4gIHRvb2xTdWl0ZXM/OiBUb29sU3VpdGVbXTtcbiAgdG9vbE9ic2VydmVyPzogVG9vbFJ1bnRpbWVPYnNlcnZlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBNb2RlbFNlbGVjdGlvbiB7XG4gIHByb3ZpZGVyOiBQcm92aWRlcklkO1xuICBtb2RlbDogc3RyaW5nO1xuICB0ZW1wZXJhdHVyZT86IG51bWJlcjtcbiAgbWF4VG9rZW5zPzogbnVtYmVyO1xuICBzeXN0ZW1Qcm9tcHQ/OiBzdHJpbmc7XG4gIHJlYXNvbmluZ0VmZm9ydD86IFJlYXNvbmluZ0VmZm9ydExldmVsO1xuICB0ZXh0VmVyYm9zaXR5PzogVGV4dFZlcmJvc2l0eUxldmVsO1xuICAvKiogRXh0ZW5kZWQgdGhpbmtpbmcgY29uZmlndXJhdGlvbiBmb3Igc3VwcG9ydGVkIG1vZGVscyAoQW50aHJvcGljIENsYXVkZSA0LzMuNywgR2VtaW5pIDIuNSspICovXG4gIHRoaW5raW5nPzogVGhpbmtpbmdCdWRnZXRDb25maWc7XG4gIC8qKiBUaGlua2luZyBsZXZlbCBmb3IgbW9kZWxzIHRoYXQgc3VwcG9ydCBkaXNjcmV0ZSBpbnRlbnNpdGllcyAoR2VtaW5pIDMgUHJvKSAqL1xuICB0aGlua2luZ0xldmVsPzogVGhpbmtpbmdMZXZlbDtcbn1cblxuaW50ZXJmYWNlIEFnZW50U2Vzc2lvblN0YXRlIHtcbiAgcmVhZG9ubHkgcHJvZmlsZTogUHJvZmlsZU5hbWU7XG4gIHdvcmtzcGFjZUNvbnRleHQ6IHN0cmluZyB8IG51bGw7XG4gIHByb2ZpbGVDb25maWc6IFJlc29sdmVkUHJvZmlsZUNvbmZpZztcbiAgdG9vbENvbnRleHQ6IFRvb2xFeGVjdXRpb25Db250ZXh0OyAvLyBNdXRhYmxlIC0gdXBkYXRlZCBkdXJpbmcgbW9kZWwgc3dpdGNoaW5nXG4gIHRvb2xSdW50aW1lOiBUb29sUnVudGltZTtcbiAgcmVhZG9ubHkgdG9vbFN1aXRlczogVG9vbFN1aXRlW107XG4gIHJlYWRvbmx5IHRvb2xPYnNlcnZlcj86IFRvb2xSdW50aW1lT2JzZXJ2ZXI7XG4gIHJlYWRvbmx5IGNvbnRleHRNYW5hZ2VyOiBDb250ZXh0TWFuYWdlcjtcbn1cblxuZXhwb3J0IGNsYXNzIEFnZW50U2Vzc2lvbiB7XG4gIHByaXZhdGUgcmVhZG9ubHkgc3RhdGU6IEFnZW50U2Vzc2lvblN0YXRlO1xuXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnM6IEFnZW50U2Vzc2lvbk9wdGlvbnMpIHtcbiAgICByZWdpc3RlckRlZmF1bHRQcm92aWRlclBsdWdpbnMoKTtcbiAgICBjb25zdCBwcm9maWxlQ29uZmlnID0gcmVzb2x2ZVByb2ZpbGVDb25maWcob3B0aW9ucy5wcm9maWxlLCBvcHRpb25zLndvcmtzcGFjZUNvbnRleHQpO1xuICAgIGNvbnN0IHRvb2xDb250ZXh0OiBUb29sRXhlY3V0aW9uQ29udGV4dCA9IHtcbiAgICAgIHByb2ZpbGVOYW1lOiBwcm9maWxlQ29uZmlnLnByb2ZpbGUsXG4gICAgICBwcm92aWRlcjogcHJvZmlsZUNvbmZpZy5wcm92aWRlcixcbiAgICAgIG1vZGVsOiBwcm9maWxlQ29uZmlnLm1vZGVsLFxuICAgICAgd29ya3NwYWNlQ29udGV4dDogb3B0aW9ucy53b3Jrc3BhY2VDb250ZXh0LFxuICAgIH07XG5cbiAgICAvLyBDcmVhdGUgY29udGV4dCBtYW5hZ2VyIHdpdGggTExNLWJhc2VkIHN1bW1hcml6YXRpb24gY2FsbGJhY2tcbiAgICBjb25zdCBjb250ZXh0TWFuYWdlciA9IHRoaXMuY3JlYXRlQ29udGV4dE1hbmFnZXJXaXRoU3VtbWFyaXphdGlvbihwcm9maWxlQ29uZmlnKTtcblxuICAgIGNvbnN0IHRvb2xTdWl0ZXMgPSBvcHRpb25zLnRvb2xTdWl0ZXMgPyBbLi4ub3B0aW9ucy50b29sU3VpdGVzXSA6IFtdO1xuICAgIGNvbnN0IHRvb2xSdW50aW1lID0gY3JlYXRlRGVmYXVsdFRvb2xSdW50aW1lKFxuICAgICAgdG9vbENvbnRleHQsXG4gICAgICB0b29sU3VpdGVzLFxuICAgICAge1xuICAgICAgICBvYnNlcnZlcjogb3B0aW9ucy50b29sT2JzZXJ2ZXIsXG4gICAgICAgIGNvbnRleHRNYW5hZ2VyLCAvLyBQYXNzIGNvbnRleHQgbWFuYWdlciBmb3Igb3V0cHV0IHRydW5jYXRpb25cbiAgICAgIH1cbiAgICApO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHByb2ZpbGU6IG9wdGlvbnMucHJvZmlsZSxcbiAgICAgIHdvcmtzcGFjZUNvbnRleHQ6IG9wdGlvbnMud29ya3NwYWNlQ29udGV4dCxcbiAgICAgIHByb2ZpbGVDb25maWcsXG4gICAgICB0b29sQ29udGV4dCxcbiAgICAgIHRvb2xSdW50aW1lLFxuICAgICAgdG9vbFN1aXRlcyxcbiAgICAgIHRvb2xPYnNlcnZlcjogb3B0aW9ucy50b29sT2JzZXJ2ZXIsXG4gICAgICBjb250ZXh0TWFuYWdlcixcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBjb250ZXh0IG1hbmFnZXIgd2l0aCBMTE0tYmFzZWQgc3VtbWFyaXphdGlvbiBzdXBwb3J0XG4gICAqL1xuICBwcml2YXRlIGNyZWF0ZUNvbnRleHRNYW5hZ2VyV2l0aFN1bW1hcml6YXRpb24ocHJvZmlsZUNvbmZpZzogUmVzb2x2ZWRQcm9maWxlQ29uZmlnKTogQ29udGV4dE1hbmFnZXIge1xuICAgIC8vIENyZWF0ZSBzdW1tYXJpemF0aW9uIGNhbGxiYWNrIHRoYXQgZG9lc24ndCByZWZlcmVuY2UgdGhpcy5zdGF0ZVxuICAgIGNvbnN0IHN1bW1hcml6YXRpb25DYWxsYmFjazogU3VtbWFyaXphdGlvbkNhbGxiYWNrID0gYXN5bmMgKG1lc3NhZ2VzOiBDb252ZXJzYXRpb25NZXNzYWdlW10pID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIENyZWF0ZSBhIGxpZ2h0d2VpZ2h0IGFnZW50IGZvciBzdW1tYXJpemF0aW9uXG4gICAgICAgIGNvbnN0IHByb3ZpZGVyID0gY3JlYXRlUHJvdmlkZXIoe1xuICAgICAgICAgIHByb3ZpZGVyOiBwcm9maWxlQ29uZmlnLnByb3ZpZGVyLFxuICAgICAgICAgIG1vZGVsOiBwcm9maWxlQ29uZmlnLm1vZGVsLFxuICAgICAgICAgIHRlbXBlcmF0dXJlOiAwLCAvLyBVc2UgZGV0ZXJtaW5pc3RpYyBzdW1tYXJpemF0aW9uXG4gICAgICAgICAgbWF4VG9rZW5zOiA1MDAsIC8vIEtlZXAgc3VtbWFyaWVzIGNvbmNpc2VcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQ3JlYXRlIGVtcHR5IHRvb2wgY29udGV4dCBmb3Igc3VtbWFyaXphdGlvbiAobm8gdG9vbHMgbmVlZGVkKVxuICAgICAgICBjb25zdCBlbXB0eVRvb2xDb250ZXh0OiBUb29sRXhlY3V0aW9uQ29udGV4dCA9IHtcbiAgICAgICAgICBwcm9maWxlTmFtZTogcHJvZmlsZUNvbmZpZy5wcm9maWxlLFxuICAgICAgICAgIHByb3ZpZGVyOiBwcm9maWxlQ29uZmlnLnByb3ZpZGVyLFxuICAgICAgICAgIG1vZGVsOiBwcm9maWxlQ29uZmlnLm1vZGVsLFxuICAgICAgICAgIHdvcmtzcGFjZUNvbnRleHQ6IG51bGwsXG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3Qgc3VtbWFyaXplciA9IG5ldyBBZ2VudFJ1bnRpbWUoe1xuICAgICAgICAgIHByb3ZpZGVyLFxuICAgICAgICAgIHRvb2xSdW50aW1lOiBjcmVhdGVEZWZhdWx0VG9vbFJ1bnRpbWUoZW1wdHlUb29sQ29udGV4dCwgW10pLCAvLyBObyB0b29scyBmb3Igc3VtbWFyaXphdGlvblxuICAgICAgICAgIHN5c3RlbVByb21wdDogQ09OVEVYVF9DTEVBTlVQX1NZU1RFTV9QUk9NUFQsXG4gICAgICAgICAgY2FsbGJhY2tzOiB7fSwgLy8gTm8gY2FsbGJhY2tzIG5lZWRlZCBmb3Igc3VtbWFyaXphdGlvblxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBTZXJpYWxpemUgbWVzc2FnZXMgaW50byBjaHVua3NcbiAgICAgICAgY29uc3Qgc2VyaWFsaXplZCA9IG1lc3NhZ2VzLm1hcCgobXNnKSA9PiBzZXJpYWxpemVNZXNzYWdlKG1zZykpLmZpbHRlcigodGV4dCkgPT4gdGV4dC5sZW5ndGggPiAwKTtcblxuICAgICAgICBpZiAoIXNlcmlhbGl6ZWQubGVuZ3RoKSB7XG4gICAgICAgICAgcmV0dXJuICdbTm8gY29udGVudCB0byBzdW1tYXJpemVdJztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENodW5rIG1lc3NhZ2VzIHRvIGF2b2lkIG92ZXJ3aGVsbWluZyB0aGUgc3VtbWFyaXplclxuICAgICAgICBjb25zdCBjaHVua3MgPSBjaHVua01lc3NhZ2VzKHNlcmlhbGl6ZWQsIDYwMDApO1xuXG4gICAgICAgIC8vIEl0ZXJhdGl2ZWx5IHN1bW1hcml6ZSBjaHVua3NcbiAgICAgICAgbGV0IHJ1bm5pbmdTdW1tYXJ5ID0gJyc7XG4gICAgICAgIGZvciAoY29uc3QgY2h1bmsgb2YgY2h1bmtzKSB7XG4gICAgICAgICAgY29uc3QgcHJvbXB0ID0gcnVubmluZ1N1bW1hcnlcbiAgICAgICAgICAgID8gYEV4aXN0aW5nIHN1bW1hcnk6XFxuJHtydW5uaW5nU3VtbWFyeX1cXG5cXG5OZXcgY29udmVyc2F0aW9uIGNodW5rOlxcbiR7Y2h1bmt9XFxuXFxuTWVyZ2UgdGhlIGNodW5rIGludG8gdGhlIHJ1bm5pbmcgc3VtbWFyeSwga2VlcGluZyBpdCBjb25jaXNlICg8MjAwIHdvcmRzKS5gXG4gICAgICAgICAgICA6IGBTdW1tYXJpemUgdGhpcyBjb252ZXJzYXRpb24gY29uY2lzZWx5ICg8MjAwIHdvcmRzKTpcXG5cXG4ke2NodW5rfWA7XG5cbiAgICAgICAgICBydW5uaW5nU3VtbWFyeSA9IChhd2FpdCBzdW1tYXJpemVyLnNlbmQocHJvbXB0KSkudHJpbSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJ1bm5pbmdTdW1tYXJ5IHx8ICdbU3VtbWFyeSBnZW5lcmF0aW9uIGZhaWxlZF0nO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgLy8gSWYgc3VtbWFyaXphdGlvbiBmYWlscywgcmV0dXJuIGEgZmFsbGJhY2sgbWVzc2FnZVxuICAgICAgICByZXR1cm4gYFtTdW1tYXJpemF0aW9uIGZhaWxlZDogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ31dYDtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIGNyZWF0ZURlZmF1bHRDb250ZXh0TWFuYWdlcih7XG4gICAgICB1c2VMTE1TdW1tYXJpemF0aW9uOiB0cnVlLFxuICAgICAgc3VtbWFyaXphdGlvbkNhbGxiYWNrLFxuICAgIH0sIHByb2ZpbGVDb25maWcubW9kZWwpO1xuICB9XG5cblxuICBnZXQgcHJvZmlsZSgpOiBQcm9maWxlTmFtZSB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUucHJvZmlsZTtcbiAgfVxuXG4gIGdldCBwcm9maWxlQ29uZmlnKCk6IFJlc29sdmVkUHJvZmlsZUNvbmZpZyB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUucHJvZmlsZUNvbmZpZztcbiAgfVxuXG4gIGdldCB3b3Jrc3BhY2VDb250ZXh0KCk6IHN0cmluZyB8IG51bGwge1xuICAgIHJldHVybiB0aGlzLnN0YXRlLndvcmtzcGFjZUNvbnRleHQgPz8gbnVsbDtcbiAgfVxuXG4gIGdldCB0b29sUnVudGltZSgpOiBUb29sUnVudGltZSB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUudG9vbFJ1bnRpbWU7XG4gIH1cblxuICBnZXQgdG9vbENvbnRleHQoKTogVG9vbEV4ZWN1dGlvbkNvbnRleHQge1xuICAgIHJldHVybiB0aGlzLnN0YXRlLnRvb2xDb250ZXh0O1xuICB9XG5cbiAgY3JlYXRlQWdlbnQoXG4gICAgc2VsZWN0aW9uOiBNb2RlbFNlbGVjdGlvbixcbiAgICBjYWxsYmFja3M/OiBBZ2VudENhbGxiYWNrcyxcbiAgICB0b29sUnVudGltZU92ZXJyaWRlPzogSVRvb2xSdW50aW1lLFxuICAgIG9wdGlvbnM/OiB7IGV4cGxhaW5FZGl0cz86IGJvb2xlYW4gfVxuICApOiBBZ2VudFJ1bnRpbWUge1xuICAgIGNvbnN0IHByb3ZpZGVyID0gY3JlYXRlUHJvdmlkZXIoYXNQcm92aWRlckNvbmZpZyhzZWxlY3Rpb24pKTtcbiAgICBjb25zdCBzeXN0ZW1Qcm9tcHQgPSAoc2VsZWN0aW9uLnN5c3RlbVByb21wdCA/PyB0aGlzLnN0YXRlLnByb2ZpbGVDb25maWcuc3lzdGVtUHJvbXB0KS50cmltKCk7XG5cbiAgICByZXR1cm4gbmV3IEFnZW50UnVudGltZSh7XG4gICAgICBwcm92aWRlcixcbiAgICAgIHRvb2xSdW50aW1lOiB0b29sUnVudGltZU92ZXJyaWRlID8/IHRoaXMuc3RhdGUudG9vbFJ1bnRpbWUsXG4gICAgICBzeXN0ZW1Qcm9tcHQsXG4gICAgICBjYWxsYmFja3MsXG4gICAgICBjb250ZXh0TWFuYWdlcjogdGhpcy5zdGF0ZS5jb250ZXh0TWFuYWdlciwgLy8gUGFzcyBjb250ZXh0IG1hbmFnZXIgZm9yIGhpc3RvcnkgcHJ1bmluZ1xuICAgICAgZXhwbGFpbkVkaXRzOiBvcHRpb25zPy5leHBsYWluRWRpdHMsXG4gICAgfSk7XG4gIH1cblxuICB1cGRhdGVUb29sQ29udGV4dChzZWxlY3Rpb246IE1vZGVsU2VsZWN0aW9uKTogdm9pZCB7XG4gICAgLy8gQ3JlYXRlIG5ldyBjb250ZXh0IHdpdGggdXBkYXRlZCBwcm92aWRlci9tb2RlbCAocHJvcGVydGllcyBhcmUgcmVhZG9ubHkpXG4gICAgdGhpcy5zdGF0ZS50b29sQ29udGV4dCA9IHtcbiAgICAgIC4uLnRoaXMuc3RhdGUudG9vbENvbnRleHQsXG4gICAgICBwcm92aWRlcjogc2VsZWN0aW9uLnByb3ZpZGVyLFxuICAgICAgbW9kZWw6IHNlbGVjdGlvbi5tb2RlbCxcbiAgICB9O1xuICB9XG5cbiAgcmVmcmVzaFdvcmtzcGFjZUNvbnRleHQod29ya3NwYWNlQ29udGV4dDogc3RyaW5nIHwgbnVsbCk6IFJlc29sdmVkUHJvZmlsZUNvbmZpZyB7XG4gICAgY29uc3QgcmVzb2x2ZWQgPSByZXNvbHZlUHJvZmlsZUNvbmZpZyh0aGlzLnN0YXRlLnByb2ZpbGUsIHdvcmtzcGFjZUNvbnRleHQpO1xuICAgIHRoaXMuc3RhdGUud29ya3NwYWNlQ29udGV4dCA9IHdvcmtzcGFjZUNvbnRleHQ7XG4gICAgLy8gQ3JlYXRlIG5ldyBjb250ZXh0IHdpdGggdXBkYXRlZCB3b3Jrc3BhY2UgKHByb3BlcnRpZXMgYXJlIHJlYWRvbmx5KVxuICAgIHRoaXMuc3RhdGUudG9vbENvbnRleHQgPSB7XG4gICAgICAuLi50aGlzLnN0YXRlLnRvb2xDb250ZXh0LFxuICAgICAgd29ya3NwYWNlQ29udGV4dCxcbiAgICB9O1xuICAgIHRoaXMuc3RhdGUucHJvZmlsZUNvbmZpZyA9IHtcbiAgICAgIC4uLnRoaXMuc3RhdGUucHJvZmlsZUNvbmZpZyxcbiAgICAgIHN5c3RlbVByb21wdDogcmVzb2x2ZWQuc3lzdGVtUHJvbXB0LFxuICAgICAgcnVsZWJvb2s6IHJlc29sdmVkLnJ1bGVib29rLFxuICAgIH07XG4gICAgdGhpcy5zdGF0ZS50b29sUnVudGltZSA9IGNyZWF0ZURlZmF1bHRUb29sUnVudGltZShcbiAgICAgIHRoaXMuc3RhdGUudG9vbENvbnRleHQsXG4gICAgICB0aGlzLnN0YXRlLnRvb2xTdWl0ZXMsXG4gICAgICB7XG4gICAgICAgIG9ic2VydmVyOiB0aGlzLnN0YXRlLnRvb2xPYnNlcnZlcixcbiAgICAgICAgY29udGV4dE1hbmFnZXI6IHRoaXMuc3RhdGUuY29udGV4dE1hbmFnZXIsIC8vIFByZXNlcnZlIGNvbnRleHQgbWFuYWdlclxuICAgICAgfVxuICAgICk7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUucHJvZmlsZUNvbmZpZztcbiAgfVxuXG4gIGdldCBjb250ZXh0TWFuYWdlcigpOiBDb250ZXh0TWFuYWdlciB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUuY29udGV4dE1hbmFnZXI7XG4gIH1cbn1cblxuLyoqXG4gKiBTZXJpYWxpemUgYSBtZXNzYWdlIGZvciBzdW1tYXJpemF0aW9uXG4gKi9cbmZ1bmN0aW9uIHNlcmlhbGl6ZU1lc3NhZ2UobWVzc2FnZTogQ29udmVyc2F0aW9uTWVzc2FnZSk6IHN0cmluZyB7XG4gIHN3aXRjaCAobWVzc2FnZS5yb2xlKSB7XG4gICAgY2FzZSAndXNlcic6XG4gICAgICByZXR1cm4gYFVzZXI6ICR7bWVzc2FnZS5jb250ZW50fWA7XG4gICAgY2FzZSAnYXNzaXN0YW50JzpcbiAgICAgIHJldHVybiBgQXNzaXN0YW50OiAke21lc3NhZ2UuY29udGVudH1gO1xuICAgIGNhc2UgJ3Rvb2wnOlxuICAgICAgcmV0dXJuIGBUb29sKCR7bWVzc2FnZS5uYW1lID8/ICd1bmtub3duJ30pOiAke21lc3NhZ2UuY29udGVudH1gO1xuICAgIGNhc2UgJ3N5c3RlbSc6XG4gICAgICByZXR1cm4gYFN5c3RlbTogJHttZXNzYWdlLmNvbnRlbnR9YDtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuICcnO1xuICB9XG59XG5cbi8qKlxuICogQ2h1bmsgbWVzc2FnZXMgYnkgY2hhcmFjdGVyIGNvdW50XG4gKi9cbmZ1bmN0aW9uIGNodW5rTWVzc2FnZXMoc2VyaWFsaXplZDogc3RyaW5nW10sIG1heENoYXJzUGVyQ2h1bms6IG51bWJlcik6IHN0cmluZ1tdIHtcbiAgY29uc3QgY2h1bmtzOiBzdHJpbmdbXSA9IFtdO1xuICBsZXQgYnVmZmVyID0gJyc7XG5cbiAgZm9yIChjb25zdCBlbnRyeSBvZiBzZXJpYWxpemVkKSB7XG4gICAgY29uc3Qgc2VnbWVudCA9IGJ1ZmZlciA/IGBcXG5cXG4ke2VudHJ5fWAgOiBlbnRyeTtcbiAgICBpZiAoYnVmZmVyICYmIGJ1ZmZlci5sZW5ndGggKyBzZWdtZW50Lmxlbmd0aCA+IG1heENoYXJzUGVyQ2h1bmspIHtcbiAgICAgIGNodW5rcy5wdXNoKGJ1ZmZlci50cmltKCkpO1xuICAgICAgYnVmZmVyID0gZW50cnk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgYnVmZmVyICs9IGJ1ZmZlciA/IGBcXG5cXG4ke2VudHJ5fWAgOiBlbnRyeTtcbiAgfVxuXG4gIGlmIChidWZmZXIpIHtcbiAgICBjaHVua3MucHVzaChidWZmZXIudHJpbSgpKTtcbiAgfVxuXG4gIHJldHVybiBjaHVua3M7XG59XG5cbmZ1bmN0aW9uIGFzUHJvdmlkZXJDb25maWcoc2VsZWN0aW9uOiBNb2RlbFNlbGVjdGlvbik6IFByb3ZpZGVyQ29uZmlnIHtcbiAgcmV0dXJuIHtcbiAgICBwcm92aWRlcjogc2VsZWN0aW9uLnByb3ZpZGVyLFxuICAgIG1vZGVsOiBzZWxlY3Rpb24ubW9kZWwsXG4gICAgdGVtcGVyYXR1cmU6IHNlbGVjdGlvbi50ZW1wZXJhdHVyZSxcbiAgICBtYXhUb2tlbnM6IHNlbGVjdGlvbi5tYXhUb2tlbnMsXG4gICAgcmVhc29uaW5nRWZmb3J0OiBzZWxlY3Rpb24ucmVhc29uaW5nRWZmb3J0LFxuICAgIHRleHRWZXJib3NpdHk6IHNlbGVjdGlvbi50ZXh0VmVyYm9zaXR5LFxuICAgIC8vIFBhc3MgdGhpbmtpbmcgY29uZmlndXJhdGlvbiBmb3IgZXh0ZW5kZWQgdGhpbmtpbmcgbW9kZWxzXG4gICAgdGhpbmtpbmc6IHNlbGVjdGlvbi50aGlua2luZyxcbiAgICB0aGlua2luZ0xldmVsOiBzZWxlY3Rpb24udGhpbmtpbmdMZXZlbCxcbiAgfTtcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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Q3pCLE1BQU0sR0FBRzJCLE9BQU8sQ0FBQzNCLE1BQU0sR0FBR3dCLGdCQUFnQixHQUFFO01BQUE7TUFBQW5FLGNBQUEsR0FBQXdCLENBQUE7TUFBQXhCLGNBQUEsR0FBQVMsQ0FBQTtNQUMvRG1DLE1BQU0sQ0FBQzJCLElBQUksQ0FBQ0gsTUFBTSxDQUFDbEIsSUFBSSxDQUFDLENBQUMsQ0FBQztNQUFDO01BQUFsRCxjQUFBLEdBQUFTLENBQUE7TUFDM0IyRCxNQUFNLEdBQUdDLEtBQUs7TUFBQztNQUFBckUsY0FBQSxHQUFBUyxDQUFBO01BQ2Y7SUFDRixDQUFDO0lBQUE7SUFBQTtNQUFBVCxjQUFBLEdBQUF3QixDQUFBO0lBQUE7SUFBQXhCLGNBQUEsR0FBQVMsQ0FBQTtJQUNEMkQsTUFBTSxJQUFJQSxNQUFNO0lBQUE7SUFBQSxDQUFBcEUsY0FBQSxHQUFBd0IsQ0FBQSxXQUFHLE9BQU82QyxLQUFLLEVBQUU7SUFBQTtJQUFBLENBQUFyRSxjQUFBLEdBQUF3QixDQUFBLFdBQUc2QyxLQUFLO0VBQzNDO0VBQUM7RUFBQXJFLGNBQUEsR0FBQVMsQ0FBQTtFQUVELElBQUkyRCxNQUFNLEVBQUU7SUFBQTtJQUFBcEUsY0FBQSxHQUFBd0IsQ0FBQTtJQUFBeEIsY0FBQSxHQUFBUyxDQUFBO0lBQ1ZtQyxNQUFNLENBQUMyQixJQUFJLENBQUNILE1BQU0sQ0FBQ2xCLElBQUksQ0FBQyxDQUFDLENBQUM7RUFDNUIsQ0FBQztFQUFBO0VBQUE7SUFBQWxELGNBQUEsR0FBQXdCLENBQUE7RUFBQTtFQUFBeEIsY0FBQSxHQUFBUyxDQUFBO0VBRUQsT0FBT21DLE1BQU07QUFDZjtBQUVBLFNBQVNjLGdCQUFnQkEsQ0FBQ0YsU0FBeUIsRUFBa0I7RUFBQTtFQUFBeEQsY0FBQSxHQUFBYSxDQUFBO0VBQUFiLGNBQUEsR0FBQVMsQ0FBQTtFQUNuRSxPQUFPO0lBQ0xVLFFBQVEsRUFBRXFDLFNBQVMsQ0FBQ3JDLFFBQVE7SUFDNUJDLEtBQUssRUFBRW9DLFNBQVMsQ0FBQ3BDLEtBQUs7SUFDdEJXLFdBQVcsRUFBRXlCLFNBQVMsQ0FBQ3pCLFdBQVc7SUFDbENDLFNBQVMsRUFBRXdCLFNBQVMsQ0FBQ3hCLFNBQVM7SUFDOUJ3QyxlQUFlLEVBQUVoQixTQUFTLENBQUNnQixlQUFlO0lBQzFDQyxhQUFhLEVBQUVqQixTQUFTLENBQUNpQixhQUFhO0lBQ3RDO0lBQ0FDLFFBQVEsRUFBRWxCLFNBQVMsQ0FBQ2tCLFFBQVE7SUFDNUJDLGFBQWEsRUFBRW5CLFNBQVMsQ0FBQ21CO0VBQzNCLENBQUM7QUFDSCIsImlnbm9yZUxpc3QiOltdfQ==