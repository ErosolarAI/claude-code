758c36bc469cc8e0212603d5ba165733
/* istanbul ignore next */
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.isPlainOutputMode = isPlainOutputMode;
exports.resetPlainOutputMode = resetPlainOutputMode;
exports.setPlainOutputMode = setPlainOutputMode;
function cov_9dpukb4xq() {
  var path = "/Users/bo/GitHub/agi-core-CLI-coding/src/ui/outputMode.ts";
  var hash = "c0de81e7f162e7670aef2400b284b58055a8766b";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/Users/bo/GitHub/agi-core-CLI-coding/src/ui/outputMode.ts",
    statementMap: {
      "0": {
        start: {
          line: 9,
          column: 33
        },
        end: {
          line: 9,
          column: 37
        }
      },
      "1": {
        start: {
          line: 16,
          column: 2
        },
        end: {
          line: 18,
          column: 3
        }
      },
      "2": {
        start: {
          line: 17,
          column: 4
        },
        end: {
          line: 17,
          column: 22
        }
      },
      "3": {
        start: {
          line: 20,
          column: 19
        },
        end: {
          line: 20,
          column: 55
        }
      },
      "4": {
        start: {
          line: 21,
          column: 2
        },
        end: {
          line: 27,
          column: 3
        }
      },
      "5": {
        start: {
          line: 22,
          column: 23
        },
        end: {
          line: 22,
          column: 82
        }
      },
      "6": {
        start: {
          line: 23,
          column: 4
        },
        end: {
          line: 26,
          column: 5
        }
      },
      "7": {
        start: {
          line: 24,
          column: 6
        },
        end: {
          line: 24,
          column: 24
        }
      },
      "8": {
        start: {
          line: 25,
          column: 6
        },
        end: {
          line: 25,
          column: 24
        }
      },
      "9": {
        start: {
          line: 29,
          column: 16
        },
        end: {
          line: 29,
          column: 70
        }
      },
      "10": {
        start: {
          line: 30,
          column: 15
        },
        end: {
          line: 30,
          column: 41
        }
      },
      "11": {
        start: {
          line: 33,
          column: 2
        },
        end: {
          line: 33,
          column: 30
        }
      },
      "12": {
        start: {
          line: 35,
          column: 2
        },
        end: {
          line: 35,
          column: 20
        }
      },
      "13": {
        start: {
          line: 42,
          column: 2
        },
        end: {
          line: 42,
          column: 23
        }
      },
      "14": {
        start: {
          line: 49,
          column: 2
        },
        end: {
          line: 49,
          column: 20
        }
      }
    },
    fnMap: {
      "0": {
        name: "isPlainOutputMode",
        decl: {
          start: {
            line: 15,
            column: 16
          },
          end: {
            line: 15,
            column: 33
          }
        },
        loc: {
          start: {
            line: 15,
            column: 45
          },
          end: {
            line: 36,
            column: 1
          }
        },
        line: 15
      },
      "1": {
        name: "setPlainOutputMode",
        decl: {
          start: {
            line: 41,
            column: 16
          },
          end: {
            line: 41,
            column: 34
          }
        },
        loc: {
          start: {
            line: 41,
            column: 59
          },
          end: {
            line: 43,
            column: 1
          }
        },
        line: 41
      },
      "2": {
        name: "resetPlainOutputMode",
        decl: {
          start: {
            line: 48,
            column: 16
          },
          end: {
            line: 48,
            column: 36
          }
        },
        loc: {
          start: {
            line: 48,
            column: 45
          },
          end: {
            line: 50,
            column: 1
          }
        },
        line: 48
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 16,
            column: 2
          },
          end: {
            line: 18,
            column: 3
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 16,
            column: 2
          },
          end: {
            line: 18,
            column: 3
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 16
      },
      "1": {
        loc: {
          start: {
            line: 21,
            column: 2
          },
          end: {
            line: 27,
            column: 3
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 21,
            column: 2
          },
          end: {
            line: 27,
            column: 3
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 21
      },
      "2": {
        loc: {
          start: {
            line: 23,
            column: 4
          },
          end: {
            line: 26,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 23,
            column: 4
          },
          end: {
            line: 26,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 23
      },
      "3": {
        loc: {
          start: {
            line: 29,
            column: 24
          },
          end: {
            line: 29,
            column: 69
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 29,
            column: 24
          },
          end: {
            line: 29,
            column: 45
          }
        }, {
          start: {
            line: 29,
            column: 49
          },
          end: {
            line: 29,
            column: 69
          }
        }],
        line: 29
      },
      "4": {
        loc: {
          start: {
            line: 33,
            column: 15
          },
          end: {
            line: 33,
            column: 29
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 33,
            column: 15
          },
          end: {
            line: 33,
            column: 21
          }
        }, {
          start: {
            line: 33,
            column: 25
          },
          end: {
            line: 33,
            column: 29
          }
        }],
        line: 33
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0]
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "c0de81e7f162e7670aef2400b284b58055a8766b"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_9dpukb4xq = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_9dpukb4xq();
/**
 * Output mode configuration for terminal UI
 *
 * Controls whether to use decorative box-drawing characters or plain text.
 * Plain mode outputs clipboard-friendly text without Unicode borders.
 * Automatically enabled in CI or non-interactive shells; override with EROSOLAR_PLAIN_OUTPUT=true.
 */

let _plainMode =
/* istanbul ignore next */
(cov_9dpukb4xq().s[0]++, null);

/**
 * Check if plain output mode is enabled.
 * Plain mode outputs text without box-drawing characters for clean clipboard copying.
 */
function isPlainOutputMode() {
  /* istanbul ignore next */
  cov_9dpukb4xq().f[0]++;
  cov_9dpukb4xq().s[1]++;
  if (_plainMode !== null) {
    /* istanbul ignore next */
    cov_9dpukb4xq().b[0][0]++;
    cov_9dpukb4xq().s[2]++;
    return _plainMode;
  } else
  /* istanbul ignore next */
  {
    cov_9dpukb4xq().b[0][1]++;
  }
  const envValue =
  /* istanbul ignore next */
  (cov_9dpukb4xq().s[3]++, process.env['EROSOLAR_PLAIN_OUTPUT']);
  /* istanbul ignore next */
  cov_9dpukb4xq().s[4]++;
  if (envValue !== undefined) {
    /* istanbul ignore next */
    cov_9dpukb4xq().b[1][0]++;
    const envEnabled =
    /* istanbul ignore next */
    (cov_9dpukb4xq().s[5]++, ['true', '1', 'yes', 'on'].includes(envValue.toLowerCase()));
    /* istanbul ignore next */
    cov_9dpukb4xq().s[6]++;
    if (envEnabled) {
      /* istanbul ignore next */
      cov_9dpukb4xq().b[2][0]++;
      cov_9dpukb4xq().s[7]++;
      _plainMode = true;
      /* istanbul ignore next */
      cov_9dpukb4xq().s[8]++;
      return _plainMode;
    } else
    /* istanbul ignore next */
    {
      cov_9dpukb4xq().b[2][1]++;
    }
  } else
  /* istanbul ignore next */
  {
    cov_9dpukb4xq().b[1][1]++;
  }
  const isTty =
  /* istanbul ignore next */
  (cov_9dpukb4xq().s[9]++, Boolean(
  /* istanbul ignore next */
  (cov_9dpukb4xq().b[3][0]++, process.stdout?.isTTY) &&
  /* istanbul ignore next */
  (cov_9dpukb4xq().b[3][1]++, process.stdin?.isTTY)));
  const isCi =
  /* istanbul ignore next */
  (cov_9dpukb4xq().s[10]++, Boolean(process.env['CI']));

  // Default to plain logging in non-interactive/CI environments; rich UI only in TTY sessions.
  /* istanbul ignore next */
  cov_9dpukb4xq().s[11]++;
  _plainMode =
  /* istanbul ignore next */
  (cov_9dpukb4xq().b[4][0]++, !isTty) ||
  /* istanbul ignore next */
  (cov_9dpukb4xq().b[4][1]++, isCi);
  /* istanbul ignore next */
  cov_9dpukb4xq().s[12]++;
  return _plainMode;
}

/**
 * Override the plain output mode setting (useful for testing)
 */
function setPlainOutputMode(enabled) {
  /* istanbul ignore next */
  cov_9dpukb4xq().f[1]++;
  cov_9dpukb4xq().s[13]++;
  _plainMode = enabled;
}

/**
 * Reset plain output mode to check environment variable again
 */
function resetPlainOutputMode() {
  /* istanbul ignore next */
  cov_9dpukb4xq().f[2]++;
  cov_9dpukb4xq().s[14]++;
  _plainMode = null;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfOWRwdWtiNHhxIiwiYWN0dWFsQ292ZXJhZ2UiLCJfcGxhaW5Nb2RlIiwicyIsImlzUGxhaW5PdXRwdXRNb2RlIiwiZiIsImIiLCJlbnZWYWx1ZSIsInByb2Nlc3MiLCJlbnYiLCJ1bmRlZmluZWQiLCJlbnZFbmFibGVkIiwiaW5jbHVkZXMiLCJ0b0xvd2VyQ2FzZSIsImlzVHR5IiwiQm9vbGVhbiIsInN0ZG91dCIsImlzVFRZIiwic3RkaW4iLCJpc0NpIiwic2V0UGxhaW5PdXRwdXRNb2RlIiwiZW5hYmxlZCIsInJlc2V0UGxhaW5PdXRwdXRNb2RlIl0sInNvdXJjZXMiOlsib3V0cHV0TW9kZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIE91dHB1dCBtb2RlIGNvbmZpZ3VyYXRpb24gZm9yIHRlcm1pbmFsIFVJXG4gKlxuICogQ29udHJvbHMgd2hldGhlciB0byB1c2UgZGVjb3JhdGl2ZSBib3gtZHJhd2luZyBjaGFyYWN0ZXJzIG9yIHBsYWluIHRleHQuXG4gKiBQbGFpbiBtb2RlIG91dHB1dHMgY2xpcGJvYXJkLWZyaWVuZGx5IHRleHQgd2l0aG91dCBVbmljb2RlIGJvcmRlcnMuXG4gKiBBdXRvbWF0aWNhbGx5IGVuYWJsZWQgaW4gQ0kgb3Igbm9uLWludGVyYWN0aXZlIHNoZWxsczsgb3ZlcnJpZGUgd2l0aCBFUk9TT0xBUl9QTEFJTl9PVVRQVVQ9dHJ1ZS5cbiAqL1xuXG5sZXQgX3BsYWluTW9kZTogYm9vbGVhbiB8IG51bGwgPSBudWxsO1xuXG4vKipcbiAqIENoZWNrIGlmIHBsYWluIG91dHB1dCBtb2RlIGlzIGVuYWJsZWQuXG4gKiBQbGFpbiBtb2RlIG91dHB1dHMgdGV4dCB3aXRob3V0IGJveC1kcmF3aW5nIGNoYXJhY3RlcnMgZm9yIGNsZWFuIGNsaXBib2FyZCBjb3B5aW5nLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNQbGFpbk91dHB1dE1vZGUoKTogYm9vbGVhbiB7XG4gIGlmIChfcGxhaW5Nb2RlICE9PSBudWxsKSB7XG4gICAgcmV0dXJuIF9wbGFpbk1vZGU7XG4gIH1cblxuICBjb25zdCBlbnZWYWx1ZSA9IHByb2Nlc3MuZW52WydFUk9TT0xBUl9QTEFJTl9PVVRQVVQnXTtcbiAgaWYgKGVudlZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICBjb25zdCBlbnZFbmFibGVkID0gWyd0cnVlJywgJzEnLCAneWVzJywgJ29uJ10uaW5jbHVkZXMoZW52VmFsdWUudG9Mb3dlckNhc2UoKSk7XG4gICAgaWYgKGVudkVuYWJsZWQpIHtcbiAgICAgIF9wbGFpbk1vZGUgPSB0cnVlO1xuICAgICAgcmV0dXJuIF9wbGFpbk1vZGU7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgaXNUdHkgPSBCb29sZWFuKHByb2Nlc3Muc3Rkb3V0Py5pc1RUWSAmJiBwcm9jZXNzLnN0ZGluPy5pc1RUWSk7XG4gIGNvbnN0IGlzQ2kgPSBCb29sZWFuKHByb2Nlc3MuZW52WydDSSddKTtcblxuICAvLyBEZWZhdWx0IHRvIHBsYWluIGxvZ2dpbmcgaW4gbm9uLWludGVyYWN0aXZlL0NJIGVudmlyb25tZW50czsgcmljaCBVSSBvbmx5IGluIFRUWSBzZXNzaW9ucy5cbiAgX3BsYWluTW9kZSA9ICFpc1R0eSB8fCBpc0NpO1xuXG4gIHJldHVybiBfcGxhaW5Nb2RlO1xufVxuXG4vKipcbiAqIE92ZXJyaWRlIHRoZSBwbGFpbiBvdXRwdXQgbW9kZSBzZXR0aW5nICh1c2VmdWwgZm9yIHRlc3RpbmcpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRQbGFpbk91dHB1dE1vZGUoZW5hYmxlZDogYm9vbGVhbik6IHZvaWQge1xuICBfcGxhaW5Nb2RlID0gZW5hYmxlZDtcbn1cblxuLyoqXG4gKiBSZXNldCBwbGFpbiBvdXRwdXQgbW9kZSB0byBjaGVjayBlbnZpcm9ubWVudCB2YXJpYWJsZSBhZ2FpblxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVzZXRQbGFpbk91dHB1dE1vZGUoKTogdm9pZCB7XG4gIF9wbGFpbk1vZGUgPSBudWxsO1xufVxuIl0sIm1hcHBpbmdz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