{"version":3,"names":["cov_9dpukb4xq","actualCoverage","_plainMode","s","isPlainOutputMode","f","b","envValue","process","env","undefined","envEnabled","includes","toLowerCase","isTty","Boolean","stdout","isTTY","stdin","isCi","setPlainOutputMode","enabled","resetPlainOutputMode"],"sources":["outputMode.ts"],"sourcesContent":["/**\n * Output mode configuration for terminal UI\n *\n * Controls whether to use decorative box-drawing characters or plain text.\n * Plain mode outputs clipboard-friendly text without Unicode borders.\n * Automatically enabled in CI or non-interactive shells; override with EROSOLAR_PLAIN_OUTPUT=true.\n */\n\nlet _plainMode: boolean | null = null;\n\n/**\n * Check if plain output mode is enabled.\n * Plain mode outputs text without box-drawing characters for clean clipboard copying.\n */\nexport function isPlainOutputMode(): boolean {\n  if (_plainMode !== null) {\n    return _plainMode;\n  }\n\n  const envValue = process.env['EROSOLAR_PLAIN_OUTPUT'];\n  if (envValue !== undefined) {\n    const envEnabled = ['true', '1', 'yes', 'on'].includes(envValue.toLowerCase());\n    if (envEnabled) {\n      _plainMode = true;\n      return _plainMode;\n    }\n  }\n\n  const isTty = Boolean(process.stdout?.isTTY && process.stdin?.isTTY);\n  const isCi = Boolean(process.env['CI']);\n\n  // Default to plain logging in non-interactive/CI environments; rich UI only in TTY sessions.\n  _plainMode = !isTty || isCi;\n\n  return _plainMode;\n}\n\n/**\n * Override the plain output mode setting (useful for testing)\n */\nexport function setPlainOutputMode(enabled: boolean): void {\n  _plainMode = enabled;\n}\n\n/**\n * Reset plain output mode to check environment variable again\n */\nexport function resetPlainOutputMode(): void {\n  _plainMode = null;\n}\n"],"mappings":"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","ignoreList":[]}