0b78ac746e80211e6a99d0ff2a22ad67
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.isPlainOutputMode = isPlainOutputMode;
exports.resetPlainOutputMode = resetPlainOutputMode;
exports.setPlainOutputMode = setPlainOutputMode;
/**
 * Output mode configuration for terminal UI
 *
 * Controls whether to use decorative box-drawing characters or plain text.
 * Plain mode outputs clipboard-friendly text without Unicode borders.
 * Automatically enabled in CI or non-interactive shells; override with EROSOLAR_PLAIN_OUTPUT=true.
 */

let _plainMode = null;

/**
 * Check if plain output mode is enabled.
 * Plain mode outputs text without box-drawing characters for clean clipboard copying.
 */
function isPlainOutputMode() {
  if (_plainMode !== null) {
    return _plainMode;
  }
  const envValue = process.env['EROSOLAR_PLAIN_OUTPUT'];
  if (envValue !== undefined) {
    const envEnabled = ['true', '1', 'yes', 'on'].includes(envValue.toLowerCase());
    if (envEnabled) {
      _plainMode = true;
      return _plainMode;
    }
  }
  const isTty = Boolean(process.stdout?.isTTY && process.stdin?.isTTY);
  const isCi = Boolean(process.env['CI']);

  // Default to plain logging in non-interactive/CI environments; rich UI only in TTY sessions.
  _plainMode = !isTty || isCi;
  return _plainMode;
}

/**
 * Override the plain output mode setting (useful for testing)
 */
function setPlainOutputMode(enabled) {
  _plainMode = enabled;
}

/**
 * Reset plain output mode to check environment variable again
 */
function resetPlainOutputMode() {
  _plainMode = null;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcGxhaW5Nb2RlIiwiaXNQbGFpbk91dHB1dE1vZGUiLCJlbnZWYWx1ZSIsInByb2Nlc3MiLCJlbnYiLCJ1bmRlZmluZWQiLCJlbnZFbmFibGVkIiwiaW5jbHVkZXMiLCJ0b0xvd2VyQ2FzZSIsImlzVHR5IiwiQm9vbGVhbiIsInN0ZG91dCIsImlzVFRZIiwic3RkaW4iLCJpc0NpIiwic2V0UGxhaW5PdXRwdXRNb2RlIiwiZW5hYmxlZCIsInJlc2V0UGxhaW5PdXRwdXRNb2RlIl0sInNvdXJjZXMiOlsib3V0cHV0TW9kZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIE91dHB1dCBtb2RlIGNvbmZpZ3VyYXRpb24gZm9yIHRlcm1pbmFsIFVJXG4gKlxuICogQ29udHJvbHMgd2hldGhlciB0byB1c2UgZGVjb3JhdGl2ZSBib3gtZHJhd2luZyBjaGFyYWN0ZXJzIG9yIHBsYWluIHRleHQuXG4gKiBQbGFpbiBtb2RlIG91dHB1dHMgY2xpcGJvYXJkLWZyaWVuZGx5IHRleHQgd2l0aG91dCBVbmljb2RlIGJvcmRlcnMuXG4gKiBBdXRvbWF0aWNhbGx5IGVuYWJsZWQgaW4gQ0kgb3Igbm9uLWludGVyYWN0aXZlIHNoZWxsczsgb3ZlcnJpZGUgd2l0aCBFUk9TT0xBUl9QTEFJTl9PVVRQVVQ9dHJ1ZS5cbiAqL1xuXG5sZXQgX3BsYWluTW9kZTogYm9vbGVhbiB8IG51bGwgPSBudWxsO1xuXG4vKipcbiAqIENoZWNrIGlmIHBsYWluIG91dHB1dCBtb2RlIGlzIGVuYWJsZWQuXG4gKiBQbGFpbiBtb2RlIG91dHB1dHMgdGV4dCB3aXRob3V0IGJveC1kcmF3aW5nIGNoYXJhY3RlcnMgZm9yIGNsZWFuIGNsaXBib2FyZCBjb3B5aW5nLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNQbGFpbk91dHB1dE1vZGUoKTogYm9vbGVhbiB7XG4gIGlmIChfcGxhaW5Nb2RlICE9PSBudWxsKSB7XG4gICAgcmV0dXJuIF9wbGFpbk1vZGU7XG4gIH1cblxuICBjb25zdCBlbnZWYWx1ZSA9IHByb2Nlc3MuZW52WydFUk9TT0xBUl9QTEFJTl9PVVRQVVQnXTtcbiAgaWYgKGVudlZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICBjb25zdCBlbnZFbmFibGVkID0gWyd0cnVlJywgJzEnLCAneWVzJywgJ29uJ10uaW5jbHVkZXMoZW52VmFsdWUudG9Mb3dlckNhc2UoKSk7XG4gICAgaWYgKGVudkVuYWJsZWQpIHtcbiAgICAgIF9wbGFpbk1vZGUgPSB0cnVlO1xuICAgICAgcmV0dXJuIF9wbGFpbk1vZGU7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgaXNUdHkgPSBCb29sZWFuKHByb2Nlc3Muc3Rkb3V0Py5pc1RUWSAmJiBwcm9jZXNzLnN0ZGluPy5pc1RUWSk7XG4gIGNvbnN0IGlzQ2kgPSBCb29sZWFuKHByb2Nlc3MuZW52WydDSSddKTtcblxuICAvLyBEZWZhdWx0IHRvIHBsYWluIGxvZ2dpbmcgaW4gbm9uLWludGVyYWN0aXZlL0NJIGVudmlyb25tZW50czsgcmljaCBVSSBvbmx5IGluIFRUWSBzZXNzaW9ucy5cbiAgX3BsYWluTW9kZSA9ICFpc1R0eSB8fCBpc0NpO1xuXG4gIHJldHVybiBfcGxhaW5Nb2RlO1xufVxuXG4vKipcbiAqIE92ZXJyaWRlIHRoZSBwbGFpbiBvdXRwdXQgbW9kZSBzZXR0aW5nICh1c2VmdWwgZm9yIHRlc3RpbmcpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRQbGFpbk91dHB1dE1vZGUoZW5hYmxlZDogYm9vbGVhbik6IHZvaWQge1xuICBfcGxhaW5Nb2RlID0gZW5hYmxlZDtcbn1cblxuLyoqXG4gKiBSZXNldCBwbGFpbiBvdXRwdXQgbW9kZSB0byBjaGVjayBlbnZpcm9ubWVudCB2YXJpYWJsZSBhZ2FpblxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVzZXRQbGFpbk91dHB1dE1vZGUoKTogdm9pZCB7XG4gIF9wbGFpbk1vZGUgPSBudWxsO1xufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLElBQUlBLFVBQTBCLEdBQUcsSUFBSTs7QUFFckM7QUFDQTtBQUNBO0FBQ0E7QUFDTyxTQUFTQyxpQkFBaUJBLENBQUEsRUFBWTtFQUMzQyxJQUFJRCxVQUFVLEtBQUssSUFBSSxFQUFFO0lBQ3ZCLE9BQU9BLFVBQVU7RUFDbkI7RUFFQSxNQUFNRSxRQUFRLEdBQUdDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLHVCQUF1QixDQUFDO0VBQ3JELElBQUlGLFFBQVEsS0FBS0csU0FBUyxFQUFFO0lBQzFCLE1BQU1DLFVBQVUsR0FBRyxDQUFDLE1BQU0sRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFLElBQUksQ0FBQyxDQUFDQyxRQUFRLENBQUNMLFFBQVEsQ0FBQ00sV0FBVyxDQUFDLENBQUMsQ0FBQztJQUM5RSxJQUFJRixVQUFVLEVBQUU7TUFDZE4sVUFBVSxHQUFHLElBQUk7TUFDakIsT0FBT0EsVUFBVTtJQUNuQjtFQUNGO0VBRUEsTUFBTVMsS0FBSyxHQUFHQyxPQUFPLENBQUNQLE9BQU8sQ0FBQ1EsTUFBTSxFQUFFQyxLQUFLLElBQUlULE9BQU8sQ0FBQ1UsS0FBSyxFQUFFRCxLQUFLLENBQUM7RUFDcEUsTUFBTUUsSUFBSSxHQUFHSixPQUFPLENBQUNQLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDOztFQUV2QztFQUNBSixVQUFVLEdBQUcsQ0FBQ1MsS0FBSyxJQUFJSyxJQUFJO0VBRTNCLE9BQU9kLFVBQVU7QUFDbkI7O0FBRUE7QUFDQTtBQUNBO0FBQ08sU0FBU2Usa0JBQWtCQSxDQUFDQyxPQUFnQixFQUFRO0VBQ3pEaEIsVUFBVSxHQUFHZ0IsT0FBTztBQUN0Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDTyxTQUFTQyxvQkFBb0JBLENBQUEsRUFBUztFQUMzQ2pCLFVBQVUsR0FBRyxJQUFJO0FBQ25CIiwiaWdub3JlTGlzdCI6W119