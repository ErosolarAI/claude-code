{"version":3,"names":["cov_ehi38imwq","actualCoverage","RateLimiter","retry","sleep","RATE_LIMIT_PATTERNS","s","TRANSIENT_ERROR_PATTERNS","FALLBACK_ELIGIBLE_PATTERNS","isFallbackEligibleError","error","f","Error","b","message","toLowerCase","some","pattern","includes","errorWithCode","code","String","type","reason","status","getFallbackReason","isRateLimitError","isTransientError","errorName","name","errorCode","cause","shouldRetry","ResilientProvider","stats","totalRequests","rateLimitHits","retries","circuitBreakerTrips","constructor","provider","config","id","model","maxRequestsPerMinute","maxRetries","baseDelayMs","maxDelayMs","enableCircuitBreaker","circuitBreakerThreshold","circuitBreakerResetMs","rateLimiter","maxRequests","windowMs","circuitBreaker","failures","lastFailure","isOpen","checkCircuitBreaker","elapsed","Date","now","Math","floor","ceil","recordFailure","_error","recordSuccess","max","executeWithResilience","operation","_operationName","acquire","result","backoffMultiplier","generate","messages","tools","generateStream","response","content","toolCalls","call","toolCall","usage","attempts","lastError","stream","chunk","err","delay","min","pow","getStats","circuitBreakerOpen","availableTokens","resetStats","withResilience","PROVIDER_RESILIENCE_CONFIGS","anthropic","openai","google","deepseek","xai","ollama","withProviderResilience","providerId","overrides","defaults"],"sources":["resilientProvider.ts"],"sourcesContent":["/**\n * Resilient Provider Wrapper\n *\n * Adds rate limiting, exponential backoff retry, and circuit breaker\n * patterns to any LLM provider for maximum reliability and performance.\n *\n * PERF: Provider-agnostic wrapper that prevents rate limit errors and\n * automatically recovers from transient failures.\n */\n\nimport type {\n  LLMProvider,\n  ConversationMessage,\n  ProviderToolDefinition,\n  ProviderResponse,\n  StreamChunk,\n  ProviderId,\n} from '../core/types.js';\nimport { RateLimiter, retry, sleep } from '../utils/asyncUtils.js';\n\nexport interface ResilientProviderConfig {\n  /** Maximum requests per window (default: 50) */\n  maxRequestsPerMinute?: number;\n  /** Maximum retry attempts (default: 4) */\n  maxRetries?: number;\n  /** Base delay for exponential backoff in ms (default: 1000) */\n  baseDelayMs?: number;\n  /** Maximum delay between retries in ms (default: 32000) */\n  maxDelayMs?: number;\n  /** Enable circuit breaker pattern (default: true) */\n  enableCircuitBreaker?: boolean;\n  /** Number of failures before circuit opens (default: 5) */\n  circuitBreakerThreshold?: number;\n  /** Time before circuit resets in ms (default: 60000) */\n  circuitBreakerResetMs?: number;\n}\n\ninterface CircuitBreakerState {\n  failures: number;\n  lastFailure: number;\n  isOpen: boolean;\n}\n\nconst RATE_LIMIT_PATTERNS = [\n  'rate limit',\n  'rate_limit',\n  'ratelimit',\n  'too many requests',\n  '429',\n  'quota exceeded',\n  'request limit',\n  'throttled',\n  'overloaded',\n  'capacity',\n];\n\nconst TRANSIENT_ERROR_PATTERNS = [\n  'timeout',\n  'timed out',\n  'network',\n  'connection',\n  'econnrefused',\n  'econnreset',\n  'enotfound',\n  'epipe',\n  'econnaborted',\n  'ehostunreach',\n  'enetunreach',\n  'socket',\n  'temporarily unavailable',\n  '502',\n  '503',\n  '504',\n  'bad gateway',\n  'service unavailable',\n  'gateway timeout',\n  'internal server error',\n  '500',\n  // Stream and fetch errors\n  'premature close',\n  'premature end',\n  'unexpected end',\n  'stream',\n  'aborted',\n  'fetcherror',\n  'fetch error',\n  'invalid response body',\n  'response body',\n  'gunzip',\n  'decompress',\n  'zlib',\n  'content-encoding',\n  'chunked encoding',\n  'transfer-encoding',\n  // SSL/TLS errors\n  'ssl',\n  'tls',\n  'certificate',\n  'cert',\n  'handshake',\n];\n\nconst FALLBACK_ELIGIBLE_PATTERNS = [\n  // Quota/billing errors\n  'insufficient_quota',\n  'quota exceeded',\n  'exceeded your current quota',\n  'billing',\n  'payment required',\n  'account suspended',\n  'account disabled',\n  // API key errors\n  'api key expired',\n  'api_key_invalid',\n  'invalid api key',\n  'invalid_api_key',\n  'api key not valid',\n  // Model availability errors\n  'model not found',\n  'model_not_found',\n  'does not exist',\n  'not available',\n  'deprecated',\n  'access denied',\n  'permission denied',\n  'unauthorized',\n  '401',\n  '403',\n  '400',\n  'invalid_argument',\n  // Regional/access restrictions\n  'region',\n  'not supported in your',\n  'country',\n  'restricted',\n];\n\n/**\n * Check if an error warrants trying a different provider (fallback).\n * These are non-transient errors that won't be fixed by retrying the same provider.\n */\nexport function isFallbackEligibleError(error: unknown): boolean {\n  if (!(error instanceof Error)) return false;\n  const message = error.message.toLowerCase();\n\n  // Check message for fallback patterns\n  if (FALLBACK_ELIGIBLE_PATTERNS.some(pattern => message.includes(pattern))) {\n    return true;\n  }\n\n  // Check error code/type/reason if present (OpenAI and Google style errors)\n  const errorWithCode = error as { code?: string | number; type?: string; reason?: string; status?: string };\n  const code = String(errorWithCode.code ?? '').toLowerCase();\n  const type = (errorWithCode.type ?? '').toLowerCase();\n  const reason = (errorWithCode.reason ?? '').toLowerCase();\n  const status = (errorWithCode.status ?? '').toLowerCase();\n\n  // OpenAI style errors\n  if (code === 'insufficient_quota' || type === 'insufficient_quota') {\n    return true;\n  }\n  if (code === 'model_not_found' || type === 'model_not_found') {\n    return true;\n  }\n  if (code === 'invalid_api_key' || type === 'invalid_api_key') {\n    return true;\n  }\n\n  // Google style errors\n  if (reason === 'api_key_invalid' || status === 'invalid_argument') {\n    return true;\n  }\n  if (code === '400' || code === '401' || code === '403') {\n    return true;\n  }\n\n  return false;\n}\n\n/**\n * Get a user-friendly description of why fallback is needed\n */\nexport function getFallbackReason(error: unknown): string {\n  if (!(error instanceof Error)) return 'Unknown error';\n  const message = error.message.toLowerCase();\n\n  if (message.includes('quota') || message.includes('billing')) {\n    return 'API quota exceeded or billing issue';\n  }\n  if (message.includes('expired') || message.includes('api_key_invalid') || message.includes('api key')) {\n    return 'API key expired or invalid';\n  }\n  if (message.includes('model') && (message.includes('not found') || message.includes('not exist'))) {\n    return 'Model not available';\n  }\n  if (message.includes('unauthorized') || message.includes('401') || message.includes('invalid_api_key')) {\n    return 'Invalid API key';\n  }\n  if (message.includes('403') || message.includes('permission') || message.includes('access denied')) {\n    return 'Access denied';\n  }\n  if (message.includes('400') || message.includes('invalid_argument')) {\n    return 'Invalid request or API key';\n  }\n  if (message.includes('region') || message.includes('country') || message.includes('restricted')) {\n    return 'Regional restriction';\n  }\n\n  return 'Provider error';\n}\n\nfunction isRateLimitError(error: unknown): boolean {\n  if (!(error instanceof Error)) return false;\n  const message = error.message.toLowerCase();\n  return RATE_LIMIT_PATTERNS.some(pattern => message.includes(pattern));\n}\n\nfunction isTransientError(error: unknown): boolean {\n  if (!(error instanceof Error)) return false;\n\n  // Check message\n  const message = error.message.toLowerCase();\n  if (TRANSIENT_ERROR_PATTERNS.some(pattern => message.includes(pattern))) {\n    return true;\n  }\n\n  // Check error name/type (FetchError, AbortError, etc.)\n  const errorName = error.name?.toLowerCase() ?? '';\n  if (errorName.includes('fetch') || errorName.includes('abort') || errorName.includes('network')) {\n    return true;\n  }\n\n  // Check error code if present (Node.js style)\n  const errorCode = (error as { code?: string }).code?.toLowerCase() ?? '';\n  if (errorCode && TRANSIENT_ERROR_PATTERNS.some(pattern => errorCode.includes(pattern))) {\n    return true;\n  }\n\n  // Check cause chain for nested errors\n  const cause = (error as { cause?: unknown }).cause;\n  if (cause instanceof Error) {\n    return isTransientError(cause);\n  }\n\n  return false;\n}\n\nfunction shouldRetry(error: unknown): boolean {\n  return isRateLimitError(error) || isTransientError(error);\n}\n\n/**\n * Wraps any LLM provider with rate limiting and retry logic\n */\nexport class ResilientProvider implements LLMProvider {\n  readonly id: ProviderId;\n  readonly model: string;\n  private readonly provider: LLMProvider;\n  private readonly rateLimiter: RateLimiter;\n  private readonly config: Required<ResilientProviderConfig>;\n  private readonly circuitBreaker: CircuitBreakerState;\n  private stats = {\n    totalRequests: 0,\n    rateLimitHits: 0,\n    retries: 0,\n    circuitBreakerTrips: 0,\n  };\n\n  constructor(provider: LLMProvider, config: ResilientProviderConfig = {}) {\n    this.provider = provider;\n    this.id = provider.id;\n    this.model = provider.model;\n    this.config = {\n      maxRequestsPerMinute: config.maxRequestsPerMinute ?? 50,\n      maxRetries: config.maxRetries ?? 4,\n      baseDelayMs: config.baseDelayMs ?? 1000,\n      maxDelayMs: config.maxDelayMs ?? 32000,\n      enableCircuitBreaker: config.enableCircuitBreaker ?? true,\n      circuitBreakerThreshold: config.circuitBreakerThreshold ?? 5,\n      circuitBreakerResetMs: config.circuitBreakerResetMs ?? 60000,\n    };\n\n    this.rateLimiter = new RateLimiter({\n      maxRequests: this.config.maxRequestsPerMinute,\n      windowMs: 60000,\n    });\n\n    this.circuitBreaker = {\n      failures: 0,\n      lastFailure: 0,\n      isOpen: false,\n    };\n  }\n\n  /**\n   * Check and potentially reset circuit breaker\n   */\n  private checkCircuitBreaker(): void {\n    if (!this.config.enableCircuitBreaker) return;\n\n    if (this.circuitBreaker.isOpen) {\n      const elapsed = Date.now() - this.circuitBreaker.lastFailure;\n      if (elapsed >= this.config.circuitBreakerResetMs) {\n        // Half-open: allow one request through\n        this.circuitBreaker.isOpen = false;\n        this.circuitBreaker.failures = Math.floor(this.circuitBreaker.failures / 2);\n      } else {\n        throw new Error(\n          `Circuit breaker is open. Too many failures (${this.circuitBreaker.failures}). ` +\n          `Retry in ${Math.ceil((this.config.circuitBreakerResetMs - elapsed) / 1000)}s.`\n        );\n      }\n    }\n  }\n\n  /**\n   * Record a failure for circuit breaker\n   */\n  private recordFailure(_error?: unknown): void {\n    if (!this.config.enableCircuitBreaker) return;\n\n    this.circuitBreaker.failures++;\n    this.circuitBreaker.lastFailure = Date.now();\n\n    if (this.circuitBreaker.failures >= this.config.circuitBreakerThreshold) {\n      this.circuitBreaker.isOpen = true;\n      this.stats.circuitBreakerTrips++;\n    }\n  }\n\n  /**\n   * Record a success to reset circuit breaker\n   */\n  private recordSuccess(): void {\n    if (this.config.enableCircuitBreaker && this.circuitBreaker.failures > 0) {\n      this.circuitBreaker.failures = Math.max(0, this.circuitBreaker.failures - 1);\n    }\n  }\n\n  /**\n   * Execute a request with rate limiting and retry\n   */\n  private async executeWithResilience<T>(\n    operation: () => Promise<T>,\n    _operationName?: string\n  ): Promise<T> {\n    this.stats.totalRequests++;\n\n    // Check circuit breaker\n    this.checkCircuitBreaker();\n\n    // Acquire rate limit token\n    await this.rateLimiter.acquire();\n\n    try {\n      const result = await retry(\n        operation,\n        {\n          maxRetries: this.config.maxRetries,\n          baseDelayMs: this.config.baseDelayMs,\n          maxDelayMs: this.config.maxDelayMs,\n          backoffMultiplier: 2,\n          shouldRetry: (error) => {\n            if (shouldRetry(error)) {\n              this.stats.retries++;\n              if (isRateLimitError(error)) {\n                this.stats.rateLimitHits++;\n              }\n              return true;\n            }\n            return false;\n          },\n        }\n      );\n\n      this.recordSuccess();\n      return result;\n    } catch (error) {\n      this.recordFailure(error);\n      throw error;\n    }\n  }\n\n  /**\n   * Generate a response with resilience\n   */\n  async generate(\n    messages: ConversationMessage[],\n    tools: ProviderToolDefinition[]\n  ): Promise<ProviderResponse> {\n    return this.executeWithResilience(\n      () => this.provider.generate(messages, tools),\n      'generate'\n    );\n  }\n\n  /**\n   * Generate a streaming response with resilience\n   *\n   * Note: Retry logic is limited for streaming - we can only retry\n   * before the stream starts, not mid-stream.\n   */\n  async *generateStream(\n    messages: ConversationMessage[],\n    tools: ProviderToolDefinition[]\n  ): AsyncIterableIterator<StreamChunk> {\n    if (!this.provider.generateStream) {\n      // Fall back to non-streaming\n      const response = await this.generate(messages, tools);\n      if (response.type === 'message') {\n        yield { type: 'content', content: response.content };\n      } else if (response.type === 'tool_calls') {\n        if (response.content) {\n          yield { type: 'content', content: response.content };\n        }\n        if (response.toolCalls) {\n          for (const call of response.toolCalls) {\n            yield { type: 'tool_call', toolCall: call };\n          }\n        }\n      }\n      if (response.usage) {\n        yield { type: 'usage', usage: response.usage };\n      }\n      return;\n    }\n\n    this.stats.totalRequests++;\n\n    // Check circuit breaker\n    this.checkCircuitBreaker();\n\n    // Acquire rate limit token\n    await this.rateLimiter.acquire();\n\n    let attempts = 0;\n    let lastError: unknown;\n\n    while (attempts <= this.config.maxRetries) {\n      try {\n        const stream = this.provider.generateStream(messages, tools);\n        for await (const chunk of stream) {\n          yield chunk;\n        }\n        this.recordSuccess();\n        return;\n      } catch (err) {\n        lastError = err;\n        attempts++;\n\n        if (attempts <= this.config.maxRetries && shouldRetry(err)) {\n          this.stats.retries++;\n          if (isRateLimitError(err)) {\n            this.stats.rateLimitHits++;\n          }\n\n          const delay = Math.min(\n            this.config.baseDelayMs * Math.pow(2, attempts - 1),\n            this.config.maxDelayMs\n          );\n          await sleep(delay);\n          continue;\n        }\n\n        this.recordFailure(err);\n        throw err;\n      }\n    }\n\n    this.recordFailure(lastError);\n    throw lastError;\n  }\n\n  /**\n   * Get resilience statistics\n   */\n  getStats(): {\n    totalRequests: number;\n    rateLimitHits: number;\n    retries: number;\n    circuitBreakerTrips: number;\n    circuitBreakerOpen: boolean;\n    availableTokens: number;\n  } {\n    return {\n      ...this.stats,\n      circuitBreakerOpen: this.circuitBreaker.isOpen,\n      availableTokens: this.rateLimiter.availableTokens,\n    };\n  }\n\n  /**\n   * Reset statistics\n   */\n  resetStats(): void {\n    this.stats = {\n      totalRequests: 0,\n      rateLimitHits: 0,\n      retries: 0,\n      circuitBreakerTrips: 0,\n    };\n  }\n}\n\n/**\n * Wrap any provider with resilience features\n */\nexport function withResilience(\n  provider: LLMProvider,\n  config?: ResilientProviderConfig\n): ResilientProvider {\n  return new ResilientProvider(provider, config);\n}\n\n/**\n * Provider-specific recommended configurations\n */\nexport const PROVIDER_RESILIENCE_CONFIGS: Record<string, ResilientProviderConfig> = {\n  anthropic: {\n    maxRequestsPerMinute: 50,\n    maxRetries: 4,\n    baseDelayMs: 1500,\n    maxDelayMs: 40000,\n  },\n  openai: {\n    maxRequestsPerMinute: 60,\n    maxRetries: 3,\n    baseDelayMs: 1000,\n    maxDelayMs: 30000,\n  },\n  google: {\n    maxRequestsPerMinute: 60,\n    maxRetries: 3,\n    baseDelayMs: 1000,\n    maxDelayMs: 30000,\n  },\n  deepseek: {\n    maxRequestsPerMinute: 30,\n    maxRetries: 4,\n    baseDelayMs: 2000,\n    maxDelayMs: 45000,\n  },\n  xai: {\n    maxRequestsPerMinute: 40,\n    maxRetries: 3,\n    baseDelayMs: 1500,\n    maxDelayMs: 35000,\n  },\n  ollama: {\n    maxRequestsPerMinute: 100,\n    maxRetries: 2,\n    baseDelayMs: 500,\n    maxDelayMs: 10000,\n    enableCircuitBreaker: false, // Local, less likely to need circuit breaker\n  },\n};\n\n/**\n * Wrap a provider with resilience using provider-specific defaults\n */\nexport function withProviderResilience(\n  provider: LLMProvider,\n  providerId: string,\n  overrides?: Partial<ResilientProviderConfig>\n): ResilientProvider {\n  const defaults = PROVIDER_RESILIENCE_CONFIGS[providerId] ?? {};\n  return new ResilientProvider(provider, { ...defaults, ...overrides });\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}