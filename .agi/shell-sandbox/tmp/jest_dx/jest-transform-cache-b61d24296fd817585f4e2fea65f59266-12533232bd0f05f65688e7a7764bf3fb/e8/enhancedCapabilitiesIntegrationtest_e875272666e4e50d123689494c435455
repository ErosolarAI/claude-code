0937f263e7800f8561cc0fcb092ca05b
"use strict";

var _globals = require("@jest/globals");
var _hypothesisEngine = require("../../src/core/hypothesisEngine.js");
var _deepBugAnalyzer = require("../../src/core/deepBugAnalyzer.js");
var _productTestHarness = require("../../src/core/productTestHarness.js");
/**
 * Integration tests for enhanced capabilities
 * Tests the full workflow of hypothesis engine, bug analyzer, and test harness
 */

(0, _globals.describe)('Enhanced Capabilities Integration', () => {
  (0, _globals.describe)('Hypothesis Engine', () => {
    let engine;
    (0, _globals.beforeEach)(() => {
      engine = new _hypothesisEngine.HypothesisEngine(5);
    });
    (0, _globals.it)('should generate and track hypotheses', () => {
      const hypothesis = engine.generateHypothesis('Test hypothesis', []);
      (0, _globals.expect)(hypothesis).toBeDefined();
      (0, _globals.expect)(hypothesis.description).toBe('Test hypothesis');
      (0, _globals.expect)(hypothesis.confidence).toBeGreaterThanOrEqual(0);
      (0, _globals.expect)(hypothesis.confidence).toBeLessThanOrEqual(1);
      (0, _globals.expect)(hypothesis.status).toBe('pending');
    });
    (0, _globals.it)('should update confidence when evidence is added', () => {
      const hypothesis = engine.generateHypothesis('Bug is a race condition', []);
      const initialConfidence = hypothesis.confidence;
      const evidence = {
        type: 'observation',
        content: 'Error only occurs intermittently',
        weight: 0.8,
        timestamp: new Date()
      };
      engine.addEvidence(hypothesis.id, evidence);
      const updated = engine.getHypothesis(hypothesis.id);
      (0, _globals.expect)(updated).toBeDefined();
      (0, _globals.expect)(updated.confidence).not.toBe(initialConfidence);
      (0, _globals.expect)(updated.evidence).toHaveLength(1);
    });
    (0, _globals.it)('should return best hypothesis', () => {
      const h1 = engine.generateHypothesis('Low confidence hypothesis', [{
        type: 'observation',
        content: 'Weak evidence',
        weight: 0.1,
        timestamp: new Date()
      }]);
      const h2 = engine.generateHypothesis('High confidence hypothesis', [{
        type: 'observation',
        content: 'Strong evidence',
        weight: 0.9,
        timestamp: new Date()
      }]);
      const best = engine.getBestHypothesis();
      (0, _globals.expect)(best).toBeDefined();
      // Best hypothesis should have higher confidence
      (0, _globals.expect)(best.confidence).toBeGreaterThanOrEqual(h1.confidence);
    });
  });
  (0, _globals.describe)('Deep Bug Analyzer', () => {
    let analyzer;
    (0, _globals.beforeEach)(() => {
      analyzer = new _deepBugAnalyzer.DeepBugAnalyzer();
    });
    (0, _globals.it)('should analyze bug and generate causal factors', async () => {
      const bugReport = {
        title: 'Null reference error',
        description: 'User profile throws null reference exception',
        expectedBehavior: 'Should display user profile',
        actualBehavior: 'Throws null reference error',
        stackTrace: 'TypeError: Cannot read property "name" of null\n  at getUserProfile (user.ts:42)'
      };
      const codeContext = new Map();
      codeContext.set('user.ts', `
        function getUserProfile(userId) {
          const user = findUser(userId);
          return user.name; // Line 42
        }
      `);
      const result = await analyzer.analyze(bugReport, codeContext, 'shallow');
      (0, _globals.expect)(result).toBeDefined();
      (0, _globals.expect)(result.primaryCause).toBeDefined();
      (0, _globals.expect)(result.contributingFactors).toBeDefined();
      (0, _globals.expect)(result.recommendedActions.length).toBeGreaterThan(0);
      (0, _globals.expect)(result.confidence).toBeGreaterThan(0);
    });
    (0, _globals.it)('should detect code-level factors', async () => {
      const bugReport = {
        title: 'Undefined error',
        description: 'Variable is undefined'
      };
      const codeContext = new Map();
      codeContext.set('test.ts', `
        const obj = {};
        // TODO: Replace with logger
// TODO: Replace with logger
console.log(obj.property.nested);
      `);
      const result = await analyzer.analyze(bugReport, codeContext, 'moderate');
      (0, _globals.expect)(result.primaryCause?.category).toBe('code');
      (0, _globals.expect)(result.primaryCause?.description).toContain('null');
    });
  });
  (0, _globals.describe)('Product Test Harness', () => {
    let harness;
    (0, _globals.beforeEach)(() => {
      harness = new _productTestHarness.ProductTestHarness();
    });
    (0, _globals.it)('should run test scenarios and report results', async () => {
      harness.addScenario({
        name: 'simple_test',
        description: 'A simple passing test',
        execute: async () => ({
          scenario: 'simple_test',
          passed: true,
          duration: 10,
          output: 'Test passed'
        })
      });
      const results = await harness.runAll();
      (0, _globals.expect)(results.total).toBe(1);
      (0, _globals.expect)(results.passed).toBe(1);
      (0, _globals.expect)(results.failed).toBe(0);
      (0, _globals.expect)(results.summary).toContain('1');
    });
    (0, _globals.it)('should handle test failures', async () => {
      harness.addScenario({
        name: 'failing_test',
        description: 'A failing test',
        execute: async () => ({
          scenario: 'failing_test',
          passed: false,
          duration: 15,
          output: 'Expected true but got false'
        })
      });
      const results = await harness.runAll();
      (0, _globals.expect)(results.total).toBe(1);
      (0, _globals.expect)(results.passed).toBe(0);
      (0, _globals.expect)(results.failed).toBe(1);
      (0, _globals.expect)(results.summary).toContain('Failed');
    });
    (0, _globals.it)('should enforce timeouts', async () => {
      harness.addScenario({
        name: 'timeout_test',
        description: 'Test that times out',
        timeout: 100,
        execute: async () => {
          await new Promise(resolve => setTimeout(resolve, 200));
          return {
            scenario: 'timeout_test',
            passed: true,
            duration: 200,
            output: 'Should not reach here'
          };
        }
      });
      const results = await harness.runAll();
      (0, _globals.expect)(results.failed).toBe(1);
      (0, _globals.expect)(results.results[0].error).toContain('timeout');
    });
  });
  (0, _globals.describe)('Runtime Environment', () => {
    (0, _globals.it)('should execute Node.js code', async () => {
      const env = (0, _productTestHarness.createRuntimeEnvironment)();
      try {
        const result = await env.execute('console.log("Hello, World!");', 'node');
        (0, _globals.expect)(result.exitCode).toBe(0);
        (0, _globals.expect)(result.stdout).toContain('Hello, World!');
        (0, _globals.expect)(result.stderr).toBe('');
      } finally {
        env.cleanup();
      }
    });
    (0, _globals.it)('should execute bash commands', async () => {
      const env = (0, _productTestHarness.createRuntimeEnvironment)();
      try {
        const result = await env.execute('echo "test"', 'bash');
        (0, _globals.expect)(result.exitCode).toBe(0);
        (0, _globals.expect)(result.stdout).toContain('test');
      } finally {
        env.cleanup();
      }
    });
    (0, _globals.it)('should handle errors', async () => {
      const env = (0, _productTestHarness.createRuntimeEnvironment)();
      try {
        const result = await env.execute('throw new Error("Test error");', 'node');
        (0, _globals.expect)(result.exitCode).not.toBe(0);
        (0, _globals.expect)(result.stderr).toContain('Error');
      } finally {
        env.cleanup();
      }
    });
    (0, _globals.it)('should support file operations', async () => {
      const env = (0, _productTestHarness.createRuntimeEnvironment)();
      try {
        env.writeFile('test.txt', 'Hello, World!');
        (0, _globals.expect)(env.fileExists('test.txt')).toBe(true);
        const content = env.readFile('test.txt');
        (0, _globals.expect)(content).toBe('Hello, World!');
      } finally {
        env.cleanup();
      }
    });
  });
  (0, _globals.describe)('End-to-End Workflow', () => {
    (0, _globals.it)('should support complete bug investigation workflow', async () => {
      // 1. Generate hypotheses
      const engine = new _hypothesisEngine.HypothesisEngine();
      const h1 = engine.generateHypothesis('Null reference bug');
      const h2 = engine.generateHypothesis('Race condition bug');

      // 2. Add evidence
      engine.addEvidence(h1.id, {
        type: 'observation',
        content: 'Error always on line 42',
        weight: 0.7,
        timestamp: new Date()
      });
      engine.addEvidence(h2.id, {
        type: 'observation',
        content: 'Error only intermittent',
        weight: -0.5,
        timestamp: new Date()
      });

      // 3. Get best hypothesis
      const best = engine.getBestHypothesis();
      (0, _globals.expect)(best?.description).toContain('Null reference');

      // 4. Deep analyze
      const analyzer = new _deepBugAnalyzer.DeepBugAnalyzer();
      const result = await analyzer.analyze({
        title: 'Test bug',
        description: best.description
      }, new Map(), 'shallow');
      (0, _globals.expect)(result.primaryCause).toBeDefined();

      // 5. Test the fix
      const harness = new _productTestHarness.ProductTestHarness();
      harness.addScenario({
        name: 'verify_fix',
        description: 'Verify null check works',
        execute: async () => ({
          scenario: 'verify_fix',
          passed: true,
          duration: 10,
          output: 'Fix verified'
        })
      });
      const testResults = await harness.runAll();
      (0, _globals.expect)(testResults.passed).toBe(1);
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2xvYmFscyIsInJlcXVpcmUiLCJfaHlwb3RoZXNpc0VuZ2luZSIsIl9kZWVwQnVnQW5hbHl6ZXIiLCJfcHJvZHVjdFRlc3RIYXJuZXNzIiwiZGVzY3JpYmUiLCJlbmdpbmUiLCJiZWZvcmVFYWNoIiwiSHlwb3RoZXNpc0VuZ2luZSIsIml0IiwiaHlwb3RoZXNpcyIsImdlbmVyYXRlSHlwb3RoZXNpcyIsImV4cGVjdCIsInRvQmVEZWZpbmVkIiwiZGVzY3JpcHRpb24iLCJ0b0JlIiwiY29uZmlkZW5jZSIsInRvQmVHcmVhdGVyVGhhbk9yRXF1YWwiLCJ0b0JlTGVzc1RoYW5PckVxdWFsIiwic3RhdHVzIiwiaW5pdGlhbENvbmZpZGVuY2UiLCJldmlkZW5jZSIsInR5cGUiLCJjb250ZW50Iiwid2VpZ2h0IiwidGltZXN0YW1wIiwiRGF0ZSIsImFkZEV2aWRlbmNlIiwiaWQiLCJ1cGRhdGVkIiwiZ2V0SHlwb3RoZXNpcyIsIm5vdCIsInRvSGF2ZUxlbmd0aCIsImgxIiwiaDIiLCJiZXN0IiwiZ2V0QmVzdEh5cG90aGVzaXMiLCJhbmFseXplciIsIkRlZXBCdWdBbmFseXplciIsImJ1Z1JlcG9ydCIsInRpdGxlIiwiZXhwZWN0ZWRCZWhhdmlvciIsImFjdHVhbEJlaGF2aW9yIiwic3RhY2tUcmFjZSIsImNvZGVDb250ZXh0IiwiTWFwIiwic2V0IiwicmVzdWx0IiwiYW5hbHl6ZSIsInByaW1hcnlDYXVzZSIsImNvbnRyaWJ1dGluZ0ZhY3RvcnMiLCJyZWNvbW1lbmRlZEFjdGlvbnMiLCJsZW5ndGgiLCJ0b0JlR3JlYXRlclRoYW4iLCJjYXRlZ29yeSIsInRvQ29udGFpbiIsImhhcm5lc3MiLCJQcm9kdWN0VGVzdEhhcm5lc3MiLCJhZGRTY2VuYXJpbyIsIm5hbWUiLCJleGVjdXRlIiwic2NlbmFyaW8iLCJwYXNzZWQiLCJkdXJhdGlvbiIsIm91dHB1dCIsInJlc3VsdHMiLCJydW5BbGwiLCJ0b3RhbCIsImZhaWxlZCIsInN1bW1hcnkiLCJ0aW1lb3V0IiwiUHJvbWlzZSIsInJlc29sdmUiLCJzZXRUaW1lb3V0IiwiZXJyb3IiLCJlbnYiLCJjcmVhdGVSdW50aW1lRW52aXJvbm1lbnQiLCJleGl0Q29kZSIsInN0ZG91dCIsInN0ZGVyciIsImNsZWFudXAiLCJ3cml0ZUZpbGUiLCJmaWxlRXhpc3RzIiwicmVhZEZpbGUiLCJ0ZXN0UmVzdWx0cyJdLCJzb3VyY2VzIjpbImVuaGFuY2VkQ2FwYWJpbGl0aWVzSW50ZWdyYXRpb24udGVzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEludGVncmF0aW9uIHRlc3RzIGZvciBlbmhhbmNlZCBjYXBhYmlsaXRpZXNcbiAqIFRlc3RzIHRoZSBmdWxsIHdvcmtmbG93IG9mIGh5cG90aGVzaXMgZW5naW5lLCBidWcgYW5hbHl6ZXIsIGFuZCB0ZXN0IGhhcm5lc3NcbiAqL1xuXG5pbXBvcnQgeyBkZXNjcmliZSwgaXQsIGV4cGVjdCwgYmVmb3JlRWFjaCB9IGZyb20gJ0BqZXN0L2dsb2JhbHMnO1xuaW1wb3J0IHsgSHlwb3RoZXNpc0VuZ2luZSwgQnVnSHlwb3RoZXNpc0FuYWx5emVyLCB0eXBlIEV2aWRlbmNlIH0gZnJvbSAnLi4vLi4vc3JjL2NvcmUvaHlwb3RoZXNpc0VuZ2luZS5qcyc7XG5pbXBvcnQgeyBEZWVwQnVnQW5hbHl6ZXIsIHR5cGUgQnVnUmVwb3J0IH0gZnJvbSAnLi4vLi4vc3JjL2NvcmUvZGVlcEJ1Z0FuYWx5emVyLmpzJztcbmltcG9ydCB7IFByb2R1Y3RUZXN0SGFybmVzcywgY3JlYXRlUnVudGltZUVudmlyb25tZW50LCBUZXN0U2NlbmFyaW9HZW5lcmF0b3IgfSBmcm9tICcuLi8uLi9zcmMvY29yZS9wcm9kdWN0VGVzdEhhcm5lc3MuanMnO1xuXG5kZXNjcmliZSgnRW5oYW5jZWQgQ2FwYWJpbGl0aWVzIEludGVncmF0aW9uJywgKCkgPT4ge1xuICBkZXNjcmliZSgnSHlwb3RoZXNpcyBFbmdpbmUnLCAoKSA9PiB7XG4gICAgbGV0IGVuZ2luZTogSHlwb3RoZXNpc0VuZ2luZTtcblxuICAgIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgICAgZW5naW5lID0gbmV3IEh5cG90aGVzaXNFbmdpbmUoNSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGdlbmVyYXRlIGFuZCB0cmFjayBoeXBvdGhlc2VzJywgKCkgPT4ge1xuICAgICAgY29uc3QgaHlwb3RoZXNpcyA9IGVuZ2luZS5nZW5lcmF0ZUh5cG90aGVzaXMoJ1Rlc3QgaHlwb3RoZXNpcycsIFtdKTtcblxuICAgICAgZXhwZWN0KGh5cG90aGVzaXMpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QoaHlwb3RoZXNpcy5kZXNjcmlwdGlvbikudG9CZSgnVGVzdCBoeXBvdGhlc2lzJyk7XG4gICAgICBleHBlY3QoaHlwb3RoZXNpcy5jb25maWRlbmNlKS50b0JlR3JlYXRlclRoYW5PckVxdWFsKDApO1xuICAgICAgZXhwZWN0KGh5cG90aGVzaXMuY29uZmlkZW5jZSkudG9CZUxlc3NUaGFuT3JFcXVhbCgxKTtcbiAgICAgIGV4cGVjdChoeXBvdGhlc2lzLnN0YXR1cykudG9CZSgncGVuZGluZycpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB1cGRhdGUgY29uZmlkZW5jZSB3aGVuIGV2aWRlbmNlIGlzIGFkZGVkJywgKCkgPT4ge1xuICAgICAgY29uc3QgaHlwb3RoZXNpcyA9IGVuZ2luZS5nZW5lcmF0ZUh5cG90aGVzaXMoJ0J1ZyBpcyBhIHJhY2UgY29uZGl0aW9uJywgW10pO1xuICAgICAgY29uc3QgaW5pdGlhbENvbmZpZGVuY2UgPSBoeXBvdGhlc2lzLmNvbmZpZGVuY2U7XG5cbiAgICAgIGNvbnN0IGV2aWRlbmNlOiBFdmlkZW5jZSA9IHtcbiAgICAgICAgdHlwZTogJ29ic2VydmF0aW9uJyxcbiAgICAgICAgY29udGVudDogJ0Vycm9yIG9ubHkgb2NjdXJzIGludGVybWl0dGVudGx5JyxcbiAgICAgICAgd2VpZ2h0OiAwLjgsXG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcbiAgICAgIH07XG5cbiAgICAgIGVuZ2luZS5hZGRFdmlkZW5jZShoeXBvdGhlc2lzLmlkLCBldmlkZW5jZSk7XG5cbiAgICAgIGNvbnN0IHVwZGF0ZWQgPSBlbmdpbmUuZ2V0SHlwb3RoZXNpcyhoeXBvdGhlc2lzLmlkKTtcbiAgICAgIGV4cGVjdCh1cGRhdGVkKS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KHVwZGF0ZWQhLmNvbmZpZGVuY2UpLm5vdC50b0JlKGluaXRpYWxDb25maWRlbmNlKTtcbiAgICAgIGV4cGVjdCh1cGRhdGVkIS5ldmlkZW5jZSkudG9IYXZlTGVuZ3RoKDEpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gYmVzdCBoeXBvdGhlc2lzJywgKCkgPT4ge1xuICAgICAgY29uc3QgaDEgPSBlbmdpbmUuZ2VuZXJhdGVIeXBvdGhlc2lzKCdMb3cgY29uZmlkZW5jZSBoeXBvdGhlc2lzJywgW3tcbiAgICAgICAgdHlwZTogJ29ic2VydmF0aW9uJyxcbiAgICAgICAgY29udGVudDogJ1dlYWsgZXZpZGVuY2UnLFxuICAgICAgICB3ZWlnaHQ6IDAuMSxcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgfV0pO1xuXG4gICAgICBjb25zdCBoMiA9IGVuZ2luZS5nZW5lcmF0ZUh5cG90aGVzaXMoJ0hpZ2ggY29uZmlkZW5jZSBoeXBvdGhlc2lzJywgW3tcbiAgICAgICAgdHlwZTogJ29ic2VydmF0aW9uJyxcbiAgICAgICAgY29udGVudDogJ1N0cm9uZyBldmlkZW5jZScsXG4gICAgICAgIHdlaWdodDogMC45LFxuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgICB9XSk7XG5cbiAgICAgIGNvbnN0IGJlc3QgPSBlbmdpbmUuZ2V0QmVzdEh5cG90aGVzaXMoKTtcbiAgICAgIGV4cGVjdChiZXN0KS50b0JlRGVmaW5lZCgpO1xuICAgICAgLy8gQmVzdCBoeXBvdGhlc2lzIHNob3VsZCBoYXZlIGhpZ2hlciBjb25maWRlbmNlXG4gICAgICBleHBlY3QoYmVzdCEuY29uZmlkZW5jZSkudG9CZUdyZWF0ZXJUaGFuT3JFcXVhbChoMS5jb25maWRlbmNlKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0RlZXAgQnVnIEFuYWx5emVyJywgKCkgPT4ge1xuICAgIGxldCBhbmFseXplcjogRGVlcEJ1Z0FuYWx5emVyO1xuXG4gICAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgICBhbmFseXplciA9IG5ldyBEZWVwQnVnQW5hbHl6ZXIoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgYW5hbHl6ZSBidWcgYW5kIGdlbmVyYXRlIGNhdXNhbCBmYWN0b3JzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgYnVnUmVwb3J0OiBCdWdSZXBvcnQgPSB7XG4gICAgICAgIHRpdGxlOiAnTnVsbCByZWZlcmVuY2UgZXJyb3InLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ1VzZXIgcHJvZmlsZSB0aHJvd3MgbnVsbCByZWZlcmVuY2UgZXhjZXB0aW9uJyxcbiAgICAgICAgZXhwZWN0ZWRCZWhhdmlvcjogJ1Nob3VsZCBkaXNwbGF5IHVzZXIgcHJvZmlsZScsXG4gICAgICAgIGFjdHVhbEJlaGF2aW9yOiAnVGhyb3dzIG51bGwgcmVmZXJlbmNlIGVycm9yJyxcbiAgICAgICAgc3RhY2tUcmFjZTogJ1R5cGVFcnJvcjogQ2Fubm90IHJlYWQgcHJvcGVydHkgXCJuYW1lXCIgb2YgbnVsbFxcbiAgYXQgZ2V0VXNlclByb2ZpbGUgKHVzZXIudHM6NDIpJyxcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGNvZGVDb250ZXh0ID0gbmV3IE1hcDxzdHJpbmcsIHN0cmluZz4oKTtcbiAgICAgIGNvZGVDb250ZXh0LnNldCgndXNlci50cycsIGBcbiAgICAgICAgZnVuY3Rpb24gZ2V0VXNlclByb2ZpbGUodXNlcklkKSB7XG4gICAgICAgICAgY29uc3QgdXNlciA9IGZpbmRVc2VyKHVzZXJJZCk7XG4gICAgICAgICAgcmV0dXJuIHVzZXIubmFtZTsgLy8gTGluZSA0MlxuICAgICAgICB9XG4gICAgICBgKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgYW5hbHl6ZXIuYW5hbHl6ZShidWdSZXBvcnQsIGNvZGVDb250ZXh0LCAnc2hhbGxvdycpO1xuXG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5wcmltYXJ5Q2F1c2UpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QocmVzdWx0LmNvbnRyaWJ1dGluZ0ZhY3RvcnMpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QocmVzdWx0LnJlY29tbWVuZGVkQWN0aW9ucy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuY29uZmlkZW5jZSkudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBkZXRlY3QgY29kZS1sZXZlbCBmYWN0b3JzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgYnVnUmVwb3J0OiBCdWdSZXBvcnQgPSB7XG4gICAgICAgIHRpdGxlOiAnVW5kZWZpbmVkIGVycm9yJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdWYXJpYWJsZSBpcyB1bmRlZmluZWQnLFxuICAgICAgfTtcblxuICAgICAgY29uc3QgY29kZUNvbnRleHQgPSBuZXcgTWFwPHN0cmluZywgc3RyaW5nPigpO1xuICAgICAgY29kZUNvbnRleHQuc2V0KCd0ZXN0LnRzJywgYFxuICAgICAgICBjb25zdCBvYmogPSB7fTtcbiAgICAgICAgLy8gVE9ETzogUmVwbGFjZSB3aXRoIGxvZ2dlclxuLy8gVE9ETzogUmVwbGFjZSB3aXRoIGxvZ2dlclxuY29uc29sZS5sb2cob2JqLnByb3BlcnR5Lm5lc3RlZCk7XG4gICAgICBgKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgYW5hbHl6ZXIuYW5hbHl6ZShidWdSZXBvcnQsIGNvZGVDb250ZXh0LCAnbW9kZXJhdGUnKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5wcmltYXJ5Q2F1c2U/LmNhdGVnb3J5KS50b0JlKCdjb2RlJyk7XG4gICAgICBleHBlY3QocmVzdWx0LnByaW1hcnlDYXVzZT8uZGVzY3JpcHRpb24pLnRvQ29udGFpbignbnVsbCcpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnUHJvZHVjdCBUZXN0IEhhcm5lc3MnLCAoKSA9PiB7XG4gICAgbGV0IGhhcm5lc3M6IFByb2R1Y3RUZXN0SGFybmVzcztcblxuICAgIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgICAgaGFybmVzcyA9IG5ldyBQcm9kdWN0VGVzdEhhcm5lc3MoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcnVuIHRlc3Qgc2NlbmFyaW9zIGFuZCByZXBvcnQgcmVzdWx0cycsIGFzeW5jICgpID0+IHtcbiAgICAgIGhhcm5lc3MuYWRkU2NlbmFyaW8oe1xuICAgICAgICBuYW1lOiAnc2ltcGxlX3Rlc3QnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0Egc2ltcGxlIHBhc3NpbmcgdGVzdCcsXG4gICAgICAgIGV4ZWN1dGU6IGFzeW5jICgpID0+ICh7XG4gICAgICAgICAgc2NlbmFyaW86ICdzaW1wbGVfdGVzdCcsXG4gICAgICAgICAgcGFzc2VkOiB0cnVlLFxuICAgICAgICAgIGR1cmF0aW9uOiAxMCxcbiAgICAgICAgICBvdXRwdXQ6ICdUZXN0IHBhc3NlZCcsXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBoYXJuZXNzLnJ1bkFsbCgpO1xuXG4gICAgICBleHBlY3QocmVzdWx0cy50b3RhbCkudG9CZSgxKTtcbiAgICAgIGV4cGVjdChyZXN1bHRzLnBhc3NlZCkudG9CZSgxKTtcbiAgICAgIGV4cGVjdChyZXN1bHRzLmZhaWxlZCkudG9CZSgwKTtcbiAgICAgIGV4cGVjdChyZXN1bHRzLnN1bW1hcnkpLnRvQ29udGFpbignMScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgdGVzdCBmYWlsdXJlcycsIGFzeW5jICgpID0+IHtcbiAgICAgIGhhcm5lc3MuYWRkU2NlbmFyaW8oe1xuICAgICAgICBuYW1lOiAnZmFpbGluZ190ZXN0JyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdBIGZhaWxpbmcgdGVzdCcsXG4gICAgICAgIGV4ZWN1dGU6IGFzeW5jICgpID0+ICh7XG4gICAgICAgICAgc2NlbmFyaW86ICdmYWlsaW5nX3Rlc3QnLFxuICAgICAgICAgIHBhc3NlZDogZmFsc2UsXG4gICAgICAgICAgZHVyYXRpb246IDE1LFxuICAgICAgICAgIG91dHB1dDogJ0V4cGVjdGVkIHRydWUgYnV0IGdvdCBmYWxzZScsXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBoYXJuZXNzLnJ1bkFsbCgpO1xuXG4gICAgICBleHBlY3QocmVzdWx0cy50b3RhbCkudG9CZSgxKTtcbiAgICAgIGV4cGVjdChyZXN1bHRzLnBhc3NlZCkudG9CZSgwKTtcbiAgICAgIGV4cGVjdChyZXN1bHRzLmZhaWxlZCkudG9CZSgxKTtcbiAgICAgIGV4cGVjdChyZXN1bHRzLnN1bW1hcnkpLnRvQ29udGFpbignRmFpbGVkJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGVuZm9yY2UgdGltZW91dHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBoYXJuZXNzLmFkZFNjZW5hcmlvKHtcbiAgICAgICAgbmFtZTogJ3RpbWVvdXRfdGVzdCcsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnVGVzdCB0aGF0IHRpbWVzIG91dCcsXG4gICAgICAgIHRpbWVvdXQ6IDEwMCxcbiAgICAgICAgZXhlY3V0ZTogYXN5bmMgKCkgPT4ge1xuICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAyMDApKTtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc2NlbmFyaW86ICd0aW1lb3V0X3Rlc3QnLFxuICAgICAgICAgICAgcGFzc2VkOiB0cnVlLFxuICAgICAgICAgICAgZHVyYXRpb246IDIwMCxcbiAgICAgICAgICAgIG91dHB1dDogJ1Nob3VsZCBub3QgcmVhY2ggaGVyZScsXG4gICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgaGFybmVzcy5ydW5BbGwoKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdHMuZmFpbGVkKS50b0JlKDEpO1xuICAgICAgZXhwZWN0KHJlc3VsdHMucmVzdWx0c1swXS5lcnJvcikudG9Db250YWluKCd0aW1lb3V0Jyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdSdW50aW1lIEVudmlyb25tZW50JywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgZXhlY3V0ZSBOb2RlLmpzIGNvZGUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBlbnYgPSBjcmVhdGVSdW50aW1lRW52aXJvbm1lbnQoKTtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZW52LmV4ZWN1dGUoJ2NvbnNvbGUubG9nKFwiSGVsbG8sIFdvcmxkIVwiKTsnLCAnbm9kZScpO1xuXG4gICAgICAgIGV4cGVjdChyZXN1bHQuZXhpdENvZGUpLnRvQmUoMCk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuc3Rkb3V0KS50b0NvbnRhaW4oJ0hlbGxvLCBXb3JsZCEnKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5zdGRlcnIpLnRvQmUoJycpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgZW52LmNsZWFudXAoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZXhlY3V0ZSBiYXNoIGNvbW1hbmRzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgZW52ID0gY3JlYXRlUnVudGltZUVudmlyb25tZW50KCk7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGVudi5leGVjdXRlKCdlY2hvIFwidGVzdFwiJywgJ2Jhc2gnKTtcblxuICAgICAgICBleHBlY3QocmVzdWx0LmV4aXRDb2RlKS50b0JlKDApO1xuICAgICAgICBleHBlY3QocmVzdWx0LnN0ZG91dCkudG9Db250YWluKCd0ZXN0Jyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBlbnYuY2xlYW51cCgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgZXJyb3JzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgZW52ID0gY3JlYXRlUnVudGltZUVudmlyb25tZW50KCk7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGVudi5leGVjdXRlKCd0aHJvdyBuZXcgRXJyb3IoXCJUZXN0IGVycm9yXCIpOycsICdub2RlJyk7XG5cbiAgICAgICAgZXhwZWN0KHJlc3VsdC5leGl0Q29kZSkubm90LnRvQmUoMCk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuc3RkZXJyKS50b0NvbnRhaW4oJ0Vycm9yJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBlbnYuY2xlYW51cCgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBzdXBwb3J0IGZpbGUgb3BlcmF0aW9ucycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGVudiA9IGNyZWF0ZVJ1bnRpbWVFbnZpcm9ubWVudCgpO1xuXG4gICAgICB0cnkge1xuICAgICAgICBlbnYud3JpdGVGaWxlKCd0ZXN0LnR4dCcsICdIZWxsbywgV29ybGQhJyk7XG4gICAgICAgIGV4cGVjdChlbnYuZmlsZUV4aXN0cygndGVzdC50eHQnKSkudG9CZSh0cnVlKTtcblxuICAgICAgICBjb25zdCBjb250ZW50ID0gZW52LnJlYWRGaWxlKCd0ZXN0LnR4dCcpO1xuICAgICAgICBleHBlY3QoY29udGVudCkudG9CZSgnSGVsbG8sIFdvcmxkIScpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgZW52LmNsZWFudXAoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0VuZC10by1FbmQgV29ya2Zsb3cnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBzdXBwb3J0IGNvbXBsZXRlIGJ1ZyBpbnZlc3RpZ2F0aW9uIHdvcmtmbG93JywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gMS4gR2VuZXJhdGUgaHlwb3RoZXNlc1xuICAgICAgY29uc3QgZW5naW5lID0gbmV3IEh5cG90aGVzaXNFbmdpbmUoKTtcbiAgICAgIGNvbnN0IGgxID0gZW5naW5lLmdlbmVyYXRlSHlwb3RoZXNpcygnTnVsbCByZWZlcmVuY2UgYnVnJyk7XG4gICAgICBjb25zdCBoMiA9IGVuZ2luZS5nZW5lcmF0ZUh5cG90aGVzaXMoJ1JhY2UgY29uZGl0aW9uIGJ1ZycpO1xuXG4gICAgICAvLyAyLiBBZGQgZXZpZGVuY2VcbiAgICAgIGVuZ2luZS5hZGRFdmlkZW5jZShoMS5pZCwge1xuICAgICAgICB0eXBlOiAnb2JzZXJ2YXRpb24nLFxuICAgICAgICBjb250ZW50OiAnRXJyb3IgYWx3YXlzIG9uIGxpbmUgNDInLFxuICAgICAgICB3ZWlnaHQ6IDAuNyxcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgfSk7XG5cbiAgICAgIGVuZ2luZS5hZGRFdmlkZW5jZShoMi5pZCwge1xuICAgICAgICB0eXBlOiAnb2JzZXJ2YXRpb24nLFxuICAgICAgICBjb250ZW50OiAnRXJyb3Igb25seSBpbnRlcm1pdHRlbnQnLFxuICAgICAgICB3ZWlnaHQ6IC0wLjUsXG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyAzLiBHZXQgYmVzdCBoeXBvdGhlc2lzXG4gICAgICBjb25zdCBiZXN0ID0gZW5naW5lLmdldEJlc3RIeXBvdGhlc2lzKCk7XG4gICAgICBleHBlY3QoYmVzdD8uZGVzY3JpcHRpb24pLnRvQ29udGFpbignTnVsbCByZWZlcmVuY2UnKTtcblxuICAgICAgLy8gNC4gRGVlcCBhbmFseXplXG4gICAgICBjb25zdCBhbmFseXplciA9IG5ldyBEZWVwQnVnQW5hbHl6ZXIoKTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGFuYWx5emVyLmFuYWx5emUoe1xuICAgICAgICB0aXRsZTogJ1Rlc3QgYnVnJyxcbiAgICAgICAgZGVzY3JpcHRpb246IGJlc3QhLmRlc2NyaXB0aW9uLFxuICAgICAgfSwgbmV3IE1hcCgpLCAnc2hhbGxvdycpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnByaW1hcnlDYXVzZSkudG9CZURlZmluZWQoKTtcblxuICAgICAgLy8gNS4gVGVzdCB0aGUgZml4XG4gICAgICBjb25zdCBoYXJuZXNzID0gbmV3IFByb2R1Y3RUZXN0SGFybmVzcygpO1xuICAgICAgaGFybmVzcy5hZGRTY2VuYXJpbyh7XG4gICAgICAgIG5hbWU6ICd2ZXJpZnlfZml4JyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdWZXJpZnkgbnVsbCBjaGVjayB3b3JrcycsXG4gICAgICAgIGV4ZWN1dGU6IGFzeW5jICgpID0+ICh7XG4gICAgICAgICAgc2NlbmFyaW86ICd2ZXJpZnlfZml4JyxcbiAgICAgICAgICBwYXNzZWQ6IHRydWUsXG4gICAgICAgICAgZHVyYXRpb246IDEwLFxuICAgICAgICAgIG91dHB1dDogJ0ZpeCB2ZXJpZmllZCcsXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHRlc3RSZXN1bHRzID0gYXdhaXQgaGFybmVzcy5ydW5BbGwoKTtcbiAgICAgIGV4cGVjdCh0ZXN0UmVzdWx0cy5wYXNzZWQpLnRvQmUoMSk7XG4gICAgfSk7XG4gIH0pO1xufSk7XG4iXSwibWFwcGluZ3MiOiI7O0FBS0EsSUFBQUEsUUFBQSxHQUFBQyxPQUFBO0FBQ0EsSUFBQUMsaUJBQUEsR0FBQUQsT0FBQTtBQUNBLElBQUFFLGdCQUFBLEdBQUFGLE9BQUE7QUFDQSxJQUFBRyxtQkFBQSxHQUFBSCxPQUFBO0FBUkE7QUFDQTtBQUNBO0FBQ0E7O0FBT0EsSUFB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