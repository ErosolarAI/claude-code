0deeb8a9dfb480dfbb349a024f9ccfd1
"use strict";

var _globals = require("@jest/globals");
var _agent = require("../../src/core/agent.js");
var _toolRuntime = require("../../src/core/toolRuntime.js");
var _contextManager = require("../../src/core/contextManager.js");
/**
 * Agent Runtime Integration Tests
 *
 * Tests the AgentRuntime class with:
 * - Context overflow recovery
 * - Streaming with interruption handling
 * - Cancellation support
 * - Tool execution pipeline
 */

// Mock LLM Provider for testing
class MockLLMProvider {
  responses = [];
  responseIndex = 0;
  callHistory = [];
  queueTextResponse(content) {
    this.responses.push({
      type: 'text',
      content
    });
  }
  queueToolCallResponse(content, toolCalls) {
    this.responses.push({
      type: 'tool_calls',
      content,
      toolCalls
    });
  }
  queueContextOverflowError() {
    this.responses.push({
      type: 'text',
      content: '__OVERFLOW__'
    });
  }
  async generate(messages) {
    this.callHistory.push([...messages]);
    if (this.responseIndex >= this.responses.length) {
      return {
        type: 'text',
        content: 'Default mock response'
      };
    }
    const response = this.responses[this.responseIndex++];

    // Simulate context overflow error
    if (response.content === '__OVERFLOW__') {
      const error = new Error('Context length exceeded: token limit reached');
      throw error;
    }
    return {
      ...response,
      usage: {
        inputTokens: 100,
        outputTokens: 50
      }
    };
  }
  reset() {
    this.responses = [];
    this.responseIndex = 0;
    this.callHistory = [];
  }
}

// Mock Tool Suite for testing
function createMockToolSuite() {
  const tools = [{
    name: 'echo',
    description: 'Echoes back the input',
    parameters: {
      type: 'object',
      properties: {
        message: {
          type: 'string',
          description: 'Message to echo'
        }
      },
      required: ['message']
    },
    handler: args => `Echo: ${args['message']}`
  }, {
    name: 'add',
    description: 'Adds two numbers',
    parameters: {
      type: 'object',
      properties: {
        a: {
          type: 'number',
          description: 'First number'
        },
        b: {
          type: 'number',
          description: 'Second number'
        }
      },
      required: ['a', 'b']
    },
    handler: args => {
      const a = Number(args['a']);
      const b = Number(args['b']);
      return `Result: ${a + b}`;
    }
  }, {
    name: 'read_file',
    description: 'Reads a file',
    parameters: {
      type: 'object',
      properties: {
        path: {
          type: 'string',
          description: 'File path'
        }
      },
      required: ['path']
    },
    handler: args => `Content of ${args['path']}: [mock content]`,
    cacheable: true
  }, {
    name: 'slow_operation',
    description: 'Simulates a slow operation',
    parameters: {
      type: 'object',
      properties: {
        duration: {
          type: 'number',
          description: 'Duration in ms'
        }
      }
    },
    handler: async args => {
      const duration = Number(args['duration']) || 100;
      await new Promise(resolve => setTimeout(resolve, Math.min(duration, /* TODO: Extract constant */ /* TODO: Extract constant */1000)));
      return 'Operation completed';
    }
  }];
  return {
    id: 'test.mock-tools',
    description: 'Mock tools for testing',
    tools
  };
}
function createMockDiffSuite() {
  return {
    id: 'test.mock-diff',
    description: 'Mock git diff tool for snapshot tracking',
    tools: [{
      name: 'git_diff_mock',
      description: 'Returns mock git diff output',
      parameters: {
        type: 'object',
        properties: {
          command: {
            type: 'string',
            description: 'Git diff command'
          }
        },
        required: ['command']
      },
      handler: args => `mock diff for ${args['command'] ?? ''}`
    }]
  };
}
(0, _globals.describe)('Agent Runtime Integration', () => {
  let provider;
  let toolRuntime;
  let contextManager;
  (0, _globals.beforeEach)(() => {
    provider = new MockLLMProvider();
    toolRuntime = new _toolRuntime.ToolRuntime();
    toolRuntime.registerSuite(createMockToolSuite());
    contextManager = (0, _contextManager.createDefaultContextManager)({
      maxTokens: 10000,
      targetTokens: 7000
    });
  });
  (0, _globals.afterEach)(() => {
    provider.reset();
  });
  (0, _globals.describe)('Basic Message Handling', () => {
    (0, _globals.test)('should send a simple message and receive response', async () => {
      provider.queueTextResponse('Hello! How can I help you?');
      const agent = new _agent.AgentRuntime({
        provider,
        toolRuntime,
        systemPrompt: 'You are a helpful assistant.'
      });
      const response = await agent.send('Hello');
      (0, _globals.expect)(response).toContain('Hello! How can I help you?');
      (0, _globals.expect)(response).toContain('Next steps:');
      (0, _globals.expect)(provider.callHistory.length).toBe(1);
    });
    (0, _globals.test)('should maintain conversation history', async () => {
      provider.queueTextResponse('First response');
      provider.queueTextResponse('Second response');
      const agent = new _agent.AgentRuntime({
        provider,
        toolRuntime,
        systemPrompt: 'You are a helpful assistant.'
      });
      await agent.send('First message');
      await agent.send('Second message');
      const history = agent.getHistory();
      (0, _globals.expect)(history.length).toBe(5); // system + user + assistant + user + assistant
      (0, _globals.expect)(history[0]?.role).toBe('system');
      (0, _globals.expect)(history[1]?.role).toBe('user');
      (0, _globals.expect)(history[2]?.role).toBe('assistant');
      (0, _globals.expect)(history[3]?.role).toBe('user');
      (0, _globals.expect)(history[4]?.role).toBe('assistant');
    });
    (0, _globals.test)('should clear history correctly', async () => {
      provider.queueTextResponse('Response');
      const agent = new _agent.AgentRuntime({
        provider,
        toolRuntime,
        systemPrompt: 'You are a helpful assistant.'
      });
      await agent.send('Hello');
      agent.clearHistory();
      const history = agent.getHistory();
      (0, _globals.expect)(history.length).toBe(1); // Only system message
      (0, _globals.expect)(history[0]?.role).toBe('system');
    });
    (0, _globals.test)('should load history from previous session', async () => {
      const previousHistory = [{
        role: 'system',
        content: 'Previous system prompt'
      }, {
        role: 'user',
        content: 'Previous user message'
      }, {
        role: 'assistant',
        content: 'Previous assistant response'
      }];
      const agent = new _agent.AgentRuntime({
        provider,
        toolRuntime,
        systemPrompt: 'New system prompt'
      });
      agent.loadHistory(previousHistory);
      const history = agent.getHistory();
      (0, _globals.expect)(history.length).toBe(3);
      (0, _globals.expect)(history[0]?.content).toBe('Previous system prompt');
    });
  });
  (0, _globals.describe)('Tool Execution', () => {
    (0, _globals.test)('should execute tool calls from provider response', async () => {
      provider.queueToolCallResponse('I will echo your message', [{
        id: 'call_1',
        name: 'echo',
        arguments: {
          message: 'Hello, World!'
        }
      }]);
      provider.queueTextResponse('The echo result was: Echo: Hello, World!');
      const agent = new _agent.AgentRuntime({
        provider,
        toolRuntime,
        systemPrompt: 'You are a helpful assistant.'
      });
      const response = await agent.send('Echo "Hello, World!"');
      (0, _globals.expect)(response).toContain('The echo result was: Echo: Hello, World!');
      (0, _globals.expect)(response).toContain('Next steps:');
      (0, _globals.expect)(provider.callHistory.length).toBe(2); // Initial + after tool result
    });
    (0, _globals.test)('should execute multiple tool calls in sequence', async () => {
      provider.queueToolCallResponse('I will add some numbers', [{
        id: 'call_1',
        name: 'add',
        arguments: {
          a: 5,
          b: 3
        }
      }, {
        id: 'call_2',
        name: 'add',
        arguments: {
          a: 10,
          b: 7
        }
      }]);
      provider.queueTextResponse('The results are 8 and 17');
      const agent = new _agent.AgentRuntime({
        provider,
        toolRuntime,
        systemPrompt: 'You are a helpful assistant.'
      });
      const response = await agent.send('Add 5+3 and 10+7');
      (0, _globals.expect)(response).toContain('The results are 8 and 17');
      (0, _globals.expect)(response).toContain('Next steps:');

      // Check tool results are in history
      const history = agent.getHistory();
      const toolMessages = history.filter(m => m.role === 'tool');
      (0, _globals.expect)(toolMessages.length).toBe(2);
    });
    (0, _globals.test)('should track tool calls via observer', async () => {
      const toolStarts = [];
      const toolResults = [];
      const observer = {
        onToolStart: call => toolStarts.push(call.name),
        onToolResult: (call, output) => toolResults.push(`${call.name}: ${output}`)
      };
      toolRuntime = new _toolRuntime.ToolRuntime([], {
        observer
      });
      toolRuntime.registerSuite(createMockToolSuite());
      provider.queueToolCallResponse('Executing echo', [{
        id: 'call_1',
        name: 'echo',
        arguments: {
          message: 'test'
        }
      }]);
      provider.queueTextResponse('Done');
      const agent = new _agent.AgentRuntime({
        provider,
        toolRuntime,
        systemPrompt: 'You are a helpful assistant.'
      });
      await agent.send('Echo test');
      (0, _globals.expect)(toolStarts).toContain('echo');
      (0, _globals.expect)(toolResults.some(r => r.includes('Echo: test'))).toBe(true);
    });
  });
  (0, _globals.describe)('Callbacks', () => {
    (0, _globals.test)('should call onAssistantMessage callback', async () => {
      const messages = [];
      const callbacks = {
        onAssistantMessage: content => messages.push(content)
      };
      provider.queueTextResponse('Hello there!');
      const agent = new _agent.AgentRuntime({
        provider,
        toolRuntime,
        systemPrompt: 'You are a helpful assistant.',
        callbacks
      });
      await agent.send('Hi');
      (0, _globals.expect)(messages.some(msg => msg.includes('Hello there!'))).toBe(true);
      (0, _globals.expect)(messages.some(msg => msg.includes('Next steps:'))).toBe(true);
    });
    (0, _globals.test)('should call onContextPruned when context is pruned', async () => {
      let prunedCount = 0;
      const callbacks = {
        onContextPruned: count => {
          prunedCount = count;
        }
      };

      // Create a context manager that will trigger pruning
      const smallContextManager = (0, _contextManager.createDefaultContextManager)({
        maxTokens: 500,
        targetTokens: 200,
        preserveRecentMessages: 2
      });
      provider.queueTextResponse('Response 1');
      provider.queueTextResponse('Response 2');
      provider.queueTextResponse('Response 3');
      provider.queueTextResponse('Response 4');
      provider.queueTextResponse('Response 5');
      const agent = new _agent.AgentRuntime({
        provider,
        toolRuntime,
        systemPrompt: 'You are a helpful assistant.',
        callbacks,
        contextManager: smallContextManager
      });

      // Fill up the context
      for (let i = 0; i < 5; i++) {
        await agent.send('A'.repeat(100));
      }

      // Context should have been pruned at some point
      // Note: exact behavior depends on token estimation
      (0, _globals.expect)(prunedCount).toBeGreaterThanOrEqual(0);
    });
  });
  (0, _globals.describe)('Cancellation', () => {
    (0, _globals.test)('should handle cancellation request during processing', async () => {
      let cancelledCalled = false;
      const callbacks = {
        onCancelled: () => {
          cancelledCalled = true;
        }
      };

      // Queue a slow operation
      provider.queueToolCallResponse('Running slow operation', [{
        id: 'call_1',
        name: 'slow_operation',
        arguments: {
          duration: 500
        }
      }]);
      provider.queueTextResponse('Done');
      const agent = new _agent.AgentRuntime({
        provider,
        toolRuntime,
        systemPrompt: 'You are a helpful assistant.',
        callbacks
      });

      // Request cancellation before completing
      setTimeout(() => {
        agent.requestCancellation();
      }, 50);
      const response = await agent.send('Run slow operation');

      // Either cancelled or completed depending on timing
      if (cancelledCalled) {
        (0, _globals.expect)(response).toContain('cancelled');
      }
    });
    (0, _globals.test)('should reset cancellation flag on new request', async () => {
      const agent = new _agent.AgentRuntime({
        provider,
        toolRuntime,
        systemPrompt: 'You are a helpful assistant.'
      });

      // Request cancellation
      agent.requestCancellation();
      (0, _globals.expect)(agent.isCancellationRequested()).toBe(true);

      // Start new request
      provider.queueTextResponse('Response');
      await agent.send('Hello');

      // Cancellation should be reset after request completes
      (0, _globals.expect)(agent.isCancellationRequested()).toBe(false);
    });
  });
  (0, _globals.describe)('Context Overflow Recovery', () => {
    (0, _globals.test)('should attempt recovery on context overflow error', async () => {
      let recoveryAttempts = 0;
      const callbacks = {
        onContextRecovery: attempt => {
          recoveryAttempts = attempt;
        }
      };

      // First call throws overflow, then succeeds
      provider.queueContextOverflowError();
      provider.queueTextResponse('Response after recovery');
      const agent = new _agent.AgentRuntime({
        provider,
        toolRuntime,
        systemPrompt: 'You are a helpful assistant.',
        callbacks,
        contextManager
      });

      // Pre-fill some history
      agent.loadHistory([{
        role: 'system',
        content: 'System prompt'
      }, {
        role: 'user',
        content: 'Old message 1'
      }, {
        role: 'assistant',
        content: 'Old response 1'
      }, {
        role: 'user',
        content: 'Old message 2'
      }, {
        role: 'assistant',
        content: 'Old response 2'
      }]);
      const response = await agent.send('New message');
      (0, _globals.expect)(recoveryAttempts).toBeGreaterThan(0);
      (0, _globals.expect)(response).toContain('Response after recovery');
      (0, _globals.expect)(response).toContain('Next steps:');
    });
  });
  (0, _globals.describe)('Running State', () => {
    (0, _globals.test)('should track running state correctly', async () => {
      const agent = new _agent.AgentRuntime({
        provider,
        toolRuntime,
        systemPrompt: 'You are a helpful assistant.'
      });
      (0, _globals.expect)(agent.isRunning()).toBe(false);
      provider.queueToolCallResponse('Processing', [{
        id: 'call_1',
        name: 'slow_operation',
        arguments: {
          duration: 100
        }
      }]);
      provider.queueTextResponse('Done');
      const promise = agent.send('Run something');

      // Should be running during execution
      // Note: This timing is tricky in tests
      await promise;
      (0, _globals.expect)(agent.isRunning()).toBe(false);
    });
  });
});
(0, _globals.describe)('Tool Runtime Integration', () => {
  let toolRuntime;
  let contextManager;
  (0, _globals.beforeEach)(() => {
    contextManager = (0, _contextManager.createDefaultContextManager)({
      maxTokens: 10000,
      maxToolOutputLength: 1000
    });
    toolRuntime = new _toolRuntime.ToolRuntime([], {
      contextManager
    });
    toolRuntime.registerSuite(createMockToolSuite());
  });
  (0, _globals.describe)('Tool Registration', () => {
    (0, _globals.test)('should register and list tools', () => {
      const tools = toolRuntime.listProviderTools();
      const toolNames = tools.map(t => t.name);
      (0, _globals.expect)(toolNames).toContain('echo');
      (0, _globals.expect)(toolNames).toContain('add');
      (0, _globals.expect)(toolNames).toContain('read_file');
      (0, _globals.expect)(toolNames).toContain('slow_operation');
    });
    (0, _globals.test)('should unregister suite', () => {
      toolRuntime.unregisterSuite('test.mock-tools');
      const tools = toolRuntime.listProviderTools();
      (0, _globals.expect)(tools.find(t => t.name === 'echo')).toBeUndefined();
    });
  });
  (0, _globals.describe)('Tool Execution', () => {
    (0, _globals.test)('should execute tool successfully', async () => {
      const result = await toolRuntime.execute({
        id: 'call_1',
        name: 'echo',
        arguments: {
          message: 'Hello!'
        }
      });
      (0, _globals.expect)(result).toBe('Echo: Hello!');
    });
    (0, _globals.test)('should handle unknown tool gracefully', async () => {
      const result = await toolRuntime.execute({
        id: 'call_1',
        name: 'unknown_tool',
        arguments: {}
      });
      (0, _globals.expect)(result).toContain('not available');
    });
    (0, _globals.test)('should handle tool execution errors', async () => {
      const errorSuite = {
        id: 'test.error-tools',
        tools: [{
          name: 'error_tool',
          description: 'Always throws an error',
          handler: () => {
            throw new Error('Intentional error');
          }
        }]
      };
      toolRuntime.registerSuite(errorSuite);
      const result = await toolRuntime.execute({
        id: 'call_1',
        name: 'error_tool',
        arguments: {}
      });
      (0, _globals.expect)(result).toContain('Failed');
      (0, _globals.expect)(result).toContain('Intentional error');
    });
  });
  (0, _globals.describe)('Tool Caching', () => {
    (0, _globals.test)('should cache cacheable tool results', async () => {
      const cacheHits = [];
      const observer = {
        onCacheHit: call => cacheHits.push(call.name)
      };
      toolRuntime = new _toolRuntime.ToolRuntime([], {
        contextManager,
        observer,
        enableCache: true
      });
      toolRuntime.registerSuite(createMockToolSuite());

      // First call
      await toolRuntime.execute({
        id: 'call_1',
        name: 'read_file',
        arguments: {
          path: '/test/file.txt'
        }
      });

      // Second call with same args should hit cache
      await toolRuntime.execute({
        id: 'call_2',
        name: 'read_file',
        arguments: {
          path: '/test/file.txt'
        }
      });
      (0, _globals.expect)(cacheHits).toContain('read_file');
    });
    (0, _globals.test)('should not cache non-cacheable tools', async () => {
      const cacheHits = [];
      const observer = {
        onCacheHit: call => cacheHits.push(call.name)
      };
      toolRuntime = new _toolRuntime.ToolRuntime([], {
        contextManager,
        observer,
        enableCache: true
      });
      toolRuntime.registerSuite(createMockToolSuite());

      // First call
      await toolRuntime.execute({
        id: 'call_1',
        name: 'echo',
        arguments: {
          message: 'test'
        }
      });

      // Second call should not hit cache
      await toolRuntime.execute({
        id: 'call_2',
        name: 'echo',
        arguments: {
          message: 'test'
        }
      });
      (0, _globals.expect)(cacheHits).not.toContain('echo');
    });
    (0, _globals.test)('should clear cache', async () => {
      toolRuntime = new _toolRuntime.ToolRuntime([], {
        contextManager,
        enableCache: true
      });
      toolRuntime.registerSuite(createMockToolSuite());
      await toolRuntime.execute({
        id: 'call_1',
        name: 'read_file',
        arguments: {
          path: '/test/file.txt'
        }
      });
      const statsBeforeClear = toolRuntime.getCacheStats();
      (0, _globals.expect)(statsBeforeClear.entries).toBeGreaterThan(0);
      toolRuntime.clearCache();
      const statsAfterClear = toolRuntime.getCacheStats();
      (0, _globals.expect)(statsAfterClear.entries).toBe(0);
    });
    (0, _globals.test)('respects per-tool cache TTL overrides', async () => {
      const cacheHits = [];
      const observer = {
        onCacheHit: call => cacheHits.push(call.name)
      };
      toolRuntime = new _toolRuntime.ToolRuntime([], {
        contextManager,
        observer,
        enableCache: true
      });
      toolRuntime.registerSuite({
        id: 'ttl.override',
        tools: [{
          name: 'burst',
          description: 'Returns a timestamp string',
          handler: () => `ts:${Date.now()}`,
          cacheable: true,
          cacheTtlMs: 5
        }]
      });
      await toolRuntime.execute({
        id: 'call_1',
        name: 'burst',
        arguments: {}
      });
      await toolRuntime.execute({
        id: 'call_2',
        name: 'burst',
        arguments: {}
      });
      (0, _globals.expect)(cacheHits).toEqual(['burst']);
      await new Promise(resolve => setTimeout(resolve, 15));
      await toolRuntime.execute({
        id: 'call_3',
        name: 'burst',
        arguments: {}
      });
      (0, _globals.expect)(cacheHits).toEqual(['burst']);
    });
  });
  (0, _globals.describe)('Tool History', () => {
    (0, _globals.test)('should track tool history', async () => {
      await toolRuntime.execute({
        id: 'call_1',
        name: 'echo',
        arguments: {
          message: 'first'
        }
      });
      await toolRuntime.execute({
        id: 'call_2',
        name: 'add',
        arguments: {
          a: 1,
          b: 2
        }
      });
      const history = toolRuntime.getToolHistory();
      (0, _globals.expect)(history.length).toBe(2);
      (0, _globals.expect)(history[0]?.toolName).toBe('echo');
      (0, _globals.expect)(history[1]?.toolName).toBe('add');
    });
    (0, _globals.test)('should clear tool history', async () => {
      await toolRuntime.execute({
        id: 'call_1',
        name: 'echo',
        arguments: {
          message: 'test'
        }
      });
      toolRuntime.clearToolHistory();
      const history = toolRuntime.getToolHistory();
      (0, _globals.expect)(history.length).toBe(0);
    });
  });
  (0, _globals.describe)('Diff Snapshots', () => {
    (0, _globals.test)('should capture git diff outputs from tool commands', async () => {
      toolRuntime.registerSuite(createMockDiffSuite());
      await toolRuntime.execute({
        id: 'call_git_diff',
        name: 'git_diff_mock',
        arguments: {
          command: 'git diff --stat'
        }
      });
      const snapshots = toolRuntime.getDiffSnapshots();
      (0, _globals.expect)(snapshots.length).toBe(1);
      (0, _globals.expect)(snapshots[0]?.command).toBe('git diff --stat');
      (0, _globals.expect)(snapshots[0]?.output).toContain('mock diff for git diff --stat');
      (0, _globals.expect)(typeof snapshots[0]?.timestamp).toBe('number');
    });
    (0, _globals.test)('should bound diff snapshots and support clearing', async () => {
      toolRuntime.registerSuite(createMockDiffSuite());
      for (let i = 0; i < 6; i++) {
        await toolRuntime.execute({
          id: `call_${i}`,
          name: 'git_diff_mock',
          arguments: {
            command: `git diff --stat ${i}`
          }
        });
      }
      const snapshots = toolRuntime.getDiffSnapshots();
      (0, _globals.expect)(snapshots.length).toBe(5);
      (0, _globals.expect)(snapshots[0]?.command).toBe('git diff --stat 1');
      (0, _globals.expect)(snapshots[snapshots.length - 1]?.command).toBe('git diff --stat 5');
      toolRuntime.clearDiffSnapshots();
      (0, _globals.expect)(toolRuntime.getDiffSnapshots().length).toBe(0);
    });
  });
  (0, _globals.describe)('Tool Output Truncation', () => {
    (0, _globals.test)('should truncate large tool outputs', async () => {
      const largeSuite = {
        id: 'test.large-output',
        tools: [{
          name: 'large_output',
          description: 'Returns large output',
          handler: () => 'X'.repeat(5000) // Exceeds maxToolOutputLength
        }]
      };
      toolRuntime.registerSuite(largeSuite);
      const result = await toolRuntime.execute({
        id: 'call_1',
        name: 'large_output',
        arguments: {}
      });

      // Output should be truncated
      (0, _globals.expect)(result.length).toBeLessThan(5000);
      (0, _globals.expect)(result).toContain('truncated');
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2xvYmFscyIsInJlcXVpcmUiLCJfYWdlbnQiLCJfdG9vbFJ1bnRpbWUiLCJfY29udGV4dE1hbmFnZXIiLCJNb2NrTExNUHJvdmlkZXIiLCJyZXNwb25zZXMiLCJyZXNwb25zZUluZGV4IiwiY2FsbEhpc3RvcnkiLCJxdWV1ZVRleHRSZXNwb25zZSIsImNvbnRlbnQiLCJwdXNoIiwidHlwZSIsInF1ZXVlVG9vbENhbGxSZXNwb25zZSIsInRvb2xDYWxscyIsInF1ZXVlQ29udGV4dE92ZXJmbG93RXJyb3IiLCJnZW5lcmF0ZSIsIm1lc3NhZ2VzIiwibGVuZ3RoIiwicmVzcG9uc2UiLCJlcnJvciIsIkVycm9yIiwidXNhZ2UiLCJpbnB1dFRva2VucyIsIm91dHB1dFRva2VucyIsInJlc2V0IiwiY3JlYXRlTW9ja1Rvb2xTdWl0ZSIsInRvb2xzIiwibmFtZSIsImRlc2NyaXB0aW9uIiwicGFyYW1ldGVycyIsInByb3BlcnRpZXMiLCJtZXNzYWdlIiwicmVxdWlyZWQiLCJoYW5kbGVyIiwiYXJncyIsImEiLCJiIiwiTnVtYmVyIiwicGF0aCIsImNhY2hlYWJsZSIsImR1cmF0aW9uIiwiUHJvbWlzZSIsInJlc29sdmUiLCJzZXRUaW1lb3V0IiwiTWF0aCIsIm1pbiIsImlkIiwiY3JlYXRlTW9ja0RpZmZTdWl0ZSIsImNvbW1hbmQiLCJkZXNjcmliZSIsInByb3ZpZGVyIiwidG9vbFJ1bnRpbWUiLCJjb250ZXh0TWFuYWdlciIsImJlZm9yZUVhY2giLCJUb29sUnVudGltZSIsInJlZ2lzdGVyU3VpdGUiLCJjcmVhdGVEZWZhdWx0Q29udGV4dE1hbmFnZXIiLCJtYXhUb2tlbnMiLCJ0YXJnZXRUb2tlbnMiLCJhZnRlckVhY2giLCJ0ZXN0IiwiYWdlbnQiLCJBZ2VudFJ1bnRpbWUiLCJzeXN0ZW1Qcm9tcHQiLCJzZW5kIiwiZXhwZWN0IiwidG9Db250YWluIiwidG9CZSIsImhpc3RvcnkiLCJnZXRIaXN0b3J5Iiwicm9sZSIsImNsZWFySGlzdG9yeSIsInByZXZpb3VzSGlzdG9yeSIsImxvYWRIaXN0b3J5IiwiYXJndW1lbnRzIiwidG9vbE1lc3NhZ2VzIiwiZmlsdGVyIiwibSIsInRvb2xTdGFydHMiLCJ0b29sUmVzdWx0cyIsIm9ic2VydmVyIiwib25Ub29sU3RhcnQiLCJjYWxsIiwib25Ub29sUmVzdWx0Iiwib3V0cHV0Iiwic29tZSIsInIiLCJpbmNsdWRlcyIsImNhbGxiYWNrcyIsIm9uQXNzaXN0YW50TWVzc2FnZSIsIm1zZyIsInBydW5lZENvdW50Iiwib25Db250ZXh0UHJ1bmVkIiwiY291bnQiLCJzbWFsbENvbnRleHRNYW5hZ2VyIiwicHJlc2VydmVSZWNlbnRNZXNzYWdlcyIsImkiLCJyZXBlYXQiLCJ0b0JlR3JlYXRlclRoYW5PckVxdWFsIiwiY2FuY2VsbGVkQ2FsbGVkIiwib25DYW5jZWxsZWQiLCJyZXF1ZXN0Q2FuY2VsbGF0aW9uIiwiaXNDYW5jZWxsYXRpb25SZXF1ZXN0ZWQiLCJyZWNvdmVyeUF0dGVtcHRzIiwib25Db250ZXh0UmVjb3ZlcnkiLCJhdHRlbXB0IiwidG9CZUdyZWF0ZXJUaGFuIiwiaXNSdW5uaW5nIiwicHJvbWlzZSIsIm1heFRvb2xPdXRwdXRMZW5ndGgiLCJsaXN0UHJvdmlkZXJUb29scyIsInRvb2xOYW1lcyIsIm1hcCIsInQiLCJ1bnJlZ2lzdGVyU3VpdGUiLCJmaW5kIiwidG9CZVVuZGVmaW5lZCIsInJlc3VsdCIsImV4ZWN1dGUiLCJlcnJvclN1aXRlIiwiY2FjaGVIaXRzIiwib25DYWNoZUhpdCIsImVuYWJsZUNhY2hlIiwibm90Iiwic3RhdHNCZWZvcmVDbGVhciIsImdldENhY2hlU3RhdHMiLCJlbnRyaWVzIiwiY2xlYXJDYWNoZSIsInN0YXRzQWZ0ZXJDbGVhciIsIkRhdGUiLCJub3ciLCJjYWNoZVR0bE1zIiwidG9FcXVhbCIsImdldFRvb2xIaXN0b3J5IiwidG9vbE5hbWUiLCJjbGVhclRvb2xIaXN0b3J5Iiwic25hcHNob3RzIiwiZ2V0RGlmZlNuYXBzaG90cyIsInRpbWVzdGFtcCIsImNsZWFyRGlmZlNuYXBzaG90cyIsImxhcmdlU3VpdGUiLCJ0b0JlTGVzc1RoYW4iXSwic291cmNlcyI6WyJhZ2VudFJ1bnRpbWVJbnRlZ3JhdGlvbi50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQWdlbnQgUnVudGltZSBJbnRlZ3JhdGlvbiBUZXN0c1xuICpcbiAqIFRlc3RzIHRoZSBBZ2VudFJ1bnRpbWUgY2xhc3Mgd2l0aDpcbiAqIC0gQ29udGV4dCBvdmVyZmxvdyByZWNvdmVyeVxuICogLSBTdHJlYW1pbmcgd2l0aCBpbnRlcnJ1cHRpb24gaGFuZGxpbmdcbiAqIC0gQ2FuY2VsbGF0aW9uIHN1cHBvcnRcbiAqIC0gVG9vbCBleGVjdXRpb24gcGlwZWxpbmVcbiAqL1xuXG5pbXBvcnQgeyBkZXNjcmliZSwgdGVzdCwgZXhwZWN0LCBiZWZvcmVFYWNoLCBhZnRlckVhY2ggfSBmcm9tICdAamVzdC9nbG9iYWxzJztcbmltcG9ydCB7IEFnZW50UnVudGltZSwgdHlwZSBBZ2VudENhbGxiYWNrcyB9IGZyb20gJy4uLy4uL3NyYy9jb3JlL2FnZW50LmpzJztcbmltcG9ydCB7IFRvb2xSdW50aW1lLCB0eXBlIFRvb2xTdWl0ZSwgdHlwZSBUb29sRGVmaW5pdGlvbiB9IGZyb20gJy4uLy4uL3NyYy9jb3JlL3Rvb2xSdW50aW1lLmpzJztcbmltcG9ydCB7IENvbnRleHRNYW5hZ2VyLCBjcmVhdGVEZWZhdWx0Q29udGV4dE1hbmFnZXIgfSBmcm9tICcuLi8uLi9zcmMvY29yZS9jb250ZXh0TWFuYWdlci5qcyc7XG5pbXBvcnQgdHlwZSB7IENvbnZlcnNhdGlvbk1lc3NhZ2UsIExMTVByb3ZpZGVyLCBUb29sQ2FsbFJlcXVlc3QgfSBmcm9tICcuLi8uLi9zcmMvY29yZS90eXBlcy5qcyc7XG5cbi8vIE1vY2sgTExNIFByb3ZpZGVyIGZvciB0ZXN0aW5nXG5jbGFzcyBNb2NrTExNUHJvdmlkZXIgaW1wbGVtZW50cyBMTE1Qcm92aWRlciB7XG4gIHByaXZhdGUgcmVzcG9uc2VzOiBBcnJheTx7XG4gICAgdHlwZTogJ3RleHQnIHwgJ3Rvb2xfY2FsbHMnO1xuICAgIGNvbnRlbnQ/OiBzdHJpbmc7XG4gICAgdG9vbENhbGxzPzogVG9vbENhbGxSZXF1ZXN0W107XG4gIH0+ID0gW107XG4gIHByaXZhdGUgcmVzcG9uc2VJbmRleCA9IDA7XG4gIHB1YmxpYyBjYWxsSGlzdG9yeTogQ29udmVyc2F0aW9uTWVzc2FnZVtdW10gPSBbXTtcblxuICBxdWV1ZVRleHRSZXNwb25zZShjb250ZW50OiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLnJlc3BvbnNlcy5wdXNoKHsgdHlwZTogJ3RleHQnLCBjb250ZW50IH0pO1xuICB9XG5cbiAgcXVldWVUb29sQ2FsbFJlc3BvbnNlKGNvbnRlbnQ6IHN0cmluZywgdG9vbENhbGxzOiBUb29sQ2FsbFJlcXVlc3RbXSk6IHZvaWQge1xuICAgIHRoaXMucmVzcG9uc2VzLnB1c2goeyB0eXBlOiAndG9vbF9jYWxscycsIGNvbnRlbnQsIHRvb2xDYWxscyB9KTtcbiAgfVxuXG4gIHF1ZXVlQ29udGV4dE92ZXJmbG93RXJyb3IoKTogdm9pZCB7XG4gICAgdGhpcy5yZXNwb25zZXMucHVzaCh7IHR5cGU6ICd0ZXh0JywgY29udGVudDogJ19fT1ZFUkZMT1dfXycgfSk7XG4gIH1cblxuICBhc3luYyBnZW5lcmF0ZShtZXNzYWdlczogQ29udmVyc2F0aW9uTWVzc2FnZVtdKTogUHJvbWlzZTx7XG4gICAgdHlwZTogJ3RleHQnIHwgJ3Rvb2xfY2FsbHMnO1xuICAgIGNvbnRlbnQ/OiBzdHJpbmc7XG4gICAgdG9vbENhbGxzPzogVG9vbENhbGxSZXF1ZXN0W107XG4gICAgdXNhZ2U/OiB7IGlucHV0VG9rZW5zOiBudW1iZXI7IG91dHB1dFRva2VuczogbnVtYmVyIH07XG4gIH0+IHtcbiAgICB0aGlzLmNhbGxIaXN0b3J5LnB1c2goWy4uLm1lc3NhZ2VzXSk7XG5cbiAgICBpZiAodGhpcy5yZXNwb25zZUluZGV4ID49IHRoaXMucmVzcG9uc2VzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIHsgdHlwZTogJ3RleHQnLCBjb250ZW50OiAnRGVmYXVsdCBtb2NrIHJlc3BvbnNlJyB9O1xuICAgIH1cblxuICAgIGNvbnN0IHJlc3BvbnNlID0gdGhpcy5yZXNwb25zZXNbdGhpcy5yZXNwb25zZUluZGV4KytdITtcblxuICAgIC8vIFNpbXVsYXRlIGNvbnRleHQgb3ZlcmZsb3cgZXJyb3JcbiAgICBpZiAocmVzcG9uc2UuY29udGVudCA9PT0gJ19fT1ZFUkZMT1dfXycpIHtcbiAgICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKCdDb250ZXh0IGxlbmd0aCBleGNlZWRlZDogdG9rZW4gbGltaXQgcmVhY2hlZCcpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnJlc3BvbnNlLFxuICAgICAgdXNhZ2U6IHsgaW5wdXRUb2tlbnM6IDEwMCwgb3V0cHV0VG9rZW5zOiA1MCB9LFxuICAgIH07XG4gIH1cblxuICByZXNldCgpOiB2b2lkIHtcbiAgICB0aGlzLnJlc3BvbnNlcyA9IFtdO1xuICAgIHRoaXMucmVzcG9uc2VJbmRleCA9IDA7XG4gICAgdGhpcy5jYWxsSGlzdG9yeSA9IFtdO1xuICB9XG59XG5cbi8vIE1vY2sgVG9vbCBTdWl0ZSBmb3IgdGVzdGluZ1xuZnVuY3Rpb24gY3JlYXRlTW9ja1Rvb2xTdWl0ZSgpOiBUb29sU3VpdGUge1xuICBjb25zdCB0b29sczogVG9vbERlZmluaXRpb25bXSA9IFtcbiAgICB7XG4gICAgICBuYW1lOiAnZWNobycsXG4gICAgICBkZXNjcmlwdGlvbjogJ0VjaG9lcyBiYWNrIHRoZSBpbnB1dCcsXG4gICAgICBwYXJhbWV0ZXJzOiB7XG4gICAgICAgIHR5cGU6ICdvYmplY3QnLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgbWVzc2FnZTogeyB0eXBlOiAnc3RyaW5nJywgZGVzY3JpcHRpb246ICdNZXNzYWdlIHRvIGVjaG8nIH0sXG4gICAgICAgIH0sXG4gICAgICAgIHJlcXVpcmVkOiBbJ21lc3NhZ2UnXSxcbiAgICAgIH0sXG4gICAgICBoYW5kbGVyOiAoYXJncykgPT4gYEVjaG86ICR7YXJnc1snbWVzc2FnZSddfWAsXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAnYWRkJyxcbiAgICAgIGRlc2NyaXB0aW9uOiAnQWRkcyB0d28gbnVtYmVycycsXG4gICAgICBwYXJhbWV0ZXJzOiB7XG4gICAgICAgIHR5cGU6ICdvYmplY3QnLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgYTogeyB0eXBlOiAnbnVtYmVyJywgZGVzY3JpcHRpb246ICdGaXJzdCBudW1iZXInIH0sXG4gICAgICAgICAgYjogeyB0eXBlOiAnbnVtYmVyJywgZGVzY3JpcHRpb246ICdTZWNvbmQgbnVtYmVyJyB9LFxuICAgICAgICB9LFxuICAgICAgICByZXF1aXJlZDogWydhJywgJ2InXSxcbiAgICAgIH0sXG4gICAgICBoYW5kbGVyOiAoYXJncykgPT4ge1xuICAgICAgICBjb25zdCBhID0gTnVtYmVyKGFyZ3NbJ2EnXSk7XG4gICAgICAgIGNvbnN0IGIgPSBOdW1iZXIoYXJnc1snYiddKTtcbiAgICAgICAgcmV0dXJuIGBSZXN1bHQ6ICR7YSArIGJ9YDtcbiAgICAgIH0sXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAncmVhZF9maWxlJyxcbiAgICAgIGRlc2NyaXB0aW9uOiAnUmVhZHMgYSBmaWxlJyxcbiAgICAgIHBhcmFtZXRlcnM6IHtcbiAgICAgICAgdHlwZTogJ29iamVjdCcsXG4gICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICBwYXRoOiB7IHR5cGU6ICdzdHJpbmcnLCBkZXNjcmlwdGlvbjogJ0ZpbGUgcGF0aCcgfSxcbiAgICAgICAgfSxcbiAgICAgICAgcmVxdWlyZWQ6IFsncGF0aCddLFxuICAgICAgfSxcbiAgICAgIGhhbmRsZXI6IChhcmdzKSA9PiBgQ29udGVudCBvZiAke2FyZ3NbJ3BhdGgnXX06IFttb2NrIGNvbnRlbnRdYCxcbiAgICAgIGNhY2hlYWJsZTogdHJ1ZSxcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICdzbG93X29wZXJhdGlvbicsXG4gICAgICBkZXNjcmlwdGlvbjogJ1NpbXVsYXRlcyBhIHNsb3cgb3BlcmF0aW9uJyxcbiAgICAgIHBhcmFtZXRlcnM6IHtcbiAgICAgICAgdHlwZTogJ29iamVjdCcsXG4gICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICBkdXJhdGlvbjogeyB0eXBlOiAnbnVtYmVyJywgZGVzY3JpcHRpb246ICdEdXJhdGlvbiBpbiBtcycgfSxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBoYW5kbGVyOiBhc3luYyAoYXJncykgPT4ge1xuICAgICAgICBjb25zdCBkdXJhdGlvbiA9IE51bWJlcihhcmdzWydkdXJhdGlvbiddKSB8fCAxMDA7XG4gICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIE1hdGgubWluKGR1cmF0aW9uLCAvKiBUT0RPOiBFeHRyYWN0IGNvbnN0YW50ICovIC8qIFRPRE86IEV4dHJhY3QgY29uc3RhbnQgKi8gMTAwMCkpKTtcbiAgICAgICAgcmV0dXJuICdPcGVyYXRpb24gY29tcGxldGVkJztcbiAgICAgIH0sXG4gICAgfSxcbiAgXTtcblxuICByZXR1cm4ge1xuICAgIGlkOiAndGVzdC5tb2NrLXRvb2xzJyxcbiAgICBkZXNjcmlwdGlvbjogJ01vY2sgdG9vbHMgZm9yIHRlc3RpbmcnLFxuICAgIHRvb2xzLFxuICB9O1xufVxuXG5mdW5jdGlvbiBjcmVhdGVNb2NrRGlmZlN1aXRlKCk6IFRvb2xTdWl0ZSB7XG4gIHJldHVybiB7XG4gICAgaWQ6ICd0ZXN0Lm1vY2stZGlmZicsXG4gICAgZGVzY3JpcHRpb246ICdNb2NrIGdpdCBkaWZmIHRvb2wgZm9yIHNuYXBzaG90IHRyYWNraW5nJyxcbiAgICB0b29sczogW1xuICAgICAge1xuICAgICAgICBuYW1lOiAnZ2l0X2RpZmZfbW9jaycsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnUmV0dXJucyBtb2NrIGdpdCBkaWZmIG91dHB1dCcsXG4gICAgICAgIHBhcmFtZXRlcnM6IHtcbiAgICAgICAgICB0eXBlOiAnb2JqZWN0JyxcbiAgICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICBjb21tYW5kOiB7IHR5cGU6ICdzdHJpbmcnLCBkZXNjcmlwdGlvbjogJ0dpdCBkaWZmIGNvbW1hbmQnIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgICByZXF1aXJlZDogWydjb21tYW5kJ10sXG4gICAgICAgIH0sXG4gICAgICAgIGhhbmRsZXI6IChhcmdzKSA9PiBgbW9jayBkaWZmIGZvciAke2FyZ3NbJ2NvbW1hbmQnXSA/PyAnJ31gLFxuICAgICAgfSxcbiAgICBdLFxuICB9O1xufVxuXG5kZXNjcmliZSgnQWdlbnQgUnVudGltZSBJbnRlZ3JhdGlvbicsICgpID0+IHtcbiAgbGV0IHByb3ZpZGVyOiBNb2NrTExNUHJvdmlkZXI7XG4gIGxldCB0b29sUnVudGltZTogVG9vbFJ1bnRpbWU7XG4gIGxldCBjb250ZXh0TWFuYWdlcjogQ29udGV4dE1hbmFnZXI7XG5cbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgcHJvdmlkZXIgPSBuZXcgTW9ja0xMTVByb3ZpZGVyKCk7XG4gICAgdG9vbFJ1bnRpbWUgPSBuZXcgVG9vbFJ1bnRpbWUoKTtcbiAgICB0b29sUnVudGltZS5yZWdpc3RlclN1aXRlKGNyZWF0ZU1vY2tUb29sU3VpdGUoKSk7XG4gICAgY29udGV4dE1hbmFnZXIgPSBjcmVhdGVEZWZhdWx0Q29udGV4dE1hbmFnZXIoe1xuICAgICAgbWF4VG9rZW5zOiAxMDAwMCxcbiAgICAgIHRhcmdldFRva2VuczogNzAwMCxcbiAgICB9KTtcbiAgfSk7XG5cbiAgYWZ0ZXJFYWNoKCgpID0+IHtcbiAgICBwcm92aWRlci5yZXNldCgpO1xuICB9KTtcblxuICBkZXNjcmliZSgnQmFzaWMgTWVzc2FnZSBIYW5kbGluZycsICgpID0+IHtcbiAgICB0ZXN0KCdzaG91bGQgc2VuZCBhIHNpbXBsZSBtZXNzYWdlIGFuZCByZWNlaXZlIHJlc3BvbnNlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgcHJvdmlkZXIucXVldWVUZXh0UmVzcG9uc2UoJ0hlbGxvISBIb3cgY2FuIEkgaGVscCB5b3U/Jyk7XG5cbiAgICAgIGNvbnN0IGFnZW50ID0gbmV3IEFnZW50UnVudGltZSh7XG4gICAgICAgIHByb3ZpZGVyLFxuICAgICAgICB0b29sUnVudGltZSxcbiAgICAgICAgc3lzdGVtUHJvbXB0OiAnWW91IGFyZSBhIGhlbHBmdWwgYXNzaXN0YW50LicsXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhZ2VudC5zZW5kKCdIZWxsbycpO1xuXG4gICAgICBleHBlY3QocmVzcG9uc2UpLnRvQ29udGFpbignSGVsbG8hIEhvdyBjYW4gSSBoZWxwIHlvdT8nKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZSkudG9Db250YWluKCdOZXh0IHN0ZXBzOicpO1xuICAgICAgZXhwZWN0KHByb3ZpZGVyLmNhbGxIaXN0b3J5Lmxlbmd0aCkudG9CZSgxKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBtYWludGFpbiBjb252ZXJzYXRpb24gaGlzdG9yeScsIGFzeW5jICgpID0+IHtcbiAgICAgIHByb3ZpZGVyLnF1ZXVlVGV4dFJlc3BvbnNlKCdGaXJzdCByZXNwb25zZScpO1xuICAgICAgcHJvdmlkZXIucXVldWVUZXh0UmVzcG9uc2UoJ1NlY29uZCByZXNwb25zZScpO1xuXG4gICAgICBjb25zdCBhZ2VudCA9IG5ldyBBZ2VudFJ1bnRpbWUoe1xuICAgICAgICBwcm92aWRlcixcbiAgICAgICAgdG9vbFJ1bnRpbWUsXG4gICAgICAgIHN5c3RlbVByb21wdDogJ1lvdSBhcmUgYSBoZWxwZnVsIGFzc2lzdGFudC4nLFxuICAgICAgfSk7XG5cbiAgICAgIGF3YWl0IGFnZW50LnNlbmQoJ0ZpcnN0IG1lc3NhZ2UnKTtcbiAgICAgIGF3YWl0IGFnZW50LnNlbmQoJ1NlY29uZCBtZXNzYWdlJyk7XG5cbiAgICAgIGNvbnN0IGhpc3RvcnkgPSBhZ2VudC5nZXRIaXN0b3J5KCk7XG4gICAgICBleHBlY3QoaGlzdG9yeS5sZW5ndGgpLnRvQmUoNSk7IC8vIHN5c3RlbSArIHVzZXIgKyBhc3Npc3RhbnQgKyB1c2VyICsgYXNzaXN0YW50XG4gICAgICBleHBlY3QoaGlzdG9yeVswXT8ucm9sZSkudG9CZSgnc3lzdGVtJyk7XG4gICAgICBleHBlY3QoaGlzdG9yeVsxXT8ucm9sZSkudG9CZSgndXNlcicpO1xuICAgICAgZXhwZWN0KGhpc3RvcnlbMl0/LnJvbGUpLnRvQmUoJ2Fzc2lzdGFudCcpO1xuICAgICAgZXhwZWN0KGhpc3RvcnlbM10/LnJvbGUpLnRvQmUoJ3VzZXInKTtcbiAgICAgIGV4cGVjdChoaXN0b3J5WzRdPy5yb2xlKS50b0JlKCdhc3Npc3RhbnQnKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBjbGVhciBoaXN0b3J5IGNvcnJlY3RseScsIGFzeW5jICgpID0+IHtcbiAgICAgIHByb3ZpZGVyLnF1ZXVlVGV4dFJlc3BvbnNlKCdSZXNwb25zZScpO1xuXG4gICAgICBjb25zdCBhZ2VudCA9IG5ldyBBZ2VudFJ1bnRpbWUoe1xuICAgICAgICBwcm92aWRlcixcbiAgICAgICAgdG9vbFJ1bnRpbWUsXG4gICAgICAgIHN5c3RlbVByb21wdDogJ1lvdSBhcmUgYSBoZWxwZnVsIGFzc2lzdGFudC4nLFxuICAgICAgfSk7XG5cbiAgICAgIGF3YWl0IGFnZW50LnNlbmQoJ0hlbGxvJyk7XG4gICAgICBhZ2VudC5jbGVhckhpc3RvcnkoKTtcblxuICAgICAgY29uc3QgaGlzdG9yeSA9IGFnZW50LmdldEhpc3RvcnkoKTtcbiAgICAgIGV4cGVjdChoaXN0b3J5Lmxlbmd0aCkudG9CZSgxKTsgLy8gT25seSBzeXN0ZW0gbWVzc2FnZVxuICAgICAgZXhwZWN0KGhpc3RvcnlbMF0/LnJvbGUpLnRvQmUoJ3N5c3RlbScpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGxvYWQgaGlzdG9yeSBmcm9tIHByZXZpb3VzIHNlc3Npb24nLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBwcmV2aW91c0hpc3Rvcnk6IENvbnZlcnNhdGlvbk1lc3NhZ2VbXSA9IFtcbiAgICAgICAgeyByb2xlOiAnc3lzdGVtJywgY29udGVudDogJ1ByZXZpb3VzIHN5c3RlbSBwcm9tcHQnIH0sXG4gICAgICAgIHsgcm9sZTogJ3VzZXInLCBjb250ZW50OiAnUHJldmlvdXMgdXNlciBtZXNzYWdlJyB9LFxuICAgICAgICB7IHJvbGU6ICdhc3Npc3RhbnQnLCBjb250ZW50OiAnUHJldmlvdXMgYXNzaXN0YW50IHJlc3BvbnNlJyB9LFxuICAgICAgXTtcblxuICAgICAgY29uc3QgYWdlbnQgPSBuZXcgQWdlbnRSdW50aW1lKHtcbiAgICAgICAgcHJvdmlkZXIsXG4gICAgICAgIHRvb2xSdW50aW1lLFxuICAgICAgICBzeXN0ZW1Qcm9tcHQ6ICdOZXcgc3lzdGVtIHByb21wdCcsXG4gICAgICB9KTtcblxuICAgICAgYWdlbnQubG9hZEhpc3RvcnkocHJldmlvdXNIaXN0b3J5KTtcblxuICAgICAgY29uc3QgaGlzdG9yeSA9IGFnZW50LmdldEhpc3RvcnkoKTtcbiAgICAgIGV4cGVjdChoaXN0b3J5Lmxlbmd0aCkudG9CZSgzKTtcbiAgICAgIGV4cGVjdChoaXN0b3J5WzBdPy5jb250ZW50KS50b0JlKCdQcmV2aW91cyBzeXN0ZW0gcHJvbXB0Jyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdUb29sIEV4ZWN1dGlvbicsICgpID0+IHtcbiAgICB0ZXN0KCdzaG91bGQgZXhlY3V0ZSB0b29sIGNhbGxzIGZyb20gcHJvdmlkZXIgcmVzcG9uc2UnLCBhc3luYyAoKSA9PiB7XG4gICAgICBwcm92aWRlci5xdWV1ZVRvb2xDYWxsUmVzcG9uc2UoJ0kgd2lsbCBlY2hvIHlvdXIgbWVzc2FnZScsIFtcbiAgICAgICAge1xuICAgICAgICAgIGlkOiAnY2FsbF8xJyxcbiAgICAgICAgICBuYW1lOiAnZWNobycsXG4gICAgICAgICAgYXJndW1lbnRzOiB7IG1lc3NhZ2U6ICdIZWxsbywgV29ybGQhJyB9LFxuICAgICAgICB9LFxuICAgICAgXSk7XG4gICAgICBwcm92aWRlci5xdWV1ZVRleHRSZXNwb25zZSgnVGhlIGVjaG8gcmVzdWx0IHdhczogRWNobzogSGVsbG8sIFdvcmxkIScpO1xuXG4gICAgICBjb25zdCBhZ2VudCA9IG5ldyBBZ2VudFJ1bnRpbWUoe1xuICAgICAgICBwcm92aWRlcixcbiAgICAgICAgdG9vbFJ1bnRpbWUsXG4gICAgICAgIHN5c3RlbVByb21wdDogJ1lvdSBhcmUgYSBoZWxwZnVsIGFzc2lzdGFudC4nLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYWdlbnQuc2VuZCgnRWNobyBcIkhlbGxvLCBXb3JsZCFcIicpO1xuXG4gICAgICBleHBlY3QocmVzcG9uc2UpLnRvQ29udGFpbignVGhlIGVjaG8gcmVzdWx0IHdhczogRWNobzogSGVsbG8sIFdvcmxkIScpO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlKS50b0NvbnRhaW4oJ05leHQgc3RlcHM6Jyk7XG4gICAgICBleHBlY3QocHJvdmlkZXIuY2FsbEhpc3RvcnkubGVuZ3RoKS50b0JlKDIpOyAvLyBJbml0aWFsICsgYWZ0ZXIgdG9vbCByZXN1bHRcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBleGVjdXRlIG11bHRpcGxlIHRvb2wgY2FsbHMgaW4gc2VxdWVuY2UnLCBhc3luYyAoKSA9PiB7XG4gICAgICBwcm92aWRlci5xdWV1ZVRvb2xDYWxsUmVzcG9uc2UoJ0kgd2lsbCBhZGQgc29tZSBudW1iZXJzJywgW1xuICAgICAgICB7IGlkOiAnY2FsbF8xJywgbmFtZTogJ2FkZCcsIGFyZ3VtZW50czogeyBhOiA1LCBiOiAzIH0gfSxcbiAgICAgICAgeyBpZDogJ2NhbGxfMicsIG5hbWU6ICdhZGQnLCBhcmd1bWVudHM6IHsgYTogMTAsIGI6IDcgfSB9LFxuICAgICAgXSk7XG4gICAgICBwcm92aWRlci5xdWV1ZVRleHRSZXNwb25zZSgnVGhlIHJlc3VsdHMgYXJlIDggYW5kIDE3Jyk7XG5cbiAgICAgIGNvbnN0IGFnZW50ID0gbmV3IEFnZW50UnVudGltZSh7XG4gICAgICAgIHByb3ZpZGVyLFxuICAgICAgICB0b29sUnVudGltZSxcbiAgICAgICAgc3lzdGVtUHJvbXB0OiAnWW91IGFyZSBhIGhlbHBmdWwgYXNzaXN0YW50LicsXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhZ2VudC5zZW5kKCdBZGQgNSszIGFuZCAxMCs3Jyk7XG5cbiAgICAgIGV4cGVjdChyZXNwb25zZSkudG9Db250YWluKCdUaGUgcmVzdWx0cyBhcmUgOCBhbmQgMTcnKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZSkudG9Db250YWluKCdOZXh0IHN0ZXBzOicpO1xuXG4gICAgICAvLyBDaGVjayB0b29sIHJlc3VsdHMgYXJlIGluIGhpc3RvcnlcbiAgICAgIGNvbnN0IGhpc3RvcnkgPSBhZ2VudC5nZXRIaXN0b3J5KCk7XG4gICAgICBjb25zdCB0b29sTWVzc2FnZXMgPSBoaXN0b3J5LmZpbHRlcigobSkgPT4gbS5yb2xlID09PSAndG9vbCcpO1xuICAgICAgZXhwZWN0KHRvb2xNZXNzYWdlcy5sZW5ndGgpLnRvQmUoMik7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgdHJhY2sgdG9vbCBjYWxscyB2aWEgb2JzZXJ2ZXInLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB0b29sU3RhcnRzOiBzdHJpbmdbXSA9IFtdO1xuICAgICAgY29uc3QgdG9vbFJlc3VsdHM6IHN0cmluZ1tdID0gW107XG5cbiAgICAgIGNvbnN0IG9ic2VydmVyID0ge1xuICAgICAgICBvblRvb2xTdGFydDogKGNhbGw6IFRvb2xDYWxsUmVxdWVzdCkgPT4gdG9vbFN0YXJ0cy5wdXNoKGNhbGwubmFtZSksXG4gICAgICAgIG9uVG9vbFJlc3VsdDogKGNhbGw6IFRvb2xDYWxsUmVxdWVzdCwgb3V0cHV0OiBzdHJpbmcpID0+XG4gICAgICAgICAgdG9vbFJlc3VsdHMucHVzaChgJHtjYWxsLm5hbWV9OiAke291dHB1dH1gKSxcbiAgICAgIH07XG5cbiAgICAgIHRvb2xSdW50aW1lID0gbmV3IFRvb2xSdW50aW1lKFtdLCB7IG9ic2VydmVyIH0pO1xuICAgICAgdG9vbFJ1bnRpbWUucmVnaXN0ZXJTdWl0ZShjcmVhdGVNb2NrVG9vbFN1aXRlKCkpO1xuXG4gICAgICBwcm92aWRlci5xdWV1ZVRvb2xDYWxsUmVzcG9uc2UoJ0V4ZWN1dGluZyBlY2hvJywgW1xuICAgICAgICB7IGlkOiAnY2FsbF8xJywgbmFtZTogJ2VjaG8nLCBhcmd1bWVudHM6IHsgbWVzc2FnZTogJ3Rlc3QnIH0gfSxcbiAgICAgIF0pO1xuICAgICAgcHJvdmlkZXIucXVldWVUZXh0UmVzcG9uc2UoJ0RvbmUnKTtcblxuICAgICAgY29uc3QgYWdlbnQgPSBuZXcgQWdlbnRSdW50aW1lKHtcbiAgICAgICAgcHJvdmlkZXIsXG4gICAgICAgIHRvb2xSdW50aW1lLFxuICAgICAgICBzeXN0ZW1Qcm9tcHQ6ICdZb3UgYXJlIGEgaGVscGZ1bCBhc3Npc3RhbnQuJyxcbiAgICAgIH0pO1xuXG4gICAgICBhd2FpdCBhZ2VudC5zZW5kKCdFY2hvIHRlc3QnKTtcblxuICAgICAgZXhwZWN0KHRvb2xTdGFydHMpLnRvQ29udGFpbignZWNobycpO1xuICAgICAgZXhwZWN0KHRvb2xSZXN1bHRzLnNvbWUoKHIpID0+IHIuaW5jbHVkZXMoJ0VjaG86IHRlc3QnKSkpLnRvQmUodHJ1ZSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdDYWxsYmFja3MnLCAoKSA9PiB7XG4gICAgdGVzdCgnc2hvdWxkIGNhbGwgb25Bc3Npc3RhbnRNZXNzYWdlIGNhbGxiYWNrJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbWVzc2FnZXM6IHN0cmluZ1tdID0gW107XG4gICAgICBjb25zdCBjYWxsYmFja3M6IEFnZW50Q2FsbGJhY2tzID0ge1xuICAgICAgICBvbkFzc2lzdGFudE1lc3NhZ2U6IChjb250ZW50KSA9PiBtZXNzYWdlcy5wdXNoKGNvbnRlbnQpLFxuICAgICAgfTtcblxuICAgICAgcHJvdmlkZXIucXVldWVUZXh0UmVzcG9uc2UoJ0hlbGxvIHRoZXJlIScpO1xuXG4gICAgICBjb25zdCBhZ2VudCA9IG5ldyBBZ2VudFJ1bnRpbWUoe1xuICAgICAgICBwcm92aWRlcixcbiAgICAgICAgdG9vbFJ1bnRpbWUsXG4gICAgICAgIHN5c3RlbVByb21wdDogJ1lvdSBhcmUgYSBoZWxwZnVsIGFzc2lzdGFudC4nLFxuICAgICAgICBjYWxsYmFja3MsXG4gICAgICB9KTtcblxuICAgICAgYXdhaXQgYWdlbnQuc2VuZCgnSGknKTtcblxuICAgICAgZXhwZWN0KG1lc3NhZ2VzLnNvbWUoKG1zZykgPT4gbXNnLmluY2x1ZGVzKCdIZWxsbyB0aGVyZSEnKSkpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QobWVzc2FnZXMuc29tZSgobXNnKSA9PiBtc2cuaW5jbHVkZXMoJ05leHQgc3RlcHM6JykpKS50b0JlKHRydWUpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGNhbGwgb25Db250ZXh0UHJ1bmVkIHdoZW4gY29udGV4dCBpcyBwcnVuZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBsZXQgcHJ1bmVkQ291bnQgPSAwO1xuICAgICAgY29uc3QgY2FsbGJhY2tzOiBBZ2VudENhbGxiYWNrcyA9IHtcbiAgICAgICAgb25Db250ZXh0UHJ1bmVkOiAoY291bnQpID0+IHtcbiAgICAgICAgICBwcnVuZWRDb3VudCA9IGNvdW50O1xuICAgICAgICB9LFxuICAgICAgfTtcblxuICAgICAgLy8gQ3JlYXRlIGEgY29udGV4dCBtYW5hZ2VyIHRoYXQgd2lsbCB0cmlnZ2VyIHBydW5pbmdcbiAgICAgIGNvbnN0IHNtYWxsQ29udGV4dE1hbmFnZXIgPSBjcmVhdGVEZWZhdWx0Q29udGV4dE1hbmFnZXIoe1xuICAgICAgICBtYXhUb2tlbnM6IDUwMCxcbiAgICAgICAgdGFyZ2V0VG9rZW5zOiAyMDAsXG4gICAgICAgIHByZXNlcnZlUmVjZW50TWVzc2FnZXM6IDIsXG4gICAgICB9KTtcblxuICAgICAgcHJvdmlkZXIucXVldWVUZXh0UmVzcG9uc2UoJ1Jlc3BvbnNlIDEnKTtcbiAgICAgIHByb3ZpZGVyLnF1ZXVlVGV4dFJlc3BvbnNlKCdSZXNwb25zZSAyJyk7XG4gICAgICBwcm92aWRlci5xdWV1ZVRleHRSZXNwb25zZSgnUmVzcG9uc2UgMycpO1xuICAgICAgcHJvdmlkZXIucXVldWVUZXh0UmVzcG9uc2UoJ1Jlc3BvbnNlIDQnKTtcbiAgICAgIHByb3ZpZGVyLnF1ZXVlVGV4dFJlc3BvbnNlKCdSZXNwb25zZSA1Jyk7XG5cbiAgICAgIGNvbnN0IGFnZW50ID0gbmV3IEFnZW50UnVudGltZSh7XG4gICAgICAgIHByb3ZpZGVyLFxuICAgICAgICB0b29sUnVudGltZSxcbiAgICAgICAgc3lzdGVtUHJvbXB0OiAnWW91IGFyZSBhIGhlbHBmdWwgYXNzaXN0YW50LicsXG4gICAgICAgIGNhbGxiYWNrcyxcbiAgICAgICAgY29udGV4dE1hbmFnZXI6IHNtYWxsQ29udGV4dE1hbmFnZXIsXG4gICAgICB9KTtcblxuICAgICAgLy8gRmlsbCB1cCB0aGUgY29udGV4dFxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA1OyBpKyspIHtcbiAgICAgICAgYXdhaXQgYWdlbnQuc2VuZCgnQScucmVwZWF0KDEwMCkpO1xuICAgICAgfVxuXG4gICAgICAvLyBDb250ZXh0IHNob3VsZCBoYXZlIGJlZW4gcHJ1bmVkIGF0IHNvbWUgcG9pbnRcbiAgICAgIC8vIE5vdGU6IGV4YWN0IGJlaGF2aW9yIGRlcGVuZHMgb24gdG9rZW4gZXN0aW1hdGlvblxuICAgICAgZXhwZWN0KHBydW5lZENvdW50KS50b0JlR3JlYXRlclRoYW5PckVxdWFsKDApO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnQ2FuY2VsbGF0aW9uJywgKCkgPT4ge1xuICAgIHRlc3QoJ3Nob3VsZCBoYW5kbGUgY2FuY2VsbGF0aW9uIHJlcXVlc3QgZHVyaW5nIHByb2Nlc3NpbmcnLCBhc3luYyAoKSA9PiB7XG4gICAgICBsZXQgY2FuY2VsbGVkQ2FsbGVkID0gZmFsc2U7XG4gICAgICBjb25zdCBjYWxsYmFja3M6IEFnZW50Q2FsbGJhY2tzID0ge1xuICAgICAgICBvbkNhbmNlbGxlZDogKCkgPT4ge1xuICAgICAgICAgIGNhbmNlbGxlZENhbGxlZCA9IHRydWU7XG4gICAgICAgIH0sXG4gICAgICB9O1xuXG4gICAgICAvLyBRdWV1ZSBhIHNsb3cgb3BlcmF0aW9uXG4gICAgICBwcm92aWRlci5xdWV1ZVRvb2xDYWxsUmVzcG9uc2UoJ1J1bm5pbmcgc2xvdyBvcGVyYXRpb24nLCBbXG4gICAgICAgIHsgaWQ6ICdjYWxsXzEnLCBuYW1lOiAnc2xvd19vcGVyYXRpb24nLCBhcmd1bWVudHM6IHsgZHVyYXRpb246IDUwMCB9IH0sXG4gICAgICBdKTtcbiAgICAgIHByb3ZpZGVyLnF1ZXVlVGV4dFJlc3BvbnNlKCdEb25lJyk7XG5cbiAgICAgIGNvbnN0IGFnZW50ID0gbmV3IEFnZW50UnVudGltZSh7XG4gICAgICAgIHByb3ZpZGVyLFxuICAgICAgICB0b29sUnVudGltZSxcbiAgICAgICAgc3lzdGVtUHJvbXB0OiAnWW91IGFyZSBhIGhlbHBmdWwgYXNzaXN0YW50LicsXG4gICAgICAgIGNhbGxiYWNrcyxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBSZXF1ZXN0IGNhbmNlbGxhdGlvbiBiZWZvcmUgY29tcGxldGluZ1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGFnZW50LnJlcXVlc3RDYW5jZWxsYXRpb24oKTtcbiAgICAgIH0sIDUwKTtcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhZ2VudC5zZW5kKCdSdW4gc2xvdyBvcGVyYXRpb24nKTtcblxuICAgICAgLy8gRWl0aGVyIGNhbmNlbGxlZCBvciBjb21wbGV0ZWQgZGVwZW5kaW5nIG9uIHRpbWluZ1xuICAgICAgaWYgKGNhbmNlbGxlZENhbGxlZCkge1xuICAgICAgICBleHBlY3QocmVzcG9uc2UpLnRvQ29udGFpbignY2FuY2VsbGVkJyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgcmVzZXQgY2FuY2VsbGF0aW9uIGZsYWcgb24gbmV3IHJlcXVlc3QnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBhZ2VudCA9IG5ldyBBZ2VudFJ1bnRpbWUoe1xuICAgICAgICBwcm92aWRlcixcbiAgICAgICAgdG9vbFJ1bnRpbWUsXG4gICAgICAgIHN5c3RlbVByb21wdDogJ1lvdSBhcmUgYSBoZWxwZnVsIGFzc2lzdGFudC4nLFxuICAgICAgfSk7XG5cbiAgICAgIC8vIFJlcXVlc3QgY2FuY2VsbGF0aW9uXG4gICAgICBhZ2VudC5yZXF1ZXN0Q2FuY2VsbGF0aW9uKCk7XG4gICAgICBleHBlY3QoYWdlbnQuaXNDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoKSkudG9CZSh0cnVlKTtcblxuICAgICAgLy8gU3RhcnQgbmV3IHJlcXVlc3RcbiAgICAgIHByb3ZpZGVyLnF1ZXVlVGV4dFJlc3BvbnNlKCdSZXNwb25zZScpO1xuICAgICAgYXdhaXQgYWdlbnQuc2VuZCgnSGVsbG8nKTtcblxuICAgICAgLy8gQ2FuY2VsbGF0aW9uIHNob3VsZCBiZSByZXNldCBhZnRlciByZXF1ZXN0IGNvbXBsZXRlc1xuICAgICAgZXhwZWN0KGFnZW50LmlzQ2FuY2VsbGF0aW9uUmVxdWVzdGVkKCkpLnRvQmUoZmFsc2UpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnQ29udGV4dCBPdmVyZmxvdyBSZWNvdmVyeScsICgpID0+IHtcbiAgICB0ZXN0KCdzaG91bGQgYXR0ZW1wdCByZWNvdmVyeSBvbiBjb250ZXh0IG92ZXJmbG93IGVycm9yJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbGV0IHJlY292ZXJ5QXR0ZW1wdHMgPSAwO1xuICAgICAgY29uc3QgY2FsbGJhY2tzOiBBZ2VudENhbGxiYWNrcyA9IHtcbiAgICAgICAgb25Db250ZXh0UmVjb3Zlcnk6IChhdHRlbXB0KSA9PiB7XG4gICAgICAgICAgcmVjb3ZlcnlBdHRlbXB0cyA9IGF0dGVtcHQ7XG4gICAgICAgIH0sXG4gICAgICB9O1xuXG4gICAgICAvLyBGaXJzdCBjYWxsIHRocm93cyBvdmVyZmxvdywgdGhlbiBzdWNjZWVkc1xuICAgICAgcHJvdmlkZXIucXVldWVDb250ZXh0T3ZlcmZsb3dFcnJvcigpO1xuICAgICAgcHJvdmlkZXIucXVldWVUZXh0UmVzcG9uc2UoJ1Jlc3BvbnNlIGFmdGVyIHJlY292ZXJ5Jyk7XG5cbiAgICAgIGNvbnN0IGFnZW50ID0gbmV3IEFnZW50UnVudGltZSh7XG4gICAgICAgIHByb3ZpZGVyLFxuICAgICAgICB0b29sUnVudGltZSxcbiAgICAgICAgc3lzdGVtUHJvbXB0OiAnWW91IGFyZSBhIGhlbHBmdWwgYXNzaXN0YW50LicsXG4gICAgICAgIGNhbGxiYWNrcyxcbiAgICAgICAgY29udGV4dE1hbmFnZXIsXG4gICAgICB9KTtcblxuICAgICAgLy8gUHJlLWZpbGwgc29tZSBoaXN0b3J5XG4gICAgICBhZ2VudC5sb2FkSGlzdG9yeShbXG4gICAgICAgIHsgcm9sZTogJ3N5c3RlbScsIGNvbnRlbnQ6ICdTeXN0ZW0gcHJvbXB0JyB9LFxuICAgICAgICB7IHJvbGU6ICd1c2VyJywgY29udGVudDogJ09sZCBtZXNzYWdlIDEnIH0sXG4gICAgICAgIHsgcm9sZTogJ2Fzc2lzdGFudCcsIGNvbnRlbnQ6ICdPbGQgcmVzcG9uc2UgMScgfSxcbiAgICAgICAgeyByb2xlOiAndXNlcicsIGNvbnRlbnQ6ICdPbGQgbWVzc2FnZSAyJyB9LFxuICAgICAgICB7IHJvbGU6ICdhc3Npc3RhbnQnLCBjb250ZW50OiAnT2xkIHJlc3BvbnNlIDInIH0sXG4gICAgICBdKTtcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhZ2VudC5zZW5kKCdOZXcgbWVzc2FnZScpO1xuXG4gICAgICBleHBlY3QocmVjb3ZlcnlBdHRlbXB0cykudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlKS50b0NvbnRhaW4oJ1Jlc3BvbnNlIGFmdGVyIHJlY292ZXJ5Jyk7XG4gICAgICBleHBlY3QocmVzcG9uc2UpLnRvQ29udGFpbignTmV4dCBzdGVwczonKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1J1bm5pbmcgU3RhdGUnLCAoKSA9PiB7XG4gICAgdGVzdCgnc2hvdWxkIHRyYWNrIHJ1bm5pbmcgc3RhdGUgY29ycmVjdGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgYWdlbnQgPSBuZXcgQWdlbnRSdW50aW1lKHtcbiAgICAgICAgcHJvdmlkZXIsXG4gICAgICAgIHRvb2xSdW50aW1lLFxuICAgICAgICBzeXN0ZW1Qcm9tcHQ6ICdZb3UgYXJlIGEgaGVscGZ1bCBhc3Npc3RhbnQuJyxcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3QoYWdlbnQuaXNSdW5uaW5nKCkpLnRvQmUoZmFsc2UpO1xuXG4gICAgICBwcm92aWRlci5xdWV1ZVRvb2xDYWxsUmVzcG9uc2UoJ1Byb2Nlc3NpbmcnLCBbXG4gICAgICAgIHsgaWQ6ICdjYWxsXzEnLCBuYW1lOiAnc2xvd19vcGVyYXRpb24nLCBhcmd1bWVudHM6IHsgZHVyYXRpb246IDEwMCB9IH0sXG4gICAgICBdKTtcbiAgICAgIHByb3ZpZGVyLnF1ZXVlVGV4dFJlc3BvbnNlKCdEb25lJyk7XG5cbiAgICAgIGNvbnN0IHByb21pc2UgPSBhZ2VudC5zZW5kKCdSdW4gc29tZXRoaW5nJyk7XG5cbiAgICAgIC8vIFNob3VsZCBiZSBydW5uaW5nIGR1cmluZyBleGVjdXRpb25cbiAgICAgIC8vIE5vdGU6IFRoaXMgdGltaW5nIGlzIHRyaWNreSBpbiB0ZXN0c1xuICAgICAgYXdhaXQgcHJvbWlzZTtcblxuICAgICAgZXhwZWN0KGFnZW50LmlzUnVubmluZygpKS50b0JlKGZhbHNlKTtcbiAgICB9KTtcbiAgfSk7XG59KTtcblxuZGVzY3JpYmUoJ1Rvb2wgUnVudGltZSBJbnRlZ3JhdGlvbicsICgpID0+IHtcbiAgbGV0IHRvb2xSdW50aW1lOiBUb29sUnVudGltZTtcbiAgbGV0IGNvbnRleHRNYW5hZ2VyOiBDb250ZXh0TWFuYWdlcjtcblxuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBjb250ZXh0TWFuYWdlciA9IGNyZWF0ZURlZmF1bHRDb250ZXh0TWFuYWdlcih7XG4gICAgICBtYXhUb2tlbnM6IDEwMDAwLFxuICAgICAgbWF4VG9vbE91dHB1dExlbmd0aDogMTAwMCxcbiAgICB9KTtcbiAgICB0b29sUnVudGltZSA9IG5ldyBUb29sUnVudGltZShbXSwgeyBjb250ZXh0TWFuYWdlciB9KTtcbiAgICB0b29sUnVudGltZS5yZWdpc3RlclN1aXRlKGNyZWF0ZU1vY2tUb29sU3VpdGUoKSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdUb29sIFJlZ2lzdHJhdGlvbicsICgpID0+IHtcbiAgICB0ZXN0KCdzaG91bGQgcmVnaXN0ZXIgYW5kIGxpc3QgdG9vbHMnLCAoKSA9PiB7XG4gICAgICBjb25zdCB0b29scyA9IHRvb2xSdW50aW1lLmxpc3RQcm92aWRlclRvb2xzKCk7XG4gICAgICBjb25zdCB0b29sTmFtZXMgPSB0b29scy5tYXAoKHQpID0+IHQubmFtZSk7XG5cbiAgICAgIGV4cGVjdCh0b29sTmFtZXMpLnRvQ29udGFpbignZWNobycpO1xuICAgICAgZXhwZWN0KHRvb2xOYW1lcykudG9Db250YWluKCdhZGQnKTtcbiAgICAgIGV4cGVjdCh0b29sTmFtZXMpLnRvQ29udGFpbigncmVhZF9maWxlJyk7XG4gICAgICBleHBlY3QodG9vbE5hbWVzKS50b0NvbnRhaW4oJ3Nsb3dfb3BlcmF0aW9uJyk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgdW5yZWdpc3RlciBzdWl0ZScsICgpID0+IHtcbiAgICAgIHRvb2xSdW50aW1lLnVucmVnaXN0ZXJTdWl0ZSgndGVzdC5tb2NrLXRvb2xzJyk7XG4gICAgICBjb25zdCB0b29scyA9IHRvb2xSdW50aW1lLmxpc3RQcm92aWRlclRvb2xzKCk7XG5cbiAgICAgIGV4cGVjdCh0b29scy5maW5kKCh0KSA9PiB0Lm5hbWUgPT09ICdlY2hvJykpLnRvQmVVbmRlZmluZWQoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1Rvb2wgRXhlY3V0aW9uJywgKCkgPT4ge1xuICAgIHRlc3QoJ3Nob3VsZCBleGVjdXRlIHRvb2wgc3VjY2Vzc2Z1bGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdG9vbFJ1bnRpbWUuZXhlY3V0ZSh7XG4gICAgICAgIGlkOiAnY2FsbF8xJyxcbiAgICAgICAgbmFtZTogJ2VjaG8nLFxuICAgICAgICBhcmd1bWVudHM6IHsgbWVzc2FnZTogJ0hlbGxvIScgfSxcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlKCdFY2hvOiBIZWxsbyEnKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBoYW5kbGUgdW5rbm93biB0b29sIGdyYWNlZnVsbHknLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0b29sUnVudGltZS5leGVjdXRlKHtcbiAgICAgICAgaWQ6ICdjYWxsXzEnLFxuICAgICAgICBuYW1lOiAndW5rbm93bl90b29sJyxcbiAgICAgICAgYXJndW1lbnRzOiB7fSxcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3QocmVzdWx0KS50b0NvbnRhaW4oJ25vdCBhdmFpbGFibGUnKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBoYW5kbGUgdG9vbCBleGVjdXRpb24gZXJyb3JzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgZXJyb3JTdWl0ZTogVG9vbFN1aXRlID0ge1xuICAgICAgICBpZDogJ3Rlc3QuZXJyb3ItdG9vbHMnLFxuICAgICAgICB0b29sczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIG5hbWU6ICdlcnJvcl90b29sJyxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnQWx3YXlzIHRocm93cyBhbiBlcnJvcicsXG4gICAgICAgICAgICBoYW5kbGVyOiAoKSA9PiB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW50ZW50aW9uYWwgZXJyb3InKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICAgIH07XG5cbiAgICAgIHRvb2xSdW50aW1lLnJlZ2lzdGVyU3VpdGUoZXJyb3JTdWl0ZSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRvb2xSdW50aW1lLmV4ZWN1dGUoe1xuICAgICAgICBpZDogJ2NhbGxfMScsXG4gICAgICAgIG5hbWU6ICdlcnJvcl90b29sJyxcbiAgICAgICAgYXJndW1lbnRzOiB7fSxcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3QocmVzdWx0KS50b0NvbnRhaW4oJ0ZhaWxlZCcpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9Db250YWluKCdJbnRlbnRpb25hbCBlcnJvcicpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnVG9vbCBDYWNoaW5nJywgKCkgPT4ge1xuICAgIHRlc3QoJ3Nob3VsZCBjYWNoZSBjYWNoZWFibGUgdG9vbCByZXN1bHRzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgY2FjaGVIaXRzOiBzdHJpbmdbXSA9IFtdO1xuICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSB7XG4gICAgICAgIG9uQ2FjaGVIaXQ6IChjYWxsOiBUb29sQ2FsbFJlcXVlc3QpID0+IGNhY2hlSGl0cy5wdXNoKGNhbGwubmFtZSksXG4gICAgICB9O1xuXG4gICAgICB0b29sUnVudGltZSA9IG5ldyBUb29sUnVudGltZShbXSwgeyBjb250ZXh0TWFuYWdlciwgb2JzZXJ2ZXIsIGVuYWJsZUNhY2hlOiB0cnVlIH0pO1xuICAgICAgdG9vbFJ1bnRpbWUucmVnaXN0ZXJTdWl0ZShjcmVhdGVNb2NrVG9vbFN1aXRlKCkpO1xuXG4gICAgICAvLyBGaXJzdCBjYWxsXG4gICAgICBhd2FpdCB0b29sUnVudGltZS5leGVjdXRlKHtcbiAgICAgICAgaWQ6ICdjYWxsXzEnLFxuICAgICAgICBuYW1lOiAncmVhZF9maWxlJyxcbiAgICAgICAgYXJndW1lbnRzOiB7IHBhdGg6ICcvdGVzdC9maWxlLnR4dCcgfSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBTZWNvbmQgY2FsbCB3aXRoIHNhbWUgYXJncyBzaG91bGQgaGl0IGNhY2hlXG4gICAgICBhd2FpdCB0b29sUnVudGltZS5leGVjdXRlKHtcbiAgICAgICAgaWQ6ICdjYWxsXzInLFxuICAgICAgICBuYW1lOiAncmVhZF9maWxlJyxcbiAgICAgICAgYXJndW1lbnRzOiB7IHBhdGg6ICcvdGVzdC9maWxlLnR4dCcgfSxcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3QoY2FjaGVIaXRzKS50b0NvbnRhaW4oJ3JlYWRfZmlsZScpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIG5vdCBjYWNoZSBub24tY2FjaGVhYmxlIHRvb2xzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgY2FjaGVIaXRzOiBzdHJpbmdbXSA9IFtdO1xuICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSB7XG4gICAgICAgIG9uQ2FjaGVIaXQ6IChjYWxsOiBUb29sQ2FsbFJlcXVlc3QpID0+IGNhY2hlSGl0cy5wdXNoKGNhbGwubmFtZSksXG4gICAgICB9O1xuXG4gICAgICB0b29sUnVudGltZSA9IG5ldyBUb29sUnVudGltZShbXSwgeyBjb250ZXh0TWFuYWdlciwgb2JzZXJ2ZXIsIGVuYWJsZUNhY2hlOiB0cnVlIH0pO1xuICAgICAgdG9vbFJ1bnRpbWUucmVnaXN0ZXJTdWl0ZShjcmVhdGVNb2NrVG9vbFN1aXRlKCkpO1xuXG4gICAgICAvLyBGaXJzdCBjYWxsXG4gICAgICBhd2FpdCB0b29sUnVudGltZS5leGVjdXRlKHtcbiAgICAgICAgaWQ6ICdjYWxsXzEnLFxuICAgICAgICBuYW1lOiAnZWNobycsXG4gICAgICAgIGFyZ3VtZW50czogeyBtZXNzYWdlOiAndGVzdCcgfSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBTZWNvbmQgY2FsbCBzaG91bGQgbm90IGhpdCBjYWNoZVxuICAgICAgYXdhaXQgdG9vbFJ1bnRpbWUuZXhlY3V0ZSh7XG4gICAgICAgIGlkOiAnY2FsbF8yJyxcbiAgICAgICAgbmFtZTogJ2VjaG8nLFxuICAgICAgICBhcmd1bWVudHM6IHsgbWVzc2FnZTogJ3Rlc3QnIH0sXG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KGNhY2hlSGl0cykubm90LnRvQ29udGFpbignZWNobycpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGNsZWFyIGNhY2hlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgdG9vbFJ1bnRpbWUgPSBuZXcgVG9vbFJ1bnRpbWUoW10sIHsgY29udGV4dE1hbmFnZXIsIGVuYWJsZUNhY2hlOiB0cnVlIH0pO1xuICAgICAgdG9vbFJ1bnRpbWUucmVnaXN0ZXJTdWl0ZShjcmVhdGVNb2NrVG9vbFN1aXRlKCkpO1xuXG4gICAgICBhd2FpdCB0b29sUnVudGltZS5leGVjdXRlKHtcbiAgICAgICAgaWQ6ICdjYWxsXzEnLFxuICAgICAgICBuYW1lOiAncmVhZF9maWxlJyxcbiAgICAgICAgYXJndW1lbnRzOiB7IHBhdGg6ICcvdGVzdC9maWxlLnR4dCcgfSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBzdGF0c0JlZm9yZUNsZWFyID0gdG9vbFJ1bnRpbWUuZ2V0Q2FjaGVTdGF0cygpO1xuICAgICAgZXhwZWN0KHN0YXRzQmVmb3JlQ2xlYXIuZW50cmllcykudG9CZUdyZWF0ZXJUaGFuKDApO1xuXG4gICAgICB0b29sUnVudGltZS5jbGVhckNhY2hlKCk7XG5cbiAgICAgIGNvbnN0IHN0YXRzQWZ0ZXJDbGVhciA9IHRvb2xSdW50aW1lLmdldENhY2hlU3RhdHMoKTtcbiAgICAgIGV4cGVjdChzdGF0c0FmdGVyQ2xlYXIuZW50cmllcykudG9CZSgwKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Jlc3BlY3RzIHBlci10b29sIGNhY2hlIFRUTCBvdmVycmlkZXMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBjYWNoZUhpdHM6IHN0cmluZ1tdID0gW107XG4gICAgICBjb25zdCBvYnNlcnZlciA9IHtcbiAgICAgICAgb25DYWNoZUhpdDogKGNhbGw6IFRvb2xDYWxsUmVxdWVzdCkgPT4gY2FjaGVIaXRzLnB1c2goY2FsbC5uYW1lKSxcbiAgICAgIH07XG5cbiAgICAgIHRvb2xSdW50aW1lID0gbmV3IFRvb2xSdW50aW1lKFtdLCB7IGNvbnRleHRNYW5hZ2VyLCBvYnNlcnZlciwgZW5hYmxlQ2FjaGU6IHRydWUgfSk7XG4gICAgICB0b29sUnVudGltZS5yZWdpc3RlclN1aXRlKHtcbiAgICAgICAgaWQ6ICd0dGwub3ZlcnJpZGUnLFxuICAgICAgICB0b29sczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIG5hbWU6ICdidXJzdCcsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogJ1JldHVybnMgYSB0aW1lc3RhbXAgc3RyaW5nJyxcbiAgICAgICAgICAgIGhhbmRsZXI6ICgpID0+IGB0czoke0RhdGUubm93KCl9YCxcbiAgICAgICAgICAgIGNhY2hlYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNhY2hlVHRsTXM6IDUsXG4gICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICAgIH0pO1xuXG4gICAgICBhd2FpdCB0b29sUnVudGltZS5leGVjdXRlKHtcbiAgICAgICAgaWQ6ICdjYWxsXzEnLFxuICAgICAgICBuYW1lOiAnYnVyc3QnLFxuICAgICAgICBhcmd1bWVudHM6IHt9LFxuICAgICAgfSk7XG4gICAgICBhd2FpdCB0b29sUnVudGltZS5leGVjdXRlKHtcbiAgICAgICAgaWQ6ICdjYWxsXzInLFxuICAgICAgICBuYW1lOiAnYnVyc3QnLFxuICAgICAgICBhcmd1bWVudHM6IHt9LFxuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChjYWNoZUhpdHMpLnRvRXF1YWwoWydidXJzdCddKTtcblxuICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMTUpKTtcblxuICAgICAgYXdhaXQgdG9vbFJ1bnRpbWUuZXhlY3V0ZSh7XG4gICAgICAgIGlkOiAnY2FsbF8zJyxcbiAgICAgICAgbmFtZTogJ2J1cnN0JyxcbiAgICAgICAgYXJndW1lbnRzOiB7fSxcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3QoY2FjaGVIaXRzKS50b0VxdWFsKFsnYnVyc3QnXSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdUb29sIEhpc3RvcnknLCAoKSA9PiB7XG4gICAgdGVzdCgnc2hvdWxkIHRyYWNrIHRvb2wgaGlzdG9yeScsIGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IHRvb2xSdW50aW1lLmV4ZWN1dGUoe1xuICAgICAgICBpZDogJ2NhbGxfMScsXG4gICAgICAgIG5hbWU6ICdlY2hvJyxcbiAgICAgICAgYXJndW1lbnRzOiB7IG1lc3NhZ2U6ICdmaXJzdCcgfSxcbiAgICAgIH0pO1xuXG4gICAgICBhd2FpdCB0b29sUnVudGltZS5leGVjdXRlKHtcbiAgICAgICAgaWQ6ICdjYWxsXzInLFxuICAgICAgICBuYW1lOiAnYWRkJyxcbiAgICAgICAgYXJndW1lbnRzOiB7IGE6IDEsIGI6IDIgfSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBoaXN0b3J5ID0gdG9vbFJ1bnRpbWUuZ2V0VG9vbEhpc3RvcnkoKTtcbiAgICAgIGV4cGVjdChoaXN0b3J5Lmxlbmd0aCkudG9CZSgyKTtcbiAgICAgIGV4cGVjdChoaXN0b3J5WzBdPy50b29sTmFtZSkudG9CZSgnZWNobycpO1xuICAgICAgZXhwZWN0KGhpc3RvcnlbMV0/LnRvb2xOYW1lKS50b0JlKCdhZGQnKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBjbGVhciB0b29sIGhpc3RvcnknLCBhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCB0b29sUnVudGltZS5leGVjdXRlKHtcbiAgICAgICAgaWQ6ICdjYWxsXzEnLFxuICAgICAgICBuYW1lOiAnZWNobycsXG4gICAgICAgIGFyZ3VtZW50czogeyBtZXNzYWdlOiAndGVzdCcgfSxcbiAgICAgIH0pO1xuXG4gICAgICB0b29sUnVudGltZS5jbGVhclRvb2xIaXN0b3J5KCk7XG5cbiAgICAgIGNvbnN0IGhpc3RvcnkgPSB0b29sUnVudGltZS5nZXRUb29sSGlzdG9yeSgpO1xuICAgICAgZXhwZWN0KGhpc3RvcnkubGVuZ3RoKS50b0JlKDApO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnRGlmZiBTbmFwc2hvdHMnLCAoKSA9PiB7XG4gICAgdGVzdCgnc2hvdWxkIGNhcHR1cmUgZ2l0IGRpZmYgb3V0cHV0cyBmcm9tIHRvb2wgY29tbWFuZHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICB0b29sUnVudGltZS5yZWdpc3RlclN1aXRlKGNyZWF0ZU1vY2tEaWZmU3VpdGUoKSk7XG5cbiAgICAgIGF3YWl0IHRvb2xSdW50aW1lLmV4ZWN1dGUoe1xuICAgICAgICBpZDogJ2NhbGxfZ2l0X2RpZmYnLFxuICAgICAgICBuYW1lOiAnZ2l0X2RpZmZfbW9jaycsXG4gICAgICAgIGFyZ3VtZW50czogeyBjb21tYW5kOiAnZ2l0IGRpZmYgLS1zdGF0JyB9LFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHNuYXBzaG90cyA9IHRvb2xSdW50aW1lLmdldERpZmZTbmFwc2hvdHMoKTtcbiAgICAgIGV4cGVjdChzbmFwc2hvdHMubGVuZ3RoKS50b0JlKDEpO1xuICAgICAgZXhwZWN0KHNuYXBzaG90c1swXT8uY29tbWFuZCkudG9CZSgnZ2l0IGRpZmYgLS1zdGF0Jyk7XG4gICAgICBleHBlY3Qoc25hcHNob3RzWzBdPy5vdXRwdXQpLnRvQ29udGFpbignbW9jayBkaWZmIGZvciBnaXQgZGlmZiAtLXN0YXQnKTtcbiAgICAgIGV4cGVjdCh0eXBlb2Ygc25hcHNob3RzWzBdPy50aW1lc3RhbXApLnRvQmUoJ251bWJlcicpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGJvdW5kIGRpZmYgc25hcHNob3RzIGFuZCBzdXBwb3J0IGNsZWFyaW5nJywgYXN5bmMgKCkgPT4ge1xuICAgICAgdG9vbFJ1bnRpbWUucmVnaXN0ZXJTdWl0ZShjcmVhdGVNb2NrRGlmZlN1aXRlKCkpO1xuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDY7IGkrKykge1xuICAgICAgICBhd2FpdCB0b29sUnVudGltZS5leGVjdXRlKHtcbiAgICAgICAgICBpZDogYGNhbGxfJHtpfWAsXG4gICAgICAgICAgbmFtZTogJ2dpdF9kaWZmX21vY2snLFxuICAgICAgICAgIGFyZ3VtZW50czogeyBjb21tYW5kOiBgZ2l0IGRpZmYgLS1zdGF0ICR7aX1gIH0sXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBzbmFwc2hvdHMgPSB0b29sUnVudGltZS5nZXREaWZmU25hcHNob3RzKCk7XG4gICAgICBleHBlY3Qoc25hcHNob3RzLmxlbmd0aCkudG9CZSg1KTtcbiAgICAgIGV4cGVjdChzbmFwc2hvdHNbMF0/LmNvbW1hbmQpLnRvQmUoJ2dpdCBkaWZmIC0tc3RhdCAxJyk7XG4gICAgICBleHBlY3Qoc25hcHNob3RzW3NuYXBzaG90cy5sZW5ndGggLSAxXT8uY29tbWFuZCkudG9CZSgnZ2l0IGRpZmYgLS1zdGF0IDUnKTtcblxuICAgICAgdG9vbFJ1bnRpbWUuY2xlYXJEaWZmU25hcHNob3RzKCk7XG4gICAgICBleHBlY3QodG9vbFJ1bnRpbWUuZ2V0RGlmZlNuYXBzaG90cygpLmxlbmd0aCkudG9CZSgwKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1Rvb2wgT3V0cHV0IFRydW5jYXRpb24nLCAoKSA9PiB7XG4gICAgdGVzdCgnc2hvdWxkIHRydW5jYXRlIGxhcmdlIHRvb2wgb3V0cHV0cycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGxhcmdlU3VpdGU6IFRvb2xTdWl0ZSA9IHtcbiAgICAgICAgaWQ6ICd0ZXN0LmxhcmdlLW91dHB1dCcsXG4gICAgICAgIHRvb2xzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgbmFtZTogJ2xhcmdlX291dHB1dCcsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogJ1JldHVybnMgbGFyZ2Ugb3V0cHV0JyxcbiAgICAgICAgICAgIGhhbmRsZXI6ICgpID0+ICdYJy5yZXBlYXQoNTAwMCksIC8vIEV4Y2VlZHMgbWF4VG9vbE91dHB1dExlbmd0aFxuICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgICB9O1xuXG4gICAgICB0b29sUnVudGltZS5yZWdpc3RlclN1aXRlKGxhcmdlU3VpdGUpO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0b29sUnVudGltZS5leGVjdXRlKHtcbiAgICAgICAgaWQ6ICdjYWxsXzEnLFxuICAgICAgICBuYW1lOiAnbGFyZ2Vfb3V0cHV0JyxcbiAgICAgICAgYXJndW1lbnRzOiB7fSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBPdXRwdXQgc2hvdWxkIGJlIHRydW5jYXRlZFxuICAgICAgZXhwZWN0KHJlc3VsdC5sZW5ndGgpLnRvQmVMZXNzVGhhbig1MDAwKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQ29udGFpbigndHJ1bmNhdGVkJyk7XG4gICAgfSk7XG4gIH0pO1xufSk7XG4iXSwibWFwcGluZ3MiOiI7O0FBVUEsSUFBQUEsUUFBQSxHQUFBQyxPQUFBO0FBQ0EsSUFBQUMsTUFBQSxHQUFBRCxPQUFBO0FBQ0EsSUFBQUUsWUFBQSxHQUFBRixPQUFBO0FBQ0EsSUFBQUcsZUFBQSxHQUFBSCxPQUFBO0FBYkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQVFBO0FBQ0EsTUFBTUksZUFBZSxDQUF3QjtFQUNuQ0MsU0FBUyxHQUlaLEVBQUU7RUFDQ0MsYUFBYSxHQUFHLENBQUM7RUFDbEJDLFdBQVcsR0FBNEIsRUFBRTtFQUVoREMsaUJBQWlCQSxDQUFDQyxPQUFlLEVBQVE7SUFDdkMsSUFBSSxDQUFDSixTQUFTLENBQUNLLElBQUksQ0FBQztNQUFFQyxJQUFJLEVBQUUsTUFBTTtNQUFFRjtJQUFRLENBQUMsQ0FB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