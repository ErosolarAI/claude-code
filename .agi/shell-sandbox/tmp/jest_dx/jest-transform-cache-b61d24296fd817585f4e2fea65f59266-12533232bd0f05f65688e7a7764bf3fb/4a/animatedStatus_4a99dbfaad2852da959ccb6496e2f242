452937b4d868660209cb3e7bf7cf7419
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.WaveIndicator = exports.TypingIndicator = exports.ThinkingIndicator = exports.StreamingStatus = exports.PulsingText = exports.ContextMeter = exports.AnimatedSpinner = exports.AnimatedProgressBar = exports.AnimatedElapsedTime = void 0;
exports.disposeAnimations = disposeAnimations;
exports.resetAnimationScheduler = resetAnimationScheduler;
var _theme = require("./theme.js");
var _AnimationScheduler = require("./animation/AnimationScheduler.js");
var _uiConstants = require("./uiConstants.js");
/**
 * AnimatedStatus - Provides smooth, dynamic status indicators with animations
 * Integrates with the AnimationScheduler for real-time UI updates
 */

// Singleton scheduler for global animation coordination
let globalScheduler = null;
let schedulerDisposed = false; // Prevent recreation after disposal

function getScheduler() {
  if (schedulerDisposed) {
    // Return a no-op scheduler if disposed to prevent recreation
    // This handles edge cases where animations try to register after cleanup
    if (!globalScheduler) {
      globalScheduler = new _AnimationScheduler.AnimationScheduler(30);
      globalScheduler.dispose(); // Immediately dispose - it's a stub
    }
    return globalScheduler;
  }
  if (!globalScheduler) {
    globalScheduler = new _AnimationScheduler.AnimationScheduler(30); // 30 FPS for smooth animations
  }
  return globalScheduler;
}

/**
 * Animated spinner that cycles through frames
 */
class AnimatedSpinner {
  frameIndex = 0;
  intervalId = null;
  currentFrame = '';
  constructor(message = '', style = 'dots', color = _theme.theme.info) {
    this.frames = _theme.spinnerFrames[style];
    this.message = message;
    this.color = color;
    this.currentFrame = this.frames[0] ?? '⠋';
  }
  start(onUpdate) {
    this.onUpdate = onUpdate;
    this.frameIndex = 0;
    this.intervalId = setInterval(() => {
      this.frameIndex = (this.frameIndex + 1) % this.frames.length;
      this.currentFrame = this.frames[this.frameIndex] ?? '⠋';
      if (this.onUpdate) {
        this.onUpdate(this.render());
      }
    }, 80); // ~12 FPS for spinners
  }
  stop() {
    if (this.intervalId) {
      clearInterval(this.intervalId);
      this.intervalId = null;
    }
  }
  setMessage(message) {
    this.message = message;
  }
  render() {
    const spinnerChar = this.color(this.currentFrame);
    return this.message ? `${spinnerChar} ${this.message}` : spinnerChar;
  }
  isRunning() {
    return this.intervalId !== null;
  }
}

/**
 * Animated progress bar with smooth transitions
 */
exports.AnimatedSpinner = AnimatedSpinner;
class AnimatedProgressBar {
  current = 0;
  target = 0;
  animationId = null;
  // Store the bound listener so we can remove it to prevent memory leaks
  transitionHandler = null;
  constructor(total, width = 20) {
    this.total = total;
    this.width = width;
  }
  update(value) {
    this.target = Math.min(value, this.total);

    // Smooth transition to target
    const scheduler = getScheduler();

    // Remove old listener before creating new animation to prevent accumulation
    if (this.transitionHandler) {
      scheduler.removeListener('transition:update', this.transitionHandler);
      this.transitionHandler = null;
    }
    if (this.animationId) {
      scheduler.unregister(this.animationId);
    }
    this.animationId = `progress-${Date.now()}`;
    scheduler.createTransition(this.animationId, this.current, this.target, 'progress', 300, _AnimationScheduler.AnimationScheduler.Easing.easeOutQuad);

    // Create and store the listener for proper cleanup
    this.transitionHandler = data => {
      if (data.id === this.animationId && typeof data.value === 'number') {
        this.current = data.value;
      }
    };
    scheduler.on('transition:update', this.transitionHandler);
  }
  render() {
    const percentage = this.total > 0 ? this.current / this.total : 0;
    const filled = Math.floor(percentage * this.width);
    const partial = percentage * this.width % 1;
    const empty = this.width - filled - (partial > 0 ? 1 : 0);
    let bar = _theme.theme.progress.bar(_theme.progressChars.filled.repeat(filled));
    if (partial > 0 && filled < this.width) {
      const partialIndex = Math.floor(partial * _theme.progressChars.partial.length);
      const partialChar = _theme.progressChars.partial[partialIndex] ?? _theme.progressChars.partial[0];
      bar += _theme.theme.progress.bar(partialChar);
    }
    bar += _theme.theme.progress.empty(_theme.progressChars.empty.repeat(Math.max(0, empty)));
    const percentText = _theme.theme.progress.percentage(`${Math.round(percentage * 100)}%`);
    return `${bar} ${percentText}`;
  }
  dispose() {
    // Remove the transition listener to prevent memory leaks
    if (this.transitionHandler) {
      getScheduler().removeListener('transition:update', this.transitionHandler);
      this.transitionHandler = null;
    }
    if (this.animationId) {
      getScheduler().unregister(this.animationId);
      this.animationId = null;
    }
  }
}

/**
 * Animated elapsed time display
 */
exports.AnimatedProgressBar = AnimatedProgressBar;
class AnimatedElapsedTime {
  intervalId = null;
  currentDisplay = '0s';
  constructor() {
    this.startTime = Date.now();
  }
  start(onUpdate) {
    this.startTime = Date.now();
    this.onUpdate = onUpdate;
    this.intervalId = setInterval(() => {
      this.currentDisplay = this.format();
      if (this.onUpdate) {
        this.onUpdate(this.currentDisplay);
      }
    }, 1000); // Update every second
  }
  stop() {
    if (this.intervalId) {
      clearInterval(this.intervalId);
      this.intervalId = null;
    }
    return this.format();
  }
  format() {
    const elapsed = Date.now() - this.startTime;
    const seconds = Math.floor(elapsed / 1000);
    const minutes = Math.floor(seconds / 60);
    const hours = Math.floor(minutes / 60);
    if (hours > 0) {
      return `${hours}h ${minutes % 60}m ${seconds % 60}s`;
    } else if (minutes > 0) {
      return `${minutes}:${(seconds % 60).toString().padStart(2, '0')}`;
    } else {
      return `${seconds}s`;
    }
  }
  render() {
    return _theme.theme.ui.muted(this.currentDisplay);
  }
}

/**
 * Pulsing text effect for emphasis
 */
exports.AnimatedElapsedTime = AnimatedElapsedTime;
class PulsingText {
  intensity = 0;
  increasing = true;
  intervalId = null;
  constructor(text) {
    this.text = text;
  }
  start(onUpdate) {
    this.onUpdate = onUpdate;
    this.intervalId = setInterval(() => {
      if (this.increasing) {
        this.intensity += 0.1;
        if (this.intensity >= 1) {
          this.intensity = 1;
          this.increasing = false;
        }
      } else {
        this.intensity -= 0.1;
        if (this.intensity <= 0.3) {
          this.intensity = 0.3;
          this.increasing = true;
        }
      }
      if (this.onUpdate) {
        this.onUpdate(this.render());
      }
    }, 50); // 20 FPS for pulse
  }
  stop() {
    if (this.intervalId) {
      clearInterval(this.intervalId);
      this.intervalId = null;
    }
  }
  setText(text) {
    this.text = text;
  }
  render() {
    // Use intensity to vary between dim and bright
    if (this.intensity > 0.7) {
      return _theme.theme.ui.highlight(this.text);
    } else if (this.intensity > 0.4) {
      return _theme.theme.info(this.text);
    } else {
      return _theme.theme.ui.muted(this.text);
    }
  }
}

/**
 * Thinking indicator with animated dots
 */
exports.PulsingText = PulsingText;
class ThinkingIndicator {
  dotCount = 0;
  intervalId = null;
  constructor(label = 'Thinking') {
    this.label = label;
  }
  start(onUpdate) {
    this.onUpdate = onUpdate;
    this.dotCount = 0;
    this.intervalId = setInterval(() => {
      this.dotCount = (this.dotCount + 1) % 4;
      if (this.onUpdate) {
        this.onUpdate(this.render());
      }
    }, 400); // Slower animation for thinking
  }
  stop() {
    if (this.intervalId) {
      clearInterval(this.intervalId);
      this.intervalId = null;
    }
  }
  setLabel(label) {
    this.label = label;
  }
  render() {
    const dots = '.'.repeat(this.dotCount);
    const padding = ' '.repeat(3 - this.dotCount);
    return `${_theme.theme.thinking.icon('◐')} ${_theme.theme.thinking.label(this.label)}${_theme.theme.thinking.text(dots)}${padding}`;
  }
}

/**
 * Streaming status with spinner and message
 */
exports.ThinkingIndicator = ThinkingIndicator;
class StreamingStatus {
  isActive = false;
  constructor() {
    this.spinner = new AnimatedSpinner('', 'braille', _theme.theme.info);
    this.elapsed = new AnimatedElapsedTime();
  }
  start(message, onUpdate) {
    this.isActive = true;
    this.spinner.setMessage(message);
    const update = () => {
      if (this.isActive && onUpdate) {
        const spinnerPart = this.spinner.render();
        const elapsedPart = this.elapsed.render();
        onUpdate(`${spinnerPart} ${_theme.theme.ui.muted('·')} ${elapsedPart}`);
      }
    };
    this.spinner.start(update);
    this.elapsed.start(update);
  }
  updateMessage(message) {
    this.spinner.setMessage(message);
  }
  stop() {
    this.isActive = false;
    this.spinner.stop();
    const finalTime = this.elapsed.stop();
    return `${_theme.theme.success('✓')} ${_theme.theme.ui.muted('Completed')} ${_theme.theme.ui.muted('·')} ${_theme.theme.ui.muted(finalTime)}`;
  }
}

/**
 * Context usage meter with color transitions
 */
exports.StreamingStatus = StreamingStatus;
class ContextMeter {
  percentage = 0;
  targetPercentage = 0;
  animationFrame = null;
  update(percentage) {
    this.targetPercentage = Math.min(100, Math.max(0, percentage));
    this.animate();
  }
  animate() {
    if (this.animationFrame) {
      clearTimeout(this.animationFrame);
    }
    const step = () => {
      const diff = this.targetPercentage - this.percentage;
      if (Math.abs(diff) < 0.5) {
        this.percentage = this.targetPercentage;
        return;
      }

      // Smooth easing
      this.percentage += diff * 0.15;
      this.animationFrame = setTimeout(step, 16); // ~60 FPS
    };
    step();
  }
  render() {
    const pct = Math.round((0, _uiConstants.clampPercentage)(this.percentage));
    const color = (0, _uiConstants.getContextColor)(pct, {
      error: _theme.theme.error,
      warning: _theme.theme.warning,
      info: _theme.theme.info,
      success: _theme.theme.success
    });
    return `${_theme.theme.ui.muted('ctx')} ${color(`${pct}%`)}`;
  }
  dispose() {
    if (this.animationFrame) {
      clearTimeout(this.animationFrame);
    }
  }
}

/**
 * Animated typing indicator (for showing AI is responding)
 */
exports.ContextMeter = ContextMeter;
class TypingIndicator {
  frames = ['▌', '▐', '▌', ' '];
  frameIndex = 0;
  intervalId = null;
  start(onUpdate) {
    this.onUpdate = onUpdate;
    this.intervalId = setInterval(() => {
      this.frameIndex = (this.frameIndex + 1) % this.frames.length;
      if (this.onUpdate) {
        this.onUpdate(this.render());
      }
    }, 530); // Blink at cursor rate
  }
  stop() {
    if (this.intervalId) {
      clearInterval(this.intervalId);
      this.intervalId = null;
    }
  }
  render() {
    return _theme.theme.info(this.frames[this.frameIndex] ?? '▌');
  }
}

/**
 * Wave animation for processing states
 */
exports.TypingIndicator = TypingIndicator;
class WaveIndicator {
  frames = ['∙∙∙∙∙', '●∙∙∙∙', '∙●∙∙∙', '∙∙●∙∙', '∙∙∙●∙', '∙∙∙∙●', '∙∙∙∙∙'];
  frameIndex = 0;
  intervalId = null;
  start(onUpdate) {
    this.onUpdate = onUpdate;
    this.intervalId = setInterval(() => {
      this.frameIndex = (this.frameIndex + 1) % this.frames.length;
      if (this.onUpdate) {
        this.onUpdate(this.render());
      }
    }, 120);
  }
  stop() {
    if (this.intervalId) {
      clearInterval(this.intervalId);
      this.intervalId = null;
    }
  }
  render() {
    return _theme.theme.info(this.frames[this.frameIndex] ?? '∙∙∙∙∙');
  }
}

// Export singleton cleanup
exports.WaveIndicator = WaveIndicator;
function disposeAnimations() {
  schedulerDisposed = true; // Prevent recreation
  if (globalScheduler) {
    globalScheduler.dispose();
    globalScheduler = null;
  }
}

// Reset function for testing or re-initialization scenarios
function resetAnimationScheduler() {
  if (globalScheduler) {
    globalScheduler.dispose();
    globalScheduler = null;
  }
  schedulerDisposed = false;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdGhlbWUiLCJyZXF1aXJlIiwiX0FuaW1hdGlvblNjaGVkdWxlciIsIl91aUNvbnN0YW50cyIsImdsb2JhbFNjaGVkdWxlciIsInNjaGVkdWxlckRpc3Bvc2VkIiwiZ2V0U2NoZWR1bGVyIiwiQW5pbWF0aW9uU2NoZWR1bGVyIiwiZGlzcG9zZSIsIkFuaW1hdGVkU3Bpbm5lciIsImZyYW1lSW5kZXgiLCJpbnRlcnZhbElkIiwiY3VycmVudEZyYW1lIiwiY29uc3RydWN0b3IiLCJtZXNzYWdlIiwic3R5bGUiLCJjb2xvciIsInRoZW1lIiwiaW5mbyIsImZyYW1lcyIsInNwaW5uZXJGcmFtZXMiLCJzdGFydCIsIm9uVXBkYXRlIiwic2V0SW50ZXJ2YWwiLCJsZW5ndGgiLCJyZW5kZXIiLCJzdG9wIiwiY2xlYXJJbnRlcnZhbCIsInNldE1lc3NhZ2UiLCJzcGlubmVyQ2hhciIsImlzUnVubmluZyIsImV4cG9ydHMiLCJBbmltYXRlZFByb2dyZXNzQmFyIiwiY3VycmVudCIsInRhcmdldCIsImFuaW1hdGlvbklkIiwidHJhbnNpdGlvbkhhbmRsZXIiLCJ0b3RhbCIsIndpZHRoIiwidXBkYXRlIiwidmFsdWUiLCJNYXRoIiwibWluIiwic2NoZWR1bGVyIiwicmVtb3ZlTGlzdGVuZXIiLCJ1bnJlZ2lzdGVyIiwiRGF0ZSIsIm5vdyIsImNyZWF0ZVRyYW5zaXRpb24iLCJFYXNpbmciLCJlYXNlT3V0UXVhZCIsImRhdGEiLCJpZCIsIm9uIiwicGVyY2VudGFnZSIsImZpbGxlZCIsImZsb29yIiwicGFydGlhbCIsImVtcHR5IiwiYmFyIiwicHJvZ3Jlc3MiLCJwcm9ncmVzc0NoYXJzIiwicmVwZWF0IiwicGFydGlhbEluZGV4IiwicGFydGlhbENoYXIiLCJtYXgiLCJwZXJjZW50VGV4dCIsInJvdW5kIiwiQW5pbWF0ZWRFbGFwc2VkVGltZSIsImN1cnJlbnREaXNwbGF5Iiwic3RhcnRUaW1lIiwiZm9ybWF0IiwiZWxhcHNlZCIsInNlY29uZHMiLCJtaW51dGVzIiwiaG91cnMiLCJ0b1N0cmluZyIsInBhZFN0YXJ0IiwidWkiLCJtdXRlZCIsIlB1bHNpbmdUZXh0IiwiaW50ZW5zaXR5IiwiaW5jcmVhc2luZyIsInRleHQiLCJzZXRUZXh0IiwiaGlnaGxpZ2h0IiwiVGhpbmtpbmdJbmRpY2F0b3IiLCJkb3RDb3VudCIsImxhYmVsIiwic2V0TGFiZWwiLCJkb3RzIiwicGFkZGluZyIsInRoaW5raW5nIiwiaWNvbiIsIlN0cmVhbWluZ1N0YXR1cyIsImlzQWN0aXZlIiwic3Bpbm5lciIsInNwaW5uZXJQYXJ0IiwiZWxhcHNlZFBhcnQiLCJ1cGRhdGVNZXNzYWdlIiwiZmluYWxUaW1lIiwic3VjY2VzcyIsIkNvbnRleHRNZXRlciIsInRhcmdldFBlcmNlbnRhZ2UiLCJhbmltYXRpb25GcmFtZSIsImFuaW1hdGUiLCJjbGVhclRpbWVvdXQiLCJzdGVwIiwiZGlmZiIsImFicyIsInNldFRpbWVvdXQiLCJwY3QiLCJjbGFtcFBlcmNlbnRhZ2UiLCJnZXRDb250ZXh0Q29sb3IiLCJlcnJvciIsIndhcm5pbmciLCJUeXBpbmdJbmRpY2F0b3IiLCJXYXZlSW5kaWNhdG9yIiwiZGlzcG9zZUFuaW1hdGlvbnMiLCJyZXNldEFuaW1hdGlvblNjaGVkdWxlciJdLCJzb3VyY2VzIjpbImFuaW1hdGVkU3RhdHVzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQW5pbWF0ZWRTdGF0dXMgLSBQcm92aWRlcyBzbW9vdGgsIGR5bmFtaWMgc3RhdHVzIGluZGljYXRvcnMgd2l0aCBhbmltYXRpb25zXG4gKiBJbnRlZ3JhdGVzIHdpdGggdGhlIEFuaW1hdGlvblNjaGVkdWxlciBmb3IgcmVhbC10aW1lIFVJIHVwZGF0ZXNcbiAqL1xuXG5pbXBvcnQgeyB0aGVtZSwgc3Bpbm5lckZyYW1lcywgcHJvZ3Jlc3NDaGFycyB9IGZyb20gJy4vdGhlbWUuanMnO1xuaW1wb3J0IHsgQW5pbWF0aW9uU2NoZWR1bGVyIH0gZnJvbSAnLi9hbmltYXRpb24vQW5pbWF0aW9uU2NoZWR1bGVyLmpzJztcbmltcG9ydCB7IGNsYW1wUGVyY2VudGFnZSwgZ2V0Q29udGV4dENvbG9yIH0gZnJvbSAnLi91aUNvbnN0YW50cy5qcyc7XG5cbi8vIFNpbmdsZXRvbiBzY2hlZHVsZXIgZm9yIGdsb2JhbCBhbmltYXRpb24gY29vcmRpbmF0aW9uXG5sZXQgZ2xvYmFsU2NoZWR1bGVyOiBBbmltYXRpb25TY2hlZHVsZXIgfCBudWxsID0gbnVsbDtcbmxldCBzY2hlZHVsZXJEaXNwb3NlZCA9IGZhbHNlOyAvLyBQcmV2ZW50IHJlY3JlYXRpb24gYWZ0ZXIgZGlzcG9zYWxcblxuZnVuY3Rpb24gZ2V0U2NoZWR1bGVyKCk6IEFuaW1hdGlvblNjaGVkdWxlciB7XG4gIGlmIChzY2hlZHVsZXJEaXNwb3NlZCkge1xuICAgIC8vIFJldHVybiBhIG5vLW9wIHNjaGVkdWxlciBpZiBkaXNwb3NlZCB0byBwcmV2ZW50IHJlY3JlYXRpb25cbiAgICAvLyBUaGlzIGhhbmRsZXMgZWRnZSBjYXNlcyB3aGVyZSBhbmltYXRpb25zIHRyeSB0byByZWdpc3RlciBhZnRlciBjbGVhbnVwXG4gICAgaWYgKCFnbG9iYWxTY2hlZHVsZXIpIHtcbiAgICAgIGdsb2JhbFNjaGVkdWxlciA9IG5ldyBBbmltYXRpb25TY2hlZHVsZXIoMzApO1xuICAgICAgZ2xvYmFsU2NoZWR1bGVyLmRpc3Bvc2UoKTsgLy8gSW1tZWRpYXRlbHkgZGlzcG9zZSAtIGl0J3MgYSBzdHViXG4gICAgfVxuICAgIHJldHVybiBnbG9iYWxTY2hlZHVsZXI7XG4gIH1cbiAgaWYgKCFnbG9iYWxTY2hlZHVsZXIpIHtcbiAgICBnbG9iYWxTY2hlZHVsZXIgPSBuZXcgQW5pbWF0aW9uU2NoZWR1bGVyKDMwKTsgLy8gMzAgRlBTIGZvciBzbW9vdGggYW5pbWF0aW9uc1xuICB9XG4gIHJldHVybiBnbG9iYWxTY2hlZHVsZXI7XG59XG5cbi8qKlxuICogQW5pbWF0ZWQgc3Bpbm5lciB0aGF0IGN5Y2xlcyB0aHJvdWdoIGZyYW1lc1xuICovXG5leHBvcnQgY2xhc3MgQW5pbWF0ZWRTcGlubmVyIHtcbiAgcHJpdmF0ZSBmcmFtZUluZGV4ID0gMDtcbiAgcHJpdmF0ZSByZWFkb25seSBmcmFtZXM6IHN0cmluZ1tdO1xuICBwcml2YXRlIGludGVydmFsSWQ6IE5vZGVKUy5UaW1lb3V0IHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgbWVzc2FnZTogc3RyaW5nO1xuICBwcml2YXRlIHJlYWRvbmx5IGNvbG9yOiAodGV4dDogc3RyaW5nKSA9PiBzdHJpbmc7XG4gIHByaXZhdGUgY3VycmVudEZyYW1lID0gJyc7XG4gIHByaXZhdGUgb25VcGRhdGU/OiAoZnJhbWU6IHN0cmluZykgPT4gdm9pZDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBtZXNzYWdlOiBzdHJpbmcgPSAnJyxcbiAgICBzdHlsZTogJ2RvdHMnIHwgJ2FyYycgfCAnY2lyY2xlJyB8ICdib3VuY2UnIHwgJ2JyYWlsbGUnID0gJ2RvdHMnLFxuICAgIGNvbG9yOiAodGV4dDogc3RyaW5nKSA9PiBzdHJpbmcgPSB0aGVtZS5pbmZvXG4gICkge1xuICAgIHRoaXMuZnJhbWVzID0gc3Bpbm5lckZyYW1lc1tzdHlsZV07XG4gICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICB0aGlzLmNvbG9yID0gY29sb3I7XG4gICAgdGhpcy5jdXJyZW50RnJhbWUgPSB0aGlzLmZyYW1lc1swXSA/PyAn4qCLJztcbiAgfVxuXG4gIHN0YXJ0KG9uVXBkYXRlPzogKGZyYW1lOiBzdHJpbmcpID0+IHZvaWQpOiB2b2lkIHtcbiAgICB0aGlzLm9uVXBkYXRlID0gb25VcGRhdGU7XG4gICAgdGhpcy5mcmFtZUluZGV4ID0gMDtcbiAgICB0aGlzLmludGVydmFsSWQgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICB0aGlzLmZyYW1lSW5kZXggPSAodGhpcy5mcmFtZUluZGV4ICsgMSkgJSB0aGlzLmZyYW1lcy5sZW5ndGg7XG4gICAgICB0aGlzLmN1cnJlbnRGcmFtZSA9IHRoaXMuZnJhbWVzW3RoaXMuZnJhbWVJbmRleF0gPz8gJ+Kgiyc7XG4gICAgICBpZiAodGhpcy5vblVwZGF0ZSkge1xuICAgICAgICB0aGlzLm9uVXBkYXRlKHRoaXMucmVuZGVyKCkpO1xuICAgICAgfVxuICAgIH0sIDgwKTsgLy8gfjEyIEZQUyBmb3Igc3Bpbm5lcnNcbiAgfVxuXG4gIHN0b3AoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuaW50ZXJ2YWxJZCkge1xuICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsSWQpO1xuICAgICAgdGhpcy5pbnRlcnZhbElkID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICBzZXRNZXNzYWdlKG1lc3NhZ2U6IHN0cmluZyk6IHZvaWQge1xuICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gIH1cblxuICByZW5kZXIoKTogc3RyaW5nIHtcbiAgICBjb25zdCBzcGlubmVyQ2hhciA9IHRoaXMuY29sb3IodGhpcy5jdXJyZW50RnJhbWUpO1xuICAgIHJldHVybiB0aGlzLm1lc3NhZ2UgPyBgJHtzcGlubmVyQ2hhcn0gJHt0aGlzLm1lc3NhZ2V9YCA6IHNwaW5uZXJDaGFyO1xuICB9XG5cbiAgaXNSdW5uaW5nKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmludGVydmFsSWQgIT09IG51bGw7XG4gIH1cbn1cblxuLyoqXG4gKiBBbmltYXRlZCBwcm9ncmVzcyBiYXIgd2l0aCBzbW9vdGggdHJhbnNpdGlvbnNcbiAqL1xuZXhwb3J0IGNsYXNzIEFuaW1hdGVkUHJvZ3Jlc3NCYXIge1xuICBwcml2YXRlIGN1cnJlbnQgPSAwO1xuICBwcml2YXRlIHRhcmdldCA9IDA7XG4gIHByaXZhdGUgcmVhZG9ubHkgdG90YWw6IG51bWJlcjtcbiAgcHJpdmF0ZSByZWFkb25seSB3aWR0aDogbnVtYmVyO1xuICBwcml2YXRlIGFuaW1hdGlvbklkOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgLy8gU3RvcmUgdGhlIGJvdW5kIGxpc3RlbmVyIHNvIHdlIGNhbiByZW1vdmUgaXQgdG8gcHJldmVudCBtZW1vcnkgbGVha3NcbiAgcHJpdmF0ZSB0cmFuc2l0aW9uSGFuZGxlcjogKChkYXRhOiB7IGlkOiBzdHJpbmc7IHZhbHVlOiBudW1iZXIgfSkgPT4gdm9pZCkgfCBudWxsID0gbnVsbDtcblxuICBjb25zdHJ1Y3Rvcih0b3RhbDogbnVtYmVyLCB3aWR0aDogbnVtYmVyID0gMjApIHtcbiAgICB0aGlzLnRvdGFsID0gdG90YWw7XG4gICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICB9XG5cbiAgdXBkYXRlKHZhbHVlOiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLnRhcmdldCA9IE1hdGgubWluKHZhbHVlLCB0aGlzLnRvdGFsKTtcblxuICAgIC8vIFNtb290aCB0cmFuc2l0aW9uIHRvIHRhcmdldFxuICAgIGNvbnN0IHNjaGVkdWxlciA9IGdldFNjaGVkdWxlcigpO1xuXG4gICAgLy8gUmVtb3ZlIG9sZCBsaXN0ZW5lciBiZWZvcmUgY3JlYXRpbmcgbmV3IGFuaW1hdGlvbiB0byBwcmV2ZW50IGFjY3VtdWxhdGlvblxuICAgIGlmICh0aGlzLnRyYW5zaXRpb25IYW5kbGVyKSB7XG4gICAgICBzY2hlZHVsZXIucmVtb3ZlTGlzdGVuZXIoJ3RyYW5zaXRpb246dXBkYXRlJywgdGhpcy50cmFuc2l0aW9uSGFuZGxlcik7XG4gICAgICB0aGlzLnRyYW5zaXRpb25IYW5kbGVyID0gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5hbmltYXRpb25JZCkge1xuICAgICAgc2NoZWR1bGVyLnVucmVnaXN0ZXIodGhpcy5hbmltYXRpb25JZCk7XG4gICAgfVxuXG4gICAgdGhpcy5hbmltYXRpb25JZCA9IGBwcm9ncmVzcy0ke0RhdGUubm93KCl9YDtcbiAgICBzY2hlZHVsZXIuY3JlYXRlVHJhbnNpdGlvbihcbiAgICAgIHRoaXMuYW5pbWF0aW9uSWQsXG4gICAgICB0aGlzLmN1cnJlbnQsXG4gICAgICB0aGlzLnRhcmdldCxcbiAgICAgICdwcm9ncmVzcycsXG4gICAgICAzMDAsXG4gICAgICBBbmltYXRpb25TY2hlZHVsZXIuRWFzaW5nLmVhc2VPdXRRdWFkXG4gICAgKTtcblxuICAgIC8vIENyZWF0ZSBhbmQgc3RvcmUgdGhlIGxpc3RlbmVyIGZvciBwcm9wZXIgY2xlYW51cFxuICAgIHRoaXMudHJhbnNpdGlvbkhhbmRsZXIgPSAoZGF0YTogeyBpZDogc3RyaW5nOyB2YWx1ZTogbnVtYmVyIH0pID0+IHtcbiAgICAgIGlmIChkYXRhLmlkID09PSB0aGlzLmFuaW1hdGlvbklkICYmIHR5cGVvZiBkYXRhLnZhbHVlID09PSAnbnVtYmVyJykge1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSBkYXRhLnZhbHVlO1xuICAgICAgfVxuICAgIH07XG4gICAgc2NoZWR1bGVyLm9uKCd0cmFuc2l0aW9uOnVwZGF0ZScsIHRoaXMudHJhbnNpdGlvbkhhbmRsZXIpO1xuICB9XG5cbiAgcmVuZGVyKCk6IHN0cmluZyB7XG4gICAgY29uc3QgcGVyY2VudGFnZSA9IHRoaXMudG90YWwgPiAwID8gdGhpcy5jdXJyZW50IC8gdGhpcy50b3RhbCA6IDA7XG4gICAgY29uc3QgZmlsbGVkID0gTWF0aC5mbG9vcihwZXJjZW50YWdlICogdGhpcy53aWR0aCk7XG4gICAgY29uc3QgcGFydGlhbCA9IChwZXJjZW50YWdlICogdGhpcy53aWR0aCkgJSAxO1xuICAgIGNvbnN0IGVtcHR5ID0gdGhpcy53aWR0aCAtIGZpbGxlZCAtIChwYXJ0aWFsID4gMCA/IDEgOiAwKTtcblxuICAgIGxldCBiYXIgPSB0aGVtZS5wcm9ncmVzcy5iYXIocHJvZ3Jlc3NDaGFycy5maWxsZWQucmVwZWF0KGZpbGxlZCkpO1xuXG4gICAgaWYgKHBhcnRpYWwgPiAwICYmIGZpbGxlZCA8IHRoaXMud2lkdGgpIHtcbiAgICAgIGNvbnN0IHBhcnRpYWxJbmRleCA9IE1hdGguZmxvb3IocGFydGlhbCAqIHByb2dyZXNzQ2hhcnMucGFydGlhbC5sZW5ndGgpO1xuICAgICAgY29uc3QgcGFydGlhbENoYXIgPSBwcm9ncmVzc0NoYXJzLnBhcnRpYWxbcGFydGlhbEluZGV4XSA/PyBwcm9ncmVzc0NoYXJzLnBhcnRpYWxbMF07XG4gICAgICBiYXIgKz0gdGhlbWUucHJvZ3Jlc3MuYmFyKHBhcnRpYWxDaGFyKTtcbiAgICB9XG5cbiAgICBiYXIgKz0gdGhlbWUucHJvZ3Jlc3MuZW1wdHkocHJvZ3Jlc3NDaGFycy5lbXB0eS5yZXBlYXQoTWF0aC5tYXgoMCwgZW1wdHkpKSk7XG5cbiAgICBjb25zdCBwZXJjZW50VGV4dCA9IHRoZW1lLnByb2dyZXNzLnBlcmNlbnRhZ2UoYCR7TWF0aC5yb3VuZChwZXJjZW50YWdlICogMTAwKX0lYCk7XG4gICAgcmV0dXJuIGAke2Jhcn0gJHtwZXJjZW50VGV4dH1gO1xuICB9XG5cbiAgZGlzcG9zZSgpOiB2b2lkIHtcbiAgICAvLyBSZW1vdmUgdGhlIHRyYW5zaXRpb24gbGlzdGVuZXIgdG8gcHJldmVudCBtZW1vcnkgbGVha3NcbiAgICBpZiAodGhpcy50cmFuc2l0aW9uSGFuZGxlcikge1xuICAgICAgZ2V0U2NoZWR1bGVyKCkucmVtb3ZlTGlzdGVuZXIoJ3RyYW5zaXRpb246dXBkYXRlJywgdGhpcy50cmFuc2l0aW9uSGFuZGxlcik7XG4gICAgICB0aGlzLnRyYW5zaXRpb25IYW5kbGVyID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKHRoaXMuYW5pbWF0aW9uSWQpIHtcbiAgICAgIGdldFNjaGVkdWxlcigpLnVucmVnaXN0ZXIodGhpcy5hbmltYXRpb25JZCk7XG4gICAgICB0aGlzLmFuaW1hdGlvbklkID0gbnVsbDtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBBbmltYXRlZCBlbGFwc2VkIHRpbWUgZGlzcGxheVxuICovXG5leHBvcnQgY2xhc3MgQW5pbWF0ZWRFbGFwc2VkVGltZSB7XG4gIHByaXZhdGUgc3RhcnRUaW1lOiBudW1iZXI7XG4gIHByaXZhdGUgaW50ZXJ2YWxJZDogTm9kZUpTLlRpbWVvdXQgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBjdXJyZW50RGlzcGxheSA9ICcwcyc7XG4gIHByaXZhdGUgb25VcGRhdGU/OiAoZGlzcGxheTogc3RyaW5nKSA9PiB2b2lkO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgfVxuXG4gIHN0YXJ0KG9uVXBkYXRlPzogKGRpc3BsYXk6IHN0cmluZykgPT4gdm9pZCk6IHZvaWQge1xuICAgIHRoaXMuc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICB0aGlzLm9uVXBkYXRlID0gb25VcGRhdGU7XG4gICAgdGhpcy5pbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgdGhpcy5jdXJyZW50RGlzcGxheSA9IHRoaXMuZm9ybWF0KCk7XG4gICAgICBpZiAodGhpcy5vblVwZGF0ZSkge1xuICAgICAgICB0aGlzLm9uVXBkYXRlKHRoaXMuY3VycmVudERpc3BsYXkpO1xuICAgICAgfVxuICAgIH0sIDEwMDApOyAvLyBVcGRhdGUgZXZlcnkgc2Vjb25kXG4gIH1cblxuICBzdG9wKCk6IHN0cmluZyB7XG4gICAgaWYgKHRoaXMuaW50ZXJ2YWxJZCkge1xuICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsSWQpO1xuICAgICAgdGhpcy5pbnRlcnZhbElkID0gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuZm9ybWF0KCk7XG4gIH1cblxuICBmb3JtYXQoKTogc3RyaW5nIHtcbiAgICBjb25zdCBlbGFwc2VkID0gRGF0ZS5ub3coKSAtIHRoaXMuc3RhcnRUaW1lO1xuICAgIGNvbnN0IHNlY29uZHMgPSBNYXRoLmZsb29yKGVsYXBzZWQgLyAxMDAwKTtcbiAgICBjb25zdCBtaW51dGVzID0gTWF0aC5mbG9vcihzZWNvbmRzIC8gNjApO1xuICAgIGNvbnN0IGhvdXJzID0gTWF0aC5mbG9vcihtaW51dGVzIC8gNjApO1xuXG4gICAgaWYgKGhvdXJzID4gMCkge1xuICAgICAgcmV0dXJuIGAke2hvdXJzfWggJHttaW51dGVzICUgNjB9bSAke3NlY29uZHMgJSA2MH1zYDtcbiAgICB9IGVsc2UgaWYgKG1pbnV0ZXMgPiAwKSB7XG4gICAgICByZXR1cm4gYCR7bWludXRlc306JHsoc2Vjb25kcyAlIDYwKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9YDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGAke3NlY29uZHN9c2A7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoZW1lLnVpLm11dGVkKHRoaXMuY3VycmVudERpc3BsYXkpO1xuICB9XG59XG5cbi8qKlxuICogUHVsc2luZyB0ZXh0IGVmZmVjdCBmb3IgZW1waGFzaXNcbiAqL1xuZXhwb3J0IGNsYXNzIFB1bHNpbmdUZXh0IHtcbiAgcHJpdmF0ZSB0ZXh0OiBzdHJpbmc7XG4gIHByaXZhdGUgaW50ZW5zaXR5ID0gMDtcbiAgcHJpdmF0ZSBpbmNyZWFzaW5nID0gdHJ1ZTtcbiAgcHJpdmF0ZSBpbnRlcnZhbElkOiBOb2RlSlMuVGltZW91dCB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIG9uVXBkYXRlPzogKHJlbmRlcmVkOiBzdHJpbmcpID0+IHZvaWQ7XG5cbiAgY29uc3RydWN0b3IodGV4dDogc3RyaW5nKSB7XG4gICAgdGhpcy50ZXh0ID0gdGV4dDtcbiAgfVxuXG4gIHN0YXJ0KG9uVXBkYXRlPzogKHJlbmRlcmVkOiBzdHJpbmcpID0+IHZvaWQpOiB2b2lkIHtcbiAgICB0aGlzLm9uVXBkYXRlID0gb25VcGRhdGU7XG4gICAgdGhpcy5pbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgaWYgKHRoaXMuaW5jcmVhc2luZykge1xuICAgICAgICB0aGlzLmludGVuc2l0eSArPSAwLjE7XG4gICAgICAgIGlmICh0aGlzLmludGVuc2l0eSA+PSAxKSB7XG4gICAgICAgICAgdGhpcy5pbnRlbnNpdHkgPSAxO1xuICAgICAgICAgIHRoaXMuaW5jcmVhc2luZyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmludGVuc2l0eSAtPSAwLjE7XG4gICAgICAgIGlmICh0aGlzLmludGVuc2l0eSA8PSAwLjMpIHtcbiAgICAgICAgICB0aGlzLmludGVuc2l0eSA9IDAuMztcbiAgICAgICAgICB0aGlzLmluY3JlYXNpbmcgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5vblVwZGF0ZSkge1xuICAgICAgICB0aGlzLm9uVXBkYXRlKHRoaXMucmVuZGVyKCkpO1xuICAgICAgfVxuICAgIH0sIDUwKTsgLy8gMjAgRlBTIGZvciBwdWxzZVxuICB9XG5cbiAgc3RvcCgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5pbnRlcnZhbElkKSB7XG4gICAgICBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWxJZCk7XG4gICAgICB0aGlzLmludGVydmFsSWQgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHNldFRleHQodGV4dDogc3RyaW5nKTogdm9pZCB7XG4gICAgdGhpcy50ZXh0ID0gdGV4dDtcbiAgfVxuXG4gIHJlbmRlcigpOiBzdHJpbmcge1xuICAgIC8vIFVzZSBpbnRlbnNpdHkgdG8gdmFyeSBiZXR3ZWVuIGRpbSBhbmQgYnJpZ2h0XG4gICAgaWYgKHRoaXMuaW50ZW5zaXR5ID4gMC43KSB7XG4gICAgICByZXR1cm4gdGhlbWUudWkuaGlnaGxpZ2h0KHRoaXMudGV4dCk7XG4gICAgfSBlbHNlIGlmICh0aGlzLmludGVuc2l0eSA+IDAuNCkge1xuICAgICAgcmV0dXJuIHRoZW1lLmluZm8odGhpcy50ZXh0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoZW1lLnVpLm11dGVkKHRoaXMudGV4dCk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogVGhpbmtpbmcgaW5kaWNhdG9yIHdpdGggYW5pbWF0ZWQgZG90c1xuICovXG5leHBvcnQgY2xhc3MgVGhpbmtpbmdJbmRpY2F0b3Ige1xuICBwcml2YXRlIGRvdENvdW50ID0gMDtcbiAgcHJpdmF0ZSBpbnRlcnZhbElkOiBOb2RlSlMuVGltZW91dCB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIGxhYmVsOiBzdHJpbmc7XG4gIHByaXZhdGUgb25VcGRhdGU/OiAocmVuZGVyZWQ6IHN0cmluZykgPT4gdm9pZDtcblxuICBjb25zdHJ1Y3RvcihsYWJlbDogc3RyaW5nID0gJ1RoaW5raW5nJykge1xuICAgIHRoaXMubGFiZWwgPSBsYWJlbDtcbiAgfVxuXG4gIHN0YXJ0KG9uVXBkYXRlPzogKHJlbmRlcmVkOiBzdHJpbmcpID0+IHZvaWQpOiB2b2lkIHtcbiAgICB0aGlzLm9uVXBkYXRlID0gb25VcGRhdGU7XG4gICAgdGhpcy5kb3RDb3VudCA9IDA7XG4gICAgdGhpcy5pbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgdGhpcy5kb3RDb3VudCA9ICh0aGlzLmRvdENvdW50ICsgMSkgJSA0O1xuICAgICAgaWYgKHRoaXMub25VcGRhdGUpIHtcbiAgICAgICAgdGhpcy5vblVwZGF0ZSh0aGlzLnJlbmRlcigpKTtcbiAgICAgIH1cbiAgICB9LCA0MDApOyAvLyBTbG93ZXIgYW5pbWF0aW9uIGZvciB0aGlua2luZ1xuICB9XG5cbiAgc3RvcCgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5pbnRlcnZhbElkKSB7XG4gICAgICBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWxJZCk7XG4gICAgICB0aGlzLmludGVydmFsSWQgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHNldExhYmVsKGxhYmVsOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLmxhYmVsID0gbGFiZWw7XG4gIH1cblxuICByZW5kZXIoKTogc3RyaW5nIHtcbiAgICBjb25zdCBkb3RzID0gJy4nLnJlcGVhdCh0aGlzLmRvdENvdW50KTtcbiAgICBjb25zdCBwYWRkaW5nID0gJyAnLnJlcGVhdCgzIC0gdGhpcy5kb3RDb3VudCk7XG4gICAgcmV0dXJuIGAke3RoZW1lLnRoaW5raW5nLmljb24oJ+KXkCcpfSAke3RoZW1lLnRoaW5raW5nLmxhYmVsKHRoaXMubGFiZWwpfSR7dGhlbWUudGhpbmtpbmcudGV4dChkb3RzKX0ke3BhZGRpbmd9YDtcbiAgfVxufVxuXG4vKipcbiAqIFN0cmVhbWluZyBzdGF0dXMgd2l0aCBzcGlubmVyIGFuZCBtZXNzYWdlXG4gKi9cbmV4cG9ydCBjbGFzcyBTdHJlYW1pbmdTdGF0dXMge1xuICBwcml2YXRlIHNwaW5uZXI6IEFuaW1hdGVkU3Bpbm5lcjtcbiAgcHJpdmF0ZSBlbGFwc2VkOiBBbmltYXRlZEVsYXBzZWRUaW1lO1xuICBwcml2YXRlIGlzQWN0aXZlID0gZmFsc2U7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5zcGlubmVyID0gbmV3IEFuaW1hdGVkU3Bpbm5lcignJywgJ2JyYWlsbGUnLCB0aGVtZS5pbmZvKTtcbiAgICB0aGlzLmVsYXBzZWQgPSBuZXcgQW5pbWF0ZWRFbGFwc2VkVGltZSgpO1xuICB9XG5cbiAgc3RhcnQobWVzc2FnZTogc3RyaW5nLCBvblVwZGF0ZT86IChzdGF0dXM6IHN0cmluZykgPT4gdm9pZCk6IHZvaWQge1xuICAgIHRoaXMuaXNBY3RpdmUgPSB0cnVlO1xuICAgIHRoaXMuc3Bpbm5lci5zZXRNZXNzYWdlKG1lc3NhZ2UpO1xuXG4gICAgY29uc3QgdXBkYXRlID0gKCkgPT4ge1xuICAgICAgaWYgKHRoaXMuaXNBY3RpdmUgJiYgb25VcGRhdGUpIHtcbiAgICAgICAgY29uc3Qgc3Bpbm5lclBhcnQgPSB0aGlzLnNwaW5uZXIucmVuZGVyKCk7XG4gICAgICAgIGNvbnN0IGVsYXBzZWRQYXJ0ID0gdGhpcy5lbGFwc2VkLnJlbmRlcigpO1xuICAgICAgICBvblVwZGF0ZShgJHtzcGlubmVyUGFydH0gJHt0aGVtZS51aS5tdXRlZCgnwrcnKX0gJHtlbGFwc2VkUGFydH1gKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5zcGlubmVyLnN0YXJ0KHVwZGF0ZSk7XG4gICAgdGhpcy5lbGFwc2VkLnN0YXJ0KHVwZGF0ZSk7XG4gIH1cblxuICB1cGRhdGVNZXNzYWdlKG1lc3NhZ2U6IHN0cmluZyk6IHZvaWQge1xuICAgIHRoaXMuc3Bpbm5lci5zZXRNZXNzYWdlKG1lc3NhZ2UpO1xuICB9XG5cbiAgc3RvcCgpOiBzdHJpbmcge1xuICAgIHRoaXMuaXNBY3RpdmUgPSBmYWxzZTtcbiAgICB0aGlzLnNwaW5uZXIuc3RvcCgpO1xuICAgIGNvbnN0IGZpbmFsVGltZSA9IHRoaXMuZWxhcHNlZC5zdG9wKCk7XG4gICAgcmV0dXJuIGAke3RoZW1lLnN1Y2Nlc3MoJ+KckycpfSAke3RoZW1lLnVpLm11dGVkKCdDb21wbGV0ZWQnKX0gJHt0aGVtZS51aS5tdXRlZCgnwrcnKX0gJHt0aGVtZS51aS5tdXRlZChmaW5hbFRpbWUpfWA7XG4gIH1cbn1cblxuLyoqXG4gKiBDb250ZXh0IHVzYWdlIG1ldGVyIHdpdGggY29sb3IgdHJhbnNpdGlvbnNcbiAqL1xuZXhwb3J0IGNsYXNzIENvbnRleHRNZXRlciB7XG4gIHByaXZhdGUgcGVyY2VudGFnZSA9IDA7XG4gIHByaXZhdGUgdGFyZ2V0UGVyY2VudGFnZSA9IDA7XG4gIHByaXZhdGUgYW5pbWF0aW9uRnJhbWU6IE5vZGVKUy5UaW1lb3V0IHwgbnVsbCA9IG51bGw7XG5cbiAgdXBkYXRlKHBlcmNlbnRhZ2U6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMudGFyZ2V0UGVyY2VudGFnZSA9IE1hdGgubWluKDEwMCwgTWF0aC5tYXgoMCwgcGVyY2VudGFnZSkpO1xuICAgIHRoaXMuYW5pbWF0ZSgpO1xuICB9XG5cbiAgcHJpdmF0ZSBhbmltYXRlKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLmFuaW1hdGlvbkZyYW1lKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5hbmltYXRpb25GcmFtZSk7XG4gICAgfVxuXG4gICAgY29uc3Qgc3RlcCA9ICgpID0+IHtcbiAgICAgIGNvbnN0IGRpZmYgPSB0aGlzLnRhcmdldFBlcmNlbnRhZ2UgLSB0aGlzLnBlcmNlbnRhZ2U7XG4gICAgICBpZiAoTWF0aC5hYnMoZGlmZikgPCAwLjUpIHtcbiAgICAgICAgdGhpcy5wZXJjZW50YWdlID0gdGhpcy50YXJnZXRQZXJjZW50YWdlO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIFNtb290aCBlYXNpbmdcbiAgICAgIHRoaXMucGVyY2VudGFnZSArPSBkaWZmICogMC4xNTtcbiAgICAgIHRoaXMuYW5pbWF0aW9uRnJhbWUgPSBzZXRUaW1lb3V0KHN0ZXAsIDE2KTsgLy8gfjYwIEZQU1xuICAgIH07XG5cbiAgICBzdGVwKCk7XG4gIH1cblxuICByZW5kZXIoKTogc3RyaW5nIHtcbiAgICBjb25zdCBwY3QgPSBNYXRoLnJvdW5kKGNsYW1wUGVyY2VudGFnZSh0aGlzLnBlcmNlbnRhZ2UpKTtcbiAgICBjb25zdCBjb2xvciA9IGdldENvbnRleHRDb2xvcihwY3QsIHtcbiAgICAgIGVycm9yOiB0aGVtZS5lcnJvcixcbiAgICAgIHdhcm5pbmc6IHRoZW1lLndhcm5pbmcsXG4gICAgICBpbmZvOiB0aGVtZS5pbmZvLFxuICAgICAgc3VjY2VzczogdGhlbWUuc3VjY2VzcyxcbiAgICB9KTtcblxuICAgIHJldHVybiBgJHt0aGVtZS51aS5tdXRlZCgnY3R4Jyl9ICR7Y29sb3IoYCR7cGN0fSVgKX1gO1xuICB9XG5cbiAgZGlzcG9zZSgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5hbmltYXRpb25GcmFtZSkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuYW5pbWF0aW9uRnJhbWUpO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEFuaW1hdGVkIHR5cGluZyBpbmRpY2F0b3IgKGZvciBzaG93aW5nIEFJIGlzIHJlc3BvbmRpbmcpXG4gKi9cbmV4cG9ydCBjbGFzcyBUeXBpbmdJbmRpY2F0b3Ige1xuICBwcml2YXRlIGZyYW1lcyA9IFsn4paMJywgJ+KWkCcsICfilownLCAnICddO1xuICBwcml2YXRlIGZyYW1lSW5kZXggPSAwO1xuICBwcml2YXRlIGludGVydmFsSWQ6IE5vZGVKUy5UaW1lb3V0IHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgb25VcGRhdGU/OiAoZnJhbWU6IHN0cmluZykgPT4gdm9pZDtcblxuICBzdGFydChvblVwZGF0ZT86IChmcmFtZTogc3RyaW5nKSA9PiB2b2lkKTogdm9pZCB7XG4gICAgdGhpcy5vblVwZGF0ZSA9IG9uVXBkYXRlO1xuICAgIHRoaXMuaW50ZXJ2YWxJZCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgIHRoaXMuZnJhbWVJbmRleCA9ICh0aGlzLmZyYW1lSW5kZXggKyAxKSAlIHRoaXMuZnJhbWVzLmxlbmd0aDtcbiAgICAgIGlmICh0aGlzLm9uVXBkYXRlKSB7XG4gICAgICAgIHRoaXMub25VcGRhdGUodGhpcy5yZW5kZXIoKSk7XG4gICAgICB9XG4gICAgfSwgNTMwKTsgLy8gQmxpbmsgYXQgY3Vyc29yIHJhdGVcbiAgfVxuXG4gIHN0b3AoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuaW50ZXJ2YWxJZCkge1xuICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsSWQpO1xuICAgICAgdGhpcy5pbnRlcnZhbElkID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhlbWUuaW5mbyh0aGlzLmZyYW1lc1t0aGlzLmZyYW1lSW5kZXhdID8/ICfilownKTtcbiAgfVxufVxuXG4vKipcbiAqIFdhdmUgYW5pbWF0aW9uIGZvciBwcm9jZXNzaW5nIHN0YXRlc1xuICovXG5leHBvcnQgY2xhc3MgV2F2ZUluZGljYXRvciB7XG4gIHByaXZhdGUgZnJhbWVzID0gWyfiiJniiJniiJniiJniiJknLCAn4peP4oiZ4oiZ4oiZ4oiZJywgJ+KImeKXj+KImeKImeKImScsICfiiJniiJnil4/iiJniiJknLCAn4oiZ4oiZ4oiZ4peP4oiZJywgJ+KImeKImeKImeKImeKXjycsICfiiJniiJniiJniiJniiJknXTtcbiAgcHJpdmF0ZSBmcmFtZUluZGV4ID0gMDtcbiAgcHJpdmF0ZSBpbnRlcnZhbElkOiBOb2RlSlMuVGltZW91dCB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIG9uVXBkYXRlPzogKGZyYW1lOiBzdHJpbmcpID0+IHZvaWQ7XG5cbiAgc3RhcnQob25VcGRhdGU/OiAoZnJhbWU6IHN0cmluZykgPT4gdm9pZCk6IHZvaWQge1xuICAgIHRoaXMub25VcGRhdGUgPSBvblVwZGF0ZTtcbiAgICB0aGlzLmludGVydmFsSWQgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICB0aGlzLmZyYW1lSW5kZXggPSAodGhpcy5mcmFtZUluZGV4ICsgMSkgJSB0aGlzLmZyYW1lcy5sZW5ndGg7XG4gICAgICBpZiAodGhpcy5vblVwZGF0ZSkge1xuICAgICAgICB0aGlzLm9uVXBkYXRlKHRoaXMucmVuZGVyKCkpO1xuICAgICAgfVxuICAgIH0sIDEyMCk7XG4gIH1cblxuICBzdG9wKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLmludGVydmFsSWQpIHtcbiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbElkKTtcbiAgICAgIHRoaXMuaW50ZXJ2YWxJZCA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoZW1lLmluZm8odGhpcy5mcmFtZXNbdGhpcy5mcmFtZUluZGV4XSA/PyAn4oiZ4oiZ4oiZ4oiZ4oiZJyk7XG4gIH1cbn1cblxuLy8gRXhwb3J0IHNpbmdsZXRvbiBjbGVhbnVwXG5leHBvcnQgZnVuY3Rpb24gZGlzcG9zZUFuaW1hdGlvbnMoKTogdm9pZCB7XG4gIHNjaGVkdWxlckRpc3Bvc2VkID0gdHJ1ZTsgLy8gUHJldmVudCByZWNyZWF0aW9uXG4gIGlmIChnbG9iYWxTY2hlZHVsZXIpIHtcbiAgICBnbG9iYWxTY2hlZHVsZXIuZGlzcG9zZSgpO1xuICAgIGdsb2JhbFNjaGVkdWxlciA9IG51bGw7XG4gIH1cbn1cblxuLy8gUmVzZXQgZnVuY3Rpb24gZm9yIHRlc3Rpbmcgb3IgcmUtaW5pdGlhbGl6YXRpb24gc2NlbmFyaW9zXG5leHBvcnQgZnVuY3Rpb24gcmVzZXRBbmltYXRpb25TY2hlZHVsZXIoKTogdm9pZCB7XG4gIGlmIChnbG9iYWxTY2hlZHVsZXIpIHtcbiAgICBnbG9iYWxTY2hlZHVsZXIuZGlzcG9zZSgpO1xuICAgIGdsb2JhbFNjaGVkdWxlciA9IG51bGw7XG4gIH1cbiAgc2NoZWR1bGVyRGlzcG9zZWQgPSBmYWxzZTtcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFLQSxJQUFBQSxNQUFBLEdBQUFDLE9BQUE7QUFDQSxJQUFBQyxtQkFBQSxHQUFBRCxPQUFBO0FBQ0EsSUFBQUUsWUFBQSxHQUFBRixPQUFBO0FBUEE7QUFDQTtBQUNBO0FBQ0E7O0FBTUE7QUFDQSxJQUFJRyxlQUEwQyxHQUFHLElBQUk7QUFDckQsSUFBSUMsaUJBQWlCLEdBQUcsS0FBSyxDQUFDLENBQUM7O0FBRS9CLFNBQVNDLFlBQVlBLENBQUEsRUFBdUI7RUFDMUMsSUFBSUQsaUJBQWlCLEVBQUU7SUFDckI7SUFDQTtJQUNBLElBQUksQ0FBQ0QsZUFBZSxFQUFFO01BQ3BCQSxlQUFlLEdBQUcsSUFBSUcsc0NBQWtCLENBQUMsRUFBRSxDQUFDO01BQzVDSCxlQUFlLENBQUNJLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUM3QjtJQUNBLE9BQU9KLGVBQWU7RUFDeEI7RUFDQSxJQUFJLENBQUNBLGVBQWUsRUFBRTtJQUNwQkEsZUFBZSxHQUFHLElBQUlHLHNDQUFrQixDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7RUFDaEQ7RUFDQSxPQUFPSCxlQUFlO0FBQ3hCOztBQUVBO0FBQ0E7QUFDQTtBQUNPLE1BQU1LLGVBQWUsQ0FBQztFQUNuQkMsVUFBVSxHQUFHLENBQUM7RUFFZEMsVUFBVSxHQUEwQixJQUFJO0VBR3hDQyxZQUFZLEdBQUcsRUFBRTtFQUd6QkMsV0FBV0EsQ0FDVEMsT0FBZSxHQUFHLEVBQUUsRUFDcEJDLEtBQXVELEdBQUcsTUFBTSxFQUNoRUMsS0FBK0IsR0FBR0MsWUFBSyxDQUFDQyxJQUFJLEVBQzVDO0lBQ0EsSUFBSSxDQUFDQyxNQUFNLEdBQUdDLG9CQUFhLENBQUNMLEtBQUssQ0FBQztJQUNsQyxJQUFJLENBQUNELE9BQU8sR0FBR0EsT0FBTztJQUN0QixJQUFJLENBQUNFLEtBQUssR0FB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QTtBQUNBO0FBRkFxQixPQUFBLENBQUFxRixlQUFBLEdBQUFBLGVBQUE7QUFHTyxNQUFNQyxhQUFhLENBQUM7RUFDakJsRyxNQUFNLEdBQUcsQ0FBQyxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLENBQUM7RUFDeEVULFVBQVUsR0FBRyxDQUFDO0VBQ2RDLFVBQVUsR0FBMEIsSUFBSTtFQUdoRFUsS0FBS0EsQ0FBQ0MsUUFBa0MsRUFBUTtJQUM5QyxJQUFJLENBQUNBLFFBQVEsR0FBR0EsUUFBUTtJQUN4QixJQUFJLENBQUNYLFVBQVUsR0FBR1ksV0FBVyxDQUFDLE1BQU07TUFDbEMsSUFBSSxDQUFDYixVQUFVLEdBQUcsQ0FBQyxJQUFJLENBQUNBLFVBQVUsR0FBRyxDQUFDLElBQUksSUFBSSxDQUFDUyxNQUFNLENBQUNLLE1BQU07TUFDNUQsSUFBSSxJQUFJLENBQUNGLFFBQVEsRUFBRTtRQUNqQixJQUFJLENBQUNBLFFBQVEsQ0FBQyxJQUFJLENBQUNHLE1BQU0sQ0FBQyxDQUFDLENBQUM7TUFDOUI7SUFDRixDQUFDLEVBQUUsR0FBRyxDQUFDO0VBQ1Q7RUFFQUMsSUFBSUEsQ0FBQSxFQUFTO0lBQ1gsSUFBSSxJQUFJLENBQUNmLFVBQVUsRUFBRTtNQUNuQmdCLGFBQWEsQ0FBQyxJQUFJLENBQUNoQixVQUFVLENBQUM7TUFDOUIsSUFBSSxDQUFDQSxVQUFVLEdBQUcsSUFBSTtJQUN4QjtFQUNGO0VBRUFjLE1BQU1BLENBQUEsRUFBVztJQUNmLE9BQU9SLFlBQUssQ0FBQ0MsSUFBSSxDQUFDLElBQUksQ0FBQ0MsTUFBTSxDQUFDLElBQUksQ0FBQ1QsVUFBVSxDQUFDLElBQUksT0FBTyxDQUFDO0VBQzVEO0FBQ0Y7O0FBRUE7QUFBQXFCLE9BQUEsQ0FBQXNGLGFBQUEsR0FBQUEsYUFBQTtBQUNPLFNBQVNDLGlCQUFpQkEsQ0FBQSxFQUFTO0VBQ3hDakgsaUJBQWlCLEdBQUcsSUFBSSxDQUFDLENBQUM7RUFDMUIsSUFBSUQsZUFBZSxFQUFFO0lBQ25CQSxlQUFlLENBQUNJLE9BQU8sQ0FBQyxDQUFDO0lBQ3pCSixlQUFlLEdBQUcsSUFBSTtFQUN4QjtBQUNGOztBQUVBO0FBQ08sU0FBU21ILHVCQUF1QkEsQ0FBQSxFQUFTO0VBQzlDLElBQUluSCxlQUFlLEVBQUU7SUFDbkJBLGVBQWUsQ0FBQ0ksT0FBTyxDQUFDLENBQUM7SUFDekJKLGVBQWUsR0FBRyxJQUFJO0VBQ3hCO0VBQ0FDLGlCQUFpQixHQUFHLEtBQUs7QUFDM0IiLCJpZ25vcmVMaXN0IjpbXX0=