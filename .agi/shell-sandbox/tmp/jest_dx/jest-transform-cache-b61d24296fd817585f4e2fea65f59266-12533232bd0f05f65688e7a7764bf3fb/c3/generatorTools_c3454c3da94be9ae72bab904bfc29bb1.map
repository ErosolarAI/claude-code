{"version":3,"names":["createGeneratorTools","name","description","parameters","type","properties","intent","inputs","items","required","additionalProperties","handlerNotes","integration","handler","args","trim","Array","isArray","filter","entry","map","String","undefined","schemaProps","requiredFields","input","push","toolDraft","toolDefinition","Object","keys","length","wiring","suggestedCapabilityModule","suggestedToolSuiteId","pluginId","JSON","stringify"],"sources":["generatorTools.ts"],"sourcesContent":["import type { ToolDefinition } from '../core/toolRuntime.js';\n\nexport function createGeneratorTools(): ToolDefinition[] {\n  return [\n    {\n      name: 'GenerateTool',\n      description:\n        'Drafts a new tool definition (name, description, params, handler skeleton) for AGI Core. Use this to propose/build tools that can be wired into capability modules. Returns JSON of the tool draft.',\n      parameters: {\n        type: 'object',\n        properties: {\n          name: { type: 'string', description: 'Tool name (CamelCase or short id).' },\n          description: { type: 'string', description: 'What the tool does and why.' },\n          intent: { type: 'string', description: 'Purpose/use-case (e.g., QA, browser, build, human handoff).' },\n          inputs: {\n            type: 'array',\n            items: {\n              type: 'object',\n              properties: {\n                name: { type: 'string' },\n                type: { type: 'string', description: 'Type hint (string, number, boolean, array, object).' },\n                description: { type: 'string' },\n                required: { type: 'boolean' },\n              },\n              required: ['name', 'type'],\n              additionalProperties: false,\n            },\n            description: 'Input fields/schema for the tool.',\n          },\n          handlerNotes: {\n            type: 'string',\n            description: 'Guidance for the handler implementation (APIs to call, side effects, safety constraints).',\n          },\n          integration: {\n            type: 'string',\n            description: 'Where to integrate (e.g., capability module, tool suite id, plugin id).',\n          },\n        },\n        required: ['name', 'description', 'intent'],\n        additionalProperties: false,\n      },\n      handler: async (args) => {\n        const name = typeof args['name'] === 'string' ? args['name'].trim() : '';\n        const description = typeof args['description'] === 'string' ? args['description'].trim() : '';\n        const intent = typeof args['intent'] === 'string' ? args['intent'].trim() : '';\n        if (!name || !description || !intent) {\n          return 'Error: name, description, and intent are required.';\n        }\n\n        const inputs = Array.isArray(args['inputs'])\n          ? args['inputs']\n              .filter(\n                (entry) =>\n                  entry &&\n                  typeof entry === 'object' &&\n                  typeof entry['name'] === 'string' &&\n                  typeof entry['type'] === 'string'\n              )\n              .map((entry) => ({\n                name: String(entry['name']).trim(),\n                type: String(entry['type']).trim(),\n                description: typeof entry['description'] === 'string' ? entry['description'] : undefined,\n                required: entry['required'] === true,\n              }))\n          : [];\n\n        const schemaProps: Record<string, unknown> = {};\n        const requiredFields: string[] = [];\n        for (const input of inputs) {\n          schemaProps[input.name] = {\n            type: input.type,\n            description: input.description,\n          };\n          if (input.required) {\n            requiredFields.push(input.name);\n          }\n        }\n\n        const toolDraft = {\n          name,\n          description,\n          intent,\n          toolDefinition: {\n            name,\n            description,\n            parameters: Object.keys(schemaProps).length\n              ? {\n                  type: 'object',\n                  properties: schemaProps,\n                  required: requiredFields.length ? requiredFields : undefined,\n                  additionalProperties: false,\n                }\n              : undefined,\n            handler: '// TODO: implement handler based on handlerNotes/integration',\n          },\n          handlerNotes: typeof args['handlerNotes'] === 'string' ? args['handlerNotes'] : undefined,\n          integration: typeof args['integration'] === 'string' ? args['integration'] : undefined,\n          wiring: {\n            suggestedCapabilityModule: 'human-ops or custom capability',\n            suggestedToolSuiteId: 'generator',\n            pluginId: 'tool.generator',\n          },\n        };\n\n        return JSON.stringify(toolDraft, null, 2);\n      },\n    },\n  ];\n}\n"],"mappings":"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","ignoreList":[]}