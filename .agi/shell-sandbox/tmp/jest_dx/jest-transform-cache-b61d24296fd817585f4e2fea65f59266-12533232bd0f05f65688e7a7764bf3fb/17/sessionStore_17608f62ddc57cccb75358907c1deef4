faa82da38faabbb23635c589be46ec04
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.clearAutosaveSnapshot = clearAutosaveSnapshot;
exports.deleteSession = deleteSession;
exports.listSessions = listSessions;
exports.loadAutosaveSnapshot = loadAutosaveSnapshot;
exports.loadSessionById = loadSessionById;
exports.saveAutosaveSnapshot = saveAutosaveSnapshot;
exports.saveSessionSnapshot = saveSessionSnapshot;
var _nodeCrypto = require("node:crypto");
var _nodeFs = require("node:fs");
var _nodePath = require("node:path");
var _sessionStorage = require("./sessionStorage.js");
function listSessions(profile) {
  const index = readIndex();
  const entries = Object.values(index.entries);
  const filtered = profile ? entries.filter(entry => entry.profile === profile) : entries;
  return filtered.sort((a, b) => {
    const aTime = Date.parse(a.updatedAt ?? '') || 0;
    const bTime = Date.parse(b.updatedAt ?? '') || 0;
    return bTime - aTime;
  });
}
function saveSessionSnapshot(options) {
  ensureDirectory();
  if (!Array.isArray(options.messages)) {
    throw new Error('Session snapshots must include the entire message history array.');
  }
  const index = readIndex();
  const now = new Date().toISOString();
  const existingId = options.id ?? null;
  const summaryId = existingId && index.entries[existingId] ? existingId : (0, _nodeCrypto.randomUUID)();
  const previous = index.entries[summaryId];
  const summary = {
    id: summaryId,
    title: sanitizeTitle(options.title) ?? previous?.title ?? buildDefaultTitle(options.messages),
    profile: options.profile,
    provider: options.provider,
    model: options.model,
    workspaceRoot: options.workspaceRoot ?? previous?.workspaceRoot ?? undefined,
    createdAt: previous?.createdAt ?? now,
    updatedAt: now,
    messageCount: options.messages.length
  };
  const payload = {
    ...summary,
    messages: options.messages,
    ...(options.scrollbackBuffer && {
      scrollbackBuffer: options.scrollbackBuffer
    })
  };
  writeFile(getSessionPath(summaryId), JSON.stringify(payload, null, 2));
  index.entries[summaryId] = summary;
  writeIndex(index);
  return summary;
}
function loadSessionById(id) {
  if (!id) {
    return null;
  }
  const raw = readFile(getSessionPath(id));
  if (!raw) return null;
  try {
    const parsed = JSON.parse(raw);
    return parsed;
  } catch {
    return null;
  }
}
function deleteSession(id) {
  if (!id) {
    return false;
  }
  const index = readIndex();
  if (!index.entries[id]) {
    return false;
  }
  (0, _sessionStorage.getSessionStorage)().deleteFile(getSessionPath(id));
  delete index.entries[id];
  writeIndex(index);
  return true;
}
function saveAutosaveSnapshot(profile, options) {
  ensureDirectory();
  const payload = {
    id: `autosave-${profile}`,
    profile,
    provider: options.provider,
    model: options.model,
    workspaceRoot: options.workspaceRoot ?? undefined,
    createdAt: new Date().toISOString(),
    updatedAt: new Date().toISOString(),
    title: sanitizeTitle(options.title) ?? buildDefaultTitle(options.messages),
    messageCount: options.messages.length,
    messages: options.messages
  };
  writeFile(getAutosavePath(profile), JSON.stringify(payload, null, 2));
}
function loadAutosaveSnapshot(profile) {
  const raw = readFile(getAutosavePath(profile));
  if (!raw) return null;
  try {
    return JSON.parse(raw);
  } catch {
    return null;
  }
}
function clearAutosaveSnapshot(profile) {
  (0, _sessionStorage.getSessionStorage)().deleteFile(getAutosavePath(profile));
}
function readIndex() {
  ensureDirectory();
  try {
    const raw = readFile(getIndexPath());
    const parsed = JSON.parse(raw);
    if (!parsed || typeof parsed !== 'object' || typeof parsed.entries !== 'object') {
      return {
        entries: {}
      };
    }
    return {
      entries: {
        ...parsed.entries
      }
    };
  } catch {
    return {
      entries: {}
    };
  }
}
function writeIndex(index) {
  ensureDirectory();
  writeFile(getIndexPath(), JSON.stringify(index, null, 2));
}
function ensureDirectory() {
  (0, _sessionStorage.getSessionStorage)().ensureDir(getSessionsDir());
}
function getSessionPath(id) {
  return (0, _nodePath.join)(getSessionsDir(), `${id}.json`);
}
function getAutosavePath(profile) {
  return (0, _nodePath.join)(getSessionsDir(), `${profile}-autosave.json`);
}
function getSessionsDir() {
  return (0, _nodePath.join)((0, _sessionStorage.getSessionStorage)().root, 'sessions');
}
function getIndexPath() {
  return (0, _nodePath.join)(getSessionsDir(), 'index.json');
}
function readFile(path) {
  return (0, _sessionStorage.getSessionStorage)().readFile(path);
}
function writeFile(path, content) {
  return (0, _sessionStorage.getSessionStorage)().writeFile(path, content);
}
function sanitizeTitle(value) {
  if (typeof value !== 'string') {
    return null;
  }
  const trimmed = value.trim();
  if (!trimmed) {
    return null;
  }
  return trimmed.slice(0, 160);
}
function buildDefaultTitle(messages) {
  for (const message of messages) {
    if (message.role !== 'user') {
      continue;
    }
    const condensed = message.content.trim().replace(/\s+/g, ' ');
    if (condensed) {
      return condensed.slice(0, 160);
    }
  }
  return `Session ${new Date().toLocaleString()}`;
}
function pruneOrphans() {
  try {
    ensureDirectory();
    const index = readIndex();
    const known = new Set(Object.keys(index.entries));
    const dir = getSessionsDir();
    for (const file of (0, _nodeFs.readdirSync)(dir)) {
      if (!file.endsWith('.json')) {
        continue;
      }
      if (file === 'index.json' || file.includes('-autosave')) {
        continue;
      }
      const id = file.slice(0, -5);
      if (!known.has(id)) {
        const candidate = (0, _nodePath.join)(dir, file);
        const stats = (0, _nodeFs.statSync)(candidate);
        if (stats.isFile()) {
          (0, _sessionStorage.getSessionStorage)().deleteFile(candidate);
        }
      }
    }
  } catch {
    // best-effort cleanup
  }
}
pruneOrphans();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbm9kZUNyeXB0byIsInJlcXVpcmUiLCJfbm9kZUZzIiwiX25vZGVQYXRoIiwiX3Nlc3Npb25TdG9yYWdlIiwibGlzdFNlc3Npb25zIiwicHJvZmlsZSIsImluZGV4IiwicmVhZEluZGV4IiwiZW50cmllcyIsIk9iamVjdCIsInZhbHVlcyIsImZpbHRlcmVkIiwiZmlsdGVyIiwiZW50cnkiLCJzb3J0IiwiYSIsImIiLCJhVGltZSIsIkRhdGUiLCJwYXJzZSIsInVwZGF0ZWRBdCIsImJUaW1lIiwic2F2ZVNlc3Npb25TbmFwc2hvdCIsIm9wdGlvbnMiLCJlbnN1cmVEaXJlY3RvcnkiLCJBcnJheSIsImlzQXJyYXkiLCJtZXNzYWdlcyIsIkVycm9yIiwibm93IiwidG9JU09TdHJpbmciLCJleGlzdGluZ0lkIiwiaWQiLCJzdW1tYXJ5SWQiLCJyYW5kb21VVUlEIiwicHJldmlvdXMiLCJzdW1tYXJ5IiwidGl0bGUiLCJzYW5pdGl6ZVRpdGxlIiwiYnVpbGREZWZhdWx0VGl0bGUiLCJwcm92aWRlciIsIm1vZGVsIiwid29ya3NwYWNlUm9vdCIsInVuZGVmaW5lZCIsImNyZWF0ZWRBdCIsIm1lc3NhZ2VDb3VudCIsImxlbmd0aCIsInBheWxvYWQiLCJzY3JvbGxiYWNrQnVmZmVyIiwid3JpdGVGaWxlIiwiZ2V0U2Vzc2lvblBhdGgiLCJKU09OIiwic3RyaW5naWZ5Iiwid3JpdGVJbmRleCIsImxvYWRTZXNzaW9uQnlJZCIsInJhdyIsInJlYWRGaWxlIiwicGFyc2VkIiwiZGVsZXRlU2Vzc2lvbiIsImdldFNlc3Npb25TdG9yYWdlIiwiZGVsZXRlRmlsZSIsInNhdmVBdXRvc2F2ZVNuYXBzaG90IiwiZ2V0QXV0b3NhdmVQYXRoIiwibG9hZEF1dG9zYXZlU25hcHNob3QiLCJjbGVhckF1dG9zYXZlU25hcHNob3QiLCJnZXRJbmRleFBhdGgiLCJlbnN1cmVEaXIiLCJnZXRTZXNzaW9uc0RpciIsImpvaW4iLCJyb290IiwicGF0aCIsImNvbnRlbnQiLCJ2YWx1ZSIsInRyaW1tZWQiLCJ0cmltIiwic2xpY2UiLCJtZXNzYWdlIiwicm9sZSIsImNvbmRlbnNlZCIsInJlcGxhY2UiLCJ0b0xvY2FsZVN0cmluZyIsInBydW5lT3JwaGFucyIsImtub3duIiwiU2V0Iiwia2V5cyIsImRpciIsImZpbGUiLCJyZWFkZGlyU3luYyIsImVuZHNXaXRoIiwiaW5jbHVkZXMiLCJoYXMiLCJjYW5kaWRhdGUiLCJzdGF0cyIsInN0YXRTeW5jIiwiaXNGaWxlIl0sInNvdXJjZXMiOlsic2Vzc2lvblN0b3JlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHJhbmRvbVVVSUQgfSBmcm9tICdub2RlOmNyeXB0byc7XG5pbXBvcnQgeyByZWFkZGlyU3luYywgc3RhdFN5bmMgfSBmcm9tICdub2RlOmZzJztcbmltcG9ydCB7IGpvaW4gfSBmcm9tICdub2RlOnBhdGgnO1xuaW1wb3J0IHR5cGUgeyBDb252ZXJzYXRpb25NZXNzYWdlLCBQcm92aWRlcklkIH0gZnJvbSAnLi90eXBlcy5qcyc7XG5pbXBvcnQgdHlwZSB7IFByb2ZpbGVOYW1lIH0gZnJvbSAnLi4vY29uZmlnLmpzJztcbmltcG9ydCB7IGdldFNlc3Npb25TdG9yYWdlIH0gZnJvbSAnLi9zZXNzaW9uU3RvcmFnZS5qcyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2Vzc2lvblN1bW1hcnkge1xuICBpZDogc3RyaW5nO1xuICB0aXRsZTogc3RyaW5nO1xuICBwcm9maWxlOiBQcm9maWxlTmFtZTtcbiAgcHJvdmlkZXI6IFByb3ZpZGVySWQ7XG4gIG1vZGVsOiBzdHJpbmc7XG4gIGNyZWF0ZWRBdDogc3RyaW5nO1xuICB1cGRhdGVkQXQ6IHN0cmluZztcbiAgbWVzc2FnZUNvdW50OiBudW1iZXI7XG4gIHdvcmtzcGFjZVJvb3Q/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RvcmVkU2Vzc2lvbiBleHRlbmRzIFNlc3Npb25TdW1tYXJ5IHtcbiAgbWVzc2FnZXM6IENvbnZlcnNhdGlvbk1lc3NhZ2VbXTtcbiAgc2Nyb2xsYmFja0J1ZmZlcj86IHN0cmluZ1tdOyAvLyBPcHRpb25hbCBzY3JvbGxiYWNrIGhpc3Rvcnlcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTYXZlU2Vzc2lvbk9wdGlvbnMge1xuICBpZD86IHN0cmluZyB8IG51bGw7XG4gIHRpdGxlPzogc3RyaW5nIHwgbnVsbDtcbiAgcHJvZmlsZTogUHJvZmlsZU5hbWU7XG4gIHByb3ZpZGVyOiBQcm92aWRlcklkO1xuICBtb2RlbDogc3RyaW5nO1xuICB3b3Jrc3BhY2VSb290Pzogc3RyaW5nIHwgbnVsbDtcbiAgbWVzc2FnZXM6IENvbnZlcnNhdGlvbk1lc3NhZ2VbXTtcbiAgc2Nyb2xsYmFja0J1ZmZlcj86IHN0cmluZ1tdOyAvLyBPcHRpb25hbCBzY3JvbGxiYWNrIGhpc3Rvcnlcbn1cblxuaW50ZXJmYWNlIFNlc3Npb25JbmRleCB7XG4gIGVudHJpZXM6IFJlY29yZDxzdHJpbmcsIFNlc3Npb25TdW1tYXJ5Pjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxpc3RTZXNzaW9ucyhwcm9maWxlPzogUHJvZmlsZU5hbWUpOiBTZXNzaW9uU3VtbWFyeVtdIHtcbiAgY29uc3QgaW5kZXggPSByZWFkSW5kZXgoKTtcbiAgY29uc3QgZW50cmllcyA9IE9iamVjdC52YWx1ZXMoaW5kZXguZW50cmllcyk7XG4gIGNvbnN0IGZpbHRlcmVkID0gcHJvZmlsZSA/IGVudHJpZXMuZmlsdGVyKChlbnRyeSkgPT4gZW50cnkucHJvZmlsZSA9PT0gcHJvZmlsZSkgOiBlbnRyaWVzO1xuICByZXR1cm4gZmlsdGVyZWQuc29ydCgoYSwgYikgPT4ge1xuICAgIGNvbnN0IGFUaW1lID0gRGF0ZS5wYXJzZShhLnVwZGF0ZWRBdCA/PyAnJykgfHwgMDtcbiAgICBjb25zdCBiVGltZSA9IERhdGUucGFyc2UoYi51cGRhdGVkQXQgPz8gJycpIHx8IDA7XG4gICAgcmV0dXJuIGJUaW1lIC0gYVRpbWU7XG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2F2ZVNlc3Npb25TbmFwc2hvdChvcHRpb25zOiBTYXZlU2Vzc2lvbk9wdGlvbnMpOiBTZXNzaW9uU3VtbWFyeSB7XG4gIGVuc3VyZURpcmVjdG9yeSgpO1xuICBpZiAoIUFycmF5LmlzQXJyYXkob3B0aW9ucy5tZXNzYWdlcykpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1Nlc3Npb24gc25hcHNob3RzIG11c3QgaW5jbHVkZSB0aGUgZW50aXJlIG1lc3NhZ2UgaGlzdG9yeSBhcnJheS4nKTtcbiAgfVxuXG4gIGNvbnN0IGluZGV4ID0gcmVhZEluZGV4KCk7XG4gIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcbiAgY29uc3QgZXhpc3RpbmdJZCA9IG9wdGlvbnMuaWQgPz8gbnVsbDtcbiAgY29uc3Qgc3VtbWFyeUlkID1cbiAgICBleGlzdGluZ0lkICYmIGluZGV4LmVudHJpZXNbZXhpc3RpbmdJZF0gPyBleGlzdGluZ0lkIDogcmFuZG9tVVVJRCgpO1xuICBjb25zdCBwcmV2aW91cyA9IGluZGV4LmVudHJpZXNbc3VtbWFyeUlkXTtcblxuICBjb25zdCBzdW1tYXJ5OiBTZXNzaW9uU3VtbWFyeSA9IHtcbiAgICBpZDogc3VtbWFyeUlkLFxuICAgIHRpdGxlOiBzYW5pdGl6ZVRpdGxlKG9wdGlvbnMudGl0bGUpID8/IHByZXZpb3VzPy50aXRsZSA/PyBidWlsZERlZmF1bHRUaXRsZShvcHRpb25zLm1lc3NhZ2VzKSxcbiAgICBwcm9maWxlOiBvcHRpb25zLnByb2ZpbGUsXG4gICAgcHJvdmlkZXI6IG9wdGlvbnMucHJvdmlkZXIsXG4gICAgbW9kZWw6IG9wdGlvbnMubW9kZWwsXG4gICAgd29ya3NwYWNlUm9vdDogb3B0aW9ucy53b3Jrc3BhY2VSb290ID8/IHByZXZpb3VzPy53b3Jrc3BhY2VSb290ID8/IHVuZGVmaW5lZCxcbiAgICBjcmVhdGVkQXQ6IHByZXZpb3VzPy5jcmVhdGVkQXQgPz8gbm93LFxuICAgIHVwZGF0ZWRBdDogbm93LFxuICAgIG1lc3NhZ2VDb3VudDogb3B0aW9ucy5tZXNzYWdlcy5sZW5ndGgsXG4gIH07XG5cbiAgY29uc3QgcGF5bG9hZDogU3RvcmVkU2Vzc2lvbiA9IHtcbiAgICAuLi5zdW1tYXJ5LFxuICAgIG1lc3NhZ2VzOiBvcHRpb25zLm1lc3NhZ2VzLFxuICAgIC4uLihvcHRpb25zLnNjcm9sbGJhY2tCdWZmZXIgJiYgeyBzY3JvbGxiYWNrQnVmZmVyOiBvcHRpb25zLnNjcm9sbGJhY2tCdWZmZXIgfSksXG4gIH07XG5cbiAgd3JpdGVGaWxlKGdldFNlc3Npb25QYXRoKHN1bW1hcnlJZCksIEpTT04uc3RyaW5naWZ5KHBheWxvYWQsIG51bGwsIDIpKTtcbiAgaW5kZXguZW50cmllc1tzdW1tYXJ5SWRdID0gc3VtbWFyeTtcbiAgd3JpdGVJbmRleChpbmRleCk7XG4gIHJldHVybiBzdW1tYXJ5O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbG9hZFNlc3Npb25CeUlkKGlkOiBzdHJpbmcpOiBTdG9yZWRTZXNzaW9uIHwgbnVsbCB7XG4gIGlmICghaWQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBjb25zdCByYXcgPSByZWFkRmlsZShnZXRTZXNzaW9uUGF0aChpZCkpO1xuICBpZiAoIXJhdykgcmV0dXJuIG51bGw7XG4gIHRyeSB7XG4gICAgY29uc3QgcGFyc2VkID0gSlNPTi5wYXJzZShyYXcpIGFzIFN0b3JlZFNlc3Npb247XG4gICAgcmV0dXJuIHBhcnNlZDtcbiAgfSBjYXRjaCB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlbGV0ZVNlc3Npb24oaWQ6IHN0cmluZyk6IGJvb2xlYW4ge1xuICBpZiAoIWlkKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGNvbnN0IGluZGV4ID0gcmVhZEluZGV4KCk7XG4gIGlmICghaW5kZXguZW50cmllc1tpZF0pIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgZ2V0U2Vzc2lvblN0b3JhZ2UoKS5kZWxldGVGaWxlKGdldFNlc3Npb25QYXRoKGlkKSk7XG4gIGRlbGV0ZSBpbmRleC5lbnRyaWVzW2lkXTtcbiAgd3JpdGVJbmRleChpbmRleCk7XG4gIHJldHVybiB0cnVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2F2ZUF1dG9zYXZlU25hcHNob3QoXG4gIHByb2ZpbGU6IFByb2ZpbGVOYW1lLFxuICBvcHRpb25zOiBPbWl0PFNhdmVTZXNzaW9uT3B0aW9ucywgJ3Byb2ZpbGUnPlxuKTogdm9pZCB7XG4gIGVuc3VyZURpcmVjdG9yeSgpO1xuICBjb25zdCBwYXlsb2FkOiBTdG9yZWRTZXNzaW9uID0ge1xuICAgIGlkOiBgYXV0b3NhdmUtJHtwcm9maWxlfWAsXG4gICAgcHJvZmlsZSxcbiAgICBwcm92aWRlcjogb3B0aW9ucy5wcm92aWRlcixcbiAgICBtb2RlbDogb3B0aW9ucy5tb2RlbCxcbiAgICB3b3Jrc3BhY2VSb290OiBvcHRpb25zLndvcmtzcGFjZVJvb3QgPz8gdW5kZWZpbmVkLFxuICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgIHRpdGxlOiBzYW5pdGl6ZVRpdGxlKG9wdGlvbnMudGl0bGUpID8/IGJ1aWxkRGVmYXVsdFRpdGxlKG9wdGlvbnMubWVzc2FnZXMpLFxuICAgIG1lc3NhZ2VDb3VudDogb3B0aW9ucy5tZXNzYWdlcy5sZW5ndGgsXG4gICAgbWVzc2FnZXM6IG9wdGlvbnMubWVzc2FnZXMsXG4gIH07XG4gIHdyaXRlRmlsZShnZXRBdXRvc2F2ZVBhdGgocHJvZmlsZSksIEpTT04uc3RyaW5naWZ5KHBheWxvYWQsIG51bGwsIDIpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxvYWRBdXRvc2F2ZVNuYXBzaG90KHByb2ZpbGU6IFByb2ZpbGVOYW1lKTogU3RvcmVkU2Vzc2lvbiB8IG51bGwge1xuICBjb25zdCByYXcgPSByZWFkRmlsZShnZXRBdXRvc2F2ZVBhdGgocHJvZmlsZSkpO1xuICBpZiAoIXJhdykgcmV0dXJuIG51bGw7XG4gIHRyeSB7XG4gICAgcmV0dXJuIEpTT04ucGFyc2UocmF3KSBhcyBTdG9yZWRTZXNzaW9uO1xuICB9IGNhdGNoIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY2xlYXJBdXRvc2F2ZVNuYXBzaG90KHByb2ZpbGU6IFByb2ZpbGVOYW1lKTogdm9pZCB7XG4gIGdldFNlc3Npb25TdG9yYWdlKCkuZGVsZXRlRmlsZShnZXRBdXRvc2F2ZVBhdGgocHJvZmlsZSkpO1xufVxuXG5mdW5jdGlvbiByZWFkSW5kZXgoKTogU2Vzc2lvbkluZGV4IHtcbiAgZW5zdXJlRGlyZWN0b3J5KCk7XG4gIHRyeSB7XG4gICAgY29uc3QgcmF3ID0gcmVhZEZpbGUoZ2V0SW5kZXhQYXRoKCkpO1xuICAgIGNvbnN0IHBhcnNlZCA9IEpTT04ucGFyc2UocmF3KSBhcyBTZXNzaW9uSW5kZXg7XG4gICAgaWYgKCFwYXJzZWQgfHwgdHlwZW9mIHBhcnNlZCAhPT0gJ29iamVjdCcgfHwgdHlwZW9mIHBhcnNlZC5lbnRyaWVzICE9PSAnb2JqZWN0Jykge1xuICAgICAgcmV0dXJuIHsgZW50cmllczoge30gfTtcbiAgICB9XG4gICAgcmV0dXJuIHsgZW50cmllczogeyAuLi5wYXJzZWQuZW50cmllcyB9IH07XG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiB7IGVudHJpZXM6IHt9IH07XG4gIH1cbn1cblxuZnVuY3Rpb24gd3JpdGVJbmRleChpbmRleDogU2Vzc2lvbkluZGV4KTogdm9pZCB7XG4gIGVuc3VyZURpcmVjdG9yeSgpO1xuICB3cml0ZUZpbGUoZ2V0SW5kZXhQYXRoKCksIEpTT04uc3RyaW5naWZ5KGluZGV4LCBudWxsLCAyKSk7XG59XG5cbmZ1bmN0aW9uIGVuc3VyZURpcmVjdG9yeSgpOiB2b2lkIHtcbiAgZ2V0U2Vzc2lvblN0b3JhZ2UoKS5lbnN1cmVEaXIoZ2V0U2Vzc2lvbnNEaXIoKSk7XG59XG5cbmZ1bmN0aW9uIGdldFNlc3Npb25QYXRoKGlkOiBzdHJpbmcpOiBzdHJpbmcge1xuICByZXR1cm4gam9pbihnZXRTZXNzaW9uc0RpcigpLCBgJHtpZH0uanNvbmApO1xufVxuXG5mdW5jdGlvbiBnZXRBdXRvc2F2ZVBhdGgocHJvZmlsZTogUHJvZmlsZU5hbWUpOiBzdHJpbmcge1xuICByZXR1cm4gam9pbihnZXRTZXNzaW9uc0RpcigpLCBgJHtwcm9maWxlfS1hdXRvc2F2ZS5qc29uYCk7XG59XG5cbmZ1bmN0aW9uIGdldFNlc3Npb25zRGlyKCk6IHN0cmluZyB7XG4gIHJldHVybiBqb2luKGdldFNlc3Npb25TdG9yYWdlKCkucm9vdCwgJ3Nlc3Npb25zJyk7XG59XG5cbmZ1bmN0aW9uIGdldEluZGV4UGF0aCgpOiBzdHJpbmcge1xuICByZXR1cm4gam9pbihnZXRTZXNzaW9uc0RpcigpLCAnaW5kZXguanNvbicpO1xufVxuXG5mdW5jdGlvbiByZWFkRmlsZShwYXRoOiBzdHJpbmcpOiBzdHJpbmcgfCBudWxsIHtcbiAgcmV0dXJuIGdldFNlc3Npb25TdG9yYWdlKCkucmVhZEZpbGUocGF0aCk7XG59XG5cbmZ1bmN0aW9uIHdyaXRlRmlsZShwYXRoOiBzdHJpbmcsIGNvbnRlbnQ6IHN0cmluZyk6IHZvaWQge1xuICByZXR1cm4gZ2V0U2Vzc2lvblN0b3JhZ2UoKS53cml0ZUZpbGUocGF0aCwgY29udGVudCk7XG59XG5cbmZ1bmN0aW9uIHNhbml0aXplVGl0bGUodmFsdWU6IHN0cmluZyB8IG51bGwgfCB1bmRlZmluZWQpOiBzdHJpbmcgfCBudWxsIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBjb25zdCB0cmltbWVkID0gdmFsdWUudHJpbSgpO1xuICBpZiAoIXRyaW1tZWQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gdHJpbW1lZC5zbGljZSgwLCAxNjApO1xufVxuXG5mdW5jdGlvbiBidWlsZERlZmF1bHRUaXRsZShtZXNzYWdlczogQ29udmVyc2F0aW9uTWVzc2FnZVtdKTogc3RyaW5nIHtcbiAgZm9yIChjb25zdCBtZXNzYWdlIG9mIG1lc3NhZ2VzKSB7XG4gICAgaWYgKG1lc3NhZ2Uucm9sZSAhPT0gJ3VzZXInKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgY29uc3QgY29uZGVuc2VkID0gbWVzc2FnZS5jb250ZW50LnRyaW0oKS5yZXBsYWNlKC9cXHMrL2csICcgJyk7XG4gICAgaWYgKGNvbmRlbnNlZCkge1xuICAgICAgcmV0dXJuIGNvbmRlbnNlZC5zbGljZSgwLCAxNjApO1xuICAgIH1cbiAgfVxuICByZXR1cm4gYFNlc3Npb24gJHtuZXcgRGF0ZSgpLnRvTG9jYWxlU3RyaW5nKCl9YDtcbn1cblxuZnVuY3Rpb24gcHJ1bmVPcnBoYW5zKCk6IHZvaWQge1xuICB0cnkge1xuICAgIGVuc3VyZURpcmVjdG9yeSgpO1xuICAgIGNvbnN0IGluZGV4ID0gcmVhZEluZGV4KCk7XG4gICAgY29uc3Qga25vd24gPSBuZXcgU2V0KE9iamVjdC5rZXlzKGluZGV4LmVudHJpZXMpKTtcbiAgICBjb25zdCBkaXIgPSBnZXRTZXNzaW9uc0RpcigpO1xuICAgIGZvciAoY29uc3QgZmlsZSBvZiByZWFkZGlyU3luYyhkaXIpKSB7XG4gICAgICBpZiAoIWZpbGUuZW5kc1dpdGgoJy5qc29uJykpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAoZmlsZSA9PT0gJ2luZGV4Lmpzb24nIHx8IGZpbGUuaW5jbHVkZXMoJy1hdXRvc2F2ZScpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgY29uc3QgaWQgPSBmaWxlLnNsaWNlKDAsIC01KTtcbiAgICAgIGlmICgha25vd24uaGFzKGlkKSkge1xuICAgICAgICBjb25zdCBjYW5kaWRhdGUgPSBqb2luKGRpciwgZmlsZSk7XG4gICAgICAgIGNvbnN0IHN0YXRzID0gc3RhdFN5bmMoY2FuZGlkYXRlKTtcbiAgICAgICAgaWYgKHN0YXRzLmlzRmlsZSgpKSB7XG4gICAgICAgICAgZ2V0U2Vzc2lvblN0b3JhZ2UoKS5kZWxldGVGaWxlKGNhbmRpZGF0ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0gY2F0Y2gge1xuICAgIC8vIGJlc3QtZWZmb3J0IGNsZWFudXBcbiAgfVxufVxuXG5wcnVuZU9ycGhhbnMoKTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQUEsSUFBQUEsV0FBQSxHQUFBQyxPQUFBO0FBQ0EsSUFBQUMsT0FBQSxHQUFBRCxPQUFBO0FBQ0EsSUFBQUUsU0FBQSxHQUFBRixPQUFBO0FBR0EsSUFBQUcsZUFBQSxHQUFBSCxPQUFBO0FBa0NPLFNBQVNJLFlBQVlBLENBQUNDLE9BQXFCLEVBQW9CO0VBQ3BFLE1BQU1DLEtBQUssR0FBR0MsU0FBUyxDQUFDLENBQUM7RUFDekIsTUFBTUMsT0FBTyxHQUFHQyxNQUFNLENBQUNDLE1BQU0sQ0FBQ0osS0FBSyxDQUFDRSxPQUFPLENBQUM7RUFDNUMsTUFBTUcsUUFBUSxHQUFHTixPQUFPLEdBQUdHLE9BQU8sQ0FBQ0ksTUFBTSxDQUFFQyxLQUFLLElBQUtBLEtBQUssQ0FBQ1IsT0FBTyxLQUFLQSxPQUFPLENBQUMsR0FBR0csT0FBTztFQUN6RixPQUFPRyxRQUFRLENBQUNHLElBQUksQ0FBQyxDQUFDQyxDQUFDLEVBQUVDLENBQUMsS0FBSztJQUM3QixNQUFNQyxLQUFLLEdBQUdDLElBQUksQ0FBQ0MsS0FBSyxDQUFDSixDQUFDLENBQUNLLFNBQVMsSUFBSSxFQUFFLENBQUMsSUFBSSxDQUFDO0lBQ2hELE1BQU1DLEtBQUssR0FBR0gsSUFBSSxDQUFDQyxLQUFLLENBQUNILENBQUMsQ0FBQ0ksU0FBUyxJQUFJLEVBQUUsQ0FBQyxJQUFJLENBQUM7SUFDaEQsT0FBT0MsS0FBSyxHQUFHSixLQUFLO0VBQ3RCLENBQUMsQ0FBQztBQUNKO0FBRU8sU0FBU0ssbUJBQW1CQSxDQUFDQyxPQUEyQixFQUFrQjtFQUMvRUMsZUFBZSxDQUFDLENBQUM7RUFDakIsSUFBSSxDQUFDQyxLQUFLLENBQUNDLE9BQU8sQ0FBQ0gsT0FBTyxDQUFDSSxRQUFRLENBQUMsRUFB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