1f66b33127e430f9e7fbf88d1c3e7d8f
/* istanbul ignore next */
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.isPlainOutputMode = isPlainOutputMode;
exports.resetPlainOutputMode = resetPlainOutputMode;
exports.setPlainOutputMode = setPlainOutputMode;
function cov_9dpukb4xq() {
  var path = "/Users/bo/GitHub/agi-core-CLI-coding/src/ui/outputMode.ts";
  var hash = "6e31f134b38354bfe02186c4d2498a4328d1c9cb";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/Users/bo/GitHub/agi-core-CLI-coding/src/ui/outputMode.ts",
    statementMap: {
      "0": {
        start: {
          line: 9,
          column: 33
        },
        end: {
          line: 9,
          column: 37
        }
      },
      "1": {
        start: {
          line: 16,
          column: 2
        },
        end: {
          line: 18,
          column: 3
        }
      },
      "2": {
        start: {
          line: 17,
          column: 4
        },
        end: {
          line: 17,
          column: 22
        }
      },
      "3": {
        start: {
          line: 20,
          column: 19
        },
        end: {
          line: 20,
          column: 50
        }
      },
      "4": {
        start: {
          line: 21,
          column: 2
        },
        end: {
          line: 27,
          column: 3
        }
      },
      "5": {
        start: {
          line: 22,
          column: 23
        },
        end: {
          line: 22,
          column: 82
        }
      },
      "6": {
        start: {
          line: 23,
          column: 4
        },
        end: {
          line: 26,
          column: 5
        }
      },
      "7": {
        start: {
          line: 24,
          column: 6
        },
        end: {
          line: 24,
          column: 24
        }
      },
      "8": {
        start: {
          line: 25,
          column: 6
        },
        end: {
          line: 25,
          column: 24
        }
      },
      "9": {
        start: {
          line: 29,
          column: 16
        },
        end: {
          line: 29,
          column: 70
        }
      },
      "10": {
        start: {
          line: 30,
          column: 15
        },
        end: {
          line: 30,
          column: 41
        }
      },
      "11": {
        start: {
          line: 33,
          column: 2
        },
        end: {
          line: 33,
          column: 30
        }
      },
      "12": {
        start: {
          line: 35,
          column: 2
        },
        end: {
          line: 35,
          column: 20
        }
      },
      "13": {
        start: {
          line: 42,
          column: 2
        },
        end: {
          line: 42,
          column: 23
        }
      },
      "14": {
        start: {
          line: 49,
          column: 2
        },
        end: {
          line: 49,
          column: 20
        }
      }
    },
    fnMap: {
      "0": {
        name: "isPlainOutputMode",
        decl: {
          start: {
            line: 15,
            column: 16
          },
          end: {
            line: 15,
            column: 33
          }
        },
        loc: {
          start: {
            line: 15,
            column: 45
          },
          end: {
            line: 36,
            column: 1
          }
        },
        line: 15
      },
      "1": {
        name: "setPlainOutputMode",
        decl: {
          start: {
            line: 41,
            column: 16
          },
          end: {
            line: 41,
            column: 34
          }
        },
        loc: {
          start: {
            line: 41,
            column: 59
          },
          end: {
            line: 43,
            column: 1
          }
        },
        line: 41
      },
      "2": {
        name: "resetPlainOutputMode",
        decl: {
          start: {
            line: 48,
            column: 16
          },
          end: {
            line: 48,
            column: 36
          }
        },
        loc: {
          start: {
            line: 48,
            column: 45
          },
          end: {
            line: 50,
            column: 1
          }
        },
        line: 48
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 16,
            column: 2
          },
          end: {
            line: 18,
            column: 3
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 16,
            column: 2
          },
          end: {
            line: 18,
            column: 3
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 16
      },
      "1": {
        loc: {
          start: {
            line: 21,
            column: 2
          },
          end: {
            line: 27,
            column: 3
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 21,
            column: 2
          },
          end: {
            line: 27,
            column: 3
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 21
      },
      "2": {
        loc: {
          start: {
            line: 23,
            column: 4
          },
          end: {
            line: 26,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 23,
            column: 4
          },
          end: {
            line: 26,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 23
      },
      "3": {
        loc: {
          start: {
            line: 29,
            column: 24
          },
          end: {
            line: 29,
            column: 69
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 29,
            column: 24
          },
          end: {
            line: 29,
            column: 45
          }
        }, {
          start: {
            line: 29,
            column: 49
          },
          end: {
            line: 29,
            column: 69
          }
        }],
        line: 29
      },
      "4": {
        loc: {
          start: {
            line: 33,
            column: 15
          },
          end: {
            line: 33,
            column: 29
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 33,
            column: 15
          },
          end: {
            line: 33,
            column: 21
          }
        }, {
          start: {
            line: 33,
            column: 25
          },
          end: {
            line: 33,
            column: 29
          }
        }],
        line: 33
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0]
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "6e31f134b38354bfe02186c4d2498a4328d1c9cb"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_9dpukb4xq = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_9dpukb4xq();
/**
 * Output mode configuration for terminal UI
 *
 * Controls whether to use decorative box-drawing characters or plain text.
 * Plain mode outputs clipboard-friendly text without Unicode borders.
 * Automatically enabled in CI or non-interactive shells; override with AGI_PLAIN_OUTPUT=true.
 */

let _plainMode =
/* istanbul ignore next */
(cov_9dpukb4xq().s[0]++, null);

/**
 * Check if plain output mode is enabled.
 * Plain mode outputs text without box-drawing characters for clean clipboard copying.
 */
function isPlainOutputMode() {
  /* istanbul ignore next */
  cov_9dpukb4xq().f[0]++;
  cov_9dpukb4xq().s[1]++;
  if (_plainMode !== null) {
    /* istanbul ignore next */
    cov_9dpukb4xq().b[0][0]++;
    cov_9dpukb4xq().s[2]++;
    return _plainMode;
  } else
  /* istanbul ignore next */
  {
    cov_9dpukb4xq().b[0][1]++;
  }
  const envValue =
  /* istanbul ignore next */
  (cov_9dpukb4xq().s[3]++, process.env['AGI_PLAIN_OUTPUT']);
  /* istanbul ignore next */
  cov_9dpukb4xq().s[4]++;
  if (envValue !== undefined) {
    /* istanbul ignore next */
    cov_9dpukb4xq().b[1][0]++;
    const envEnabled =
    /* istanbul ignore next */
    (cov_9dpukb4xq().s[5]++, ['true', '1', 'yes', 'on'].includes(envValue.toLowerCase()));
    /* istanbul ignore next */
    cov_9dpukb4xq().s[6]++;
    if (envEnabled) {
      /* istanbul ignore next */
      cov_9dpukb4xq().b[2][0]++;
      cov_9dpukb4xq().s[7]++;
      _plainMode = true;
      /* istanbul ignore next */
      cov_9dpukb4xq().s[8]++;
      return _plainMode;
    } else
    /* istanbul ignore next */
    {
      cov_9dpukb4xq().b[2][1]++;
    }
  } else
  /* istanbul ignore next */
  {
    cov_9dpukb4xq().b[1][1]++;
  }
  const isTty =
  /* istanbul ignore next */
  (cov_9dpukb4xq().s[9]++, Boolean(
  /* istanbul ignore next */
  (cov_9dpukb4xq().b[3][0]++, process.stdout?.isTTY) &&
  /* istanbul ignore next */
  (cov_9dpukb4xq().b[3][1]++, process.stdin?.isTTY)));
  const isCi =
  /* istanbul ignore next */
  (cov_9dpukb4xq().s[10]++, Boolean(process.env['CI']));

  // Default to plain logging in non-interactive/CI environments; rich UI only in TTY sessions.
  /* istanbul ignore next */
  cov_9dpukb4xq().s[11]++;
  _plainMode =
  /* istanbul ignore next */
  (cov_9dpukb4xq().b[4][0]++, !isTty) ||
  /* istanbul ignore next */
  (cov_9dpukb4xq().b[4][1]++, isCi);
  /* istanbul ignore next */
  cov_9dpukb4xq().s[12]++;
  return _plainMode;
}

/**
 * Override the plain output mode setting (useful for testing)
 */
function setPlainOutputMode(enabled) {
  /* istanbul ignore next */
  cov_9dpukb4xq().f[1]++;
  cov_9dpukb4xq().s[13]++;
  _plainMode = enabled;
}

/**
 * Reset plain output mode to check environment variable again
 */
function resetPlainOutputMode() {
  /* istanbul ignore next */
  cov_9dpukb4xq().f[2]++;
  cov_9dpukb4xq().s[14]++;
  _plainMode = null;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfOWRwdWtiNHhxIiwiYWN0dWFsQ292ZXJhZ2UiLCJfcGxhaW5Nb2RlIiwicyIsImlzUGxhaW5PdXRwdXRNb2RlIiwiZiIsImIiLCJlbnZWYWx1ZSIsInByb2Nlc3MiLCJlbnYiLCJ1bmRlZmluZWQiLCJlbnZFbmFibGVkIiwiaW5jbHVkZXMiLCJ0b0xvd2VyQ2FzZSIsImlzVHR5IiwiQm9vbGVhbiIsInN0ZG91dCIsImlzVFRZIiwic3RkaW4iLCJpc0NpIiwic2V0UGxhaW5PdXRwdXRNb2RlIiwiZW5hYmxlZCIsInJlc2V0UGxhaW5PdXRwdXRNb2RlIl0sInNvdXJjZXMiOlsib3V0cHV0TW9kZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIE91dHB1dCBtb2RlIGNvbmZpZ3VyYXRpb24gZm9yIHRlcm1pbmFsIFVJXG4gKlxuICogQ29udHJvbHMgd2hldGhlciB0byB1c2UgZGVjb3JhdGl2ZSBib3gtZHJhd2luZyBjaGFyYWN0ZXJzIG9yIHBsYWluIHRleHQuXG4gKiBQbGFpbiBtb2RlIG91dHB1dHMgY2xpcGJvYXJkLWZyaWVuZGx5IHRleHQgd2l0aG91dCBVbmljb2RlIGJvcmRlcnMuXG4gKiBBdXRvbWF0aWNhbGx5IGVuYWJsZWQgaW4gQ0kgb3Igbm9uLWludGVyYWN0aXZlIHNoZWxsczsgb3ZlcnJpZGUgd2l0aCBBR0lfUExBSU5fT1VUUFVUPXRydWUuXG4gKi9cblxubGV0IF9wbGFpbk1vZGU6IGJvb2xlYW4gfCBudWxsID0gbnVsbDtcblxuLyoqXG4gKiBDaGVjayBpZiBwbGFpbiBvdXRwdXQgbW9kZSBpcyBlbmFibGVkLlxuICogUGxhaW4gbW9kZSBvdXRwdXRzIHRleHQgd2l0aG91dCBib3gtZHJhd2luZyBjaGFyYWN0ZXJzIGZvciBjbGVhbiBjbGlwYm9hcmQgY29weWluZy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzUGxhaW5PdXRwdXRNb2RlKCk6IGJvb2xlYW4ge1xuICBpZiAoX3BsYWluTW9kZSAhPT0gbnVsbCkge1xuICAgIHJldHVybiBfcGxhaW5Nb2RlO1xuICB9XG5cbiAgY29uc3QgZW52VmFsdWUgPSBwcm9jZXNzLmVudlsnQUdJX1BMQUlOX09VVFBVVCddO1xuICBpZiAoZW52VmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgIGNvbnN0IGVudkVuYWJsZWQgPSBbJ3RydWUnLCAnMScsICd5ZXMnLCAnb24nXS5pbmNsdWRlcyhlbnZWYWx1ZS50b0xvd2VyQ2FzZSgpKTtcbiAgICBpZiAoZW52RW5hYmxlZCkge1xuICAgICAgX3BsYWluTW9kZSA9IHRydWU7XG4gICAgICByZXR1cm4gX3BsYWluTW9kZTtcbiAgICB9XG4gIH1cblxuICBjb25zdCBpc1R0eSA9IEJvb2xlYW4ocHJvY2Vzcy5zdGRvdXQ/LmlzVFRZICYmIHByb2Nlc3Muc3RkaW4/LmlzVFRZKTtcbiAgY29uc3QgaXNDaSA9IEJvb2xlYW4ocHJvY2Vzcy5lbnZbJ0NJJ10pO1xuXG4gIC8vIERlZmF1bHQgdG8gcGxhaW4gbG9nZ2luZyBpbiBub24taW50ZXJhY3RpdmUvQ0kgZW52aXJvbm1lbnRzOyByaWNoIFVJIG9ubHkgaW4gVFRZIHNlc3Npb25zLlxuICBfcGxhaW5Nb2RlID0gIWlzVHR5IHx8IGlzQ2k7XG5cbiAgcmV0dXJuIF9wbGFpbk1vZGU7XG59XG5cbi8qKlxuICogT3ZlcnJpZGUgdGhlIHBsYWluIG91dHB1dCBtb2RlIHNldHRpbmcgKHVzZWZ1bCBmb3IgdGVzdGluZylcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldFBsYWluT3V0cHV0TW9kZShlbmFibGVkOiBib29sZWFuKTogdm9pZCB7XG4gIF9wbGFpbk1vZGUgPSBlbmFibGVkO1xufVxuXG4vKipcbiAqIFJlc2V0IHBsYWluIG91dHB1dCBtb2RlIHRvIGNoZWNrIGVudmlyb25tZW50IHZhcmlhYmxlIGFnYWluXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXNldFBsYWluT3V0cHV0TW9kZSgpOiB2b2lkIHtcbiAgX3BsYWluTW9kZSA9IG51bGw7XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7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