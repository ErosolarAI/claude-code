{"version":3,"names":["_sessionStorage","require","describe","afterEach","setSessionStorage","getSessionStorage","it","storage","createInMemorySessionStorage","ensureDir","writeFile","expect","readFile","toBe","exists"],"sources":["sessionStorage.test.ts"],"sourcesContent":["import { createInMemorySessionStorage, setSessionStorage, getSessionStorage } from '../../src/core/sessionStorage.js';\n\ndescribe('sessionStorage abstraction', () => {\n  afterEach(() => {\n    // reset to default storage to avoid leaking in-memory storage across suites\n    setSessionStorage(getSessionStorage());\n  });\n\n  it('supports in-memory storage for tests', () => {\n    const storage = createInMemorySessionStorage();\n    setSessionStorage(storage);\n\n    storage.ensureDir('/mem/sessions');\n    storage.writeFile('/mem/sessions/test.json', '{\"hello\":\"world\"}');\n\n    expect(storage.readFile('/mem/sessions/test.json')).toBe('{\"hello\":\"world\"}');\n    expect(storage.exists('/mem/sessions/test.json')).toBe(true);\n  });\n});\n"],"mappings":";;AAAA,IAAAA,eAAA,GAAAC,OAAA;AAEAC,QAAQ,CAAC,4BAA4B,EAAE,MAAM;EAC3CC,SAAS,CAAC,MAAM;IACd;IACA,IAAAC,iCAAiB,EAAC,IAAAC,iCAAiB,EAAC,CAAC,CAAC;EACxC,CAAC,CAAC;EAEFC,EAAE,CAAC,sCAAsC,EAAE,MAAM;IAC/C,MAAMC,OAAO,GAAG,IAAAC,4CAA4B,EAAC,CAAC;IAC9C,IAAAJ,iCAAiB,EAACG,OAAO,CAAC;IAE1BA,OAAO,CAACE,SAAS,CAAC,eAAe,CAAC;IAClCF,OAAO,CAACG,SAAS,CAAC,yBAAyB,EAAE,mBAAmB,CAAC;IAEjEC,MAAM,CAACJ,OAAO,CAACK,QAAQ,CAAC,yBAAyB,CAAC,CAAC,CAACC,IAAI,CAAC,mBAAmB,CAAC;IAC7EF,MAAM,CAACJ,OAAO,CAACO,MAAM,CAAC,yBAAyB,CAAC,CAAC,CAACD,IAAI,CAAC,IAAI,CAAC;EAC9D,CAAC,CAAC;AACJ,CAAC,CAAC","ignoreList":[]}