{"version":3,"names":["cov_1931pul5oo","actualCoverage","ANSI_REGEX","s","DEFAULT_WIDTH","MIN_WIDTH","MAX_WIDTH","formatPlan","plan","options","b","f","width","clampWidth","heading","trim","bullet","items","normalizePlanItems","lines","length","push","join","statusSymbols","buildStatusSymbols","forEach","item","index","prefix","status","wrapPlanText","step","Array","isArray","entry","undefined","String","rawStep","normalizeStatus","text","normalizedWidth","cleanPrefix","prefixLength","visibleLength","available","Math","max","wrapped","wrapText","trimEnd","indent","repeat","map","line","resolvePlanWidth","padding","process","stdout","columns","Number","isFinite","overrides","pending","in_progress","completed","normalized","toLowerCase","replace","words","split","current","shift","word","candidate","floor","value"],"sources":["planFormatter.ts"],"sourcesContent":["// eslint-disable-next-line no-control-regex\nconst ANSI_REGEX = /\\u001B\\[[0-9;]*m/g;\nconst DEFAULT_WIDTH = 78;\nconst MIN_WIDTH = 42;\nconst MAX_WIDTH = 100;\n\nexport type PlanStatus = 'pending' | 'in_progress' | 'completed';\n\nexport interface PlanItem {\n  step: string;\n  status?: PlanStatus;\n}\n\nexport type NormalizedPlanItem = PlanItem & { status: PlanStatus };\nexport type PlanInput = Array<PlanItem | string | number | boolean | null | undefined>;\n\nexport interface PlanFormatOptions {\n  heading?: string;\n  bullet?: string;\n  width?: number;\n  statusSymbols?: Partial<Record<PlanStatus, string>>;\n}\n\n/**\n * Format a structured plan for display with compact tree-like layout.\n */\nexport function formatPlan(plan: PlanInput, options?: PlanFormatOptions): string;\nexport function formatPlan(plan: unknown, options?: PlanFormatOptions): string;\nexport function formatPlan(plan: unknown, options: PlanFormatOptions = {}): string {\n  const width = clampWidth(options.width);\n  const heading = (options.heading ?? 'Updated Plan').trim() || 'Updated Plan';\n  const bullet = (options.bullet ?? '•').trim() || '•';\n  const items = normalizePlanItems(plan);\n  const lines: string[] = [`${bullet} ${heading}`];\n\n  if (!items.length) {\n    lines.push('  (no steps provided)');\n    return lines.join('\\n');\n  }\n\n  const statusSymbols = buildStatusSymbols(options.statusSymbols);\n\n  items.forEach((item, index) => {\n    const prefix = `${index === 0 ? '  └ ' : '    '}${statusSymbols[item.status]} `;\n    lines.push(...wrapPlanText(item.step, prefix, width));\n  });\n\n  return lines.join('\\n');\n}\n\n/**\n * Normalize plan input into a typed list of steps with default statuses.\n */\nexport function normalizePlanItems(plan: PlanInput): NormalizedPlanItem[];\nexport function normalizePlanItems(plan: unknown): NormalizedPlanItem[];\nexport function normalizePlanItems(plan: unknown): NormalizedPlanItem[] {\n  if (!Array.isArray(plan)) {\n    return [];\n  }\n\n  const items: NormalizedPlanItem[] = [];\n\n  for (const entry of plan) {\n    if (entry === null || entry === undefined) {\n      continue;\n    }\n\n    if (typeof entry === 'string' || typeof entry === 'number' || typeof entry === 'boolean') {\n      const step = String(entry).trim();\n      if (!step) {\n        continue;\n      }\n      items.push({ step, status: 'pending' });\n      continue;\n    }\n\n    if (typeof entry === 'object') {\n      const rawStep = (entry as PlanItem).step;\n      const step =\n        typeof rawStep === 'string'\n          ? rawStep.trim()\n          : typeof rawStep === 'number' || typeof rawStep === 'boolean'\n            ? String(rawStep).trim()\n            : '';\n      if (!step) {\n        continue;\n      }\n      const status = normalizeStatus((entry as PlanItem).status);\n      items.push({ step, status });\n    }\n  }\n\n  return items;\n}\n\n/**\n * Wrap plan text with a prefix, preserving indentation for continuations.\n */\nexport function wrapPlanText(text: string, prefix: string, width?: number): string[] {\n  const normalizedWidth = clampWidth(width);\n  const cleanPrefix = prefix ?? '';\n  const prefixLength = visibleLength(cleanPrefix);\n  const available = Math.max(12, normalizedWidth - prefixLength);\n  const wrapped = wrapText(text, available);\n\n  if (!wrapped.length) {\n    return [cleanPrefix.trimEnd()];\n  }\n\n  const indent = ' '.repeat(prefixLength);\n  return wrapped.map((line, index) => (index === 0 ? `${cleanPrefix}${line}` : `${indent}${line}`));\n}\n\n/**\n * Determine the available plan width using the terminal size if available.\n */\nexport function resolvePlanWidth(padding: number = 4): number | undefined {\n  if (\n    typeof process !== 'undefined' &&\n    typeof process.stdout?.columns === 'number' &&\n    Number.isFinite(process.stdout.columns)\n  ) {\n    return Math.max(0, process.stdout.columns - padding);\n  }\n  return undefined;\n}\n\nfunction buildStatusSymbols(overrides?: Partial<Record<PlanStatus, string>>): Record<PlanStatus, string> {\n  return {\n    pending: overrides?.pending?.trim() || '□',\n    in_progress: overrides?.in_progress?.trim() || '◐',\n    completed: overrides?.completed?.trim() || '✔',\n  };\n}\n\nfunction normalizeStatus(status: unknown): PlanStatus {\n  if (typeof status !== 'string') {\n    return 'pending';\n  }\n\n  const normalized = status.trim().toLowerCase().replace(/[\\s-]+/g, '_');\n\n  if (normalized === 'completed' || normalized === 'complete' || normalized === 'done') {\n    return 'completed';\n  }\n  if (normalized === 'in_progress' || normalized === 'inprogress') {\n    return 'in_progress';\n  }\n  return 'pending';\n}\n\nfunction wrapText(text: string, width: number): string[] {\n  const normalized = (text || '').trim();\n  if (!normalized) {\n    return [];\n  }\n\n  const words = normalized.split(/\\s+/);\n  const lines: string[] = [];\n  let current = words.shift() ?? '';\n\n  for (const word of words) {\n    const candidate = `${current} ${word}`;\n    if (visibleLength(candidate) > width && current) {\n      lines.push(current);\n      current = word;\n    } else {\n      current = candidate;\n    }\n  }\n\n  if (current) {\n    lines.push(current);\n  }\n\n  return lines;\n}\n\nfunction clampWidth(width?: number): number {\n  if (typeof width !== 'number' || !Number.isFinite(width)) {\n    return DEFAULT_WIDTH;\n  }\n  const normalized = Math.floor(width);\n  if (normalized < MIN_WIDTH) {\n    return MIN_WIDTH;\n  }\n  if (normalized > MAX_WIDTH) {\n    return MAX_WIDTH;\n  }\n  return normalized;\n}\n\nfunction visibleLength(value: string): number {\n  return value.replace(ANSI_REGEX, '').length;\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}