{"version":3,"names":["cov_fsppwkfpw","actualCoverage","DeepBugAnalyzer","analyze","bug","codeContext","depth","b","f","signals","s","contextText","Array","from","values","join","toLowerCase","lowerDesc","description","stackTrace","includes","push","primaryCause","length","category","confidence","contributingFactors","slice","map","signal","recommendedActions","exports"],"sources":["deepBugAnalyzer.ts"],"sourcesContent":["export interface BugReport {\n  title: string;\n  description: string;\n  expectedBehavior?: string;\n  actualBehavior?: string;\n  stackTrace?: string;\n}\n\nexport interface BugAnalysisResult {\n  primaryCause?: {\n    category: string;\n    description: string;\n    confidence: number;\n  };\n  contributingFactors: Array<{\n    category: string;\n    description: string;\n    confidence: number;\n  }>;\n  recommendedActions: string[];\n  confidence: number;\n}\n\nexport class DeepBugAnalyzer {\n  async analyze(\n    bug: BugReport,\n    codeContext: Map<string, string>,\n    depth: 'shallow' | 'moderate' | 'deep' = 'moderate'\n  ): Promise<BugAnalysisResult> {\n    const signals: string[] = [];\n    const contextText = Array.from(codeContext.values()).join('\\n').toLowerCase();\n    const lowerDesc = `${bug.description ?? ''} ${bug.stackTrace ?? ''}`.toLowerCase();\n\n    if (lowerDesc.includes('null') || lowerDesc.includes('undefined') || contextText.includes('null') || contextText.includes('undefined')) {\n      signals.push('null/undefined access');\n    }\n    if (lowerDesc.includes('race') || lowerDesc.includes('concurrent')) {\n      signals.push('possible race condition');\n    }\n\n    const primaryCause = signals.length\n      ? {\n          category: 'code',\n          description: signals[0]!,\n          confidence: 0.7,\n        }\n      : {\n          category: 'unknown',\n          description: 'Insufficient context; investigate logs and inputs.',\n          confidence: 0.4,\n        };\n\n    const contributingFactors = signals.slice(1).map((signal) => ({\n      category: 'code',\n      description: signal,\n      confidence: 0.5,\n    }));\n\n    const recommendedActions = [\n      'Add null/undefined guards around user input',\n      'Capture minimal reproduction steps',\n      'Add unit tests around the failing path',\n    ];\n    if (depth === 'deep') {\n      recommendedActions.push('Trace async boundaries to rule out race conditions');\n    }\n\n    return {\n      primaryCause,\n      contributingFactors,\n      recommendedActions,\n      confidence: primaryCause.confidence,\n    };\n  }\n}\n"],"mappings":"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","ignoreList":[]}