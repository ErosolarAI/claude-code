{"version":3,"names":["cov_2gpv85r84v","actualCoverage","createVimState","f","s","mode","register","count","pendingCommand","lastCommand","marks","Map","vimEnabled","isVimEnabled","setVimEnabled","enabled","toggleVimMode","getVimModeIndicator","state","b","processVimKey","key","buffer","cursor","handled","newMode","processNormalModeKey","processInsertModeKey","processVisualModeKey","test","parseInt","Math","max","processPendingCommand","cursorDelta","lines","split","pos","lineIdx","i","length","nextLine","min","newPos","prevLine","getColumnInLine","lineEnd","indexOf","target","lineStart","getLineStart","textChange","type","text","start","getLineEnd","end","action","command","deleteEnd","slice","_key","_state","_buffer","_cursor","getCurrentLine","result","formatVimHelp","trim"],"sources":["vimMode.ts"],"sourcesContent":["/**\n * Vim Mode - AGI CLI Style\n *\n * Vim-style editing support for the terminal input.\n * Toggle with /vim command or Ctrl+[ to escape.\n *\n * Supported modes:\n * - Normal: Navigation and text manipulation\n * - Insert: Text input mode\n * - Visual: Selection mode (basic)\n *\n * Basic Vim commands:\n * - h/j/k/l: Left/Down/Up/Right\n * - w/b: Word forward/backward\n * - 0/$: Line start/end\n * - i/a: Insert before/after cursor\n * - I/A: Insert at line start/end\n * - o/O: Open line below/above\n * - x: Delete character\n * - dd: Delete line\n * - yy: Yank line\n * - p: Paste\n * - u: Undo\n * - Escape: Exit to normal mode\n */\n\nexport type VimMode = 'normal' | 'insert' | 'visual';\n\nexport interface VimState {\n  mode: VimMode;\n  register: string; // Yank register\n  count: number; // Repeat count\n  pendingCommand: string; // For multi-key commands like 'dd'\n  lastCommand: string; // For '.' repeat\n  marks: Map<string, number>; // Position marks\n}\n\nexport interface VimKeyResult {\n  handled: boolean;\n  newMode?: VimMode;\n  cursorDelta?: number;\n  textChange?: {\n    type: 'insert' | 'delete' | 'replace';\n    text?: string;\n    start?: number;\n    end?: number;\n  };\n  action?: 'yank' | 'paste' | 'undo';\n}\n\n/**\n * Create initial vim state\n */\nexport function createVimState(): VimState {\n  return {\n    mode: 'normal',\n    register: '',\n    count: 0,\n    pendingCommand: '',\n    lastCommand: '',\n    marks: new Map(),\n  };\n}\n\n/**\n * Check if vim mode is enabled\n */\nlet vimEnabled = false;\n\nexport function isVimEnabled(): boolean {\n  return vimEnabled;\n}\n\nexport function setVimEnabled(enabled: boolean): void {\n  vimEnabled = enabled;\n}\n\nexport function toggleVimMode(): boolean {\n  vimEnabled = !vimEnabled;\n  return vimEnabled;\n}\n\n/**\n * Get mode indicator for display\n */\nexport function getVimModeIndicator(state: VimState): string {\n  if (!vimEnabled) return '';\n\n  switch (state.mode) {\n    case 'normal':\n      return '-- NORMAL --';\n    case 'insert':\n      return '-- INSERT --';\n    case 'visual':\n      return '-- VISUAL --';\n    default:\n      return '';\n  }\n}\n\n/**\n * Process a key in vim mode\n */\nexport function processVimKey(\n  key: string,\n  state: VimState,\n  buffer: string,\n  cursor: number\n): VimKeyResult {\n  if (!vimEnabled) {\n    return { handled: false };\n  }\n\n  // Handle escape key in any mode\n  if (key === '\\x1b' || key === '\\x1b\\x1b') {\n    return {\n      handled: true,\n      newMode: 'normal',\n    };\n  }\n\n  // Ctrl+[ also escapes (vim standard)\n  if (key === '\\x1b[') {\n    return {\n      handled: true,\n      newMode: 'normal',\n    };\n  }\n\n  switch (state.mode) {\n    case 'normal':\n      return processNormalModeKey(key, state, buffer, cursor);\n    case 'insert':\n      return processInsertModeKey(key, state, buffer, cursor);\n    case 'visual':\n      return processVisualModeKey(key, state, buffer, cursor);\n    default:\n      return { handled: false };\n  }\n}\n\n/**\n * Process key in normal mode\n */\nfunction processNormalModeKey(\n  key: string,\n  state: VimState,\n  buffer: string,\n  cursor: number\n): VimKeyResult {\n  // Handle number prefix for count\n  if (/^[1-9]$/.test(key) || (state.count > 0 && /^[0-9]$/.test(key))) {\n    state.count = state.count * 10 + parseInt(key, 10);\n    return { handled: true };\n  }\n\n  const count = Math.max(1, state.count);\n  state.count = 0;\n\n  // Handle pending commands (like 'dd', 'yy')\n  if (state.pendingCommand) {\n    return processPendingCommand(state.pendingCommand + key, state, buffer, cursor);\n  }\n\n  switch (key) {\n    // Navigation\n    case 'h':\n      return { handled: true, cursorDelta: -count };\n\n    case 'l':\n      return { handled: true, cursorDelta: count };\n\n    case 'j': {\n      // Move down a line\n      const lines = buffer.split('\\n');\n      let pos = 0;\n      let lineIdx = 0;\n      for (let i = 0; i < lines.length; i++) {\n        if (cursor <= pos + lines[i]!.length) {\n          lineIdx = i;\n          break;\n        }\n        pos += lines[i]!.length + 1;\n      }\n      const nextLine = Math.min(lineIdx + count, lines.length - 1);\n      let newPos = 0;\n      for (let i = 0; i < nextLine; i++) {\n        newPos += lines[i]!.length + 1;\n      }\n      return { handled: true, cursorDelta: newPos - cursor };\n    }\n\n    case 'k': {\n      // Move up a line\n      const lines = buffer.split('\\n');\n      let pos = 0;\n      let lineIdx = 0;\n      for (let i = 0; i < lines.length; i++) {\n        if (cursor <= pos + lines[i]!.length) {\n          lineIdx = i;\n          break;\n        }\n        pos += lines[i]!.length + 1;\n      }\n      const prevLine = Math.max(lineIdx - count, 0);\n      let newPos = 0;\n      for (let i = 0; i < prevLine; i++) {\n        newPos += lines[i]!.length + 1;\n      }\n      return { handled: true, cursorDelta: newPos - cursor };\n    }\n\n    case 'w': {\n      // Word forward\n      let pos = cursor;\n      for (let i = 0; i < count; i++) {\n        // Skip current word\n        while (pos < buffer.length && !/\\s/.test(buffer[pos]!)) pos++;\n        // Skip whitespace\n        while (pos < buffer.length && /\\s/.test(buffer[pos]!)) pos++;\n      }\n      return { handled: true, cursorDelta: pos - cursor };\n    }\n\n    case 'b': {\n      // Word backward\n      let pos = cursor;\n      for (let i = 0; i < count; i++) {\n        // Skip whitespace\n        while (pos > 0 && /\\s/.test(buffer[pos - 1]!)) pos--;\n        // Skip word\n        while (pos > 0 && !/\\s/.test(buffer[pos - 1]!)) pos--;\n      }\n      return { handled: true, cursorDelta: pos - cursor };\n    }\n\n    case '0':\n      // Line start\n      return { handled: true, cursorDelta: -getColumnInLine(buffer, cursor) };\n\n    case '$': {\n      // Line end\n      const lineEnd = buffer.indexOf('\\n', cursor);\n      const target = lineEnd === -1 ? buffer.length : lineEnd;\n      return { handled: true, cursorDelta: target - cursor };\n    }\n\n    case '^': {\n      // First non-whitespace\n      const lineStart = getLineStart(buffer, cursor);\n      let pos = lineStart;\n      while (pos < buffer.length && buffer[pos] === ' ') pos++;\n      return { handled: true, cursorDelta: pos - cursor };\n    }\n\n    case 'G':\n      // Go to end\n      return { handled: true, cursorDelta: buffer.length - cursor };\n\n    case 'g':\n      state.pendingCommand = 'g';\n      return { handled: true };\n\n    // Mode switching\n    case 'i':\n      return { handled: true, newMode: 'insert' };\n\n    case 'a':\n      return {\n        handled: true,\n        newMode: 'insert',\n        cursorDelta: cursor < buffer.length ? 1 : 0,\n      };\n\n    case 'I': {\n      const lineStart = getLineStart(buffer, cursor);\n      let pos = lineStart;\n      while (pos < buffer.length && buffer[pos] === ' ') pos++;\n      return { handled: true, newMode: 'insert', cursorDelta: pos - cursor };\n    }\n\n    case 'A': {\n      const lineEnd = buffer.indexOf('\\n', cursor);\n      const target = lineEnd === -1 ? buffer.length : lineEnd;\n      return { handled: true, newMode: 'insert', cursorDelta: target - cursor };\n    }\n\n    case 'o':\n      return {\n        handled: true,\n        newMode: 'insert',\n        textChange: {\n          type: 'insert',\n          text: '\\n',\n          start: getLineEnd(buffer, cursor),\n        },\n      };\n\n    case 'O': {\n      const lineStart = getLineStart(buffer, cursor);\n      return {\n        handled: true,\n        newMode: 'insert',\n        textChange: {\n          type: 'insert',\n          text: '\\n',\n          start: lineStart,\n        },\n        cursorDelta: -cursor + lineStart,\n      };\n    }\n\n    // Editing\n    case 'x':\n      return {\n        handled: true,\n        textChange: {\n          type: 'delete',\n          start: cursor,\n          end: Math.min(cursor + count, buffer.length),\n        },\n      };\n\n    case 'd':\n      state.pendingCommand = 'd';\n      return { handled: true };\n\n    case 'y':\n      state.pendingCommand = 'y';\n      return { handled: true };\n\n    case 'p':\n      return {\n        handled: true,\n        action: 'paste',\n      };\n\n    case 'u':\n      return {\n        handled: true,\n        action: 'undo',\n      };\n\n    case 'v':\n      return { handled: true, newMode: 'visual' };\n\n    default:\n      return { handled: false };\n  }\n}\n\n/**\n * Process pending multi-key commands\n */\nfunction processPendingCommand(\n  command: string,\n  state: VimState,\n  buffer: string,\n  cursor: number\n): VimKeyResult {\n  state.pendingCommand = '';\n\n  switch (command) {\n    case 'dd': {\n      // Delete line\n      const lineStart = getLineStart(buffer, cursor);\n      const lineEnd = getLineEnd(buffer, cursor);\n      const deleteEnd = lineEnd < buffer.length ? lineEnd + 1 : lineEnd;\n      state.register = buffer.slice(lineStart, deleteEnd);\n      return {\n        handled: true,\n        textChange: {\n          type: 'delete',\n          start: lineStart,\n          end: deleteEnd,\n        },\n      };\n    }\n\n    case 'yy': {\n      // Yank line\n      const lineStart = getLineStart(buffer, cursor);\n      const lineEnd = getLineEnd(buffer, cursor);\n      state.register = buffer.slice(lineStart, lineEnd + 1);\n      return { handled: true, action: 'yank' };\n    }\n\n    case 'gg':\n      // Go to start\n      return { handled: true, cursorDelta: -cursor };\n\n    case 'dw': {\n      // Delete word\n      let end = cursor;\n      while (end < buffer.length && !/\\s/.test(buffer[end]!)) end++;\n      while (end < buffer.length && /\\s/.test(buffer[end]!)) end++;\n      return {\n        handled: true,\n        textChange: {\n          type: 'delete',\n          start: cursor,\n          end,\n        },\n      };\n    }\n\n    default:\n      return { handled: false };\n  }\n}\n\n/**\n * Process key in insert mode\n */\nfunction processInsertModeKey(\n  _key: string,\n  _state: VimState,\n  _buffer: string,\n  _cursor: number\n): VimKeyResult {\n  // In insert mode, most keys pass through to normal input\n  // Only escape switches back to normal mode\n  return { handled: false };\n}\n\n/**\n * Process key in visual mode\n */\nfunction processVisualModeKey(\n  key: string,\n  state: VimState,\n  buffer: string,\n  cursor: number\n): VimKeyResult {\n  // Basic visual mode - for now, just support escape\n  switch (key) {\n    case 'y':\n      // Yank selection (simplified - just current line for now)\n      state.register = getCurrentLine(buffer, cursor);\n      return { handled: true, newMode: 'normal', action: 'yank' };\n\n    case 'd':\n    case 'x': {\n      // Delete selection\n      const lineStart = getLineStart(buffer, cursor);\n      const lineEnd = getLineEnd(buffer, cursor);\n      return {\n        handled: true,\n        newMode: 'normal',\n        textChange: {\n          type: 'delete',\n          start: lineStart,\n          end: lineEnd + 1,\n        },\n      };\n    }\n\n    default: {\n      // Fall through to normal mode navigation\n      const result = processNormalModeKey(key, state, buffer, cursor);\n      if (!result.newMode) result.newMode = 'visual';\n      return result;\n    }\n  }\n}\n\n// Helper functions\n\nfunction getLineStart(buffer: string, cursor: number): number {\n  let pos = cursor;\n  while (pos > 0 && buffer[pos - 1] !== '\\n') pos--;\n  return pos;\n}\n\nfunction getLineEnd(buffer: string, cursor: number): number {\n  let pos = cursor;\n  while (pos < buffer.length && buffer[pos] !== '\\n') pos++;\n  return pos;\n}\n\nfunction getColumnInLine(buffer: string, cursor: number): number {\n  return cursor - getLineStart(buffer, cursor);\n}\n\nfunction getCurrentLine(buffer: string, cursor: number): string {\n  const start = getLineStart(buffer, cursor);\n  const end = getLineEnd(buffer, cursor);\n  return buffer.slice(start, end);\n}\n\n/**\n * Format vim help for display\n */\nexport function formatVimHelp(): string {\n  return `\nVim Mode Commands:\n\nNavigation:\n  h/l       Move left/right\n  j/k       Move down/up\n  w/b       Word forward/backward\n  0/$       Line start/end\n  ^         First non-whitespace\n  gg/G      Go to start/end\n\nMode Switching:\n  i         Insert before cursor\n  a         Insert after cursor\n  I/A       Insert at line start/end\n  o/O       Open line below/above\n  v         Visual mode\n  Escape    Normal mode\n\nEditing:\n  x         Delete character\n  dd        Delete line\n  dw        Delete word\n  yy        Yank (copy) line\n  p         Paste\n  u         Undo\n\nCommands can be prefixed with count: 3dd deletes 3 lines\nToggle vim mode with /vim command\n`.trim();\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}