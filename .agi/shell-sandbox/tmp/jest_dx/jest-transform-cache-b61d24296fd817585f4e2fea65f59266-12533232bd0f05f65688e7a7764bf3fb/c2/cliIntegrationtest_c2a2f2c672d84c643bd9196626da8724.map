{"version":3,"names":["_globals","require","_nodeFs","_nodePath","_nodeOs","_orchestrationPlugin","_bidirectionalAuditPlugin","_localFilesystemPlugin","_localSearchPlugin","_editPlugin","describe","it","plugin","createOrchestrationToolPlugin","module","create","workingDir","process","cwd","env","contribution","profile","workspaceContext","expect","toolSuite","id","toBe","toolNames","tools","map","t","name","length","toBeGreaterThan","toEqual","arrayContaining","workspace","mkdtempSync","join","tmpdir","writeFileSync","Map","summarize","get","handler","toMatch","qualityGate","qualityOutput","dryRun","steps","runBuild","buildOutput","command","execPath","summarizeAfter","analyze","analysis","error","toLowerCase","toContain","rmSync","recursive","force","createBidirectionalAuditToolPlugin","suites","toolSuites","flatMap","suite","names","tempDirs","afterEach","dir","pop","loadToolMap","toolDefs","plugins","createLocalFilesystemToolPlugin","createLocalSearchToolPlugin","createEditToolPlugin","created","modules","Array","isArray","contributionResult","contributions","push","reduce","acc","tool","toBeDefined","srcDir","mkdirSync","filePath","originalContent","listFiles","readFile","grep","edit","listing","path","readOutput","grepOutput","pattern","output_mode","editOutput","file_path","old_string","new_string","replace_all","updated","readFileSync"],"sources":["cliIntegration.test.ts"],"sourcesContent":["/**\n * CLI Integration Tests\n * Verifies that the unified orchestration plugins and core tools are wired correctly.\n */\n\nimport { describe, it, expect } from '@jest/globals';\nimport { mkdtempSync, mkdirSync, readFileSync, rmSync, writeFileSync } from 'node:fs';\nimport { join } from 'node:path';\nimport { tmpdir } from 'node:os';\nimport { createOrchestrationToolPlugin } from '../../src/plugins/tools/orchestration/orchestrationPlugin.js';\nimport { createBidirectionalAuditToolPlugin } from '../../src/plugins/tools/bidirectionalAudit/bidirectionalAuditPlugin.js';\nimport { createLocalFilesystemToolPlugin } from '../../src/plugins/tools/filesystem/localFilesystemPlugin.js';\nimport { createLocalSearchToolPlugin } from '../../src/plugins/tools/search/localSearchPlugin.js';\nimport { createEditToolPlugin } from '../../src/plugins/tools/edit/editPlugin.js';\nimport type { ToolDefinition } from '../../src/core/toolRuntime.js';\n\ndescribe('CLI Integration', () => {\n  describe('Unified orchestrator plugin', () => {\n    it('creates the orchestration tool suite with key tools', async () => {\n      const plugin = createOrchestrationToolPlugin();\n      const module = await plugin.create({ workingDir: process.cwd(), env: process.env });\n      const contribution = await module!.create({\n        profile: 'agi-code',\n        workspaceContext: null,\n        workingDir: process.cwd(),\n        env: process.env,\n      });\n\n      expect(contribution?.toolSuite?.id).toBe('orchestration.tools.unified');\n      const toolNames = contribution?.toolSuite?.tools.map((t) => t.name) ?? [];\n      expect(toolNames.length).toBeGreaterThan(0);\n      expect(toolNames).toEqual(\n        expect.arrayContaining([\n          'analyze_errors',\n          'verify_result',\n          'hypothesis',\n          'run_build',\n          'run_tests',\n          'run_lint',\n          'run_type_check',\n          'quality_gate',\n          'summarize_orchestration',\n        ])\n      );\n    });\n\n    it('runs orchestration build/test flows and summaries without invoking heavy tasks', async () => {\n      const workspace = mkdtempSync(join(tmpdir(), 'erosolar-orchestration-'));\n\n      try {\n        // Tiny script for a fast \"build\" run\n        writeFileSync(join(workspace, 'echo-ok.js'), 'console.log(\"orchestration-ok\")');\n\n        const plugin = createOrchestrationToolPlugin();\n        const module = await plugin.create({ workingDir: workspace, env: process.env });\n        const contribution = await module!.create({\n          profile: 'agi-code',\n          workspaceContext: null,\n          workingDir: workspace,\n          env: process.env,\n        });\n\n        const tools = new Map((contribution?.toolSuite?.tools ?? []).map((t) => [t.name, t]));\n\n        const summarize = tools.get('summarize_orchestration')!;\n        expect(await summarize.handler!()).toMatch(/No orchestration runs/i);\n\n        const qualityGate = tools.get('quality_gate')!;\n        const qualityOutput = await qualityGate.handler!({\n          dryRun: true,\n          steps: ['build', 'lint', 'type-check', 'test', 'health'],\n        });\n        expect(qualityOutput).toMatch(/build/i);\n        expect(qualityOutput).toMatch(/lint/i);\n        expect(qualityOutput).toMatch(/type-check/i);\n        expect(qualityOutput).toMatch(/test/i);\n\n        const runBuild = tools.get('run_build')!;\n        const buildOutput = await runBuild.handler!({\n          command: `${process.execPath} echo-ok.js`,\n          cwd: workspace,\n        });\n        expect(buildOutput).toMatch(/orchestration-ok/);\n\n        const summarizeAfter = await summarize.handler!();\n        expect(summarizeAfter).toMatch(/build/i);\n\n        const analyze = tools.get('analyze_errors')!;\n        const analysis = await analyze.handler!({ error: 'lint failed' });\n        expect(analysis.toLowerCase()).toContain('lint');\n      } finally {\n        rmSync(workspace, { recursive: true, force: true });\n      }\n    });\n  });\n\n  describe('Bidirectional audit plugin', () => {\n    it('exposes the bidirectional audit tool', async () => {\n      const plugin = createBidirectionalAuditToolPlugin();\n      const module = await plugin.create({ workingDir: process.cwd(), env: process.env });\n      const contribution = await module!.create({\n        profile: 'agi-code',\n        workspaceContext: null,\n        workingDir: process.cwd(),\n        env: process.env,\n      });\n\n      const suites = contribution?.toolSuites ?? (contribution?.toolSuite ? [contribution.toolSuite] : []);\n      expect(suites.length).toBeGreaterThan(0);\n\n      const tools = suites.flatMap((suite) => suite.tools);\n      const names = tools.map((t) => t.name);\n      expect(names).toContain('BidirectionalAudit');\n    });\n  });\n});\n\ndescribe('Core engineering toolchain integration', () => {\n  const profile = 'agi-code';\n  const tempDirs: string[] = [];\n\n  afterEach(() => {\n    while (tempDirs.length) {\n      const dir = tempDirs.pop();\n      if (dir) {\n        rmSync(dir, { recursive: true, force: true });\n      }\n    }\n  });\n\n  /**\n   * Collect tool definitions from core CLI plugins without invoking an LLM.\n   */\n  async function loadToolMap(workingDir: string): Promise<Record<string, ToolDefinition>> {\n    const toolDefs: ToolDefinition[] = [];\n    const plugins = [\n      createLocalFilesystemToolPlugin(),\n      createLocalSearchToolPlugin(),\n      createEditToolPlugin(),\n    ];\n\n    for (const plugin of plugins) {\n      const created = await plugin.create({ workingDir, env: process.env });\n      const modules = Array.isArray(created) ? created : [created];\n\n      for (const module of modules) {\n        if (!module) continue;\n        const contributionResult = await module.create({\n          profile: profile as any,\n          workspaceContext: null,\n          workingDir,\n          env: process.env,\n        });\n        const contributions = Array.isArray(contributionResult) ? contributionResult : [contributionResult];\n        for (const contribution of contributions) {\n          if (contribution?.toolSuite) {\n            toolDefs.push(...contribution.toolSuite.tools);\n          }\n          if (contribution?.toolSuites?.length) {\n            for (const suite of contribution.toolSuites) {\n              toolDefs.push(...suite.tools);\n            }\n          }\n        }\n      }\n    }\n\n    return toolDefs.reduce<Record<string, ToolDefinition>>((acc, tool) => {\n      acc[tool.name] = tool;\n      return acc;\n    }, {});\n  }\n\n  it('exposes core filesystem/search/edit tools', async () => {\n    const workspace = mkdtempSync(join(tmpdir(), 'erosolar-cli-core-'));\n    tempDirs.push(workspace);\n\n    const tools = await loadToolMap(workspace);\n    expect(tools['list_files']).toBeDefined();\n    expect(tools['read_file']).toBeDefined();\n    expect(tools['Grep']).toBeDefined();\n    expect(tools['Edit']).toBeDefined();\n  });\n\n  it('supports basic read/search/edit workflow', async () => {\n    const workspace = mkdtempSync(join(tmpdir(), 'erosolar-cli-workflow-'));\n    tempDirs.push(workspace);\n\n    const srcDir = join(workspace, 'src');\n    mkdirSync(srcDir, { recursive: true });\n\n    const filePath = join(srcDir, 'example.ts');\n    const originalContent = [\n      'export function hello(name: string) {',\n      '  return `hi ${name}`;',\n      '}',\n      '',\n    ].join('\\n');\n    writeFileSync(filePath, originalContent);\n\n    const tools = await loadToolMap(workspace);\n    const listFiles = tools['list_files'];\n    const readFile = tools['read_file'];\n    const grep = tools['Grep'];\n    const edit = tools['Edit'];\n\n    // List files\n    const listing = await listFiles.handler!({ path: 'src', recursive: true });\n    expect(listing).toContain('example.ts');\n\n    // Read file\n    const readOutput = await readFile.handler!({ path: 'src/example.ts' });\n    expect(readOutput).toContain('hello');\n\n    // Search for content\n    const grepOutput = await grep.handler!({\n      pattern: 'hello',\n      path: workspace,\n      output_mode: 'files_with_matches',\n    });\n    expect(grepOutput).toContain('example.ts');\n\n    // Edit file content\n    const editOutput = await edit.handler!({\n      file_path: filePath,\n      old_string: 'return `hi ${name}`;',\n      new_string: 'return `hello ${name}`;',\n      replace_all: true,\n    });\n    expect(editOutput).toContain('hello');\n\n    const updated = readFileSync(filePath, 'utf-8');\n    expect(updated).toContain('hello ${name}');\n  });\n});\n"],"mappings":"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","ignoreList":[]}