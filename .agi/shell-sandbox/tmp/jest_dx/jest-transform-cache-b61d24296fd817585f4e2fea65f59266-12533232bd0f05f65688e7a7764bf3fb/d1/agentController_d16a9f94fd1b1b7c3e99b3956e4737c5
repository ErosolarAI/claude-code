a88f200c3fa242408a38ed3db81a7713
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.AgentController = void 0;
exports.createAgentController = createAgentController;
var _node = require("./node.js");
var _agent = require("../contracts/v1/agent.js");
var _debugLogger = require("../utils/debugLogger.js");
var _resilientProvider = require("../providers/resilientProvider.js");
var _modelDiscovery = require("../core/modelDiscovery.js");
class EventStream {
  queue = [];
  pending = null;
  closed = false;
  failure = null;
  push(value) {
    if (this.closed || this.failure) {
      return;
    }
    if (this.pending) {
      this.pending.resolve({
        value,
        done: false
      });
      this.pending = null;
      return;
    }
    this.queue.push(value);
  }
  close() {
    if (this.closed || this.failure) {
      return;
    }
    this.closed = true;
    if (this.pending) {
      this.pending.resolve({
        value: undefined,
        done: true
      });
      this.pending = null;
    }
  }
  fail(error) {
    if (this.closed || this.failure) {
      return;
    }
    this.failure = error;
    if (this.pending) {
      this.pending.reject(error);
      this.pending = null;
    }
  }
  next() {
    if (this.queue.length) {
      const value = this.queue.shift();
      return Promise.resolve({
        value,
        done: false
      });
    }
    if (this.failure) {
      const error = this.failure;
      this.failure = null;
      return Promise.reject(error);
    }
    if (this.closed) {
      return Promise.resolve({
        value: undefined,
        done: true
      });
    }
    return new Promise((resolve, reject) => {
      this.pending = {
        resolve,
        reject
      };
    });
  }
  return() {
    this.close();
    return Promise.resolve({
      value: undefined,
      done: true
    });
  }
  throw(error) {
    const err = error instanceof Error ? error : new Error(String(error));
    this.fail(err);
    return Promise.reject(err);
  }
  [Symbol.asyncIterator]() {
    return this;
  }
}
function mergeToolObservers(primary, secondary) {
  if (!secondary) {
    return primary;
  }
  return {
    onToolStart(call) {
      primary.onToolStart?.(call);
      secondary.onToolStart?.(call);
    },
    onToolResult(call, output) {
      primary.onToolResult?.(call, output);
      secondary.onToolResult?.(call, output);
    },
    onToolProgress(call, progress) {
      primary.onToolProgress?.(call, progress);
      secondary.onToolProgress?.(call, progress);
    },
    onToolError(call, error) {
      primary.onToolError?.(call, error);
      secondary.onToolError?.(call, error);
    },
    onCacheHit(call) {
      primary.onCacheHit?.(call);
      secondary.onCacheHit?.(call);
    },
    onToolWarning(call, warning) {
      primary.onToolWarning?.(call, warning);
      secondary.onToolWarning?.(call, warning);
    }
  };
}
function createControllerToolObserver(ref) {
  const emit = event => {
    ref.current?.push(event);
  };
  const timestamp = () => Date.now();
  return {
    onToolStart(call) {
      emit({
        type: 'tool.start',
        timestamp: timestamp(),
        toolName: call.name,
        toolCallId: call.id,
        parameters: {
          ...call.arguments
        }
      });
    },
    onToolResult(call, output) {
      emit({
        type: 'tool.complete',
        timestamp: timestamp(),
        toolName: call.name,
        toolCallId: call.id,
        result: output
      });
    },
    onToolError(call, error) {
      emit({
        type: 'tool.error',
        timestamp: timestamp(),
        toolName: call.name,
        toolCallId: call.id,
        error
      });
    }
  };
}
async function createAgentController(options, additionalObserver) {
  const sinkRef = {
    current: null
  };
  const observer = createControllerToolObserver(sinkRef);
  const runtime = await (0, _node.createNodeRuntime)({
    profile: options.profile,
    workspaceContext: options.workspaceContext,
    workingDir: options.workingDir,
    env: options.env,
    toolObserver: mergeToolObservers(observer, additionalObserver),
    additionalModules: options.modules
  });
  return new AgentController({
    runtime,
    sinkRef,
    externalCallbacks: options.callbacks
  });
}
class AgentController {
  activeSink = null;
  agent = null;
  cachedHistory = [];
  /** Set of providers that have failed with non-retryable errors in this session */
  failedProviders = new Set();
  /** Maximum fallback attempts per send() call */
  static MAX_FALLBACK_ATTEMPTS = 3;
  /** Optional timeout for a single agent run (ms); 0 disables */
  runTimeoutMs = Number.parseInt(process.env.AGI_AGENT_RUN_TIMEOUT_MS ?? '', 10) || 0;
  /** Cancel hook for an in-flight run */
  cancelActiveRunFn = null;
  constructor(dependencies) {
    this.session = dependencies.runtime.session;
    this.sinkRef = dependencies.sinkRef;
    this.externalCallbacks = dependencies.externalCallbacks;
    this.selection = this.buildInitialSelection();
  }
  buildInitialSelection() {
    const config = this.session.profileConfig;
    return {
      provider: config.provider,
      model: config.model,
      temperature: config.temperature,
      maxTokens: config.maxTokens,
      systemPrompt: config.systemPrompt
    };
  }
  ensureAgent() {
    if (this.agent) {
      return this.agent;
    }
    const agent = this.session.createAgent(this.selection, this.createAgentCallbacks(), undefined, {
      explainEdits: true
    });
    if (this.cachedHistory.length) {
      agent.loadHistory(this.cachedHistory);
    }
    this.agent = agent;
    return agent;
  }
  createAgentCallbacks() {
    return {
      onAssistantMessage: (content, metadata) => {
        this.handleAssistantMessage(content, metadata);
        this.externalCallbacks?.onAssistantMessage?.(content, metadata);
      },
      onStreamChunk: (chunk, type) => {
        if (type === 'content') {
          // Content chunks go to message.delta for streaming display
          this.emitDelta(chunk, false);
        } else if (type === 'reasoning') {
          // Reasoning chunks go to reasoning event for thought display
          this.emitReasoning(chunk);
        }
        // Pass all chunks to external callbacks
        this.externalCallbacks?.onStreamChunk?.(chunk, type);
      },
      onUsage: usage => {
        this.emitUsage(usage);
        this.externalCallbacks?.onUsage?.(usage);
      },
      onContextPruned: (removedCount, stats) => {
        this.externalCallbacks?.onContextPruned?.(removedCount, stats);
      },
      onContextSquishing: message => {
        this.externalCallbacks?.onContextSquishing?.(message);
      },
      onContextRecovery: (attempt, maxAttempts, message) => {
        this.externalCallbacks?.onContextRecovery?.(attempt, maxAttempts, message);
      },
      onContinueAfterRecovery: () => {
        this.externalCallbacks?.onContinueAfterRecovery?.();
      },
      onMultilinePaste: (summary, metadata) => {
        this.externalCallbacks?.onMultilinePaste?.(summary, metadata);
      },
      onEditExplanation: payload => {
        this.handleEditExplanation(payload);
        this.externalCallbacks?.onEditExplanation?.(payload);
      },
      onRetrying: (attempt, maxAttempts, error) => {
        // Emit delta event to show retry status
        this.emitDelta(`[Retrying ${attempt}/${maxAttempts}: ${error.message}]`, false);
        this.externalCallbacks?.onRetrying?.(attempt, maxAttempts, error);
      }
      // onBeforeFirstToolCall not needed - model's reasoning is now emitted as thought events
    };
  }

  /**
   * Check if content looks like garbage/leaked reasoning fragments.
   * Returns true if the content should be filtered out.
   */
  isGarbageContent(content) {
    const trimmed = content.trim();
    if (!trimmed) return true;

    // Single or repeated punctuation/markdown artifacts
    if (/^[)\]}>*`'".:,!?|│┃─━═\s]+$/.test(trimmed)) return true;

    // Just newlines or whitespace
    if (/^[\s\n\r]+$/.test(trimmed)) return true;

    // Short fragments with high punctuation ratio (likely leaked formatting)
    if (trimmed.length < 15) {
      const alphaCount = (trimmed.match(/[a-zA-Z0-9]/g) || []).length;
      if (alphaCount === 0) return true;
      if (alphaCount / trimmed.length < 0.2) return true;
    }
    return false;
  }
  emitDelta(content, isFinal) {
    (0, _debugLogger.logDebug)(`[DEBUG controller] emitDelta called: content="${content?.slice(0, 50)}", isFinal=${isFinal}, hasSink=${!!this.activeSink}`);
    if (!content?.trim()) {
      (0, _debugLogger.logDebug)('[DEBUG controller] emitDelta: skipping empty content');
      return;
    }

    // Filter out garbage/leaked reasoning fragments
    if (this.isGarbageContent(content)) {
      (0, _debugLogger.logDebug)('[DEBUG controller] emitDelta: filtering garbage content');
      return;
    }
    (0, _debugLogger.logDebug)('[DEBUG controller] emitDelta: pushing to sink');
    this.activeSink?.push({
      type: 'message.delta',
      timestamp: Date.now(),
      content,
      isFinal
    });
  }
  emitError(message) {
    this.activeSink?.push({
      type: 'error',
      timestamp: Date.now(),
      error: message
    });
  }
  emitReasoning(content) {
    if (!content?.trim()) {
      return;
    }
    // Filter out garbage/leaked formatting fragments in reasoning too
    if (this.isGarbageContent(content)) {
      return;
    }
    this.activeSink?.push({
      type: 'reasoning',
      timestamp: Date.now(),
      content
    });
  }
  emitUsage(usage) {
    if (!usage) {
      return;
    }
    this.activeSink?.push({
      type: 'usage',
      timestamp: Date.now(),
      inputTokens: usage.inputTokens,
      outputTokens: usage.outputTokens,
      totalTokens: usage.totalTokens
    });
  }
  handleEditExplanation(payload) {
    if (!this.activeSink) {
      return;
    }
    if (!payload.explanation?.trim()) {
      return;
    }
    this.activeSink.push({
      type: 'edit.explanation',
      timestamp: Date.now(),
      content: payload.explanation,
      files: payload.files,
      toolName: payload.toolName,
      toolCallId: payload.toolCallId
    });
  }
  handleAssistantMessage(content, metadata) {
    if (!this.activeSink) {
      return;
    }
    if (!content.trim()) {
      return;
    }
    if (metadata.suppressDisplay) {
      return;
    }
    if (!metadata.isFinal) {
      this.emitDelta(content, false);
      return;
    }
    const elapsedMs = metadata.elapsedMs ?? 0;
    this.activeSink.push({
      type: 'message.complete',
      timestamp: Date.now(),
      content,
      elapsedMs
    });
    this.emitUsage(metadata.usage ?? null);
  }
  updateCachedHistory() {
    if (this.agent) {
      this.cachedHistory = this.agent.getHistory();
    }
  }
  createSink() {
    const sink = new EventStream();
    this.activeSink = sink;
    this.sinkRef.current = sink;
    return sink;
  }
  clearSink() {
    if (this.activeSink) {
      this.activeSink = null;
      this.sinkRef.current = null;
    }
  }
  startAgentRun(agent, message, sink) {
    sink.push({
      type: 'message.start',
      timestamp: Date.now()
    });
    const runPromise = agent.send(message, true);
    let timer = null;
    const timeoutPromise = this.runTimeoutMs > 0 ? new Promise((_, reject) => {
      timer = setTimeout(() => {
        reject(new Error(`Agent run timed out after ${this.runTimeoutMs}ms`));
      }, this.runTimeoutMs);
      timer.unref?.();
    }) : null;
    let cancelled = false;
    const cancelPromise = new Promise((_, reject) => {
      this.cancelActiveRunFn = () => {
        cancelled = true;
        reject(new Error('Agent run cancelled'));
      };
    });
    return Promise.race([runPromise, cancelPromise, timeoutPromise].filter(Boolean)).then(() => {
      this.updateCachedHistory();
      sink.close();
    }).catch(error => {
      const errorObj = error instanceof Error ? error : new Error(String(error));
      // Let caller decide on fallback; propagate error after marking sink failed
      if (cancelled) {
        sink.fail(errorObj);
      } else {
        sink.fail(errorObj);
      }
      throw errorObj;
    }).finally(() => {
      if (timer) {
        clearTimeout(timer);
        timer = null;
      }
      this.cancelActiveRunFn = null;
      if (this.sinkRef.current === sink) {
        this.clearSink();
      }
    });
  }
  async attemptFallbackWithError(errorObj, attempts) {
    if (!(0, _resilientProvider.isFallbackEligibleError)(errorObj)) return false;
    if (attempts >= AgentController.MAX_FALLBACK_ATTEMPTS) return false;
    (0, _debugLogger.logDebug)(`[AgentController] Fallback-eligible error detected: ${errorObj.message}`);
    return this.attemptFallback(errorObj);
  }
  async *send(message) {
    if (this.activeSink) {
      throw new Error('Agent runtime is already processing a message. Please wait for the current run to finish.');
    }
    let cancelledByUser = false;

    // Reset failed providers at the start of each new message
    // (providers might have recovered, quotas might have reset, etc.)
    this.failedProviders.clear();
    let fallbackAttempts = 0;

    // Retry loop for fallback handling
    while (fallbackAttempts < AgentController.MAX_FALLBACK_ATTEMPTS) {
      const agent = this.ensureAgent();
      const sink = this.createSink();
      let caughtError = null;
      let fallbackSucceeded = false;
      const run = this.startAgentRun(agent, message, sink).catch(error => {
        caughtError = error instanceof Error ? error : new Error(String(error));
        if (/cancelled/i.test(caughtError.message)) {
          cancelledByUser = true;
        }
      });
      try {
        for await (const event of sink) {
          yield event;
        }
      } finally {
        await run;
      }

      // Decide on fallback after run completion
      if (caughtError) {
        if (cancelledByUser) {
          this.emitError(caughtError.message);
          break;
        }
        fallbackSucceeded = await this.attemptFallbackWithError(caughtError, fallbackAttempts + 1);
        if (!fallbackSucceeded) {
          this.emitError(caughtError.message);
          break;
        }
        fallbackAttempts++;
        (0, _debugLogger.logDebug)(`[AgentController] Retrying with fallback provider (attempt ${fallbackAttempts}/${AgentController.MAX_FALLBACK_ATTEMPTS})`);
        continue;
      }

      // Successful run, exit loop
      break;
    }
  }

  /**
   * Cancel an in-flight agent run, if any. This triggers a controlled failure on the stream.
   */
  cancel(reason = 'Cancelled by user') {
    if (!this.activeSink) return;
    this.cancelActiveRunFn?.();
    this.activeSink.fail(new Error(reason));
    this.clearSink();
  }
  async switchModel(config) {
    this.updateCachedHistory();
    this.agent = null;
    this.selection = {
      provider: config.provider,
      model: config.model,
      temperature: config.temperature,
      maxTokens: config.maxTokens,
      systemPrompt: this.selection.systemPrompt
    };
    this.session.updateToolContext(this.selection);
  }
  getCapabilities() {
    const tools = this.session.toolRuntime.listProviderTools();
    const manifestTools = tools.map(tool => ({
      name: tool.name,
      description: tool.description,
      category: 'general'
    }));
    return {
      contractVersion: _agent.AGENT_CONTRACT_VERSION,
      profile: this.session.profile,
      model: this.toModelConfig(this.selection),
      tools: manifestTools,
      features: ['streaming', 'tool-calls']
    };
  }
  registerToolSuite(suiteId, suite) {
    this.session.toolRuntime.registerSuite({
      ...suite,
      id: suiteId
    });
  }
  unregisterToolSuite(suiteId) {
    this.session.toolRuntime.unregisterSuite(suiteId);
  }
  getHistory() {
    if (this.agent) {
      return this.agent.getHistory();
    }
    return [...this.cachedHistory];
  }
  clearHistory() {
    this.cachedHistory = [];
    this.agent?.clearHistory();
  }
  toModelConfig(selection) {
    return {
      provider: selection.provider,
      model: selection.model,
      temperature: selection.temperature,
      maxTokens: selection.maxTokens
    };
  }

  /**
   * Find the next available provider for fallback.
   * Excludes providers that have already failed in this session.
   */
  findFallbackProvider() {
    const configured = (0, _modelDiscovery.getConfiguredProviders)();
    const currentProvider = this.selection.provider;

    // Provider preference order (excluding current and failed)
    const preferenceOrder = ['xai', 'anthropic', 'openai', 'google', 'deepseek', 'ollama'];
    for (const providerId of preferenceOrder) {
      // Skip current provider and already failed providers
      if (providerId === currentProvider || this.failedProviders.has(providerId)) {
        continue;
      }

      // Check if this provider is configured
      const provider = configured.find(p => p.id === providerId);
      if (provider) {
        const model = (0, _modelDiscovery.getLatestModelForProvider)(providerId);
        if (model) {
          return {
            provider: providerId,
            model
          };
        }
      }
    }
    return null;
  }

  /**
   * Emit a provider fallback event
   */
  emitFallbackEvent(fromProvider, fromModel, toProvider, toModel, reason, error) {
    this.activeSink?.push({
      type: 'provider.fallback',
      timestamp: Date.now(),
      fromProvider,
      fromModel,
      toProvider,
      toModel,
      reason,
      error
    });
  }

  /**
   * Attempt to switch to a fallback provider
   */
  async attemptFallback(error) {
    const fallback = this.findFallbackProvider();
    if (!fallback) {
      (0, _debugLogger.logDebug)('[AgentController] No fallback provider available');
      return false;
    }
    const reason = (0, _resilientProvider.getFallbackReason)(error);
    const fromProvider = this.selection.provider;
    const fromModel = this.selection.model;

    // Mark current provider as failed
    this.failedProviders.add(fromProvider);

    // Emit fallback event
    this.emitFallbackEvent(fromProvider, fromModel, fallback.provider, fallback.model, reason, error.message);
    (0, _debugLogger.logDebug)(`[AgentController] Falling back from ${fromProvider}/${fromModel} to ${fallback.provider}/${fallback.model}: ${reason}`);

    // Switch to fallback provider
    await this.switchModel({
      provider: fallback.provider,
      model: fallback.model
    });
    return true;
  }
  getToolSuites() {
    return this.session.toolSuites;
  }
}
exports.AgentController = AgentController;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbm9kZSIsInJlcXVpcmUiLCJfYWdlbnQiLCJfZGVidWdMb2dnZXIiLCJfcmVzaWxpZW50UHJvdmlkZXIiLCJfbW9kZWxEaXNjb3ZlcnkiLCJFdmVudFN0cmVhbSIsInF1ZXVlIiwicGVuZGluZyIsImNsb3NlZCIsImZhaWx1cmUiLCJwdXNoIiwidmFsdWUiLCJyZXNvbHZlIiwiZG9uZSIsImNsb3NlIiwidW5kZWZpbmVkIiwiZmFpbCIsImVycm9yIiwicmVqZWN0IiwibmV4dCIsImxlbmd0aCIsInNoaWZ0IiwiUHJvbWlzZSIsInJldHVybiIsInRocm93IiwiZXJyIiwiRXJyb3IiLCJTdHJpbmciLCJTeW1ib2wiLCJhc3luY0l0ZXJhdG9yIiwibWVyZ2VUb29sT2JzZXJ2ZXJzIiwicHJpbWFyeSIsInNlY29uZGFyeSIsIm9uVG9vbFN0YXJ0IiwiY2FsbCIsIm9uVG9vbFJlc3VsdCIsIm91dHB1dCIsIm9uVG9vbFByb2dyZXNzIiwicHJvZ3Jlc3MiLCJvblRvb2xFcnJvciIsIm9uQ2FjaGVIaXQiLCJvblRvb2xXYXJuaW5nIiwid2FybmluZyIsImNyZWF0ZUNvbnRyb2xsZXJUb29sT2JzZXJ2ZXIiLCJyZWYiLCJlbWl0IiwiZXZlbnQiLCJjdXJyZW50IiwidGltZXN0YW1wIiwiRGF0ZSIsIm5vdyIsInR5cGUiLCJ0b29sTmFtZSIsIm5hbWUiLCJ0b29sQ2FsbElkIiwiaWQiLCJwYXJhbWV0ZXJzIiwiYXJndW1lbnRzIiwicmVzdWx0IiwiY3JlYXRlQWdlbnRDb250cm9sbGVyIiwib3B0aW9ucyIsImFkZGl0aW9uYWxPYnNlcnZlciIsInNpbmtSZWYiLCJvYnNlcnZlciIsInJ1bnRpbWUiLCJjcmVhdGVOb2RlUnVudGltZSIsInByb2ZpbGUiLCJ3b3Jrc3BhY2VDb250ZXh0Iiwid29ya2luZ0RpciIsImVudiIsInRvb2xPYnNlcnZlciIsImFkZGl0aW9uYWxNb2R1bGVzIiwibW9kdWxlcyIsIkFnZW50Q29udHJvbGxlciIsImV4dGVybmFsQ2FsbGJhY2tzIiwiY2FsbGJhY2tzIiwiYWN0aXZlU2luayIsImFnZW50IiwiY2FjaGVkSGlzdG9yeSIsImZhaWxlZFByb3ZpZGVycyIsIlNldCIsIk1BWF9GQUxMQkFDS19BVFRFTVBUUyIsInJ1blRpbWVvdXRNcyIsIk51bWJlciIsInBhcnNlSW50IiwicHJvY2VzcyIsIkFHSV9BR0VOVF9SVU5fVElNRU9VVF9NUyIsImNhbmNlbEFjdGl2ZVJ1bkZuIiwiY29uc3RydWN0b3IiLCJkZXBlbmRlbmNpZXMiLCJzZXNzaW9uIiwic2VsZWN0aW9uIiwiYnVpbGRJbml0aWFsU2VsZWN0aW9uIiwiY29uZmlnIiwicHJvZmlsZUNvbmZpZyIsInByb3ZpZGVyIiwibW9kZWwiLCJ0ZW1wZXJhdHVyZSIsIm1heFRva2VucyIsInN5c3RlbVByb21wdCIsImVuc3VyZUFnZW50IiwiY3JlYXRlQWdlbnQiLCJjcmVhdGVBZ2VudENhbGxiYWNrcyIsImV4cGxhaW5FZGl0cyIsImxvYWRIaXN0b3J5Iiwib25Bc3Npc3RhbnRNZXNzYWdlIiwiY29udGVudCIsIm1ldGFkYXRhIiwiaGFuZGxlQXNzaXN0YW50TWVzc2FnZSIsIm9uU3RyZWFtQ2h1bmsiLCJjaHVuayIsImVtaXREZWx0YSIsImVtaXRSZWFzb25pbmciLCJvblVzYWdlIiwidXNhZ2UiLCJlbWl0VXNhZ2UiLCJvbkNvbnRleHRQcnVuZWQiLCJyZW1vdmVkQ291bnQiLCJzdGF0cyIsIm9uQ29udGV4dFNxdWlzaGluZyIsIm1lc3NhZ2UiLCJvbkNvbnRleHRSZWNvdmVyeSIsImF0dGVtcHQiLCJtYXhBdHRlbXB0cyIsIm9uQ29udGludWVBZnRlclJlY292ZXJ5Iiwib25NdWx0aWxpbmVQYXN0ZSIsInN1bW1hcnkiLCJvbkVkaXRFeHBsYW5hdGlvbiIsInBheWxvYWQiLCJoYW5kbGVFZGl0RXhwbGFuYXRpb24iLCJvblJldHJ5aW5nIiwiaXNHYXJiYWdlQ29udGVudCIsInRyaW1tZWQiLCJ0cmltIiwidGVzdCIsImFscGhhQ291bnQiLCJtYXRjaCIsImlzRmluYWwiLCJsb2dEZWJ1ZyIsInNsaWNlIiwiZW1pdEVycm9yIiwiaW5wdXRUb2tlbnMiLCJvdXRwdXRUb2tlbnMiLCJ0b3RhbFRva2VucyIsImV4cGxhbmF0aW9uIiwiZmlsZXMiLCJzdXBwcmVzc0Rpc3BsYXkiLCJlbGFwc2VkTXMiLCJ1cGRhdGVDYWNoZWRIaXN0b3J5IiwiZ2V0SGlzdG9yeSIsImNyZWF0ZVNpbmsiLCJzaW5rIiwiY2xlYXJTaW5rIiwic3RhcnRBZ2VudFJ1biIsInJ1blByb21pc2UiLCJzZW5kIiwidGltZXIiLCJ0aW1lb3V0UHJvbWlzZSIsIl8iLCJzZXRUaW1lb3V0IiwidW5yZWYiLCJjYW5jZWxsZWQiLCJjYW5jZWxQcm9taXNlIiwicmFjZSIsImZpbHRlciIsIkJvb2xlYW4iLCJ0aGVuIiwiY2F0Y2giLCJlcnJvck9iaiIsImZpbmFsbHkiLCJjbGVhclRpbWVvdXQiLCJhdHRlbXB0RmFsbGJhY2tXaXRoRXJyb3IiLCJhdHRlbXB0cyIsImlzRmFsbGJhY2tFbGlnaWJsZUVycm9yIiwiYXR0ZW1wdEZhbGxiYWNrIiwiY2FuY2VsbGVkQnlVc2VyIiwiY2xlYXIiLCJmYWxsYmFja0F0dGVtcHRzIiwiY2F1Z2h0RXJyb3IiLCJmYWxsYmFja1N1Y2NlZWRlZCIsInJ1biIsImNhbmNlbCIsInJlYXNvbiIsInN3aXRjaE1vZGVsIiwidXBkYXRlVG9vbENvbnRleHQiLCJnZXRDYXBhYmlsaXRpZXMiLCJ0b29scyIsInRvb2xSdW50aW1lIiwibGlzdFByb3ZpZGVyVG9vbHMiLCJtYW5pZmVzdFRvb2xzIiwibWFwIiwidG9vbCIsImRlc2NyaXB0aW9uIiwiY2F0ZWdvcnkiLCJjb250cmFjdFZlcnNpb24iLCJBR0VOVF9DT05UUkFDVF9WRVJTSU9OIiwidG9Nb2RlbENvbmZpZyIsImZlYXR1cmVzIiwicmVnaXN0ZXJUb29sU3VpdGUiLCJzdWl0ZUlkIiwic3VpdGUiLCJyZWdpc3RlclN1aXRlIiwidW5yZWdpc3RlclRvb2xTdWl0ZSIsInVucmVnaXN0ZXJTdWl0ZSIsImNsZWFySGlzdG9yeSIsImZpbmRGYWxsYmFja1Byb3ZpZGVyIiwiY29uZmlndXJlZCIsImdldENvbmZpZ3VyZWRQcm92aWRlcnMiLCJjdXJyZW50UHJvdmlkZXIiLCJwcmVmZXJlbmNlT3JkZXIiLCJwcm92aWRlcklkIiwiaGFzIiwiZmluZCIsInAiLCJnZXRMYXRlc3RNb2RlbEZvclByb3ZpZGVyIiwiZW1pdEZhbGxiYWNrRXZlbnQiLCJmcm9tUHJvdmlkZXIiLCJmcm9tTW9kZWwiLCJ0b1Byb3ZpZGVyIiwidG9Nb2RlbCIsImZhbGxiYWNrIiwiZ2V0RmFsbGJhY2tSZWFzb24iLCJhZGQiLCJnZXRUb29sU3VpdGVzIiwidG9vbFN1aXRlcyIsImV4cG9ydHMiXSwic291cmNlcyI6WyJhZ2VudENvbnRyb2xsZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBQcm9maWxlTmFtZSB9IGZyb20gJy4uL2NvbmZpZy5qcyc7XG5pbXBvcnQgdHlwZSB7IEFnZW50U2Vzc2lvbiwgTW9kZWxTZWxlY3Rpb24gfSBmcm9tICcuL2FnZW50U2Vzc2lvbi5qcyc7XG5pbXBvcnQgdHlwZSB7IFVuaXZlcnNhbFJ1bnRpbWUgfSBmcm9tICcuL3VuaXZlcnNhbC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVOb2RlUnVudGltZSwgdHlwZSBOb2RlUnVudGltZU9wdGlvbnMgfSBmcm9tICcuL25vZGUuanMnO1xuaW1wb3J0IHR5cGUgeyBDYXBhYmlsaXR5TW9kdWxlIH0gZnJvbSAnLi9hZ2VudEhvc3QuanMnO1xuaW1wb3J0IHR5cGUgeyBBZ2VudENhbGxiYWNrcywgQXNzaXN0YW50TWVzc2FnZU1ldGFkYXRhLCBFZGl0RXhwbGFuYXRpb25QYXlsb2FkIH0gZnJvbSAnLi4vY29yZS9hZ2VudC5qcyc7XG5pbXBvcnQgdHlwZSB7IFRvb2xSdW50aW1lT2JzZXJ2ZXIsIFRvb2xTdWl0ZSB9IGZyb20gJy4uL2NvcmUvdG9vbFJ1bnRpbWUuanMnO1xuaW1wb3J0IHR5cGUgeyBDb252ZXJzYXRpb25NZXNzYWdlLCBQcm92aWRlclVzYWdlLCBQcm92aWRlcklkIH0gZnJvbSAnLi4vY29yZS90eXBlcy5qcyc7XG5pbXBvcnQgdHlwZSB7XG4gIEFnZW50RXZlbnRVbmlvbixcbiAgQ2FwYWJpbGl0eU1hbmlmZXN0LFxuICBJQWdlbnRDb250cm9sbGVyLFxuICBNb2RlbENvbmZpZyxcbiAgVG9vbENhcGFiaWxpdHksXG59IGZyb20gJy4uL2NvbnRyYWN0cy92MS9hZ2VudC5qcyc7XG5pbXBvcnQgeyBBR0VOVF9DT05UUkFDVF9WRVJTSU9OIH0gZnJvbSAnLi4vY29udHJhY3RzL3YxL2FnZW50LmpzJztcbmltcG9ydCB7IGxvZ0RlYnVnIH0gZnJvbSAnLi4vdXRpbHMvZGVidWdMb2dnZXIuanMnO1xuaW1wb3J0IHsgaXNGYWxsYmFja0VsaWdpYmxlRXJyb3IsIGdldEZhbGxiYWNrUmVhc29uIH0gZnJvbSAnLi4vcHJvdmlkZXJzL3Jlc2lsaWVudFByb3ZpZGVyLmpzJztcbmltcG9ydCB7IGdldENvbmZpZ3VyZWRQcm92aWRlcnMsIGdldExhdGVzdE1vZGVsRm9yUHJvdmlkZXIgfSBmcm9tICcuLi9jb3JlL21vZGVsRGlzY292ZXJ5LmpzJztcblxuaW50ZXJmYWNlIEV2ZW50U2lua1JlZiB7XG4gIGN1cnJlbnQ6IEV2ZW50U3RyZWFtPEFnZW50RXZlbnRVbmlvbj4gfCBudWxsO1xufVxuXG5jbGFzcyBFdmVudFN0cmVhbTxUPiBpbXBsZW1lbnRzIEFzeW5jSXRlcmFibGVJdGVyYXRvcjxUPiB7XG4gIHByaXZhdGUgcmVhZG9ubHkgcXVldWU6IFRbXSA9IFtdO1xuICBwcml2YXRlIHBlbmRpbmc6IHsgcmVzb2x2ZTogKHZhbHVlOiBJdGVyYXRvclJlc3VsdDxUPikgPT4gdm9pZDsgcmVqZWN0OiAoZXJyb3I6IHVua25vd24pID0+IHZvaWQgfSB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIGNsb3NlZCA9IGZhbHNlO1xuICBwcml2YXRlIGZhaWx1cmU6IEVycm9yIHwgbnVsbCA9IG51bGw7XG5cbiAgcHVzaCh2YWx1ZTogVCk6IHZvaWQge1xuICAgIGlmICh0aGlzLmNsb3NlZCB8fCB0aGlzLmZhaWx1cmUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHRoaXMucGVuZGluZykge1xuICAgICAgdGhpcy5wZW5kaW5nLnJlc29sdmUoeyB2YWx1ZSwgZG9uZTogZmFsc2UgfSk7XG4gICAgICB0aGlzLnBlbmRpbmcgPSBudWxsO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLnF1ZXVlLnB1c2godmFsdWUpO1xuICB9XG5cbiAgY2xvc2UoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuY2xvc2VkIHx8IHRoaXMuZmFpbHVyZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmNsb3NlZCA9IHRydWU7XG4gICAgaWYgKHRoaXMucGVuZGluZykge1xuICAgICAgdGhpcy5wZW5kaW5nLnJlc29sdmUoeyB2YWx1ZTogdW5kZWZpbmVkIGFzIHVua25vd24gYXMgVCwgZG9uZTogdHJ1ZSB9KTtcbiAgICAgIHRoaXMucGVuZGluZyA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgZmFpbChlcnJvcjogRXJyb3IpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5jbG9zZWQgfHwgdGhpcy5mYWlsdXJlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuZmFpbHVyZSA9IGVycm9yO1xuICAgIGlmICh0aGlzLnBlbmRpbmcpIHtcbiAgICAgIHRoaXMucGVuZGluZy5yZWplY3QoZXJyb3IpO1xuICAgICAgdGhpcy5wZW5kaW5nID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICBuZXh0KCk6IFByb21pc2U8SXRlcmF0b3JSZXN1bHQ8VD4+IHtcbiAgICBpZiAodGhpcy5xdWV1ZS5sZW5ndGgpIHtcbiAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5xdWV1ZS5zaGlmdCgpITtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoeyB2YWx1ZSwgZG9uZTogZmFsc2UgfSk7XG4gICAgfVxuICAgIGlmICh0aGlzLmZhaWx1cmUpIHtcbiAgICAgIGNvbnN0IGVycm9yID0gdGhpcy5mYWlsdXJlO1xuICAgICAgdGhpcy5mYWlsdXJlID0gbnVsbDtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7XG4gICAgfVxuICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7IHZhbHVlOiB1bmRlZmluZWQgYXMgdW5rbm93biBhcyBULCBkb25lOiB0cnVlIH0pO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFByb21pc2U8SXRlcmF0b3JSZXN1bHQ8VD4+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHRoaXMucGVuZGluZyA9IHsgcmVzb2x2ZSwgcmVqZWN0IH07XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4oKTogUHJvbWlzZTxJdGVyYXRvclJlc3VsdDxUPj4ge1xuICAgIHRoaXMuY2xvc2UoKTtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHsgdmFsdWU6IHVuZGVmaW5lZCBhcyB1bmtub3duIGFzIFQsIGRvbmU6IHRydWUgfSk7XG4gIH1cblxuICB0aHJvdyhlcnJvcjogdW5rbm93bik6IFByb21pc2U8SXRlcmF0b3JSZXN1bHQ8VD4+IHtcbiAgICBjb25zdCBlcnIgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IgOiBuZXcgRXJyb3IoU3RyaW5nKGVycm9yKSk7XG4gICAgdGhpcy5mYWlsKGVycik7XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycik7XG4gIH1cblxuICBbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCk6IEFzeW5jSXRlcmFibGVJdGVyYXRvcjxUPiB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn1cblxuZnVuY3Rpb24gbWVyZ2VUb29sT2JzZXJ2ZXJzKFxuICBwcmltYXJ5OiBUb29sUnVudGltZU9ic2VydmVyLFxuICBzZWNvbmRhcnk/OiBUb29sUnVudGltZU9ic2VydmVyXG4pOiBUb29sUnVudGltZU9ic2VydmVyIHtcbiAgaWYgKCFzZWNvbmRhcnkpIHtcbiAgICByZXR1cm4gcHJpbWFyeTtcbiAgfVxuICByZXR1cm4ge1xuICAgIG9uVG9vbFN0YXJ0KGNhbGwpIHtcbiAgICAgIHByaW1hcnkub25Ub29sU3RhcnQ/LihjYWxsKTtcbiAgICAgIHNlY29uZGFyeS5vblRvb2xTdGFydD8uKGNhbGwpO1xuICAgIH0sXG4gICAgb25Ub29sUmVzdWx0KGNhbGwsIG91dHB1dCkge1xuICAgICAgcHJpbWFyeS5vblRvb2xSZXN1bHQ/LihjYWxsLCBvdXRwdXQpO1xuICAgICAgc2Vjb25kYXJ5Lm9uVG9vbFJlc3VsdD8uKGNhbGwsIG91dHB1dCk7XG4gICAgfSxcbiAgICBvblRvb2xQcm9ncmVzcyhjYWxsLCBwcm9ncmVzcykge1xuICAgICAgcHJpbWFyeS5vblRvb2xQcm9ncmVzcz8uKGNhbGwsIHByb2dyZXNzKTtcbiAgICAgIHNlY29uZGFyeS5vblRvb2xQcm9ncmVzcz8uKGNhbGwsIHByb2dyZXNzKTtcbiAgICB9LFxuICAgIG9uVG9vbEVycm9yKGNhbGwsIGVycm9yKSB7XG4gICAgICBwcmltYXJ5Lm9uVG9vbEVycm9yPy4oY2FsbCwgZXJyb3IpO1xuICAgICAgc2Vjb25kYXJ5Lm9uVG9vbEVycm9yPy4oY2FsbCwgZXJyb3IpO1xuICAgIH0sXG4gICAgb25DYWNoZUhpdChjYWxsKSB7XG4gICAgICBwcmltYXJ5Lm9uQ2FjaGVIaXQ/LihjYWxsKTtcbiAgICAgIHNlY29uZGFyeS5vbkNhY2hlSGl0Py4oY2FsbCk7XG4gICAgfSxcbiAgICBvblRvb2xXYXJuaW5nKGNhbGwsIHdhcm5pbmcpIHtcbiAgICAgIHByaW1hcnkub25Ub29sV2FybmluZz8uKGNhbGwsIHdhcm5pbmcpO1xuICAgICAgc2Vjb25kYXJ5Lm9uVG9vbFdhcm5pbmc/LihjYWxsLCB3YXJuaW5nKTtcbiAgICB9LFxuICB9IHNhdGlzZmllcyBUb29sUnVudGltZU9ic2VydmVyO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVDb250cm9sbGVyVG9vbE9ic2VydmVyKHJlZjogRXZlbnRTaW5rUmVmKTogVG9vbFJ1bnRpbWVPYnNlcnZlciB7XG4gIGNvbnN0IGVtaXQgPSAoZXZlbnQ6IEFnZW50RXZlbnRVbmlvbikgPT4ge1xuICAgIHJlZi5jdXJyZW50Py5wdXNoKGV2ZW50KTtcbiAgfTtcbiAgY29uc3QgdGltZXN0YW1wID0gKCkgPT4gRGF0ZS5ub3coKTtcbiAgcmV0dXJuIHtcbiAgICBvblRvb2xTdGFydChjYWxsKSB7XG4gICAgICBlbWl0KHtcbiAgICAgICAgdHlwZTogJ3Rvb2wuc3RhcnQnLFxuICAgICAgICB0aW1lc3RhbXA6IHRpbWVzdGFtcCgpLFxuICAgICAgICB0b29sTmFtZTogY2FsbC5uYW1lLFxuICAgICAgICB0b29sQ2FsbElkOiBjYWxsLmlkLFxuICAgICAgICBwYXJhbWV0ZXJzOiB7IC4uLmNhbGwuYXJndW1lbnRzIH0sXG4gICAgICB9KTtcbiAgICB9LFxuICAgIG9uVG9vbFJlc3VsdChjYWxsLCBvdXRwdXQpIHtcbiAgICAgIGVtaXQoe1xuICAgICAgICB0eXBlOiAndG9vbC5jb21wbGV0ZScsXG4gICAgICAgIHRpbWVzdGFtcDogdGltZXN0YW1wKCksXG4gICAgICAgIHRvb2xOYW1lOiBjYWxsLm5hbWUsXG4gICAgICAgIHRvb2xDYWxsSWQ6IGNhbGwuaWQsXG4gICAgICAgIHJlc3VsdDogb3V0cHV0LFxuICAgICAgfSk7XG4gICAgfSxcbiAgICBvblRvb2xFcnJvcihjYWxsLCBlcnJvcikge1xuICAgICAgZW1pdCh7XG4gICAgICAgIHR5cGU6ICd0b29sLmVycm9yJyxcbiAgICAgICAgdGltZXN0YW1wOiB0aW1lc3RhbXAoKSxcbiAgICAgICAgdG9vbE5hbWU6IGNhbGwubmFtZSxcbiAgICAgICAgdG9vbENhbGxJZDogY2FsbC5pZCxcbiAgICAgICAgZXJyb3IsXG4gICAgICB9KTtcbiAgICB9LFxuICB9IHNhdGlzZmllcyBUb29sUnVudGltZU9ic2VydmVyO1xufVxuXG5pbnRlcmZhY2UgQWdlbnRDb250cm9sbGVyRGVwZW5kZW5jaWVzIHtcbiAgcnVudGltZTogVW5pdmVyc2FsUnVudGltZTtcbiAgc2lua1JlZjogRXZlbnRTaW5rUmVmO1xuICBleHRlcm5hbENhbGxiYWNrcz86IEFnZW50Q2FsbGJhY2tzO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEFnZW50Q29udHJvbGxlckNyZWF0ZU9wdGlvbnMgZXh0ZW5kcyBPbWl0PE5vZGVSdW50aW1lT3B0aW9ucywgJ3Rvb2xPYnNlcnZlcic+IHtcbiAgcHJvZmlsZTogUHJvZmlsZU5hbWU7XG4gIHdvcmtzcGFjZUNvbnRleHQ6IHN0cmluZyB8IG51bGw7XG4gIHdvcmtpbmdEaXI6IHN0cmluZztcbiAgbW9kdWxlcz86IENhcGFiaWxpdHlNb2R1bGVbXTtcbiAgY2FsbGJhY2tzPzogQWdlbnRDYWxsYmFja3M7XG4gIC8qKiBTa2lwIHByb3ZpZGVyIGRpc2NvdmVyeSBmb3IgZmFzdGVyIHN0YXJ0dXAgKHVzZWQgaW4gcXVpY2sgbW9kZSkgKi9cbiAgc2tpcFByb3ZpZGVyRGlzY292ZXJ5PzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZUFnZW50Q29udHJvbGxlcihcbiAgb3B0aW9uczogQWdlbnRDb250cm9sbGVyQ3JlYXRlT3B0aW9ucyxcbiAgYWRkaXRpb25hbE9ic2VydmVyPzogVG9vbFJ1bnRpbWVPYnNlcnZlclxuKTogUHJvbWlzZTxBZ2VudENvbnRyb2xsZXI+IHtcbiAgY29uc3Qgc2lua1JlZjogRXZlbnRTaW5rUmVmID0geyBjdXJyZW50OiBudWxsIH07XG4gIGNvbnN0IG9ic2VydmVyID0gY3JlYXRlQ29udHJvbGxlclRvb2xPYnNlcnZlcihzaW5rUmVmKTtcbiAgY29uc3QgcnVudGltZSA9IGF3YWl0IGNyZWF0ZU5vZGVSdW50aW1lKHtcbiAgICBwcm9maWxlOiBvcHRpb25zLnByb2ZpbGUsXG4gICAgd29ya3NwYWNlQ29udGV4dDogb3B0aW9ucy53b3Jrc3BhY2VDb250ZXh0LFxuICAgIHdvcmtpbmdEaXI6IG9wdGlvbnMud29ya2luZ0RpcixcbiAgICBlbnY6IG9wdGlvbnMuZW52LFxuICAgIHRvb2xPYnNlcnZlcjogbWVyZ2VUb29sT2JzZXJ2ZXJzKG9ic2VydmVyLCBhZGRpdGlvbmFsT2JzZXJ2ZXIpLFxuICAgIGFkZGl0aW9uYWxNb2R1bGVzOiBvcHRpb25zLm1vZHVsZXMsXG4gIH0pO1xuICByZXR1cm4gbmV3IEFnZW50Q29udHJvbGxlcih7IHJ1bnRpbWUsIHNpbmtSZWYsIGV4dGVybmFsQ2FsbGJhY2tzOiBvcHRpb25zLmNhbGxiYWNrcyB9KTtcbn1cblxuZXhwb3J0IGNsYXNzIEFnZW50Q29udHJvbGxlciBpbXBsZW1lbnRzIElBZ2VudENvbnRyb2xsZXIge1xuICBwcml2YXRlIHJlYWRvbmx5IHNlc3Npb246IEFnZW50U2Vzc2lvbjtcbiAgcHJpdmF0ZSByZWFkb25seSBzaW5rUmVmOiBFdmVudFNpbmtSZWY7XG4gIHByaXZhdGUgcmVhZG9ubHkgZXh0ZXJuYWxDYWxsYmFja3M6IEFnZW50Q2FsbGJhY2tzIHwgdW5kZWZpbmVkO1xuICBwcml2YXRlIGFjdGl2ZVNpbms6IEV2ZW50U3RyZWFtPEFnZW50RXZlbnRVbmlvbj4gfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBhZ2VudDogUmV0dXJuVHlwZTxBZ2VudFNlc3Npb25bJ2NyZWF0ZUFnZW50J10+IHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgY2FjaGVkSGlzdG9yeTogQ29udmVyc2F0aW9uTWVzc2FnZVtdID0gW107XG4gIHByaXZhdGUgc2VsZWN0aW9uOiBNb2RlbFNlbGVjdGlvbjtcbiAgLyoqIFNldCBvZiBwcm92aWRlcnMgdGhhdCBoYXZlIGZhaWxlZCB3aXRoIG5vbi1yZXRyeWFibGUgZXJyb3JzIGluIHRoaXMgc2Vzc2lvbiAqL1xuICBwcml2YXRlIGZhaWxlZFByb3ZpZGVyczogU2V0PFByb3ZpZGVySWQ+ID0gbmV3IFNldCgpO1xuICAvKiogTWF4aW11bSBmYWxsYmFjayBhdHRlbXB0cyBwZXIgc2VuZCgpIGNhbGwgKi9cbiAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgTUFYX0ZBTExCQUNLX0FUVEVNUFRTID0gMztcbiAgLyoqIE9wdGlvbmFsIHRpbWVvdXQgZm9yIGEgc2luZ2xlIGFnZW50IHJ1biAobXMpOyAwIGRpc2FibGVzICovXG4gIHByaXZhdGUgcmVhZG9ubHkgcnVuVGltZW91dE1zOiBudW1iZXIgPVxuICAgIE51bWJlci5wYXJzZUludChwcm9jZXNzLmVudi5BR0lfQUdFTlRfUlVOX1RJTUVPVVRfTVMgPz8gJycsIDEwKSB8fCAwO1xuICAvKiogQ2FuY2VsIGhvb2sgZm9yIGFuIGluLWZsaWdodCBydW4gKi9cbiAgcHJpdmF0ZSBjYW5jZWxBY3RpdmVSdW5GbjogKCgpID0+IHZvaWQpIHwgbnVsbCA9IG51bGw7XG5cbiAgY29uc3RydWN0b3IoZGVwZW5kZW5jaWVzOiBBZ2VudENvbnRyb2xsZXJEZXBlbmRlbmNpZXMpIHtcbiAgICB0aGlzLnNlc3Npb24gPSBkZXBlbmRlbmNpZXMucnVudGltZS5zZXNzaW9uO1xuICAgIHRoaXMuc2lua1JlZiA9IGRlcGVuZGVuY2llcy5zaW5rUmVmO1xuICAgIHRoaXMuZXh0ZXJuYWxDYWxsYmFja3MgPSBkZXBlbmRlbmNpZXMuZXh0ZXJuYWxDYWxsYmFja3M7XG4gICAgdGhpcy5zZWxlY3Rpb24gPSB0aGlzLmJ1aWxkSW5pdGlhbFNlbGVjdGlvbigpO1xuICB9XG5cbiAgcHJpdmF0ZSBidWlsZEluaXRpYWxTZWxlY3Rpb24oKTogTW9kZWxTZWxlY3Rpb24ge1xuICAgIGNvbnN0IGNvbmZpZyA9IHRoaXMuc2Vzc2lvbi5wcm9maWxlQ29uZmlnO1xuICAgIHJldHVybiB7XG4gICAgICBwcm92aWRlcjogY29uZmlnLnByb3ZpZGVyLFxuICAgICAgbW9kZWw6IGNvbmZpZy5tb2RlbCxcbiAgICAgIHRlbXBlcmF0dXJlOiBjb25maWcudGVtcGVyYXR1cmUsXG4gICAgICBtYXhUb2tlbnM6IGNvbmZpZy5tYXhUb2tlbnMsXG4gICAgICBzeXN0ZW1Qcm9tcHQ6IGNvbmZpZy5zeXN0ZW1Qcm9tcHQsXG4gICAgfSBzYXRpc2ZpZXMgTW9kZWxTZWxlY3Rpb247XG4gIH1cblxuICBwcml2YXRlIGVuc3VyZUFnZW50KCk6IFJldHVyblR5cGU8QWdlbnRTZXNzaW9uWydjcmVhdGVBZ2VudCddPiB7XG4gICAgaWYgKHRoaXMuYWdlbnQpIHtcbiAgICAgIHJldHVybiB0aGlzLmFnZW50O1xuICAgIH1cbiAgICBjb25zdCBhZ2VudCA9IHRoaXMuc2Vzc2lvbi5jcmVhdGVBZ2VudCh0aGlzLnNlbGVjdGlvbiwgdGhpcy5jcmVhdGVBZ2VudENhbGxiYWNrcygpLCB1bmRlZmluZWQsIHtcbiAgICAgIGV4cGxhaW5FZGl0czogdHJ1ZSxcbiAgICB9KTtcbiAgICBpZiAodGhpcy5jYWNoZWRIaXN0b3J5Lmxlbmd0aCkge1xuICAgICAgYWdlbnQubG9hZEhpc3RvcnkodGhpcy5jYWNoZWRIaXN0b3J5KTtcbiAgICB9XG4gICAgdGhpcy5hZ2VudCA9IGFnZW50O1xuICAgIHJldHVybiBhZ2VudDtcbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlQWdlbnRDYWxsYmFja3MoKTogQWdlbnRDYWxsYmFja3Mge1xuICAgIHJldHVybiB7XG4gICAgICBvbkFzc2lzdGFudE1lc3NhZ2U6IChjb250ZW50LCBtZXRhZGF0YSkgPT4ge1xuICAgICAgICB0aGlzLmhhbmRsZUFzc2lzdGFudE1lc3NhZ2UoY29udGVudCwgbWV0YWRhdGEpO1xuICAgICAgICB0aGlzLmV4dGVybmFsQ2FsbGJhY2tzPy5vbkFzc2lzdGFudE1lc3NhZ2U/Lihjb250ZW50LCBtZXRhZGF0YSk7XG4gICAgICB9LFxuICAgICAgb25TdHJlYW1DaHVuazogKGNodW5rLCB0eXBlKSA9PiB7XG4gICAgICAgIGlmICh0eXBlID09PSAnY29udGVudCcpIHtcbiAgICAgICAgICAvLyBDb250ZW50IGNodW5rcyBnbyB0byBtZXNzYWdlLmRlbHRhIGZvciBzdHJlYW1pbmcgZGlzcGxheVxuICAgICAgICAgIHRoaXMuZW1pdERlbHRhKGNodW5rLCBmYWxzZSk7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ3JlYXNvbmluZycpIHtcbiAgICAgICAgICAvLyBSZWFzb25pbmcgY2h1bmtzIGdvIHRvIHJlYXNvbmluZyBldmVudCBmb3IgdGhvdWdodCBkaXNwbGF5XG4gICAgICAgICAgdGhpcy5lbWl0UmVhc29uaW5nKGNodW5rKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBQYXNzIGFsbCBjaHVua3MgdG8gZXh0ZXJuYWwgY2FsbGJhY2tzXG4gICAgICAgIHRoaXMuZXh0ZXJuYWxDYWxsYmFja3M/Lm9uU3RyZWFtQ2h1bms/LihjaHVuaywgdHlwZSk7XG4gICAgICB9LFxuICAgICAgb25Vc2FnZTogKHVzYWdlKSA9PiB7XG4gICAgICAgIHRoaXMuZW1pdFVzYWdlKHVzYWdlKTtcbiAgICAgICAgdGhpcy5leHRlcm5hbENhbGxiYWNrcz8ub25Vc2FnZT8uKHVzYWdlKTtcbiAgICAgIH0sXG4gICAgICBvbkNvbnRleHRQcnVuZWQ6IChyZW1vdmVkQ291bnQsIHN0YXRzKSA9PiB7XG4gICAgICAgIHRoaXMuZXh0ZXJuYWxDYWxsYmFja3M/Lm9uQ29udGV4dFBydW5lZD8uKHJlbW92ZWRDb3VudCwgc3RhdHMpO1xuICAgICAgfSxcbiAgICAgIG9uQ29udGV4dFNxdWlzaGluZzogKG1lc3NhZ2UpID0+IHtcbiAgICAgICAgdGhpcy5leHRlcm5hbENhbGxiYWNrcz8ub25Db250ZXh0U3F1aXNoaW5nPy4obWVzc2FnZSk7XG4gICAgICB9LFxuICAgICAgb25Db250ZXh0UmVjb3Zlcnk6IChhdHRlbXB0LCBtYXhBdHRlbXB0cywgbWVzc2FnZSkgPT4ge1xuICAgICAgICB0aGlzLmV4dGVybmFsQ2FsbGJhY2tzPy5vbkNvbnRleHRSZWNvdmVyeT8uKGF0dGVtcHQsIG1heEF0dGVtcHRzLCBtZXNzYWdlKTtcbiAgICAgIH0sXG4gICAgICBvbkNvbnRpbnVlQWZ0ZXJSZWNvdmVyeTogKCkgPT4ge1xuICAgICAgICB0aGlzLmV4dGVybmFsQ2FsbGJhY2tzPy5vbkNvbnRpbnVlQWZ0ZXJSZWNvdmVyeT8uKCk7XG4gICAgICB9LFxuICAgICAgb25NdWx0aWxpbmVQYXN0ZTogKHN1bW1hcnksIG1ldGFkYXRhKSA9PiB7XG4gICAgICAgIHRoaXMuZXh0ZXJuYWxDYWxsYmFja3M/Lm9uTXVsdGlsaW5lUGFzdGU/LihzdW1tYXJ5LCBtZXRhZGF0YSk7XG4gICAgICB9LFxuICAgICAgb25FZGl0RXhwbGFuYXRpb246IChwYXlsb2FkKSA9PiB7XG4gICAgICAgIHRoaXMuaGFuZGxlRWRpdEV4cGxhbmF0aW9uKHBheWxvYWQpO1xuICAgICAgICB0aGlzLmV4dGVybmFsQ2FsbGJhY2tzPy5vbkVkaXRFeHBsYW5hdGlvbj8uKHBheWxvYWQpO1xuICAgICAgfSxcbiAgICAgIG9uUmV0cnlpbmc6IChhdHRlbXB0LCBtYXhBdHRlbXB0cywgZXJyb3IpID0+IHtcbiAgICAgICAgLy8gRW1pdCBkZWx0YSBldmVudCB0byBzaG93IHJldHJ5IHN0YXR1c1xuICAgICAgICB0aGlzLmVtaXREZWx0YShgW1JldHJ5aW5nICR7YXR0ZW1wdH0vJHttYXhBdHRlbXB0c306ICR7ZXJyb3IubWVzc2FnZX1dYCwgZmFsc2UpO1xuICAgICAgICB0aGlzLmV4dGVybmFsQ2FsbGJhY2tzPy5vblJldHJ5aW5nPy4oYXR0ZW1wdCwgbWF4QXR0ZW1wdHMsIGVycm9yKTtcbiAgICAgIH0sXG4gICAgICAvLyBvbkJlZm9yZUZpcnN0VG9vbENhbGwgbm90IG5lZWRlZCAtIG1vZGVsJ3MgcmVhc29uaW5nIGlzIG5vdyBlbWl0dGVkIGFzIHRob3VnaHQgZXZlbnRzXG4gICAgfSBzYXRpc2ZpZXMgQWdlbnRDYWxsYmFja3M7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgY29udGVudCBsb29rcyBsaWtlIGdhcmJhZ2UvbGVha2VkIHJlYXNvbmluZyBmcmFnbWVudHMuXG4gICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgY29udGVudCBzaG91bGQgYmUgZmlsdGVyZWQgb3V0LlxuICAgKi9cbiAgcHJpdmF0ZSBpc0dhcmJhZ2VDb250ZW50KGNvbnRlbnQ6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IHRyaW1tZWQgPSBjb250ZW50LnRyaW0oKTtcbiAgICBpZiAoIXRyaW1tZWQpIHJldHVybiB0cnVlO1xuXG4gICAgLy8gU2luZ2xlIG9yIHJlcGVhdGVkIHB1bmN0dWF0aW9uL21hcmtkb3duIGFydGlmYWN0c1xuICAgIGlmICgvXlspXFxdfT4qYCdcIi46LCE/fOKUguKUg+KUgOKUgeKVkFxcc10rJC8udGVzdCh0cmltbWVkKSkgcmV0dXJuIHRydWU7XG5cbiAgICAvLyBKdXN0IG5ld2xpbmVzIG9yIHdoaXRlc3BhY2VcbiAgICBpZiAoL15bXFxzXFxuXFxyXSskLy50ZXN0KHRyaW1tZWQpKSByZXR1cm4gdHJ1ZTtcblxuICAgIC8vIFNob3J0IGZyYWdtZW50cyB3aXRoIGhpZ2ggcHVuY3R1YXRpb24gcmF0aW8gKGxpa2VseSBsZWFrZWQgZm9ybWF0dGluZylcbiAgICBpZiAodHJpbW1lZC5sZW5ndGggPCAxNSkge1xuICAgICAgY29uc3QgYWxwaGFDb3VudCA9ICh0cmltbWVkLm1hdGNoKC9bYS16QS1aMC05XS9nKSB8fCBbXSkubGVuZ3RoO1xuICAgICAgaWYgKGFscGhhQ291bnQgPT09IDApIHJldHVybiB0cnVlO1xuICAgICAgaWYgKGFscGhhQ291bnQgLyB0cmltbWVkLmxlbmd0aCA8IDAuMikgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcHJpdmF0ZSBlbWl0RGVsdGEoY29udGVudDogc3RyaW5nLCBpc0ZpbmFsOiBib29sZWFuKTogdm9pZCB7XG4gICAgbG9nRGVidWcoYFtERUJVRyBjb250cm9sbGVyXSBlbWl0RGVsdGEgY2FsbGVkOiBjb250ZW50PVwiJHtjb250ZW50Py5zbGljZSgwLCA1MCl9XCIsIGlzRmluYWw9JHtpc0ZpbmFsfSwgaGFzU2luaz0keyEhdGhpcy5hY3RpdmVTaW5rfWApO1xuICAgIGlmICghY29udGVudD8udHJpbSgpKSB7XG4gICAgICBsb2dEZWJ1ZygnW0RFQlVHIGNvbnRyb2xsZXJdIGVtaXREZWx0YTogc2tpcHBpbmcgZW1wdHkgY29udGVudCcpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIEZpbHRlciBvdXQgZ2FyYmFnZS9sZWFrZWQgcmVhc29uaW5nIGZyYWdtZW50c1xuICAgIGlmICh0aGlzLmlzR2FyYmFnZUNvbnRlbnQoY29udGVudCkpIHtcbiAgICAgIGxvZ0RlYnVnKCdbREVCVUcgY29udHJvbGxlcl0gZW1pdERlbHRhOiBmaWx0ZXJpbmcgZ2FyYmFnZSBjb250ZW50Jyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbG9nRGVidWcoJ1tERUJVRyBjb250cm9sbGVyXSBlbWl0RGVsdGE6IHB1c2hpbmcgdG8gc2luaycpO1xuICAgIHRoaXMuYWN0aXZlU2luaz8ucHVzaCh7XG4gICAgICB0eXBlOiAnbWVzc2FnZS5kZWx0YScsXG4gICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICBjb250ZW50LFxuICAgICAgaXNGaW5hbCxcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgZW1pdEVycm9yKG1lc3NhZ2U6IHN0cmluZyk6IHZvaWQge1xuICAgIHRoaXMuYWN0aXZlU2luaz8ucHVzaCh7XG4gICAgICB0eXBlOiAnZXJyb3InLFxuICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgZXJyb3I6IG1lc3NhZ2UsXG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIGVtaXRSZWFzb25pbmcoY29udGVudDogc3RyaW5nKTogdm9pZCB7XG4gICAgaWYgKCFjb250ZW50Py50cmltKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gRmlsdGVyIG91dCBnYXJiYWdlL2xlYWtlZCBmb3JtYXR0aW5nIGZyYWdtZW50cyBpbiByZWFzb25pbmcgdG9vXG4gICAgaWYgKHRoaXMuaXNHYXJiYWdlQ29udGVudChjb250ZW50KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmFjdGl2ZVNpbms/LnB1c2goe1xuICAgICAgdHlwZTogJ3JlYXNvbmluZycsXG4gICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICBjb250ZW50LFxuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBlbWl0VXNhZ2UodXNhZ2U6IFByb3ZpZGVyVXNhZ2UgfCBudWxsIHwgdW5kZWZpbmVkKTogdm9pZCB7XG4gICAgaWYgKCF1c2FnZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmFjdGl2ZVNpbms/LnB1c2goe1xuICAgICAgdHlwZTogJ3VzYWdlJyxcbiAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICAgIGlucHV0VG9rZW5zOiB1c2FnZS5pbnB1dFRva2VucyxcbiAgICAgIG91dHB1dFRva2VuczogdXNhZ2Uub3V0cHV0VG9rZW5zLFxuICAgICAgdG90YWxUb2tlbnM6IHVzYWdlLnRvdGFsVG9rZW5zLFxuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVFZGl0RXhwbGFuYXRpb24ocGF5bG9hZDogRWRpdEV4cGxhbmF0aW9uUGF5bG9hZCk6IHZvaWQge1xuICAgIGlmICghdGhpcy5hY3RpdmVTaW5rKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghcGF5bG9hZC5leHBsYW5hdGlvbj8udHJpbSgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuYWN0aXZlU2luay5wdXNoKHtcbiAgICAgIHR5cGU6ICdlZGl0LmV4cGxhbmF0aW9uJyxcbiAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICAgIGNvbnRlbnQ6IHBheWxvYWQuZXhwbGFuYXRpb24sXG4gICAgICBmaWxlczogcGF5bG9hZC5maWxlcyxcbiAgICAgIHRvb2xOYW1lOiBwYXlsb2FkLnRvb2xOYW1lLFxuICAgICAgdG9vbENhbGxJZDogcGF5bG9hZC50b29sQ2FsbElkLFxuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVBc3Npc3RhbnRNZXNzYWdlKGNvbnRlbnQ6IHN0cmluZywgbWV0YWRhdGE6IEFzc2lzdGFudE1lc3NhZ2VNZXRhZGF0YSk6IHZvaWQge1xuICAgIGlmICghdGhpcy5hY3RpdmVTaW5rKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghY29udGVudC50cmltKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKG1ldGFkYXRhLnN1cHByZXNzRGlzcGxheSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIW1ldGFkYXRhLmlzRmluYWwpIHtcbiAgICAgIHRoaXMuZW1pdERlbHRhKGNvbnRlbnQsIGZhbHNlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZWxhcHNlZE1zID0gbWV0YWRhdGEuZWxhcHNlZE1zID8/IDA7XG4gICAgdGhpcy5hY3RpdmVTaW5rLnB1c2goe1xuICAgICAgdHlwZTogJ21lc3NhZ2UuY29tcGxldGUnLFxuICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgY29udGVudCxcbiAgICAgIGVsYXBzZWRNcyxcbiAgICB9KTtcbiAgICB0aGlzLmVtaXRVc2FnZShtZXRhZGF0YS51c2FnZSA/PyBudWxsKTtcbiAgfVxuXG4gIHByaXZhdGUgdXBkYXRlQ2FjaGVkSGlzdG9yeSgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5hZ2VudCkge1xuICAgICAgdGhpcy5jYWNoZWRIaXN0b3J5ID0gdGhpcy5hZ2VudC5nZXRIaXN0b3J5KCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVTaW5rKCk6IEV2ZW50U3RyZWFtPEFnZW50RXZlbnRVbmlvbj4ge1xuICAgIGNvbnN0IHNpbmsgPSBuZXcgRXZlbnRTdHJlYW08QWdlbnRFdmVudFVuaW9uPigpO1xuICAgIHRoaXMuYWN0aXZlU2luayA9IHNpbms7XG4gICAgdGhpcy5zaW5rUmVmLmN1cnJlbnQgPSBzaW5rO1xuICAgIHJldHVybiBzaW5rO1xuICB9XG5cbiAgcHJpdmF0ZSBjbGVhclNpbmsoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuYWN0aXZlU2luaykge1xuICAgICAgdGhpcy5hY3RpdmVTaW5rID0gbnVsbDtcbiAgICAgIHRoaXMuc2lua1JlZi5jdXJyZW50ID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHN0YXJ0QWdlbnRSdW4oXG4gICAgYWdlbnQ6IFJldHVyblR5cGU8QWdlbnRTZXNzaW9uWydjcmVhdGVBZ2VudCddPixcbiAgICBtZXNzYWdlOiBzdHJpbmcsXG4gICAgc2luazogRXZlbnRTdHJlYW08QWdlbnRFdmVudFVuaW9uPlxuICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBzaW5rLnB1c2goeyB0eXBlOiAnbWVzc2FnZS5zdGFydCcsIHRpbWVzdGFtcDogRGF0ZS5ub3coKSB9KTtcbiAgICBjb25zdCBydW5Qcm9taXNlID0gYWdlbnQuc2VuZChtZXNzYWdlLCB0cnVlKTtcblxuICAgIGxldCB0aW1lcjogTm9kZUpTLlRpbWVvdXQgfCBudWxsID0gbnVsbDtcbiAgICBjb25zdCB0aW1lb3V0UHJvbWlzZSA9XG4gICAgICB0aGlzLnJ1blRpbWVvdXRNcyA+IDBcbiAgICAgICAgPyBuZXcgUHJvbWlzZTxuZXZlcj4oKF8sIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihgQWdlbnQgcnVuIHRpbWVkIG91dCBhZnRlciAke3RoaXMucnVuVGltZW91dE1zfW1zYCkpO1xuICAgICAgICAgICAgfSwgdGhpcy5ydW5UaW1lb3V0TXMpO1xuICAgICAgICAgICAgdGltZXIudW5yZWY/LigpO1xuICAgICAgICAgIH0pXG4gICAgICAgIDogbnVsbDtcblxuICAgIGxldCBjYW5jZWxsZWQgPSBmYWxzZTtcbiAgICBjb25zdCBjYW5jZWxQcm9taXNlID0gbmV3IFByb21pc2U8bmV2ZXI+KChfLCByZWplY3QpID0+IHtcbiAgICAgIHRoaXMuY2FuY2VsQWN0aXZlUnVuRm4gPSAoKSA9PiB7XG4gICAgICAgIGNhbmNlbGxlZCA9IHRydWU7XG4gICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ0FnZW50IHJ1biBjYW5jZWxsZWQnKSk7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIFByb21pc2UucmFjZShbcnVuUHJvbWlzZSwgY2FuY2VsUHJvbWlzZSwgdGltZW91dFByb21pc2VdLmZpbHRlcihCb29sZWFuKSBhcyBQcm9taXNlPHVua25vd24+W10pXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIHRoaXMudXBkYXRlQ2FjaGVkSGlzdG9yeSgpO1xuICAgICAgICBzaW5rLmNsb3NlKCk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICBjb25zdCBlcnJvck9iaiA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvciA6IG5ldyBFcnJvcihTdHJpbmcoZXJyb3IpKTtcbiAgICAgICAgLy8gTGV0IGNhbGxlciBkZWNpZGUgb24gZmFsbGJhY2s7IHByb3BhZ2F0ZSBlcnJvciBhZnRlciBtYXJraW5nIHNpbmsgZmFpbGVkXG4gICAgICAgIGlmIChjYW5jZWxsZWQpIHtcbiAgICAgICAgICBzaW5rLmZhaWwoZXJyb3JPYmopO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNpbmsuZmFpbChlcnJvck9iaik7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgZXJyb3JPYmo7XG4gICAgICB9KVxuICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICBpZiAodGltZXIpIHtcbiAgICAgICAgICBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgICAgICAgIHRpbWVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNhbmNlbEFjdGl2ZVJ1bkZuID0gbnVsbDtcbiAgICAgICAgaWYgKHRoaXMuc2lua1JlZi5jdXJyZW50ID09PSBzaW5rKSB7XG4gICAgICAgICAgdGhpcy5jbGVhclNpbmsoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGF0dGVtcHRGYWxsYmFja1dpdGhFcnJvcihlcnJvck9iajogRXJyb3IsIGF0dGVtcHRzOiBudW1iZXIpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICBpZiAoIWlzRmFsbGJhY2tFbGlnaWJsZUVycm9yKGVycm9yT2JqKSkgcmV0dXJuIGZhbHNlO1xuICAgIGlmIChhdHRlbXB0cyA+PSBBZ2VudENvbnRyb2xsZXIuTUFYX0ZBTExCQUNLX0FUVEVNUFRTKSByZXR1cm4gZmFsc2U7XG4gICAgbG9nRGVidWcoYFtBZ2VudENvbnRyb2xsZXJdIEZhbGxiYWNrLWVsaWdpYmxlIGVycm9yIGRldGVjdGVkOiAke2Vycm9yT2JqLm1lc3NhZ2V9YCk7XG4gICAgcmV0dXJuIHRoaXMuYXR0ZW1wdEZhbGxiYWNrKGVycm9yT2JqKTtcbiAgfVxuXG4gIGFzeW5jICpzZW5kKG1lc3NhZ2U6IHN0cmluZyk6IEFzeW5jSXRlcmFibGVJdGVyYXRvcjxBZ2VudEV2ZW50VW5pb24+IHtcbiAgICBpZiAodGhpcy5hY3RpdmVTaW5rKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FnZW50IHJ1bnRpbWUgaXMgYWxyZWFkeSBwcm9jZXNzaW5nIGEgbWVzc2FnZS4gUGxlYXNlIHdhaXQgZm9yIHRoZSBjdXJyZW50IHJ1biB0byBmaW5pc2guJyk7XG4gICAgfVxuICAgIGxldCBjYW5jZWxsZWRCeVVzZXIgPSBmYWxzZTtcblxuICAgIC8vIFJlc2V0IGZhaWxlZCBwcm92aWRlcnMgYXQgdGhlIHN0YXJ0IG9mIGVhY2ggbmV3IG1lc3NhZ2VcbiAgICAvLyAocHJvdmlkZXJzIG1pZ2h0IGhhdmUgcmVjb3ZlcmVkLCBxdW90YXMgbWlnaHQgaGF2ZSByZXNldCwgZXRjLilcbiAgICB0aGlzLmZhaWxlZFByb3ZpZGVycy5jbGVhcigpO1xuXG4gICAgbGV0IGZhbGxiYWNrQXR0ZW1wdHMgPSAwO1xuXG4gICAgLy8gUmV0cnkgbG9vcCBmb3IgZmFsbGJhY2sgaGFuZGxpbmdcbiAgICB3aGlsZSAoZmFsbGJhY2tBdHRlbXB0cyA8IEFnZW50Q29udHJvbGxlci5NQVhfRkFMTEJBQ0tfQVRURU1QVFMpIHtcbiAgICAgIGNvbnN0IGFnZW50ID0gdGhpcy5lbnN1cmVBZ2VudCgpO1xuICAgICAgY29uc3Qgc2luayA9IHRoaXMuY3JlYXRlU2luaygpO1xuICAgICAgbGV0IGNhdWdodEVycm9yOiBFcnJvciB8IG51bGwgPSBudWxsO1xuICAgICAgbGV0IGZhbGxiYWNrU3VjY2VlZGVkID0gZmFsc2U7XG5cbiAgICAgIGNvbnN0IHJ1biA9IHRoaXMuc3RhcnRBZ2VudFJ1bihhZ2VudCwgbWVzc2FnZSwgc2luaykuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgIGNhdWdodEVycm9yID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yIDogbmV3IEVycm9yKFN0cmluZyhlcnJvcikpO1xuICAgICAgICBpZiAoL2NhbmNlbGxlZC9pLnRlc3QoY2F1Z2h0RXJyb3IubWVzc2FnZSkpIHtcbiAgICAgICAgICBjYW5jZWxsZWRCeVVzZXIgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgZm9yIGF3YWl0IChjb25zdCBldmVudCBvZiBzaW5rKSB7XG4gICAgICAgICAgeWllbGQgZXZlbnQ7XG4gICAgICAgIH1cbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGF3YWl0IHJ1bjtcbiAgICAgIH1cblxuICAgICAgLy8gRGVjaWRlIG9uIGZhbGxiYWNrIGFmdGVyIHJ1biBjb21wbGV0aW9uXG4gICAgICBpZiAoY2F1Z2h0RXJyb3IpIHtcbiAgICAgICAgaWYgKGNhbmNlbGxlZEJ5VXNlcikge1xuICAgICAgICAgIHRoaXMuZW1pdEVycm9yKGNhdWdodEVycm9yLm1lc3NhZ2UpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGZhbGxiYWNrU3VjY2VlZGVkID0gYXdhaXQgdGhpcy5hdHRlbXB0RmFsbGJhY2tXaXRoRXJyb3IoY2F1Z2h0RXJyb3IsIGZhbGxiYWNrQXR0ZW1wdHMgKyAxKTtcbiAgICAgICAgaWYgKCFmYWxsYmFja1N1Y2NlZWRlZCkge1xuICAgICAgICAgIHRoaXMuZW1pdEVycm9yKGNhdWdodEVycm9yLm1lc3NhZ2UpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGZhbGxiYWNrQXR0ZW1wdHMrKztcbiAgICAgICAgbG9nRGVidWcoXG4gICAgICAgICAgYFtBZ2VudENvbnRyb2xsZXJdIFJldHJ5aW5nIHdpdGggZmFsbGJhY2sgcHJvdmlkZXIgKGF0dGVtcHQgJHtmYWxsYmFja0F0dGVtcHRzfS8ke0FnZW50Q29udHJvbGxlci5NQVhfRkFMTEJBQ0tfQVRURU1QVFN9KWBcbiAgICAgICAgKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIC8vIFN1Y2Nlc3NmdWwgcnVuLCBleGl0IGxvb3BcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDYW5jZWwgYW4gaW4tZmxpZ2h0IGFnZW50IHJ1biwgaWYgYW55LiBUaGlzIHRyaWdnZXJzIGEgY29udHJvbGxlZCBmYWlsdXJlIG9uIHRoZSBzdHJlYW0uXG4gICAqL1xuICBjYW5jZWwocmVhc29uID0gJ0NhbmNlbGxlZCBieSB1c2VyJyk6IHZvaWQge1xuICAgIGlmICghdGhpcy5hY3RpdmVTaW5rKSByZXR1cm47XG4gICAgdGhpcy5jYW5jZWxBY3RpdmVSdW5Gbj8uKCk7XG4gICAgdGhpcy5hY3RpdmVTaW5rLmZhaWwobmV3IEVycm9yKHJlYXNvbikpO1xuICAgIHRoaXMuY2xlYXJTaW5rKCk7XG4gIH1cblxuICBhc3luYyBzd2l0Y2hNb2RlbChjb25maWc6IE1vZGVsQ29uZmlnKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdGhpcy51cGRhdGVDYWNoZWRIaXN0b3J5KCk7XG4gICAgdGhpcy5hZ2VudCA9IG51bGw7XG4gICAgdGhpcy5zZWxlY3Rpb24gPSB7XG4gICAgICBwcm92aWRlcjogY29uZmlnLnByb3ZpZGVyLFxuICAgICAgbW9kZWw6IGNvbmZpZy5tb2RlbCxcbiAgICAgIHRlbXBlcmF0dXJlOiBjb25maWcudGVtcGVyYXR1cmUsXG4gICAgICBtYXhUb2tlbnM6IGNvbmZpZy5tYXhUb2tlbnMsXG4gICAgICBzeXN0ZW1Qcm9tcHQ6IHRoaXMuc2VsZWN0aW9uLnN5c3RlbVByb21wdCxcbiAgICB9IHNhdGlzZmllcyBNb2RlbFNlbGVjdGlvbjtcbiAgICB0aGlzLnNlc3Npb24udXBkYXRlVG9vbENvbnRleHQodGhpcy5zZWxlY3Rpb24pO1xuICB9XG5cbiAgZ2V0Q2FwYWJpbGl0aWVzKCk6IENhcGFiaWxpdHlNYW5pZmVzdCB7XG4gICAgY29uc3QgdG9vbHMgPSB0aGlzLnNlc3Npb24udG9vbFJ1bnRpbWUubGlzdFByb3ZpZGVyVG9vbHMoKTtcbiAgICBjb25zdCBtYW5pZmVzdFRvb2xzOiBUb29sQ2FwYWJpbGl0eVtdID0gdG9vbHMubWFwKCh0b29sKSA9PiAoe1xuICAgICAgbmFtZTogdG9vbC5uYW1lLFxuICAgICAgZGVzY3JpcHRpb246IHRvb2wuZGVzY3JpcHRpb24sXG4gICAgICBjYXRlZ29yeTogJ2dlbmVyYWwnLFxuICAgIH0pKTtcbiAgICByZXR1cm4ge1xuICAgICAgY29udHJhY3RWZXJzaW9uOiBBR0VOVF9DT05UUkFDVF9WRVJTSU9OLFxuICAgICAgcHJvZmlsZTogdGhpcy5zZXNzaW9uLnByb2ZpbGUsXG4gICAgICBtb2RlbDogdGhpcy50b01vZGVsQ29uZmlnKHRoaXMuc2VsZWN0aW9uKSxcbiAgICAgIHRvb2xzOiBtYW5pZmVzdFRvb2xzLFxuICAgICAgZmVhdHVyZXM6IFsnc3RyZWFtaW5nJywgJ3Rvb2wtY2FsbHMnXSxcbiAgICB9IHNhdGlzZmllcyBDYXBhYmlsaXR5TWFuaWZlc3Q7XG4gIH1cblxuICByZWdpc3RlclRvb2xTdWl0ZShzdWl0ZUlkOiBzdHJpbmcsIHN1aXRlOiBUb29sU3VpdGUpOiB2b2lkIHtcbiAgICB0aGlzLnNlc3Npb24udG9vbFJ1bnRpbWUucmVnaXN0ZXJTdWl0ZSh7IC4uLnN1aXRlLCBpZDogc3VpdGVJZCB9KTtcbiAgfVxuXG4gIHVucmVnaXN0ZXJUb29sU3VpdGUoc3VpdGVJZDogc3RyaW5nKTogdm9pZCB7XG4gICAgdGhpcy5zZXNzaW9uLnRvb2xSdW50aW1lLnVucmVnaXN0ZXJTdWl0ZShzdWl0ZUlkKTtcbiAgfVxuXG4gIGdldEhpc3RvcnkoKTogQ29udmVyc2F0aW9uTWVzc2FnZVtdIHtcbiAgICBpZiAodGhpcy5hZ2VudCkge1xuICAgICAgcmV0dXJuIHRoaXMuYWdlbnQuZ2V0SGlzdG9yeSgpO1xuICAgIH1cbiAgICByZXR1cm4gWy4uLnRoaXMuY2FjaGVkSGlzdG9yeV07XG4gIH1cblxuICBjbGVhckhpc3RvcnkoKTogdm9pZCB7XG4gICAgdGhpcy5jYWNoZWRIaXN0b3J5ID0gW107XG4gICAgdGhpcy5hZ2VudD8uY2xlYXJIaXN0b3J5KCk7XG4gIH1cblxuICBwcml2YXRlIHRvTW9kZWxDb25maWcoc2VsZWN0aW9uOiBNb2RlbFNlbGVjdGlvbik6IE1vZGVsQ29uZmlnIHtcbiAgICByZXR1cm4ge1xuICAgICAgcHJvdmlkZXI6IHNlbGVjdGlvbi5wcm92aWRlcixcbiAgICAgIG1vZGVsOiBzZWxlY3Rpb24ubW9kZWwsXG4gICAgICB0ZW1wZXJhdHVyZTogc2VsZWN0aW9uLnRlbXBlcmF0dXJlLFxuICAgICAgbWF4VG9rZW5zOiBzZWxlY3Rpb24ubWF4VG9rZW5zLFxuICAgIH0gc2F0aXNmaWVzIE1vZGVsQ29uZmlnO1xuICB9XG5cbiAgLyoqXG4gICAqIEZpbmQgdGhlIG5leHQgYXZhaWxhYmxlIHByb3ZpZGVyIGZvciBmYWxsYmFjay5cbiAgICogRXhjbHVkZXMgcHJvdmlkZXJzIHRoYXQgaGF2ZSBhbHJlYWR5IGZhaWxlZCBpbiB0aGlzIHNlc3Npb24uXG4gICAqL1xuICBwcml2YXRlIGZpbmRGYWxsYmFja1Byb3ZpZGVyKCk6IHsgcHJvdmlkZXI6IFByb3ZpZGVySWQ7IG1vZGVsOiBzdHJpbmcgfSB8IG51bGwge1xuICAgIGNvbnN0IGNvbmZpZ3VyZWQgPSBnZXRDb25maWd1cmVkUHJvdmlkZXJzKCk7XG4gICAgY29uc3QgY3VycmVudFByb3ZpZGVyID0gdGhpcy5zZWxlY3Rpb24ucHJvdmlkZXI7XG5cbiAgICAvLyBQcm92aWRlciBwcmVmZXJlbmNlIG9yZGVyIChleGNsdWRpbmcgY3VycmVudCBhbmQgZmFpbGVkKVxuICAgIGNvbnN0IHByZWZlcmVuY2VPcmRlcjogUHJvdmlkZXJJZFtdID0gWyd4YWknLCAnYW50aHJvcGljJywgJ29wZW5haScsICdnb29nbGUnLCAnZGVlcHNlZWsnLCAnb2xsYW1hJ107XG5cbiAgICBmb3IgKGNvbnN0IHByb3ZpZGVySWQgb2YgcHJlZmVyZW5jZU9yZGVyKSB7XG4gICAgICAvLyBTa2lwIGN1cnJlbnQgcHJvdmlkZXIgYW5kIGFscmVhZHkgZmFpbGVkIHByb3ZpZGVyc1xuICAgICAgaWYgKHByb3ZpZGVySWQgPT09IGN1cnJlbnRQcm92aWRlciB8fCB0aGlzLmZhaWxlZFByb3ZpZGVycy5oYXMocHJvdmlkZXJJZCkpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIC8vIENoZWNrIGlmIHRoaXMgcHJvdmlkZXIgaXMgY29uZmlndXJlZFxuICAgICAgY29uc3QgcHJvdmlkZXIgPSBjb25maWd1cmVkLmZpbmQocCA9PiBwLmlkID09PSBwcm92aWRlcklkKTtcbiAgICAgIGlmIChwcm92aWRlcikge1xuICAgICAgICBjb25zdCBtb2RlbCA9IGdldExhdGVzdE1vZGVsRm9yUHJvdmlkZXIocHJvdmlkZXJJZCk7XG4gICAgICAgIGlmIChtb2RlbCkge1xuICAgICAgICAgIHJldHVybiB7IHByb3ZpZGVyOiBwcm92aWRlcklkLCBtb2RlbCB9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvKipcbiAgICogRW1pdCBhIHByb3ZpZGVyIGZhbGxiYWNrIGV2ZW50XG4gICAqL1xuICBwcml2YXRlIGVtaXRGYWxsYmFja0V2ZW50KFxuICAgIGZyb21Qcm92aWRlcjogc3RyaW5nLFxuICAgIGZyb21Nb2RlbDogc3RyaW5nLFxuICAgIHRvUHJvdmlkZXI6IHN0cmluZyxcbiAgICB0b01vZGVsOiBzdHJpbmcsXG4gICAgcmVhc29uOiBzdHJpbmcsXG4gICAgZXJyb3I6IHN0cmluZ1xuICApOiB2b2lkIHtcbiAgICB0aGlzLmFjdGl2ZVNpbms/LnB1c2goe1xuICAgICAgdHlwZTogJ3Byb3ZpZGVyLmZhbGxiYWNrJyxcbiAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICAgIGZyb21Qcm92aWRlcixcbiAgICAgIGZyb21Nb2RlbCxcbiAgICAgIHRvUHJvdmlkZXIsXG4gICAgICB0b01vZGVsLFxuICAgICAgcmVhc29uLFxuICAgICAgZXJyb3IsXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQXR0ZW1wdCB0byBzd2l0Y2ggdG8gYSBmYWxsYmFjayBwcm92aWRlclxuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBhdHRlbXB0RmFsbGJhY2soZXJyb3I6IEVycm9yKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgY29uc3QgZmFsbGJhY2sgPSB0aGlzLmZpbmRGYWxsYmFja1Byb3ZpZGVyKCk7XG4gICAgaWYgKCFmYWxsYmFjaykge1xuICAgICAgbG9nRGVidWcoJ1tBZ2VudENvbnRyb2xsZXJdIE5vIGZhbGxiYWNrIHByb3ZpZGVyIGF2YWlsYWJsZScpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGNvbnN0IHJlYXNvbiA9IGdldEZhbGxiYWNrUmVhc29uKGVycm9yKTtcbiAgICBjb25zdCBmcm9tUHJvdmlkZXIgPSB0aGlzLnNlbGVjdGlvbi5wcm92aWRlcjtcbiAgICBjb25zdCBmcm9tTW9kZWwgPSB0aGlzLnNlbGVjdGlvbi5tb2RlbDtcblxuICAgIC8vIE1hcmsgY3VycmVudCBwcm92aWRlciBhcyBmYWlsZWRcbiAgICB0aGlzLmZhaWxlZFByb3ZpZGVycy5hZGQoZnJvbVByb3ZpZGVyKTtcblxuICAgIC8vIEVtaXQgZmFsbGJhY2sgZXZlbnRcbiAgICB0aGlzLmVtaXRGYWxsYmFja0V2ZW50KFxuICAgICAgZnJvbVByb3ZpZGVyLFxuICAgICAgZnJvbU1vZGVsLFxuICAgICAgZmFsbGJhY2sucHJvdmlkZXIsXG4gICAgICBmYWxsYmFjay5tb2RlbCxcbiAgICAgIHJlYXNvbixcbiAgICAgIGVycm9yLm1lc3NhZ2VcbiAgICApO1xuXG4gICAgbG9nRGVidWcoYFtBZ2VudENvbnRyb2xsZXJdIEZhbGxpbmcgYmFjayBmcm9tICR7ZnJvbVByb3ZpZGVyfS8ke2Zyb21Nb2RlbH0gdG8gJHtmYWxsYmFjay5wcm92aWRlcn0vJHtmYWxsYmFjay5tb2RlbH06ICR7cmVhc29ufWApO1xuXG4gICAgLy8gU3dpdGNoIHRvIGZhbGxiYWNrIHByb3ZpZGVyXG4gICAgYXdhaXQgdGhpcy5zd2l0Y2hNb2RlbCh7XG4gICAgICBwcm92aWRlcjogZmFsbGJhY2sucHJvdmlkZXIsXG4gICAgICBtb2RlbDogZmFsbGJhY2subW9kZWwsXG4gICAgfSk7XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGdldFRvb2xTdWl0ZXMoKTogVG9vbFN1aXRlW10ge1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24udG9vbFN1aXRlcztcbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBR0EsSUFBQUEsS0FBQSxHQUFBQyxPQUFBO0FBWUEsSUFBQUMsTUFBQSxHQUFBRCxPQUFBO0FBQ0EsSUFBQUUsWUFBQSxHQUFBRixPQUFBO0FBQ0EsSUFBQUcsa0JBQUEsR0FBQUgsT0FBQTtBQUNBLElBQUFJLGVBQUEsR0FBQUosT0FBQTtBQU1BLE1BQU1LLFdBQVcsQ0FBd0M7RUFDdENDLEtBQUssR0FBUSxFQUFFO0VBQ3hCQyxPQUFPLEdBQTZGLElBQUk7RUFDeEdDLE1BQU0sR0FBRyxLQUFLO0VBQ2RDLE9BQU8sR0FBaUIsSUFBSTtFQUVwQ0MsSUFBSUEsQ0FBQ0MsS0FBUSxFQUFRO0lBQ25CLElBQUksSUFBSSxDQUFDSCxNQUFNLElBQUksSUFBSSxDQUFDQyxPQUFPLEVBQUU7TUFDL0I7SUFDRjtJQUNBLElBQUksSUFBSSxDQUFDRixPQUFPLEVBQUU7TUFDaEIsSUFBSSxDQUFDQSxPQUFPLENBQUNLLE9BQU8sQ0FBQztRQUFFRCxLQUFLO1FBQUVFLElBQUksRUFBRTtNQUFNLENBQUMsQ0FBQztNQUM1QyxJQUFJLENBQUNOLE9BQU8sR0FBRyxJQUFJO01BQ25CO0lBQ0Y7SUFDQSxJQUFJLENBQUNELEtBQUssQ0FBQ0ksSUFBSSxDQUFDQyxLQUFLLENBQUM7RUFDeEI7RUFFQUcsS0FBS0EsQ0FBQSxFQUFTO0lBQ1osSUFBSSxJQUFJLENBQUNOLE1BQU0sSUFBSSxJQUFJLENBQUNDLE9BQU8sRUFBRTtNQUMvQjtJQUNGO0lBQ0EsSUFBSSxDQUFDRCxNQUFNLEdBQUcsSUFBSTtJQUNsQixJQUFJLElBQUksQ0FBQ0QsT0FBTyxFQUFFO01BQ2hCLElBQUksQ0FBQ0EsT0FBTyxDQUFDSyxPQUFPLENBQUM7UUFBRUQsS0FBSyxFQUFFSSxTQUF5QjtRQUFFRixJQUFJLEVBQUU7TUFBSyxDQUFDLENBQUM7TUFDdEUsSUFBSSxDQUFDTixPQUFPLEdBQUcsSUFBSTtJQUNyQjtFQUNGO0VBRUFTLElBQUlBLENBQUNDLEtBQVksRUFBUTtJQUN2QixJQUFJLElBQUksQ0FBQ1QsTUFBTSxJQUFJLElBQUksQ0FBQ0MsT0FBTyxFQUFFO01BQy9CO0lBQ0Y7SUFDQSxJQUFJLENBQUNBLE9BQU8sR0FBR1EsS0FBSztJQUNwQixJQUFJLElBQUksQ0FBQ1YsT0FBTyxFQUFFO01BQ2hCLElBQUksQ0FBQ0EsT0FBTyxDQUFDVyxNQUFNLENBQUNELEtBQUssQ0FBQztNQUMxQixJQUFJLENBQUNWLE9BQU8sR0FBRyxJQUFJO0lBQ3JCO0VBQ0Y7RUFFQVksSUFBSUEsQ0FBQSxFQUErQjtJQUNqQyxJQUFJLElBQUksQ0FBQ2IsS0FBSyxDQUFDYyxNQUFNLEVBQUU7TUFDckIsTUFBTVQsS0FBSyxHQUFHLElBQUksQ0FBQ0wsS0FBSyxDQUFDZSxLQUFLLENBQUMsQ0FBRTtNQUNqQyxPQUFPQyxPQUFPLENBQUNWLE9BQU8sQ0FBQztRQUFFRCxLQUFLO1FBQUVFLElBQUksRUFBRTtNQUFNLENBQUMsQ0FBQztJQUNoRDtJQUNBLElBQUksSUFBSSxDQUFDSixPQUFPLEVBQUU7TUFDaEIsTUFBTVEsS0FBSyxHQUFHLElBQUksQ0FBQ1IsT0FBTztNQUMxQixJQUFJLENBQUNBLE9BQU8sR0FBRyxJQUFJO01BQ25CLE9BQU9hLE9BQU8sQ0FBQ0osTUFBTSxDQUFDRCxLQUFLLENBQUM7SUFDOUI7SUFDQSxJQUFJLElBQUksQ0FBQ1QsTUFBTSxFQUFFO01BQ2YsT0FBT2MsT0FBTyxDQUFDVixPQUFPLENBQUM7UUFBRUQsS0FBSyxFQUFFSSxTQUF5QjtRQUFFRixJQUFJLEVBQUU7TUFBSyxDQUFDLENBQUM7SUFDMUU7SUFDQSxPQUFPLElBQUlTLE9BQU8sQ0FBb0IsQ0FBQ1YsT0FBTyxFQUFFTSxNQUFNLEtBQUs7TUFDekQsSUFBSSxDQUFDWCxPQUFPLEdBQUc7UUFBRUssT0FBTztRQUFFTTtNQUFPLENBQUM7SUFDcEMsQ0FBQyxDQUFDO0VBQ0o7RUFFQUssTUFBTUEsQ0FBQSxFQUErQjtJQUNuQyxJQUFJLENBQUNULEtBQUssQ0FBQyxDQUFDO0lBQ1osT0FBT1EsT0FBTyxDQUFDVixPQUFPLENBQUM7TUFBRUQsS0FBSyxFQUFFSSxTQUF5QjtNQUFFRixJQUFJLEVBQUU7SUFBSyxDQUFDLENBQUM7RUFDMUU7RUFFQVcsS0FBS0EsQ0FBQ1AsS0FBYyxFQUE4QjtJQUNoRCxNQUFNUSxHQUFHLEdBQUdSLEtBQUssWUFBWVMsS0FBSyxHQUFHVCxLQUFLLEdBQUcsSUFBSVMsS0FBSyxDQUFDQyxNQUFNLENBQUNWLEtBQUssQ0FBQyxDQUFDO0lBQ3JFLElBQUksQ0FBQ0QsSUFBSSxDQUFDUyxHQUFHLENBQUM7SUFDZCxPQUFPSCxPQUFPLENBQUNKLE1BQU0sQ0FBQ08sR0FBRyxDQUFDO0VBQzVCO0VBRUEsQ0FBQ0csTUFBTSxDQUFDQyxhQUFhLElBQThCO0lBQ2pELE9BQU8sSUFBSTtFQUNiO0FBQ0Y7QUFFQSxTQUFTQyxrQkFBa0JBLENBQ3pCQyxPQUE0QixFQUM1QkMsU0FBK0IsRUFDVjtFQUNyQixJQUFJLENBQUNBLFNBQVMsRUFBRTtJQUNkLE9BQU9ELE9BQU87RUFDaEI7RUFDQSxPQUFPO0lBQ0xFLFdBQVdBLENBQUNDLElBQUksRUFBRTtNQUNoQkgsT0FBTyxDQUFDRSxXQUFXLEdBQUdDLElBQUksQ0FBQztNQUMzQkYsU0FBUyxDQUFDQyxXQUFXLEdBQUdDLElBQUksQ0FBQztJQUMvQixDQUFDO0lBQ0RDLFlBQVlBLENBQUNELElBQUksRUFBRUUsTUFBTSxFQUFFO01BQ3pCTCxPQUFPLENBQUNJLFlBQVksR0FBR0QsSUFBSSxFQUFFRSxNQUFNLENBQUM7TUFDcENKLFNBQVMsQ0FBQ0csWUFBWSxHQUFHRCxJQUFJLEVBQUVFLE1BQU0sQ0FBQztJQUN4QyxDQUFDO0lBQ0RDLGNBQWNBLENBQUNILElBQUksRUFBRUksUUFBUSxFQUFFO01BQzdCUCxPQUFPLENBQUNNLGNBQWMsR0FBR0gsSUFBSSxFQUFFSSxRQUFRLENBQUM7TUFDeENOLFNBQVMsQ0FBQ0ssY0FBYyxHQUFHSCxJQUFJLEVBQUVJLFFBQVEsQ0FBQztJQUM1QyxDQUFDO0lBQ0RDLFdBQVdBLENBQUNMLElBQUksRUFBRWpCLEtBQUssRUFBRTtNQUN2QmMsT0FBTyxDQUFDUSxXQUFXLEdBQUdMLElBQUksRUFBRWpCLEtBQUssQ0FBQztNQUNsQ2UsU0FBUyxDQUFDTyxXQUFXLEdBQUdMLElBQUksRUFBRWpCLEtBQUssQ0FBQztJQUN0QyxDQUFDO0lBQ0R1QixVQUFVQSxDQUFDTixJQUFJLEVBQUU7TUFDZkgsT0FBTyxDQUFDUyxVQUFVLEdBQUdOLElBQUksQ0FBQztNQUMxQkYsU0FBUyxDQUFDUSxVQUFVLEdBQUdOLElBQUksQ0FBQztJQUM5QixDQUFDO0lBQ0RPLGFBQWFBLENBQUNQLElBQUksRUFBRVEsT0FBTyxFQUFFO01BQzNCWCxPQUFPLENBQUNVLGFBQWEsR0FBR1AsSUFBSSxFQUFFUSxPQUFPLENBQUM7TUFDdENWLFNBQVMsQ0FBQ1MsYUFBYSxHQUFHUCxJQUFJLEVBQUVRLE9BQU8sQ0FBQztJQUMxQztFQUNGLENBQUM7QUFDSDtBQUVBLFNBQVNDLDRCQUE0QkEsQ0FBQ0MsR0FBaUIsRUFBdUI7RUFDNUUsTUFBTUMsSUFBSSxHQUFJQyxLQUFzQixJQUFLO0lBQ3ZDRixHQUFHLENBQUNHLE9BQU8sRUFBRXJDLElBQUksQ0FBQ29DLEtBQUssQ0FBQztFQUMxQixDQUFDO0VBQ0QsTUFBTUUsU0FBUyxHQUFHQSxDQUFBLEtBQU1DLElBQUksQ0FBQ0MsR0FBRyxDQUFDLENBQUM7RUFDbEMsT0FBTztJQUNMakIsV0FBV0EsQ0FBQ0MsSUFBSSxFQUFFO01BQ2hCVyxJQUFJLENBQUM7UUFDSE0sSUFBSSxFQUFFLFlBQVk7UUFDbEJILFNBQVMsRUFBRUEsU0FBUyxDQUFDLENBQUM7UUFDdEJJLFFBQVEsRUFBRWxCLElBQUksQ0FBQ21CLElBQUk7UUFDbkJDLFVBQVUsRUFBRXBCLElBQUksQ0FBQ3FCLEVBQUU7UUFDbkJDLFVBQVUsRUFBRTtVQUFFLEdBQUd0QixJQUFJLENBQUN1QjtRQUFVO01BQ2xDLENBQUMsQ0FBQztJQUNKLENBQUM7SUFDRHRCLFlBQVlBLENBQUNELElBQUksRUFBRUUsTUFBTSxFQUFFO01BQ3pCUyxJQUFJLENBQUM7UUFDSE0sSUFBSSxFQUFFLGVBQWU7UUFDckJILFNBQVMsRUFBRUEsU0FBUyxDQUFDLENBQUM7UUFDdEJJLFFBQVEsRUFBRWxCLElBQUksQ0FBQ21CLElBQUk7UUFDbkJDLFVBQVUsRUFBRXBCLElBQUksQ0FBQ3FCLEVBQUU7UUFDbkJHLE1BQU0sRUFBRXRCO01BQ1YsQ0FBQyxDQUFDO0lBQ0osQ0FBQztJQUNERyxXQUFXQSxDQUFDTCxJQUFJLEVBQUVqQixLQUFLLEVBQUU7TUFDdkI0QixJQUFJLENBQUM7UUFDSE0sSUFBSSxFQUFFLFlBQVk7UUFDbEJILFNBQVMsRUFBRUEsU0FBUyxDQUFDLENBQUM7UUFDdEJJLFFBQVEsRUFBRWxCLElBQUksQ0FBQ21CLElBQUk7UUFDbkJDLFVBQVUsRUFBRXBCLElBQUksQ0FBQ3FCLEVBQUU7UUFDbkJ0QztNQUNGLENBQUMsQ0FBQztJQUNKO0VBQ0YsQ0FBQztBQUNIO0FBa0JPLGVBQWUwQyxxQkFBcUJBLENBQ3pDQyxPQUFxQyxFQUNyQ0Msa0JBQXdDLEVBQ2Q7RUFDMUIsTUFBTUMsT0FBcUIsR0FBRztJQUFFZixPQUFPLEVBQUU7RUFBSyxDQUFDO0VBQy9DLE1BQU1nQixRQUFRLEdBQUdwQiw0QkFBNEIsQ0FBQ21CLE9BQU8sQ0FBQztFQUN0RCxNQUFNRSxPQUFPLEdBQUcsTUFBTSxJQUFBQyx1QkFBaUIsRUFBQztJQUN0Q0MsT0FBTyxFQUFFTixPQUFPLENBQUNNLE9BQU87SUFDeEJDLGdCQUFnQixFQUFFUCxPQUFPLENBQUNPLGdCQUFnQjtJQUMxQ0MsVUFBVSxFQUFFUixPQUFPLENBQUNRLFVBQVU7SUFDOUJDLEdBQUcsRUFBRVQsT0FBTyxDQUFDUyxHQUFHO0lBQ2hCQyxZQUFZLEVBQUV4QyxrQkFBa0IsQ0FBQ2lDLFFBQVEsRUFBRUYsa0JBQWtCLENBQUM7SUFDOURVLGlCQUFpQixFQUFFWCxPQUFPLENBQUNZO0VBQzdCLENBQUMsQ0FBQztFQUNGLE9BQU8sSUFBSUMsZUFBZSxDQUFDO0lBQUVULE9BQU87SUFBRUYsT0FBTztJQUFFWSxpQkFBaUIsRUFBRWQsT0FBTyxDQUFDZTtFQUFVLENBQUMsQ0FBQztBQUN4RjtBQUVPLE1BQU1GLGVBQWUsQ0FBNkI7RUFJL0NHLFVBQVUsR0FBd0MsSUFBSTtFQUN0REMsS0FBSyxHQUFtRCxJQUFJO0VBQzVEQyxhQUFhLEdBQTBCLEVBQUU7RUFFakQ7RUFDUUMsZUFBZSxHQUFvQixJQUFJQyxHQUFHLENBQUMsQ0FBQztFQUNwRDtFQUNBLE9BQXdCQyxxQkFBcUIsR0FBRyxDQUFDO0VBQ2pEO0VBQ2lCQyxZQUFZLEdBQzNCQyxNQUFNLENBQUNDLFFBQVEsQ0FBQ0MsT0FBTyxDQUFDaEIsR0FBRyxDQUFDaUIsd0JBQXdCLElBQUksRUFBRSxFQUFFLEVBQUUsQ0FBQyxJQUFJLENBQUM7RUFDdEU7RUFDUUMsaUJBQWlCLEdBQXdCLElBQUk7RUFFckRDLFdBQVdBLENBQUNDLFlBQXlDLEVBQUU7SUFDckQsSUFBSSxDQUFDQyxPQUFPLEdBQUdELFlBQVksQ0FBQ3pCLE9BQU8sQ0FBQzBCLE9BQU87SUFDM0MsSUFBSSxDQUFDNUIsT0FBTyxHQUFHMkIsWUFBWSxDQUFDM0IsT0FBTztJQUNuQyxJQUFJLENBQUNZLGlCQUFpQixHQUFHZSxZQUFZLENBQUNmLGlCQUFpQjtJQUN2RCxJQUFJLENBQUNpQixTQUFTLEdBQUcsSUFBSSxDQUFDQyxxQkFBcUIsQ0FBQyxDQUFDO0VBQy9DO0VBRVFBLHFCQUFxQkEsQ0FBQSxFQUFtQjtJQUM5QyxNQUFNQyxNQUFNLEdBQUcsSUFBSSxDQUFDSCxPQUFPLENBQUNJLGFBQWE7SUFDekMsT0FBTztNQUNMQyxRQUFRLEVBQUVGLE1BQU0sQ0FBQ0UsUUFBUTtNQUN6QkMsS0FBSyxFQUFFSCxNQUFNLENBQUNHLEtBQUs7TUFDbkJDLFdBQVcsRUFBRUosTUFBTSxDQUFDSSxXQUFXO01BQy9CQyxTQUFTLEVBQUVMLE1BQU0sQ0FBQ0ssU0FBUztNQUMzQkMsWUFBWSxFQUFFTixNQUFNLENBQUNNO0lBQ3ZCLENBQUM7RUFDSDtFQUVRQyxXQUFXQSxDQUFBLEVBQTRDO0lBQzdELElBQUksSUFBSSxDQUFDdkIsS0FBSyxFQUFFO01BQ2QsT0FBTyxJQUFJLENBQUNBLEtBQUs7SUFDbkI7SUFDQSxNQUFNQSxLQUFLLEdBQUcsSUFBSSxDQUFDYSxPQUFPLENBQUNXLFdBQVcsQ0FBQyxJQUFJLENBQUNWLFNBQVMsRUFBRSxJQUFJLENBQUNXLG9CQUFvQixDQUFDLENBQUMsRUFBRXZGLFNBQVMsRUFBRTtNQUM3RndGLFlBQVksRUFBRTtJQUNoQixDQUFDLENBQUM7SUFDRixJQUFJLElBQUksQ0FBQ3pCLGFBQWEsQ0FBQzFELE1BQU0sRUFBRTtNQUM3QnlELEtBQUssQ0FBQzJCLFdBQVcsQ0FBQyxJQUFJLENBQUMxQixhQUFhLENBQUM7SUFDdkM7SUFDQSxJQUFJLENBQUNELEtBQUssR0FBR0EsS0FBSztJQUNsQixPQUFPQSxLQUFLO0VBQ2Q7RUFFUXlCLG9CQUFvQkEsQ0FBQSxFQUFtQjtJQUM3QyxPQUFPO01BQ0xHLGtCQUFrQixFQUFFQSxDQUFDQyxPQUFPLEVBQUVDLFFBQVEsS0FBSztRQUN6QyxJQUFJLENBQUNDLHNCQUFzQixDQUFDRixPQUFPLEVBQUVDLFFBQVEsQ0FBQztRQUM5QyxJQUFJLENBQUNqQyxpQkFBaUIsRUFBRStCLGtCQUFrQixHQUFHQyxPQUFPLEVBQUVDLFFBQVEsQ0FBQztNQUNqRSxDQUFDO01BQ0RFLGFBQWEsRUFBRUEsQ0FBQ0MsS0FBSyxFQUFFM0QsSUFBSSxLQUFLO1FBQzlCLElBQUlBLElBQUksS0FBSyxTQUFTLEVBQUU7VUFDdEI7VUFDQSxJQUFJLENBQUM0RCxTQUFTLENBQUNELEtBQUssRUFBRSxLQUFLLENBQUM7UUFDOUIsQ0FBQyxNQUFNLElBQUkzRCxJQUFJLEtBQUssV0FBVyxFQUFFO1VBQy9CO1VBQ0EsSUFBSSxDQUFDNkQsYUFBYSxDQUFDRixLQUFLLENBQUM7UUFDM0I7UUFDQTtRQUNBLElBQUksQ0FBQ3BDLGlCQUFpQixFQUFFbUMsYUFBYSxHQUFHQyxLQUFLLEVBQUUzRCxJQUFJLENBQUM7TUFDdEQsQ0FBQztNQUNEOEQsT0FBTyxFQUFHQyxLQUFLLElBQUs7UUFDbEIsSUFBSSxDQUFDQyxTQUFTLENBQUNELEtBQUssQ0FBQztRQUNyQixJQUFJLENBQUN4QyxpQkFBaUIsRUFBRXVDLE9BQU8sR0FBR0MsS0FBSyxDQUFDO01BQzFDLENBQUM7TUFDREUsZUFBZSxFQUFFQSxDQUFDQyxZQUFZLEVBQUVDLEtBQUssS0FBSztRQUN4QyxJQUFJLENBQUM1QyxpQkFBaUIsRUFBRTBDLGVBQWUsR0FBR0MsWUFBWSxFQUFFQyxLQUFLLENBQUM7TUFDaEUsQ0FBQztNQUNEQyxrQkFBa0IsRUFBR0MsT0FBTyxJQUFLO1FBQy9CLElBQUksQ0FBQzlDLGlCQUFpQixFQUFFNkMsa0JBQWtCLEdBQUdDLE9BQU8sQ0FBQztNQUN2RCxDQUFDO01BQ0RDLGlCQUFpQixFQUFFQSxDQUFDQyxPQUFPLEVBQUVDLFdBQVcsRUFBRUgsT0FBTyxLQUFLO1FBQ3BELElBQUksQ0FBQzlDLGlCQUFpQixFQUFFK0MsaUJBQWlCLEdBQUdDLE9BQU8sRUFBRUMsV0FBVyxFQUFFSCxPQUFPLENBQUM7TUFDNUUsQ0FBQztNQUNESSx1QkFBdUIsRUFBRUEsQ0FBQSxLQUFNO1FBQzdCLElBQUksQ0FBQ2xELGlCQUFpQixFQUFFa0QsdUJBQXVCLEdBQUcsQ0FBQztNQUNyRCxDQUFDO01BQ0RDLGdCQUFnQixFQUFFQSxDQUFDQyxPQUFPLEVBQUVuQixRQUFRLEtBQUs7UUFDdkMsSUFBSSxDQUFDakMsaUJBQWlCLEVBQUVtRCxnQkFBZ0IsR0FBR0MsT0FBTyxFQUFFbkIsUUFBUSxDQUFDO01BQy9ELENBQUM7TUFDRG9CLGlCQUFpQixFQUFHQyxPQUFPLElBQUs7UUFDOUIsSUFBSSxDQUFDQyxxQkFBcUIsQ0FBQ0QsT0FBTyxDQUFDO1FBQ25DLElBQUksQ0FBQ3RELGlCQUFpQixFQUFFcUQsaUJBQWlCLEdBQUdDLE9BQU8sQ0FBQztNQUN0RCxDQUFDO01BQ0RFLFVBQVUsRUFBRUEsQ0FBQ1IsT0FBTyxFQUFFQyxXQUFXLEVBQUUxRyxLQUFLLEtBQUs7UUFDM0M7UUFDQSxJQUFJLENBQUM4RixTQUFTLENBQUMsYUFBYVcsT0FBTyxJQUFJQyxXQUFXLEtBQUsxRyxLQUFLLENBQUN1RyxPQUFPLEdBQUcsRUFBRSxLQUFLLENBQUM7UUFDL0UsSUFBSSxDQUFDOUMsaUJBQWlCLEVBQUV3RCxVQUFVLEdBQUdSLE9BQU8sRUFBRUMsV0FBVyxFQUFFMUcsS0FBSyxDQUFDO01BQ25FO01BQ0E7SUFDRixDQUFDO0VBQ0g7O0VBRUE7QUFDRjtBQUNBO0FBQ0E7RUFDVWtILGdCQUFnQkEsQ0FBQ3pCLE9BQWUsRUFBVztJQUNqRCxNQUFNMEIsT0FBTyxHQUFHMUIsT0FBTyxDQUFDMkIsSUFBSSxDQUFDLENBQUM7SUFDOUIsSUFBSSxDQUFDRCxPQUFPLEVBQUUsT0FBTyxJQUFJOztJQUV6QjtJQUNBLElBQUksNkJBQTZCLENBQUNFLElBQUksQ0FBQ0YsT0FBTyxDQUFDLEVBQUUsT0FBTyxJQUFJOztJQUU1RDtJQUNBLElBQUksYUFBYSxDQUFDRSxJQUFJLENBQUNGLE9BQU8sQ0FBQyxFQUFFLE9BQU8sSUFBSTs7SUFFNUM7SUFDQSxJQUFJQSxPQUFPLENBQUNoSCxNQUFNLEdBQUcsRUFBRSxFQUFFO01BQ3ZCLE1BQU1tSCxVQUFVLEdBQUcsQ0FBQ0gsT0FBTyxDQUFDSSxLQUFLLENBQUMsY0FBYyxDQUFDLElBQUksRUFBRSxFQUFFcEgsTUFBTTtNQUMvRCxJQUFJbUgsVUFBVSxLQUFLLENBQUMsRUFBRSxPQUFPLElBQUk7TUFDakMsSUFBSUEsVUFBVSxHQUFHSCxPQUFPLENBQUNoSCxNQUFNLEdBQUcsR0FBRyxFQUFFLE9BQU8sSUFBSTtJQUNwRDtJQUVBLE9BQU8sS0FBSztFQUNkO0VBRVEyRixTQUFTQSxDQUFDTCxPQUFlLEVBQUUrQixPQUFnQixFQUFRO0lBQ3pELElBQUFDLHFCQUFRLEVBQUMsaURBQWlEaEMsT0FBTyxFQUFFaUMsS0FBSyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsY0FBY0YsT0FBTyxhQUFhLENBQUMsQ0FBQyxJQUFJLENBQUM3RCxVQUFVLEVBQUUsQ0FBQztJQUNySSxJQUFJLENBQUM4QixPQUFPLEVBQUUyQixJQUFJLENBQUMsQ0FBQyxFQUFFO01BQ3BCLElBQUFLLHFCQUFRLEVBQUMsc0RBQXNELENBQUM7TUFDaEU7SUFDRjs7SUFFQTtJQUNBLElBQUksSUFBSSxDQUFDUCxnQkFBZ0IsQ0FBQ3pCLE9BQU8sQ0FBQyxFQUFFO01BQ2xDLElBQUFnQyxxQkFBUSxFQUFDLHlEQUF5RCxDQUFDO01BQ25FO0lBQ0Y7SUFFQSxJQUFBQSxxQkFBUSxFQUFDLCtDQUErQyxDQUFDO0lBQ3pELElBQUksQ0FBQzlELFVBQVUsRUFBRWxFLElBQUksQ0FBQztNQUNwQnlDLElBQUksRUFBRSxlQUFlO01BQ3JCSCxTQUFTLEVBQUVDLElBQUksQ0FBQ0MsR0FBRyxDQUFDLENBQUM7TUFDckJ3RCxPQUFPO01BQ1ArQjtJQUNGLENBQUMsQ0FBQztFQUNKO0VBRVFHLFNBQVNBLENBQUNwQixPQUFlLEVBQVE7SUFDdkMsSUFBSSxDQUFDNUMsVUFBVSxFQUFFbEUsSUFBSSxDQUFDO01BQ3BCeUMsSUFBSSxFQUFFLE9BQU87TUFDYkgsU0FBUyxFQUFFQyxJQUFJLENBQUNDLEdBQUcsQ0FBQyxDQUFDO01BQ3JCakMsS0FBSyxFQUFFdUc7SUFDVCxDQUFDLENBQUM7RUFDSjtFQUVRUixhQUFhQSxDQUFDTixPQUFlLEVBQVE7SUFDM0MsSUFBSSxDQUFDQSxPQUFPLEVBQUUyQixJQUFJLENBQUMsQ0FBQyxFQUFFO01BQ3BCO0lBQ0Y7SUFDQTtJQUNBLElBQUksSUFBSSxDQUFDRixnQkFBZ0IsQ0FBQ3pCLE9BQU8sQ0FBQyxFQUFFO01BQ2xDO0lBQ0Y7SUFDQSxJQUFJLENBQUM5QixVQUFVLEVBQUVsRSxJQUFJLENBQUM7TUFDcEJ5QyxJQUFJLEVBQUUsV0FBVztNQUNqQkgsU0FBUyxFQUFFQyxJQUFJLENBQUNDLEdBQUcsQ0FBQyxDQUFDO01BQ3JCd0Q7SUFDRixDQUFDLENBQUM7RUFDSjtFQUVRUyxTQUFTQSxDQUFDRCxLQUF1QyxFQUFRO0lBQy9ELElBQUksQ0FBQ0EsS0FBSyxFQUFFO01BQ1Y7SUFDRjtJQUNBLElBQUksQ0FBQ3RDLFVBQVUsRUFBRWxFLElBQUksQ0FBQztNQUNwQnlDLElBQUksRUFBRSxPQUFPO01BQ2JILFNBQVMsRUFBRUMsSUFBSSxDQUFDQyxHQUFHLENBQUMsQ0FBQztNQUNyQjJGLFdBQVcsRUFBRTNCLEtBQUssQ0FBQzJCLFdBQVc7TUFDOUJDLFlBQVksRUFBRTVCLEtBQUssQ0FBQzRCLFlBQVk7TUFDaENDLFdBQVcsRUFBRTdCLEtBQUssQ0FBQzZCO0lBQ3JCLENBQUMsQ0FBQztFQUNKO0VBRVFkLHFCQUFxQkEsQ0FBQ0QsT0FBK0IsRUFBUTtJQUNuRSxJQUFJLENBQUMsSUFBSSxDQUFDcEQsVUFBVSxFQUFFO01BQ3BCO0lBQ0Y7SUFDQSxJQUFJLENBQUNvRCxPQUFPLENBQUNnQixXQUFXLEVBQUVYLElBQUksQ0FBQyxDQUFDLEVBQUU7TUFDaEM7SUFDRjtJQUNBLElBQUksQ0FBQ3pELFVBQVUsQ0FBQ2xFLElBQUksQ0FBQztNQUNuQnlDLElBQUksRUFBRSxrQkFBa0I7TUFDeEJILFNBQVMsRUFBRUMsSUFBSSxDQUFDQyxHQUFHLENBQUMsQ0FBQztNQUNyQndELE9BQU8sRUFBRXNCLE9BQU8sQ0FBQ2dCLFdBQVc7TUFDNUJDLEtBQUssRUFBRWpCLE9BQU8sQ0FBQ2lCLEtBQUs7TUFDcEI3RixRQUFRLEVBQUU0RSxPQUFPLENBQUM1RSxRQUFRO01BQzFCRSxVQUFVLEVBQUUwRSxPQUFPLENBQUMxRTtJQUN0QixDQUFDLENBQUM7RUFDSjtFQUVRc0Qsc0JBQXNCQSxDQUFDRixPQUFlLEVBQUVDLFFBQWtDLEVBQVE7SUFDeEYsSUFBSSxDQUFDLElBQUksQ0FBQy9CLFVBQVUsRUFBRTtNQUNwQjtJQUNGO0lBQ0EsSUFBSSxDQUFDOEIsT0FBTyxDQUFDMkIsSUFBSSxDQUFDLENBQUMsRUFBRTtNQUNuQjtJQUNGO0lBQ0EsSUFBSTFCLFFBQVEsQ0FBQ3VDLGVBQWUsRUFBRTtNQUM1QjtJQUNGO0lBQ0EsSUFBSSxDQUFDdkMsUUFBUSxDQUFDOEIsT0FBTyxFQUFFO01BQ3JCLElBQUksQ0FBQzFCLFNBQVMsQ0FBQ0wsT0FBTyxFQUFFLEtBQUssQ0FBQztNQUM5QjtJQUNGO0lBQ0EsTUFBTXlDLFNBQVMsR0FBR3hDLFFBQVEsQ0FBQ3dDLFNBQVMsSUFBSSxDQUFDO0lBQ3pDLElBQUksQ0FBQ3ZFLFVBQVUsQ0FBQ2xFLElBQUksQ0FBQztNQUNuQnlDLElBQUksRUFBRSxrQkFBa0I7TUFDeEJILFNBQVMsRUFBRUMsSUFBSSxDQUFDQyxHQUFHLENBQUMsQ0FBQztNQUNyQndELE9BQU87TUFDUHlDO0lBQ0YsQ0FBQyxDQUFDO0lBQ0YsSUFBSSxDQUFDaEMsU0FBUyxDQUFDUixRQUFRLENBQUNPLEtBQUssSUFBSSxJQUFJLENBQUM7RUFDeEM7RUFFUWtDLG1CQUFtQkEsQ0FBQSxFQUFTO0lBQ2xDLElBQUksSUFBSSxDQUFDdkUsS0FBSyxFQUFFO01BQ2QsSUFBSSxDQUFDQyxhQUFhLEdBQUcsSUFBSSxDQUFDRCxLQUFLLENBQUN3RSxVQUFVLENBQUMsQ0FBQztJQUM5QztFQUNGO0VBRVFDLFVBQVVBLENBQUEsRUFBaUM7SUFDakQsTUFBTUMsSUFBSSxHQUFHLElBQUlsSixXQUFXLENBQWtCLENBQUM7SUFDL0MsSUFBSSxDQUFDdUUsVUFBVSxHQUFHMkUsSUFBSTtJQUN0QixJQUFJLENBQUN6RixPQUFPLENBQUNmLE9BQU8sR0FBR3dHLElBQUk7SUFDM0IsT0FBT0EsSUFBSTtFQUNiO0VBRVFDLFNBQVNBLENBQUEsRUFBUztJQUN4QixJQUFJLElBQUksQ0FBQzVFLFVBQVUsRUFBRTtNQUNuQixJQUFJLENBQUNBLFVBQVUsR0FBRyxJQUFJO01BQ3RCLElBQUksQ0FBQ2QsT0FBTyxDQUFDZixPQUFPLEdBQUcsSUFBSTtJQUM3QjtFQUNGO0VBRVEwRyxhQUFhQSxDQUNuQjVFLEtBQThDLEVBQzlDMkMsT0FBZSxFQUNmK0IsSUFBa0MsRUFDbkI7SUFDZkEsSUFBSSxDQUFDN0ksSUFBSSxDQUFDO01BQUV5QyxJQUFJLEVBQUUsZUFBZTtNQUFFSCxTQUFTLEVBQUVDLElBQUksQ0FBQ0MsR0FBRyxDQUFDO0lBQUUsQ0FBQyxDQUFDO0lBQzNELE1BQU13RyxVQUFVLEdBQUc3RSxLQUFLLENBQUM4RSxJQUFJLENBQUNuQyxPQUFPLEVBQUUsSUFBSSxDQUFDO0lBRTVDLElBQUlvQyxLQUE0QixHQUFHLElBQUk7SUFDdkMsTUFBTUMsY0FBYyxHQUNsQixJQUFJLENBQUMzRSxZQUFZLEdBQUcsQ0FBQyxHQUNqQixJQUFJNUQsT0FBTyxDQUFRLENBQUN3SSxDQUFDLEVBQUU1SSxNQUFNLEtBQUs7TUFDaEMwSSxLQUFLLEdBQUdHLFVBQVUsQ0FBQyxNQUFNO1FBQ3ZCN0ksTUFBTSxDQUFDLElBQUlRLEtBQUssQ0FBQyw2QkFBNkIsSUFBSSxDQUFDd0QsWUFBWSxJQUFJLENBQUMsQ0FBQztNQUN2RSxDQUFDLEVBQUUsSUFBSSxDQUFDQSxZQUFZLENBQUM7TUFDckIwRSxLQUFLLENBQUNJLEtBQUssR0FBRyxDQUFDO0lBQ2pCLENBQUMsQ0FBQyxHQUNGLElBQUk7SUFFVixJQUFJQyxTQUFTLEdBQUcsS0FBSztJQUNyQixNQUFNQyxhQUFhLEdBQUcsSUFBSTVJLE9BQU8sQ0FBUSxDQUFDd0ksQ0FBQyxFQUFFNUksTUFBTSxLQUFLO01BQ3RELElBQUksQ0FBQ3FFLGlCQUFpQixHQUFHLE1BQU07UUFDN0IwRSxTQUFTLEdBQUcsSUFBSTtRQUNoQi9JLE1BQU0sQ0FBQyxJQUFJUSxLQUFLLENBQUMscUJBQXFCLENBQUMsQ0FBQztNQUMxQyxDQUFDO0lBQ0gsQ0FBQyxDQUFDO0lBRUYsT0FBT0osT0FBTyxDQUFDNkksSUFBSSxDQUFDLENBQUNULFVBQVUsRUFBRVEsYUFBYSxFQUFFTCxjQUFjLENBQUMsQ0FBQ08sTUFBTSxDQUFDQyxPQUFPLENBQXVCLENBQUMsQ0FDbkdDLElBQUksQ0FBQyxNQUFNO01BQ1YsSUFBSSxDQUFDbEIsbUJBQW1CLENBQUMsQ0FBQztNQUMxQkcsSUFBSSxDQUFDekksS0FBSyxDQUFDLENBQUM7SUFDZCxDQUFDLENBQUMsQ0FDRHlKLEtBQUssQ0FBRXRKLEtBQUssSUFBSztNQUNoQixNQUFNdUosUUFBUSxHQUFHdkosS0FBSyxZQUFZUyxLQUFLLEdBQUdULEtBQUssR0FBRyxJQUFJUyxLQUFLLENBQUNDLE1BQU0sQ0FBQ1YsS0FBSyxDQUFDLENBQUM7TUFDMUU7TUFDQSxJQUFJZ0osU0FBUyxFQUFFO1FBQ2JWLElBQUksQ0FBQ3ZJLElBQUksQ0FBQ3dKLFFBQVEsQ0FBQztNQUNyQixDQUFDLE1BQU07UUFDTGpCLElBQUksQ0FBQ3ZJLElBQUksQ0FBQ3dKLFFBQVEsQ0FBQztNQUNyQjtNQUNBLE1BQU1BLFFBQVE7SUFDaEIsQ0FBQyxDQUFDLENBQ0RDLE9BQU8sQ0FBQyxNQUFNO01BQ2IsSUFBSWIsS0FBSyxFQUFFO1FBQ1RjLFlBQVksQ0FBQ2QsS0FBSyxDQUFDO1FBQ25CQSxLQUFLLEdBQUcsSUFBSTtNQUNkO01BQ0EsSUFBSSxDQUFDckUsaUJBQWlCLEdBQUcsSUFBSTtNQUM3QixJQUFJLElBQUksQ0FBQ3pCLE9BQU8sQ0FBQ2YsT0FBTyxLQUFLd0csSUFBSSxFQUFFO1FBQ2pDLElBQUksQ0FBQ0MsU0FBUyxDQUFDLENBQUM7TUFDbEI7SUFDRixDQUFDLENBQUM7RUFDTjtFQUVBLE1BQWNtQix3QkFBd0JBLENBQUNILFFBQWUsRUFBRUksUUFBZ0IsRUFBb0I7SUFDMUYsSUFBSSxDQUFDLElBQUFDLDBDQUF1QixFQUFDTCxRQUFRLENBQUMsRUFBRSxPQUFPLEtBQUs7SUFDcEQsSUFBSUksUUFBUSxJQUFJbkcsZUFBZSxDQUFDUSxxQkFBcUIsRUFBRSxPQUFPLEtBQUs7SUFDbkUsSUFBQXlELHFCQUFRLEVBQUMsdURBQXVEOEIsUUFBUSxDQUFDaEQsT0FBTyxFQUFFLENBQUM7SUFDbkYsT0FBTyxJQUFJLENBQUNzRCxlQUFlLENBQUNOLFFBQVEsQ0FBQztFQUN2QztFQUVBLE9BQU9iLElBQUlBLENBQUNuQyxPQUFlLEVBQTBDO0lBQ25FLElBQUksSUFBSSxDQUFDNUMsVUFBVSxFQUFFO01BQ25CLE1BQU0sSUFBSWxELEtBQUssQ0FBQywyRkFBMkYsQ0FBQztJQUM5RztJQUNBLElBQUlxSixlQUFlLEdBQUcsS0FBSzs7SUFFM0I7SUFDQTtJQUNBLElBQUksQ0FBQ2hHLGVBQWUsQ0FBQ2lHLEtBQUssQ0FBQyxDQUFDO0lBRTVCLElBQUlDLGdCQUFnQixHQUFHLENBQUM7O0lBRXhCO0lBQ0EsT0FBT0EsZ0JBQWdCLEdBQUd4RyxlQUFlLENBQUNRLHFCQUFxQixFQUFFO01BQy9ELE1BQU1KLEtBQUssR0FBRyxJQUFJLENBQUN1QixXQUFXLENBQUMsQ0FBQztNQUNoQyxNQUFNbUQsSUFBSSxHQUFHLElBQUksQ0FBQ0QsVUFBVSxDQUFDLENBQUM7TUFDOUIsSUFBSTRCLFdBQXlCLEdBQUcsSUFBSTtNQUNwQyxJQUFJQyxpQkFBaUIsR0FBRyxLQUFLO01BRTdCLE1BQU1DLEdBQUcsR0FBRyxJQUFJLENBQUMzQixhQUFhLENBQUM1RSxLQUFLLEVBQUUyQyxPQUFPLEVBQUUrQixJQUFJLENBQUMsQ0FBQ2dCLEtBQUssQ0FBRXRKLEtBQUssSUFBSztRQUNwRWlLLFdBQVcsR0FBR2pLLEtBQUssWUFBWVMsS0FBSyxHQUFHVCxLQUFLLEdBQUcsSUFBSVMsS0FBSyxDQUFDQyxNQUFNLENBQUNWLEtBQUssQ0FBQyxDQUFDO1FBQ3ZFLElBQUksWUFBWSxDQUFDcUgsSUFBSSxDQUFDNEMsV0FBVyxDQUFDMUQsT0FBTyxDQUFDLEVBQUU7VUFDMUN1RCxlQUFlLEdBQUcsSUFBSTtRQUN4QjtNQUNGLENBQUMsQ0FBQztNQUVGLElBQUk7UUFDRixXQUFXLE1BQU1qSSxLQUFLLElBQUl5RyxJQUFJLEVBQUU7VUFDOUIsTUFBTXpHLEtBQUs7UUFDYjtNQUNGLENBQUMsU0FBUztRQUNSLE1BQU1zSSxHQUFHO01BQ1g7O01BRUE7TUFDQSxJQUFJRixXQUFXLEVBQUU7UUFDZixJQUFJSCxlQUFlLEVBQUU7VUFDbkIsSUFBSSxDQUFDbkMsU0FBUyxDQUFDc0MsV0FBVyxDQUFDMUQsT0FBTyxDQUFDO1VBQ25DO1FBQ0Y7UUFDQTJELGlCQUFpQixHQUFHLE1BQU0sSUFBSSxDQUFDUix3QkFBd0IsQ0FBQ08sV0FBVyxFQUFFRCxnQkFBZ0IsR0FBRyxDQUFDLENBQUM7UUFDMUYsSUFBSSxDQUFDRSxpQkFBaUIsRUFBRTtVQUN0QixJQUFJLENBQUN2QyxTQUFTLENBQUNzQyxXQUFXLENBQUMxRCxPQUFPLENBQUM7VUFDbkM7UUFDRjtRQUNBeUQsZ0JBQWdCLEVBQUU7UUFDbEIsSUFBQXZDLHFCQUFRLEVBQ04sOERBQThEdUMsZ0JBQWdCLElBQUl4RyxlQUFlLENBQUNRLHFCQUFxQixHQUN6SCxDQUFDO1FBQ0Q7TUFDRjs7TUFFQTtNQUNBO0lBQ0Y7RUFDRjs7RUFFQTtBQUNGO0FBQ0E7RUFDRW9HLE1BQU1BLENBQUNDLE1BQU0sR0FBRyxtQkFBbUIsRUFBUTtJQUN6QyxJQUFJLENBQUMsSUFBSSxDQUFDMUcsVUFBVSxFQUFFO0lBQ3RCLElBQUksQ0FBQ1csaUJBQWlCLEdBQUcsQ0FBQztJQUMxQixJQUFJLENBQUNYLFVBQVUsQ0FBQzVELElBQUksQ0FBQyxJQUFJVSxLQUFLLENBQUM0SixNQUFNLENBQUMsQ0FBQztJQUN2QyxJQUFJLENBQUM5QixTQUFTLENBQUMsQ0FBQztFQUNsQjtFQUVBLE1BQU0rQixXQUFXQSxDQUFDMUYsTUFBbUIsRUFBaUI7SUFDcEQsSUFBSSxDQUFDdUQsbUJBQW1CLENBQUMsQ0FBQztJQUMxQixJQUFJLENBQUN2RSxLQUFLLEdBQUcsSUFBSTtJQUNqQixJQUFJLENBQUNjLFNBQVMsR0FBRztNQUNmSSxRQUFRLEVBQUVGLE1BQU0sQ0FBQ0UsUUFBUTtNQUN6QkMsS0FBSyxFQUFFSCxNQUFNLENBQUNHLEtBQUs7TUFDbkJDLFdBQVcsRUFBRUosTUFBTSxDQUFDSSxXQUFXO01BQy9CQyxTQUFTLEVBQUVMLE1BQU0sQ0FBQ0ssU0FBUztNQUMzQkMsWUFBWSxFQUFFLElBQUksQ0FBQ1IsU0FBUyxDQUFDUTtJQUMvQixDQUEwQjtJQUMxQixJQUFJLENBQUNULE9BQU8sQ0FBQzhGLGlCQUFpQixDQUFDLElBQUksQ0FBQzdGLFNBQVMsQ0FBQztFQUNoRDtFQUVBOEYsZUFBZUEsQ0FBQSxFQUF1QjtJQUNwQyxNQUFNQyxLQUFLLEdBQUcsSUFBSSxDQUFDaEcsT0FBTyxDQUFDaUcsV0FBVyxDQUFDQyxpQkFBaUIsQ0FBQyxDQUFDO0lBQzFELE1BQU1DLGFBQStCLEdBQUdILEtBQUssQ0FBQ0ksR0FBRyxDQUFFQyxJQUFJLEtBQU07TUFDM0QxSSxJQUFJLEVBQUUwSSxJQUFJLENBQUMxSSxJQUFJO01BQ2YySSxXQUFXLEVBQUVELElBQUksQ0FBQ0MsV0FBVztNQUM3QkMsUUFBUSxFQUFFO0lBQ1osQ0FBQyxDQUFDLENBQUM7SUFDSCxPQUFPO01BQ0xDLGVBQWUsRUFBRUMsNkJBQXNCO01BQ3ZDakksT0FBTyxFQUFFLElBQUksQ0FBQ3dCLE9BQU8sQ0FBQ3hCLE9BQU87TUFDN0I4QixLQUFLLEVBQUUsSUFBSSxDQUFDb0csYUFBYSxDQUFDLElBQUksQ0FBQ3pHLFNBQVMsQ0FBQztNQUN6QytGLEtBQUssRUFBRUcsYUFBYTtNQUNwQlEsUUFBUSxFQUFFLENBQUMsV0FBVyxFQUFFLFlBQVk7SUFDdEMsQ0FBQztFQUNIO0VBRUFDLGlCQUFpQkEsQ0FBQ0MsT0FBZSxFQUFFQyxLQUFnQixFQUFRO0lBQ3pELElBQUksQ0FBQzlHLE9BQU8sQ0FBQ2lHLFdBQVcsQ0FBQ2MsYUFBYSxDQUFDO01BQUUsR0FBR0QsS0FBSztNQUFFakosRUFBRSxFQUFFZ0o7SUFBUSxDQUFDLENBQUM7RUFDbkU7RUFFQUcsbUJBQW1CQSxDQUFDSCxPQUFlLEVBQVE7SUFDekMsSUFBSSxDQUFDN0csT0FBTyxDQUFDaUcsV0FBVyxDQUFDZ0IsZUFBZSxDQUFDSixPQUFPLENBQUM7RUFDbkQ7RUFFQWxELFVBQVVBLENBQUEsRUFBMEI7SUFDbEMsSUFBSSxJQUFJLENBQUN4RSxLQUFLLEVBQUU7TUFDZCxPQUFPLElBQUksQ0FBQ0EsS0FBSyxDQUFDd0UsVUFBVSxDQUFDLENBQUM7SUFDaEM7SUFDQSxPQUFPLENBQUMsR0FBRyxJQUFJLENBQUN2RSxhQUFhLENBQUM7RUFDaEM7RUFFQThILFlBQVlBLENBQUEsRUFBUztJQUNuQixJQUFJLENBQUM5SCxhQUFhLEdBQUcsRUFBRTtJQUN2QixJQUFJLENBQUNELEtBQUssRUFBRStILFlBQVksQ0FBQyxDQUFDO0VBQzVCO0VBRVFSLGFBQWFBLENBQUN6RyxTQUF5QixFQUFlO0lBQzVELE9BQU87TUFDTEksUUFBUSxFQUFFSixTQUFTLENBQUNJLFFBQVE7TUFDNUJDLEtBQUssRUFBRUwsU0FBUyxDQUFDSyxLQUFLO01BQ3RCQyxXQUFXLEVBQUVOLFNBQVMsQ0FBQ00sV0FBVztNQUNsQ0MsU0FBUyxFQUFFUCxTQUFTLENBQUNPO0lBQ3ZCLENBQUM7RUFDSDs7RUFFQTtBQUNGO0FBQ0E7QUFDQTtFQUNVMkcsb0JBQW9CQSxDQUFBLEVBQW1EO0lBQzdFLE1BQU1DLFVBQVUsR0FBRyxJQUFBQyxzQ0FBc0IsRUFBQyxDQUFDO0lBQzNDLE1BQU1DLGVBQWUsR0FBRyxJQUFJLENBQUNySCxTQUFTLENBQUNJLFFBQVE7O0lBRS9DO0lBQ0EsTUFBTWtILGVBQTZCLEdBQUcsQ0FBQyxLQUFLLEVBQUUsV0FBVyxFQUFFLFFBQVEsRUFBRSxRQUFRLEVBQUUsVUFBVSxFQUFFLFFBQVEsQ0FBQztJQUVwRyxLQUFLLE1BQU1DLFVBQVUsSUFBSUQsZUFBZSxFQUFFO01BQ3hDO01BQ0EsSUFBSUMsVUFBVSxLQUFLRixlQUFlLElBQUksSUFBSSxDQUFDakksZUFBZSxDQUFDb0ksR0FBRyxDQUFDRCxVQUFVLENBQUMsRUFBRTtRQUMxRTtNQUNGOztNQUVBO01BQ0EsTUFBTW5ILFFBQVEsR0FBRytHLFVBQVUsQ0FBQ00sSUFBSSxDQUFDQyxDQUFDLElBQUlBLENBQUMsQ0FBQzlKLEVBQUUsS0FBSzJKLFVBQVUsQ0FBQztNQUMxRCxJQUFJbkgsUUFBUSxFQUFFO1FBQ1osTUFBTUMsS0FBSyxHQUFHLElBQUFzSCx5Q0FBeUIsRUFBQ0osVUFBVSxDQUFDO1FBQ25ELElBQUlsSCxLQUFLLEVBQUU7VUFDVCxPQUFPO1lBQUVELFFBQVEsRUFBRW1ILFVBQVU7WUFBRWxIO1VBQU0sQ0FBQztRQUN4QztNQUNGO0lBQ0Y7SUFFQSxPQUFPLElBQUk7RUFDYjs7RUFFQTtBQUNGO0FBQ0E7RUFDVXVILGlCQUFpQkEsQ0FDdkJDLFlBQW9CLEVBQ3BCQyxTQUFpQixFQUNqQkMsVUFBa0IsRUFDbEJDLE9BQWUsRUFDZnJDLE1BQWMsRUFDZHJLLEtBQWEsRUFDUDtJQUNOLElBQUksQ0FBQzJELFVBQVUsRUFBRWxFLElBQUksQ0FBQztNQUNwQnlDLElBQUksRUFBRSxtQkFBbUI7TUFDekJILFNBQVMsRUFBRUMsSUFBSSxDQUFDQyxHQUFHLENBQUMsQ0FBQztNQUNyQnNLLFlBQVk7TUFDWkMsU0FBUztNQUNUQyxVQUFVO01BQ1ZDLE9BQU87TUFDUHJDLE1BQU07TUFDTnJLO0lBQ0YsQ0FBQyxDQUFDO0VBQ0o7O0VBRUE7QUFDRjtBQUNBO0VBQ0UsTUFBYzZKLGVBQWVBLENBQUM3SixLQUFZLEVBQW9CO0lBQzVELE1BQU0yTSxRQUFRLEdBQUcsSUFBSSxDQUFDZixvQkFBb0IsQ0FBQyxDQUFDO0lBQzVDLElBQUksQ0FBQ2UsUUFBUSxFQUFFO01BQ2IsSUFBQWxGLHFCQUFRLEVBQUMsa0RBQWtELENBQUM7TUFDNUQsT0FBTyxLQUFLO0lBQ2Q7SUFFQSxNQUFNNEMsTUFBTSxHQUFHLElBQUF1QyxvQ0FBaUIsRUFBQzVNLEtBQUssQ0FBQztJQUN2QyxNQUFNdU0sWUFBWSxHQUFHLElBQUksQ0FBQzdILFNBQVMsQ0FBQ0ksUUFBUTtJQUM1QyxNQUFNMEgsU0FBUyxHQUFHLElBQUksQ0FBQzlILFNBQVMsQ0FBQ0ssS0FBSzs7SUFFdEM7SUFDQSxJQUFJLENBQUNqQixlQUFlLENBQUMrSSxHQUFHLENBQUNOLFlBQVksQ0FBQzs7SUFFdEM7SUFDQSxJQUFJLENBQUNELGlCQUFpQixDQUNwQkMsWUFBWSxFQUNaQyxTQUFTLEVBQ1RHLFFBQVEsQ0FBQzdILFFBQVEsRUFDakI2SCxRQUFRLENBQUM1SCxLQUFLLEVBQ2RzRixNQUFNLEVBQ05ySyxLQUFLLENBQUN1RyxPQUNSLENBQUM7SUFFRCxJQUFBa0IscUJBQVEsRUFBQyx1Q0FBdUM4RSxZQUFZLElBQUlDLFNBQVMsT0FBT0csUUFBUSxDQUFDN0gsUUFBUSxJQUFJNkgsUUFBUSxDQUFDNUgsS0FBSyxLQUFLc0YsTUFBTSxFQUFFLENBQUM7O0lBRWpJO0lBQ0EsTUFBTSxJQUFJLENBQUNDLFdBQVcsQ0FBQztNQUNyQnhGLFFBQVEsRUFBRTZILFFBQVEsQ0FBQzdILFFBQVE7TUFDM0JDLEtBQUssRUFBRTRILFFBQVEsQ0FBQzVIO0lBQ2xCLENBQUMsQ0FBQztJQUVGLE9BQU8sSUFBSTtFQUNiO0VBRUErSCxhQUFhQSxDQUFBLEVBQWdCO0lBQzNCLE9BQU8sSUFBSSxDQUFDckksT0FBTyxDQUFDc0ksVUFBVTtFQUNoQztBQUNGO0FBQUNDLE9BQUEsQ0FBQXhKLGVBQUEsR0FBQUEsZUFBQSIsImlnbm9yZUxpc3QiOltdfQ==