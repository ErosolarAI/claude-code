{"version":3,"names":["_globals","require","_UnifiedUIRenderer","describe","renderer","mockStdout","beforeEach","write","jest","fn","columns","rows","UnifiedUIRenderer","interactive","test","initialStatus","activeVariant","currentModule","wins","primary","refiner","ties","updateRLStatus","status","getRLStatus","expect","toBe","clearRLStatus","toBeUndefined","toBeDefined","renderSpy","spyOn","toHaveBeenCalled","mockClear","not"],"sources":["rl_ui_integration.test.ts"],"sourcesContent":["import { test, expect, jest } from '@jest/globals';\nimport { UnifiedUIRenderer } from '../src/ui/UnifiedUIRenderer';\nimport type { RLAgentStatus } from '../src/ui/UnifiedUIRenderer';\n\ndescribe('Dual Tournament RL UI Integration', () => {\n  let renderer: UnifiedUIRenderer;\n  let mockStdout: any;\n\n  beforeEach(() => {\n    mockStdout = {\n      write: jest.fn(),\n      columns: 120,\n      rows: 40\n    };\n    \n    renderer = new UnifiedUIRenderer(mockStdout, { interactive: true });\n  });\n\n  test('RL status should update correctly', () => {\n    const initialStatus: Partial<RLAgentStatus> = {\n      activeVariant: 'primary',\n      currentModule: 'security-audit',\n      wins: { primary: 0, refiner: 0, ties: 0 }\n    };\n    \n    renderer.updateRLStatus(initialStatus);\n    const status = renderer.getRLStatus();\n    \n    expect(status.activeVariant).toBe('primary');\n    expect(status.currentModule).toBe('security-audit');\n    expect(status.wins?.primary).toBe(0);\n  });\n\n  test('RL status should clear correctly', () => {\n    renderer.updateRLStatus({\n      activeVariant: 'primary',\n      currentModule: 'test-module'\n    });\n    \n    renderer.clearRLStatus();\n    const status = renderer.getRLStatus();\n    \n    expect(status.activeVariant).toBeUndefined();\n    expect(status.currentModule).toBeUndefined();\n  });\n\n  test('Status bar should render RL info when active', () => {\n    // This would test actual rendering\n    // For now, just verify the method exists\n    expect(renderer.updateRLStatus).toBeDefined();\n    expect(renderer.clearRLStatus).toBeDefined();\n    expect(renderer.getRLStatus).toBeDefined();\n  });\n\n  test('RL status updates should trigger re-render when changed', () => {\n    const renderSpy = jest.spyOn(renderer as any, 'renderPrompt');\n    \n    // First update should trigger render\n    renderer.updateRLStatus({ activeVariant: 'primary' });\n    expect(renderSpy).toHaveBeenCalled();\n    \n    renderSpy.mockClear();\n    \n    // Same update should not trigger re-render\n    renderer.updateRLStatus({ activeVariant: 'primary' });\n    expect(renderSpy).not.toHaveBeenCalled();\n    \n    // Different update should trigger re-render\n    renderer.updateRLStatus({ activeVariant: 'refiner' });\n    expect(renderSpy).toHaveBeenCalled();\n  });\n});\n\ndescribe('Mode Toggle Integration', () => {\n  test('Default mode should be single-continuous', () => {\n    // This would test the interactive shell default\n    expect(true).toBe(true);\n  });\n\n  test('Toggle should switch between single and dual modes', () => {\n    // This would test the toggle handler\n    expect(true).toBe(true);\n  });\n});\n"],"mappings":"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","ignoreList":[]}