b181f8625ea8957a42a212abb1497cfe
"use strict";

var _globals = require("@jest/globals");
var _UnifiedUIRenderer = require("../src/ui/UnifiedUIRenderer");
describe('Dual Tournament RL UI Integration', () => {
  let renderer;
  let mockStdout;
  beforeEach(() => {
    mockStdout = {
      write: _globals.jest.fn(),
      columns: 120,
      rows: 40
    };
    renderer = new _UnifiedUIRenderer.UnifiedUIRenderer(mockStdout, {
      interactive: true
    });
  });
  (0, _globals.test)('RL status should update correctly', () => {
    const initialStatus = {
      activeVariant: 'primary',
      currentModule: 'security-audit',
      wins: {
        primary: 0,
        refiner: 0,
        ties: 0
      }
    };
    renderer.updateRLStatus(initialStatus);
    const status = renderer.getRLStatus();
    (0, _globals.expect)(status.activeVariant).toBe('primary');
    (0, _globals.expect)(status.currentModule).toBe('security-audit');
    (0, _globals.expect)(status.wins?.primary).toBe(0);
  });
  (0, _globals.test)('RL status should clear correctly', () => {
    renderer.updateRLStatus({
      activeVariant: 'primary',
      currentModule: 'test-module'
    });
    renderer.clearRLStatus();
    const status = renderer.getRLStatus();
    (0, _globals.expect)(status.activeVariant).toBeUndefined();
    (0, _globals.expect)(status.currentModule).toBeUndefined();
  });
  (0, _globals.test)('Status bar should render RL info when active', () => {
    // This would test actual rendering
    // For now, just verify the method exists
    (0, _globals.expect)(renderer.updateRLStatus).toBeDefined();
    (0, _globals.expect)(renderer.clearRLStatus).toBeDefined();
    (0, _globals.expect)(renderer.getRLStatus).toBeDefined();
  });
  (0, _globals.test)('RL status updates should trigger re-render when changed', () => {
    const renderSpy = _globals.jest.spyOn(renderer, 'renderPrompt');

    // First update should trigger render
    renderer.updateRLStatus({
      activeVariant: 'primary'
    });
    (0, _globals.expect)(renderSpy).toHaveBeenCalled();
    renderSpy.mockClear();

    // Same update should not trigger re-render
    renderer.updateRLStatus({
      activeVariant: 'primary'
    });
    (0, _globals.expect)(renderSpy).not.toHaveBeenCalled();

    // Different update should trigger re-render
    renderer.updateRLStatus({
      activeVariant: 'refiner'
    });
    (0, _globals.expect)(renderSpy).toHaveBeenCalled();
  });
});
describe('Mode Toggle Integration', () => {
  (0, _globals.test)('Default mode should be single-continuous', () => {
    // This would test the interactive shell default
    (0, _globals.expect)(true).toBe(true);
  });
  (0, _globals.test)('Toggle should switch between single and dual modes', () => {
    // This would test the toggle handler
    (0, _globals.expect)(true).toBe(true);
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2xvYmFscyIsInJlcXVpcmUiLCJfVW5pZmllZFVJUmVuZGVyZXIiLCJkZXNjcmliZSIsInJlbmRlcmVyIiwibW9ja1N0ZG91dCIsImJlZm9yZUVhY2giLCJ3cml0ZSIsImplc3QiLCJmbiIsImNvbHVtbnMiLCJyb3dzIiwiVW5pZmllZFVJUmVuZGVyZXIiLCJpbnRlcmFjdGl2ZSIsInRlc3QiLCJpbml0aWFsU3RhdHVzIiwiYWN0aXZlVmFyaWFudCIsImN1cnJlbnRNb2R1bGUiLCJ3aW5zIiwicHJpbWFyeSIsInJlZmluZXIiLCJ0aWVzIiwidXBkYXRlUkxTdGF0dXMiLCJzdGF0dXMiLCJnZXRSTFN0YXR1cyIsImV4cGVjdCIsInRvQmUiLCJjbGVhclJMU3RhdHVzIiwidG9CZVVuZGVmaW5lZCIsInRvQmVEZWZpbmVkIiwicmVuZGVyU3B5Iiwic3B5T24iLCJ0b0hhdmVCZWVuQ2FsbGVkIiwibW9ja0NsZWFyIiwibm90Il0sInNvdXJjZXMiOlsicmxfdWlfaW50ZWdyYXRpb24udGVzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB0ZXN0LCBleHBlY3QsIGplc3QgfSBmcm9tICdAamVzdC9nbG9iYWxzJztcbmltcG9ydCB7IFVuaWZpZWRVSVJlbmRlcmVyIH0gZnJvbSAnLi4vc3JjL3VpL1VuaWZpZWRVSVJlbmRlcmVyJztcbmltcG9ydCB0eXBlIHsgUkxBZ2VudFN0YXR1cyB9IGZyb20gJy4uL3NyYy91aS9VbmlmaWVkVUlSZW5kZXJlcic7XG5cbmRlc2NyaWJlKCdEdWFsIFRvdXJuYW1lbnQgUkwgVUkgSW50ZWdyYXRpb24nLCAoKSA9PiB7XG4gIGxldCByZW5kZXJlcjogVW5pZmllZFVJUmVuZGVyZXI7XG4gIGxldCBtb2NrU3Rkb3V0OiBhbnk7XG5cbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgbW9ja1N0ZG91dCA9IHtcbiAgICAgIHdyaXRlOiBqZXN0LmZuKCksXG4gICAgICBjb2x1bW5zOiAxMjAsXG4gICAgICByb3dzOiA0MFxuICAgIH07XG4gICAgXG4gICAgcmVuZGVyZXIgPSBuZXcgVW5pZmllZFVJUmVuZGVyZXIobW9ja1N0ZG91dCwgeyBpbnRlcmFjdGl2ZTogdHJ1ZSB9KTtcbiAgfSk7XG5cbiAgdGVzdCgnUkwgc3RhdHVzIHNob3VsZCB1cGRhdGUgY29ycmVjdGx5JywgKCkgPT4ge1xuICAgIGNvbnN0IGluaXRpYWxTdGF0dXM6IFBhcnRpYWw8UkxBZ2VudFN0YXR1cz4gPSB7XG4gICAgICBhY3RpdmVWYXJpYW50OiAncHJpbWFyeScsXG4gICAgICBjdXJyZW50TW9kdWxlOiAnc2VjdXJpdHktYXVkaXQnLFxuICAgICAgd2luczogeyBwcmltYXJ5OiAwLCByZWZpbmVyOiAwLCB0aWVzOiAwIH1cbiAgICB9O1xuICAgIFxuICAgIHJlbmRlcmVyLnVwZGF0ZVJMU3RhdHVzKGluaXRpYWxTdGF0dXMpO1xuICAgIGNvbnN0IHN0YXR1cyA9IHJlbmRlcmVyLmdldFJMU3RhdHVzKCk7XG4gICAgXG4gICAgZXhwZWN0KHN0YXR1cy5hY3RpdmVWYXJpYW50KS50b0JlKCdwcmltYXJ5Jyk7XG4gICAgZXhwZWN0KHN0YXR1cy5jdXJyZW50TW9kdWxlKS50b0JlKCdzZWN1cml0eS1hdWRpdCcpO1xuICAgIGV4cGVjdChzdGF0dXMud2lucz8ucHJpbWFyeSkudG9CZSgwKTtcbiAgfSk7XG5cbiAgdGVzdCgnUkwgc3RhdHVzIHNob3VsZCBjbGVhciBjb3JyZWN0bHknLCAoKSA9PiB7XG4gICAgcmVuZGVyZXIudXBkYXRlUkxTdGF0dXMoe1xuICAgICAgYWN0aXZlVmFyaWFudDogJ3ByaW1hcnknLFxuICAgICAgY3VycmVudE1vZHVsZTogJ3Rlc3QtbW9kdWxlJ1xuICAgIH0pO1xuICAgIFxuICAgIHJlbmRlcmVyLmNsZWFyUkxTdGF0dXMoKTtcbiAgICBjb25zdCBzdGF0dXMgPSByZW5kZXJlci5nZXRSTFN0YXR1cygpO1xuICAgIFxuICAgIGV4cGVjdChzdGF0dXMuYWN0aXZlVmFyaWFudCkudG9CZVVuZGVmaW5lZCgpO1xuICAgIGV4cGVjdChzdGF0dXMuY3VycmVudE1vZHVsZSkudG9CZVVuZGVmaW5lZCgpO1xuICB9KTtcblxuICB0ZXN0KCdTdGF0dXMgYmFyIHNob3VsZCByZW5kZXIgUkwgaW5mbyB3aGVuIGFjdGl2ZScsICgpID0+IHtcbiAgICAvLyBUaGlzIHdvdWxkIHRlc3QgYWN0dWFsIHJlbmRlcmluZ1xuICAgIC8vIEZvciBub3csIGp1c3QgdmVyaWZ5IHRoZSBtZXRob2QgZXhpc3RzXG4gICAgZXhwZWN0KHJlbmRlcmVyLnVwZGF0ZVJMU3RhdHVzKS50b0JlRGVmaW5lZCgpO1xuICAgIGV4cGVjdChyZW5kZXJlci5jbGVhclJMU3RhdHVzKS50b0JlRGVmaW5lZCgpO1xuICAgIGV4cGVjdChyZW5kZXJlci5nZXRSTFN0YXR1cykudG9CZURlZmluZWQoKTtcbiAgfSk7XG5cbiAgdGVzdCgnUkwgc3RhdHVzIHVwZGF0ZXMgc2hvdWxkIHRyaWdnZXIgcmUtcmVuZGVyIHdoZW4gY2hhbmdlZCcsICgpID0+IHtcbiAgICBjb25zdCByZW5kZXJTcHkgPSBqZXN0LnNweU9uKHJlbmRlcmVyIGFzIGFueSwgJ3JlbmRlclByb21wdCcpO1xuICAgIFxuICAgIC8vIEZpcnN0IHVwZGF0ZSBzaG91bGQgdHJpZ2dlciByZW5kZXJcbiAgICByZW5kZXJlci51cGRhdGVSTFN0YXR1cyh7IGFjdGl2ZVZhcmlhbnQ6ICdwcmltYXJ5JyB9KTtcbiAgICBleHBlY3QocmVuZGVyU3B5KS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgXG4gICAgcmVuZGVyU3B5Lm1vY2tDbGVhcigpO1xuICAgIFxuICAgIC8vIFNhbWUgdXBkYXRlIHNob3VsZCBub3QgdHJpZ2dlciByZS1yZW5kZXJcbiAgICByZW5kZXJlci51cGRhdGVSTFN0YXR1cyh7IGFjdGl2ZVZhcmlhbnQ6ICdwcmltYXJ5JyB9KTtcbiAgICBleHBlY3QocmVuZGVyU3B5KS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIFxuICAgIC8vIERpZmZlcmVudCB1cGRhdGUgc2hvdWxkIHRyaWdnZXIgcmUtcmVuZGVyXG4gICAgcmVuZGVyZXIudXBkYXRlUkxTdGF0dXMoeyBhY3RpdmVWYXJpYW50OiAncmVmaW5lcicgfSk7XG4gICAgZXhwZWN0KHJlbmRlclNweSkudG9IYXZlQmVlbkNhbGxlZCgpO1xuICB9KTtcbn0pO1xuXG5kZXNjcmliZSgnTW9kZSBUb2dnbGUgSW50ZWdyYXRpb24nLCAoKSA9PiB7XG4gIHRlc3QoJ0RlZmF1bHQgbW9kZSBzaG91bGQgYmUgc2luZ2xlLWNvbnRpbnVvdXMnLCAoKSA9PiB7XG4gICAgLy8gVGhpcyB3b3VsZCB0ZXN0IHRoZSBpbnRlcmFjdGl2ZSBzaGVsbCBkZWZhdWx0XG4gICAgZXhwZWN0KHRydWUpLnRvQmUodHJ1ZSk7XG4gIH0pO1xuXG4gIHRlc3QoJ1RvZ2dsZSBzaG91bGQgc3dpdGNoIGJldHdlZW4gc2luZ2xlIGFuZCBkdWFsIG1vZGVzJywgKCkgPT4ge1xuICAgIC8vIFRoaXMgd291bGQgdGVzdCB0aGUgdG9nZ2xlIGhhbmRsZXJcbiAgICBleHBlY3QodHJ1ZSkudG9CZSh0cnVlKTtcbiAgfSk7XG59KTtcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFBQSxRQUFBLEdBQUFDLE9BQUE7QUFDQSxJQUFBQyxrQkFBQSxHQUFBRCxPQUFBO0FBR0FFLFFBQVEsQ0FBQyxtQ0FBbUMsRUFBRSxNQUFNO0VBQ2xELElBQUlDLFFBQTJCO0VBQy9CLElBQUlDLFVBQWU7RUFFbkJDLFVBQVUsQ0FBQyxNQUFNO0lBQ2ZELFVBQVUsR0FBRztNQUNYRSxLQUFLLEVBQUVDLGFBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7TUFDaEJDLE9BQU8sRUFBRSxHQUFHO01BQ1pDLElBQUksRUFBRTtJQUNSLENBQUM7SUFFRFAsUUFBUSxHQUFHLElBQUlRLG9DQUFpQixDQUFDUCxVQUFVLEVBQUU7TUFBRVEsV0FBVyxFQUFFO0lBQUssQ0FBQyxDQUFDO0VBQ3JFLENBQUMsQ0FBQztFQUVGLElBQUFDLGFBQUksRUFBQyxtQ0FBbUMsRUFBRSxNQUFNO0lBQzlDLE1BQU1DLGFBQXFD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