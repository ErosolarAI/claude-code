51aab68eda8a6afbdba8ee8fb50ab4f8
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.createHumanOpsTools = createHumanOpsTools;
var _nodeFs = require("node:fs");
var _nodePath = require("node:path");
function sanitizeSlug(value) {
  return value.toLowerCase().replace(/[^a-z0-9]+/g, '-').replace(/^-+|-+$/g, '').slice(0, 50) || 'task';
}
function resolveHumanOpsDir() {
  const base = process.env['AGI_HUMAN_TASK_DIR'];
  if (base && base.trim()) {
    return (0, _nodePath.resolve)(base.trim());
  }
  return (0, _nodePath.resolve)(process.cwd(), '.agi', 'human-ops');
}
function ensureDir(dir) {
  (0, _nodeFs.mkdirSync)(dir, {
    recursive: true
  });
}
function writeTaskFile(task) {
  const dir = resolveHumanOpsDir();
  ensureDir(dir);
  const slug = sanitizeSlug(task.title);
  const filePath = (0, _nodePath.join)(dir, `task-${Date.now()}-${slug}.json`);
  (0, _nodeFs.writeFileSync)(filePath, JSON.stringify(task, null, 2), 'utf8');
  return filePath;
}
function createHumanOpsTools() {
  return [{
    name: 'HumanIntegration',
    description: 'Escalate to a human operator (browser/captcha/external build/test/manual QA). Creates a rough plan and saves it; on later calls, append updates to the same task file.',
    parameters: {
      type: 'object',
      properties: {
        title: {
          type: 'string',
          description: 'Short label for the human task (e.g., "Solve login captcha", "Run Playwright checkout flow").'
        },
        taskPath: {
          type: 'string',
          description: 'Optional existing task file path to append an update to (created by a prior HumanIntegration call).'
        },
        update: {
          type: 'string',
          description: 'When taskPath is provided, a short update note describing what changed / the next action needed.'
        },
        emailDomain: {
          type: 'string',
          description: 'Preferred domain for provisioning emails (e.g., fastmail custom domain).'
        },
        catchAll: {
          type: 'boolean',
          description: 'If true, indicates using a catch-all mailbox at the domain.'
        },
        domainRegistrar: {
          type: 'string',
          description: 'Registrar or DNS provider to use for domain setup (if needed).'
        },
        paymentMethod: {
          type: 'string',
          description: 'Payment method/constraints for purchases (e.g., virtual card, limit, billing address).'
        },
        phoneVerification: {
          type: 'boolean',
          description: 'If true, indicates a phone/SMS step is expected.'
        },
        ssoProviders: {
          type: 'array',
          items: {
            type: 'string'
          },
          description: 'SSO providers that may be required (e.g., Google, Apple, Microsoft).'
        },
        proxyPolicy: {
          type: 'string',
          description: 'Any proxy/VPN/fingerprint constraints (e.g., region, residential, device profile).'
        },
        context: {
          type: 'string',
          description: 'Relevant context, URLs, credentials locations, expected state, or hypotheses to verify.'
        },
        urgency: {
          type: 'string',
          enum: ['low', 'normal', 'high'],
          description: 'How soon this is needed. Defaults to normal.'
        },
        needsBrowser: {
          type: 'boolean',
          description: 'Whether the task requires interactive browser use.'
        },
        needsCaptcha: {
          type: 'boolean',
          description: 'Whether solving a CAPTCHA is required.'
        },
        needsExternalBuild: {
          type: 'boolean',
          description: 'Whether to build/test in a separate runtime (e.g., clean machine or cloud runner).'
        },
        steps: {
          type: 'array',
          items: {
            type: 'string'
          },
          description: 'Step-by-step instructions a human should follow.'
        },
        artifacts: {
          type: 'array',
          items: {
            type: 'string'
          },
          description: 'Artifacts to capture (screenshots, logs, URLs, recordings).'
        },
        contact: {
          type: 'string',
          description: 'Optional contact/hand-off notes (who to notify, Slack channel, email).'
        },
        expectedOutcome: {
          type: 'string',
          description: 'What success looks like (e.g., "checkout completes", "captcha solved and session established").'
        }
      },
      required: ['title'],
      additionalProperties: false
    },
    handler: async args => {
      const title = typeof args['title'] === 'string' ? args['title'].trim() : '';
      const taskPathArg = typeof args['taskPath'] === 'string' ? args['taskPath'].trim() : '';
      const updateNote = typeof args['update'] === 'string' ? args['update'].trim() : '';

      // Update existing task file if provided
      if (taskPathArg) {
        if (!updateNote) {
          return 'Error: when taskPath is provided, update is required to append a status.';
        }
        const path = (0, _nodePath.resolve)(taskPathArg);
        try {
          const parsed = JSON.parse((0, _nodeFs.readFileSync)(path, 'utf8'));
          parsed.updates = parsed.updates ?? [];
          parsed.updates.push({
            at: new Date().toISOString(),
            note: updateNote
          });
          parsed.status = parsed.status ?? 'in-progress';
          (0, _nodeFs.writeFileSync)(path, JSON.stringify(parsed, null, 2), 'utf8');
          return [`Update appended to human task: ${parsed.title}`, `Status: ${parsed.status}`, `Updates now: ${parsed.updates.length}`, `Saved at: ${path}`].join('\n');
        } catch (error) {
          return `Error: could not update task at ${path}: ${error?.message ?? String(error)}`;
        }
      }
      if (!title) {
        return 'Error: title is required';
      }
      const urgency = args['urgency'] === 'high' || args['urgency'] === 'low' ? args['urgency'] : 'normal';
      const needsBrowser = args['needsBrowser'] === true;
      const needsCaptcha = args['needsCaptcha'] === true;
      const needsExternalBuild = args['needsExternalBuild'] === true;
      const emailDomain = typeof args['emailDomain'] === 'string' ? args['emailDomain'].trim() : undefined;
      const catchAll = args['catchAll'] === true;
      const domainRegistrar = typeof args['domainRegistrar'] === 'string' && args['domainRegistrar'].trim() ? args['domainRegistrar'].trim() : undefined;
      const paymentMethod = typeof args['paymentMethod'] === 'string' && args['paymentMethod'].trim() ? args['paymentMethod'].trim() : undefined;
      const phoneVerification = args['phoneVerification'] === true;
      const proxyPolicy = typeof args['proxyPolicy'] === 'string' && args['proxyPolicy'].trim() ? args['proxyPolicy'].trim() : undefined;
      const ssoProviders = Array.isArray(args['ssoProviders']) ? args['ssoProviders'].filter(s => typeof s === 'string' && Boolean(s.trim())).map(s => s.trim()) : undefined;
      const steps = Array.isArray(args['steps']) ? args['steps'].filter(s => typeof s === 'string' && Boolean(s.trim())).map(s => s.trim()) : [];
      const artifacts = Array.isArray(args['artifacts']) ? args['artifacts'].filter(s => typeof s === 'string' && Boolean(s.trim())).map(s => s.trim()) : [];
      const task = {
        title,
        context: typeof args['context'] === 'string' ? args['context'] : undefined,
        urgency,
        needsBrowser,
        needsCaptcha,
        needsExternalBuild,
        emailDomain,
        catchAll,
        domainRegistrar,
        paymentMethod,
        phoneVerification,
        ssoProviders,
        proxyPolicy,
        steps,
        artifacts,
        contact: typeof args['contact'] === 'string' ? args['contact'] : undefined,
        expectedOutcome: typeof args['expectedOutcome'] === 'string' ? args['expectedOutcome'] : undefined,
        createdAt: new Date().toISOString(),
        status: 'draft',
        updates: [{
          at: new Date().toISOString(),
          note: 'Initial rough plan created. Append updates with taskPath + update on each tool use.'
        }]
      };
      const path = writeTaskFile(task);
      const summaryLines = [`Human task recorded (draft): ${title}`, `Urgency: ${urgency}`, needsBrowser ? 'Requires browser use' : 'No browser required', needsCaptcha ? 'Requires captcha' : 'No captcha expected', needsExternalBuild ? 'Requires external/clean build runtime' : 'No external build required', emailDomain ? `Email domain: ${emailDomain}${catchAll ? ' (catch-all)' : ''}` : 'Email domain: not specified', domainRegistrar ? `Registrar/DNS: ${domainRegistrar}` : 'Registrar/DNS: not specified', paymentMethod ? `Payment: ${paymentMethod}` : 'Payment: not specified', phoneVerification ? 'Phone/SMS verification expected' : 'Phone verification not expected', ssoProviders?.length ? `SSO: ${ssoProviders.join(', ')}` : 'SSO: not specified', proxyPolicy ? `Proxy/fingerprint: ${proxyPolicy}` : 'Proxy/fingerprint: not specified', steps.length ? `Steps (rough plan): ${steps.join(' | ')}` : 'Steps: (provide interactively / rough plan only)', artifacts.length ? `Artifacts to capture: ${artifacts.join(', ')}` : 'Artifacts: optional', 'Next: call HumanIntegration again with taskPath + update after each tool use to keep the plan current.', `Saved at: ${path}`];
      return summaryLines.join('\n');
    }
  }];
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbm9kZUZzIiwicmVxdWlyZSIsIl9ub2RlUGF0aCIsInNhbml0aXplU2x1ZyIsInZhbHVlIiwidG9Mb3dlckNhc2UiLCJyZXBsYWNlIiwic2xpY2UiLCJyZXNvbHZlSHVtYW5PcHNEaXIiLCJiYXNlIiwicHJvY2VzcyIsImVudiIsInRyaW0iLCJyZXNvbHZlIiwiY3dkIiwiZW5zdXJlRGlyIiwiZGlyIiwibWtkaXJTeW5jIiwicmVjdXJzaXZlIiwid3JpdGVUYXNrRmlsZSIsInRhc2siLCJzbHVnIiwidGl0bGUiLCJmaWxlUGF0aCIsImpvaW4iLCJEYXRlIiwibm93Iiwid3JpdGVGaWxlU3luYyIsIkpTT04iLCJzdHJpbmdpZnkiLCJjcmVhdGVIdW1hbk9wc1Rvb2xzIiwibmFtZSIsImRlc2NyaXB0aW9uIiwicGFyYW1ldGVycyIsInR5cGUiLCJwcm9wZXJ0aWVzIiwidGFza1BhdGgiLCJ1cGRhdGUiLCJlbWFpbERvbWFpbiIsImNhdGNoQWxsIiwiZG9tYWluUmVnaXN0cmFyIiwicGF5bWVudE1ldGhvZCIsInBob25lVmVyaWZpY2F0aW9uIiwic3NvUHJvdmlkZXJzIiwiaXRlbXMiLCJwcm94eVBvbGljeSIsImNvbnRleHQiLCJ1cmdlbmN5IiwiZW51bSIsIm5lZWRzQnJvd3NlciIsIm5lZWRzQ2FwdGNoYSIsIm5lZWRzRXh0ZXJuYWxCdWlsZCIsInN0ZXBzIiwiYXJ0aWZhY3RzIiwiY29udGFjdCIsImV4cGVjdGVkT3V0Y29tZSIsInJlcXVpcmVkIiwiYWRkaXRpb25hbFByb3BlcnRpZXMiLCJoYW5kbGVyIiwiYXJncyIsInRhc2tQYXRoQXJnIiwidXBkYXRlTm90ZSIsInBhdGgiLCJwYXJzZWQiLCJwYXJzZSIsInJlYWRGaWxlU3luYyIsInVwZGF0ZXMiLCJwdXNoIiwiYXQiLCJ0b0lTT1N0cmluZyIsIm5vdGUiLCJzdGF0dXMiLCJsZW5ndGgiLCJlcnJvciIsIm1lc3NhZ2UiLCJTdHJpbmciLCJ1bmRlZmluZWQiLCJBcnJheSIsImlzQXJyYXkiLCJmaWx0ZXIiLCJzIiwiQm9vbGVhbiIsIm1hcCIsImNyZWF0ZWRBdCIsInN1bW1hcnlMaW5lcyJdLCJzb3VyY2VzIjpbImh1bWFuT3BzVG9vbHMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgbWtkaXJTeW5jLCB3cml0ZUZpbGVTeW5jLCByZWFkRmlsZVN5bmMgfSBmcm9tICdub2RlOmZzJztcbmltcG9ydCB7IGpvaW4sIHJlc29sdmUgfSBmcm9tICdub2RlOnBhdGgnO1xuaW1wb3J0IHR5cGUgeyBUb29sRGVmaW5pdGlvbiB9IGZyb20gJy4uL2NvcmUvdG9vbFJ1bnRpbWUuanMnO1xuXG50eXBlIFVyZ2VuY3kgPSAnbG93JyB8ICdub3JtYWwnIHwgJ2hpZ2gnO1xuXG5pbnRlcmZhY2UgSHVtYW5UYXNrIHtcbiAgdGl0bGU6IHN0cmluZztcbiAgY29udGV4dD86IHN0cmluZztcbiAgdXJnZW5jeTogVXJnZW5jeTtcbiAgbmVlZHNCcm93c2VyOiBib29sZWFuO1xuICBuZWVkc0NhcHRjaGE6IGJvb2xlYW47XG4gIG5lZWRzRXh0ZXJuYWxCdWlsZDogYm9vbGVhbjtcbiAgZW1haWxEb21haW4/OiBzdHJpbmc7XG4gIGNhdGNoQWxsPzogYm9vbGVhbjtcbiAgZG9tYWluUmVnaXN0cmFyPzogc3RyaW5nO1xuICBwYXltZW50TWV0aG9kPzogc3RyaW5nO1xuICBwaG9uZVZlcmlmaWNhdGlvbj86IGJvb2xlYW47XG4gIHNzb1Byb3ZpZGVycz86IHN0cmluZ1tdO1xuICBwcm94eVBvbGljeT86IHN0cmluZztcbiAgc3RlcHM6IHN0cmluZ1tdO1xuICBhcnRpZmFjdHM6IHN0cmluZ1tdO1xuICBjb250YWN0Pzogc3RyaW5nO1xuICBleHBlY3RlZE91dGNvbWU/OiBzdHJpbmc7XG4gIGNyZWF0ZWRBdDogc3RyaW5nO1xuICBzdGF0dXM/OiAnZHJhZnQnIHwgJ2luLXByb2dyZXNzJyB8ICdkb25lJztcbiAgdXBkYXRlcz86IEFycmF5PHsgYXQ6IHN0cmluZzsgbm90ZTogc3RyaW5nIH0+O1xufVxuXG5mdW5jdGlvbiBzYW5pdGl6ZVNsdWcodmFsdWU6IHN0cmluZyk6IHN0cmluZyB7XG4gIHJldHVybiB2YWx1ZVxuICAgIC50b0xvd2VyQ2FzZSgpXG4gICAgLnJlcGxhY2UoL1teYS16MC05XSsvZywgJy0nKVxuICAgIC5yZXBsYWNlKC9eLSt8LSskL2csICcnKVxuICAgIC5zbGljZSgwLCA1MCkgfHwgJ3Rhc2snO1xufVxuXG5mdW5jdGlvbiByZXNvbHZlSHVtYW5PcHNEaXIoKTogc3RyaW5nIHtcbiAgY29uc3QgYmFzZSA9IHByb2Nlc3MuZW52WydBR0lfSFVNQU5fVEFTS19ESVInXTtcbiAgaWYgKGJhc2UgJiYgYmFzZS50cmltKCkpIHtcbiAgICByZXR1cm4gcmVzb2x2ZShiYXNlLnRyaW0oKSk7XG4gIH1cbiAgcmV0dXJuIHJlc29sdmUocHJvY2Vzcy5jd2QoKSwgJy5hZ2knLCAnaHVtYW4tb3BzJyk7XG59XG5cbmZ1bmN0aW9uIGVuc3VyZURpcihkaXI6IHN0cmluZyk6IHZvaWQge1xuICBta2RpclN5bmMoZGlyLCB7IHJlY3Vyc2l2ZTogdHJ1ZSB9KTtcbn1cblxuZnVuY3Rpb24gd3JpdGVUYXNrRmlsZSh0YXNrOiBIdW1hblRhc2spOiBzdHJpbmcge1xuICBjb25zdCBkaXIgPSByZXNvbHZlSHVtYW5PcHNEaXIoKTtcbiAgZW5zdXJlRGlyKGRpcik7XG4gIGNvbnN0IHNsdWcgPSBzYW5pdGl6ZVNsdWcodGFzay50aXRsZSk7XG4gIGNvbnN0IGZpbGVQYXRoID0gam9pbihkaXIsIGB0YXNrLSR7RGF0ZS5ub3coKX0tJHtzbHVnfS5qc29uYCk7XG4gIHdyaXRlRmlsZVN5bmMoZmlsZVBhdGgsIEpTT04uc3RyaW5naWZ5KHRhc2ssIG51bGwsIDIpLCAndXRmOCcpO1xuICByZXR1cm4gZmlsZVBhdGg7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVIdW1hbk9wc1Rvb2xzKCk6IFRvb2xEZWZpbml0aW9uW10ge1xuICByZXR1cm4gW1xuICAgIHtcbiAgICAgIG5hbWU6ICdIdW1hbkludGVncmF0aW9uJyxcbiAgICAgIGRlc2NyaXB0aW9uOlxuICAgICAgICAnRXNjYWxhdGUgdG8gYSBodW1hbiBvcGVyYXRvciAoYnJvd3Nlci9jYXB0Y2hhL2V4dGVybmFsIGJ1aWxkL3Rlc3QvbWFudWFsIFFBKS4gQ3JlYXRlcyBhIHJvdWdoIHBsYW4gYW5kIHNhdmVzIGl0OyBvbiBsYXRlciBjYWxscywgYXBwZW5kIHVwZGF0ZXMgdG8gdGhlIHNhbWUgdGFzayBmaWxlLicsXG4gICAgICBwYXJhbWV0ZXJzOiB7XG4gICAgICAgIHR5cGU6ICdvYmplY3QnLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgdGl0bGU6IHtcbiAgICAgICAgICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246ICdTaG9ydCBsYWJlbCBmb3IgdGhlIGh1bWFuIHRhc2sgKGUuZy4sIFwiU29sdmUgbG9naW4gY2FwdGNoYVwiLCBcIlJ1biBQbGF5d3JpZ2h0IGNoZWNrb3V0IGZsb3dcIikuJyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHRhc2tQYXRoOiB7XG4gICAgICAgICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnT3B0aW9uYWwgZXhpc3RpbmcgdGFzayBmaWxlIHBhdGggdG8gYXBwZW5kIGFuIHVwZGF0ZSB0byAoY3JlYXRlZCBieSBhIHByaW9yIEh1bWFuSW50ZWdyYXRpb24gY2FsbCkuJyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHVwZGF0ZToge1xuICAgICAgICAgICAgdHlwZTogJ3N0cmluZycsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogJ1doZW4gdGFza1BhdGggaXMgcHJvdmlkZWQsIGEgc2hvcnQgdXBkYXRlIG5vdGUgZGVzY3JpYmluZyB3aGF0IGNoYW5nZWQgLyB0aGUgbmV4dCBhY3Rpb24gbmVlZGVkLicsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBlbWFpbERvbWFpbjoge1xuICAgICAgICAgICAgdHlwZTogJ3N0cmluZycsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogJ1ByZWZlcnJlZCBkb21haW4gZm9yIHByb3Zpc2lvbmluZyBlbWFpbHMgKGUuZy4sIGZhc3RtYWlsIGN1c3RvbSBkb21haW4pLicsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBjYXRjaEFsbDoge1xuICAgICAgICAgICAgdHlwZTogJ2Jvb2xlYW4nLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246ICdJZiB0cnVlLCBpbmRpY2F0ZXMgdXNpbmcgYSBjYXRjaC1hbGwgbWFpbGJveCBhdCB0aGUgZG9tYWluLicsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBkb21haW5SZWdpc3RyYXI6IHtcbiAgICAgICAgICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246ICdSZWdpc3RyYXIgb3IgRE5TIHByb3ZpZGVyIHRvIHVzZSBmb3IgZG9tYWluIHNldHVwIChpZiBuZWVkZWQpLicsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBwYXltZW50TWV0aG9kOiB7XG4gICAgICAgICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnUGF5bWVudCBtZXRob2QvY29uc3RyYWludHMgZm9yIHB1cmNoYXNlcyAoZS5nLiwgdmlydHVhbCBjYXJkLCBsaW1pdCwgYmlsbGluZyBhZGRyZXNzKS4nLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgcGhvbmVWZXJpZmljYXRpb246IHtcbiAgICAgICAgICAgIHR5cGU6ICdib29sZWFuJyxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnSWYgdHJ1ZSwgaW5kaWNhdGVzIGEgcGhvbmUvU01TIHN0ZXAgaXMgZXhwZWN0ZWQuJyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNzb1Byb3ZpZGVyczoge1xuICAgICAgICAgICAgdHlwZTogJ2FycmF5JyxcbiAgICAgICAgICAgIGl0ZW1zOiB7IHR5cGU6ICdzdHJpbmcnIH0sXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogJ1NTTyBwcm92aWRlcnMgdGhhdCBtYXkgYmUgcmVxdWlyZWQgKGUuZy4sIEdvb2dsZSwgQXBwbGUsIE1pY3Jvc29mdCkuJyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHByb3h5UG9saWN5OiB7XG4gICAgICAgICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnQW55IHByb3h5L1ZQTi9maW5nZXJwcmludCBjb25zdHJhaW50cyAoZS5nLiwgcmVnaW9uLCByZXNpZGVudGlhbCwgZGV2aWNlIHByb2ZpbGUpLicsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBjb250ZXh0OiB7XG4gICAgICAgICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnUmVsZXZhbnQgY29udGV4dCwgVVJMcywgY3JlZGVudGlhbHMgbG9jYXRpb25zLCBleHBlY3RlZCBzdGF0ZSwgb3IgaHlwb3RoZXNlcyB0byB2ZXJpZnkuJyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHVyZ2VuY3k6IHtcbiAgICAgICAgICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgICAgICAgICAgZW51bTogWydsb3cnLCAnbm9ybWFsJywgJ2hpZ2gnXSxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnSG93IHNvb24gdGhpcyBpcyBuZWVkZWQuIERlZmF1bHRzIHRvIG5vcm1hbC4nLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgbmVlZHNCcm93c2VyOiB7XG4gICAgICAgICAgICB0eXBlOiAnYm9vbGVhbicsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogJ1doZXRoZXIgdGhlIHRhc2sgcmVxdWlyZXMgaW50ZXJhY3RpdmUgYnJvd3NlciB1c2UuJyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIG5lZWRzQ2FwdGNoYToge1xuICAgICAgICAgICAgdHlwZTogJ2Jvb2xlYW4nLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246ICdXaGV0aGVyIHNvbHZpbmcgYSBDQVBUQ0hBIGlzIHJlcXVpcmVkLicsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBuZWVkc0V4dGVybmFsQnVpbGQ6IHtcbiAgICAgICAgICAgIHR5cGU6ICdib29sZWFuJyxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnV2hldGhlciB0byBidWlsZC90ZXN0IGluIGEgc2VwYXJhdGUgcnVudGltZSAoZS5nLiwgY2xlYW4gbWFjaGluZSBvciBjbG91ZCBydW5uZXIpLicsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBzdGVwczoge1xuICAgICAgICAgICAgdHlwZTogJ2FycmF5JyxcbiAgICAgICAgICAgIGl0ZW1zOiB7IHR5cGU6ICdzdHJpbmcnIH0sXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogJ1N0ZXAtYnktc3RlcCBpbnN0cnVjdGlvbnMgYSBodW1hbiBzaG91bGQgZm9sbG93LicsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBhcnRpZmFjdHM6IHtcbiAgICAgICAgICAgIHR5cGU6ICdhcnJheScsXG4gICAgICAgICAgICBpdGVtczogeyB0eXBlOiAnc3RyaW5nJyB9LFxuICAgICAgICAgICAgZGVzY3JpcHRpb246ICdBcnRpZmFjdHMgdG8gY2FwdHVyZSAoc2NyZWVuc2hvdHMsIGxvZ3MsIFVSTHMsIHJlY29yZGluZ3MpLicsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBjb250YWN0OiB7XG4gICAgICAgICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnT3B0aW9uYWwgY29udGFjdC9oYW5kLW9mZiBub3RlcyAod2hvIHRvIG5vdGlmeSwgU2xhY2sgY2hhbm5lbCwgZW1haWwpLicsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBleHBlY3RlZE91dGNvbWU6IHtcbiAgICAgICAgICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246ICdXaGF0IHN1Y2Nlc3MgbG9va3MgbGlrZSAoZS5nLiwgXCJjaGVja291dCBjb21wbGV0ZXNcIiwgXCJjYXB0Y2hhIHNvbHZlZCBhbmQgc2Vzc2lvbiBlc3RhYmxpc2hlZFwiKS4nLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIHJlcXVpcmVkOiBbJ3RpdGxlJ10sXG4gICAgICAgIGFkZGl0aW9uYWxQcm9wZXJ0aWVzOiBmYWxzZSxcbiAgICAgIH0sXG4gICAgICBoYW5kbGVyOiBhc3luYyAoYXJncykgPT4ge1xuICAgICAgICBjb25zdCB0aXRsZSA9IHR5cGVvZiBhcmdzWyd0aXRsZSddID09PSAnc3RyaW5nJyA/IGFyZ3NbJ3RpdGxlJ10udHJpbSgpIDogJyc7XG4gICAgICAgIGNvbnN0IHRhc2tQYXRoQXJnID0gdHlwZW9mIGFyZ3NbJ3Rhc2tQYXRoJ10gPT09ICdzdHJpbmcnID8gYXJnc1sndGFza1BhdGgnXS50cmltKCkgOiAnJztcbiAgICAgICAgY29uc3QgdXBkYXRlTm90ZSA9IHR5cGVvZiBhcmdzWyd1cGRhdGUnXSA9PT0gJ3N0cmluZycgPyBhcmdzWyd1cGRhdGUnXS50cmltKCkgOiAnJztcblxuICAgICAgICAvLyBVcGRhdGUgZXhpc3RpbmcgdGFzayBmaWxlIGlmIHByb3ZpZGVkXG4gICAgICAgIGlmICh0YXNrUGF0aEFyZykge1xuICAgICAgICAgIGlmICghdXBkYXRlTm90ZSkge1xuICAgICAgICAgICAgcmV0dXJuICdFcnJvcjogd2hlbiB0YXNrUGF0aCBpcyBwcm92aWRlZCwgdXBkYXRlIGlzIHJlcXVpcmVkIHRvIGFwcGVuZCBhIHN0YXR1cy4nO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBwYXRoID0gcmVzb2x2ZSh0YXNrUGF0aEFyZyk7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZCA9IEpTT04ucGFyc2UocmVhZEZpbGVTeW5jKHBhdGgsICd1dGY4JykpIGFzIEh1bWFuVGFzaztcbiAgICAgICAgICAgIHBhcnNlZC51cGRhdGVzID0gcGFyc2VkLnVwZGF0ZXMgPz8gW107XG4gICAgICAgICAgICBwYXJzZWQudXBkYXRlcy5wdXNoKHsgYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSwgbm90ZTogdXBkYXRlTm90ZSB9KTtcbiAgICAgICAgICAgIHBhcnNlZC5zdGF0dXMgPSBwYXJzZWQuc3RhdHVzID8/ICdpbi1wcm9ncmVzcyc7XG4gICAgICAgICAgICB3cml0ZUZpbGVTeW5jKHBhdGgsIEpTT04uc3RyaW5naWZ5KHBhcnNlZCwgbnVsbCwgMiksICd1dGY4Jyk7XG4gICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICBgVXBkYXRlIGFwcGVuZGVkIHRvIGh1bWFuIHRhc2s6ICR7cGFyc2VkLnRpdGxlfWAsXG4gICAgICAgICAgICAgIGBTdGF0dXM6ICR7cGFyc2VkLnN0YXR1c31gLFxuICAgICAgICAgICAgICBgVXBkYXRlcyBub3c6ICR7cGFyc2VkLnVwZGF0ZXMubGVuZ3RofWAsXG4gICAgICAgICAgICAgIGBTYXZlZCBhdDogJHtwYXRofWAsXG4gICAgICAgICAgICBdLmpvaW4oJ1xcbicpO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gYEVycm9yOiBjb3VsZCBub3QgdXBkYXRlIHRhc2sgYXQgJHtwYXRofTogJHsoZXJyb3IgYXMgRXJyb3IpPy5tZXNzYWdlID8/IFN0cmluZyhlcnJvcil9YDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRpdGxlKSB7XG4gICAgICAgICAgcmV0dXJuICdFcnJvcjogdGl0bGUgaXMgcmVxdWlyZWQnO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdXJnZW5jeTogVXJnZW5jeSA9XG4gICAgICAgICAgYXJnc1sndXJnZW5jeSddID09PSAnaGlnaCcgfHwgYXJnc1sndXJnZW5jeSddID09PSAnbG93JyA/IGFyZ3NbJ3VyZ2VuY3knXSA6ICdub3JtYWwnO1xuICAgICAgICBjb25zdCBuZWVkc0Jyb3dzZXIgPSBhcmdzWyduZWVkc0Jyb3dzZXInXSA9PT0gdHJ1ZTtcbiAgICAgICAgY29uc3QgbmVlZHNDYXB0Y2hhID0gYXJnc1snbmVlZHNDYXB0Y2hhJ10gPT09IHRydWU7XG4gICAgICAgIGNvbnN0IG5lZWRzRXh0ZXJuYWxCdWlsZCA9IGFyZ3NbJ25lZWRzRXh0ZXJuYWxCdWlsZCddID09PSB0cnVlO1xuICAgICAgICBjb25zdCBlbWFpbERvbWFpbiA9IHR5cGVvZiBhcmdzWydlbWFpbERvbWFpbiddID09PSAnc3RyaW5nJyA/IGFyZ3NbJ2VtYWlsRG9tYWluJ10udHJpbSgpIDogdW5kZWZpbmVkO1xuICAgICAgICBjb25zdCBjYXRjaEFsbCA9IGFyZ3NbJ2NhdGNoQWxsJ10gPT09IHRydWU7XG4gICAgICAgIGNvbnN0IGRvbWFpblJlZ2lzdHJhciA9XG4gICAgICAgICAgdHlwZW9mIGFyZ3NbJ2RvbWFpblJlZ2lzdHJhciddID09PSAnc3RyaW5nJyAmJiBhcmdzWydkb21haW5SZWdpc3RyYXInXS50cmltKClcbiAgICAgICAgICAgID8gYXJnc1snZG9tYWluUmVnaXN0cmFyJ10udHJpbSgpXG4gICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgY29uc3QgcGF5bWVudE1ldGhvZCA9XG4gICAgICAgICAgdHlwZW9mIGFyZ3NbJ3BheW1lbnRNZXRob2QnXSA9PT0gJ3N0cmluZycgJiYgYXJnc1sncGF5bWVudE1ldGhvZCddLnRyaW0oKVxuICAgICAgICAgICAgPyBhcmdzWydwYXltZW50TWV0aG9kJ10udHJpbSgpXG4gICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgY29uc3QgcGhvbmVWZXJpZmljYXRpb24gPSBhcmdzWydwaG9uZVZlcmlmaWNhdGlvbiddID09PSB0cnVlO1xuICAgICAgICBjb25zdCBwcm94eVBvbGljeSA9XG4gICAgICAgICAgdHlwZW9mIGFyZ3NbJ3Byb3h5UG9saWN5J10gPT09ICdzdHJpbmcnICYmIGFyZ3NbJ3Byb3h5UG9saWN5J10udHJpbSgpXG4gICAgICAgICAgICA/IGFyZ3NbJ3Byb3h5UG9saWN5J10udHJpbSgpXG4gICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgY29uc3Qgc3NvUHJvdmlkZXJzID0gQXJyYXkuaXNBcnJheShhcmdzWydzc29Qcm92aWRlcnMnXSlcbiAgICAgICAgICA/IGFyZ3NbJ3Nzb1Byb3ZpZGVycyddXG4gICAgICAgICAgICAgIC5maWx0ZXIoKHMpOiBzIGlzIHN0cmluZyA9PiB0eXBlb2YgcyA9PT0gJ3N0cmluZycgJiYgQm9vbGVhbihzLnRyaW0oKSkpXG4gICAgICAgICAgICAgIC5tYXAoKHMpID0+IHMudHJpbSgpKVxuICAgICAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgICAgIGNvbnN0IHN0ZXBzID0gQXJyYXkuaXNBcnJheShhcmdzWydzdGVwcyddKVxuICAgICAgICAgID8gYXJnc1snc3RlcHMnXVxuICAgICAgICAgICAgICAuZmlsdGVyKChzKTogcyBpcyBzdHJpbmcgPT4gdHlwZW9mIHMgPT09ICdzdHJpbmcnICYmIEJvb2xlYW4ocy50cmltKCkpKVxuICAgICAgICAgICAgICAubWFwKChzKSA9PiBzLnRyaW0oKSlcbiAgICAgICAgICA6IFtdO1xuICAgICAgICBjb25zdCBhcnRpZmFjdHMgPSBBcnJheS5pc0FycmF5KGFyZ3NbJ2FydGlmYWN0cyddKVxuICAgICAgICAgID8gYXJnc1snYXJ0aWZhY3RzJ11cbiAgICAgICAgICAgICAgLmZpbHRlcigocyk6IHMgaXMgc3RyaW5nID0+IHR5cGVvZiBzID09PSAnc3RyaW5nJyAmJiBCb29sZWFuKHMudHJpbSgpKSlcbiAgICAgICAgICAgICAgLm1hcCgocykgPT4gcy50cmltKCkpXG4gICAgICAgICAgOiBbXTtcblxuICAgICAgICBjb25zdCB0YXNrOiBIdW1hblRhc2sgPSB7XG4gICAgICAgICAgdGl0bGUsXG4gICAgICAgICAgY29udGV4dDogdHlwZW9mIGFyZ3NbJ2NvbnRleHQnXSA9PT0gJ3N0cmluZycgPyBhcmdzWydjb250ZXh0J10gOiB1bmRlZmluZWQsXG4gICAgICAgICAgdXJnZW5jeSxcbiAgICAgICAgICBuZWVkc0Jyb3dzZXIsXG4gICAgICAgICAgbmVlZHNDYXB0Y2hhLFxuICAgICAgICAgIG5lZWRzRXh0ZXJuYWxCdWlsZCxcbiAgICAgICAgICBlbWFpbERvbWFpbixcbiAgICAgICAgICBjYXRjaEFsbCxcbiAgICAgICAgICBkb21haW5SZWdpc3RyYXIsXG4gICAgICAgICAgcGF5bWVudE1ldGhvZCxcbiAgICAgICAgICBwaG9uZVZlcmlmaWNhdGlvbixcbiAgICAgICAgICBzc29Qcm92aWRlcnMsXG4gICAgICAgICAgcHJveHlQb2xpY3ksXG4gICAgICAgICAgc3RlcHMsXG4gICAgICAgICAgYXJ0aWZhY3RzLFxuICAgICAgICAgIGNvbnRhY3Q6IHR5cGVvZiBhcmdzWydjb250YWN0J10gPT09ICdzdHJpbmcnID8gYXJnc1snY29udGFjdCddIDogdW5kZWZpbmVkLFxuICAgICAgICAgIGV4cGVjdGVkT3V0Y29tZTogdHlwZW9mIGFyZ3NbJ2V4cGVjdGVkT3V0Y29tZSddID09PSAnc3RyaW5nJyA/IGFyZ3NbJ2V4cGVjdGVkT3V0Y29tZSddIDogdW5kZWZpbmVkLFxuICAgICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgIHN0YXR1czogJ2RyYWZ0JyxcbiAgICAgICAgICB1cGRhdGVzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgIG5vdGU6ICdJbml0aWFsIHJvdWdoIHBsYW4gY3JlYXRlZC4gQXBwZW5kIHVwZGF0ZXMgd2l0aCB0YXNrUGF0aCArIHVwZGF0ZSBvbiBlYWNoIHRvb2wgdXNlLicsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgcGF0aCA9IHdyaXRlVGFza0ZpbGUodGFzayk7XG4gICAgICAgIGNvbnN0IHN1bW1hcnlMaW5lcyA9IFtcbiAgICAgICAgICBgSHVtYW4gdGFzayByZWNvcmRlZCAoZHJhZnQpOiAke3RpdGxlfWAsXG4gICAgICAgICAgYFVyZ2VuY3k6ICR7dXJnZW5jeX1gLFxuICAgICAgICAgIG5lZWRzQnJvd3NlciA/ICdSZXF1aXJlcyBicm93c2VyIHVzZScgOiAnTm8gYnJvd3NlciByZXF1aXJlZCcsXG4gICAgICAgICAgbmVlZHNDYXB0Y2hhID8gJ1JlcXVpcmVzIGNhcHRjaGEnIDogJ05vIGNhcHRjaGEgZXhwZWN0ZWQnLFxuICAgICAgICAgIG5lZWRzRXh0ZXJuYWxCdWlsZCA/ICdSZXF1aXJlcyBleHRlcm5hbC9jbGVhbiBidWlsZCBydW50aW1lJyA6ICdObyBleHRlcm5hbCBidWlsZCByZXF1aXJlZCcsXG4gICAgICAgICAgZW1haWxEb21haW4gPyBgRW1haWwgZG9tYWluOiAke2VtYWlsRG9tYWlufSR7Y2F0Y2hBbGwgPyAnIChjYXRjaC1hbGwpJyA6ICcnfWAgOiAnRW1haWwgZG9tYWluOiBub3Qgc3BlY2lmaWVkJyxcbiAgICAgICAgICBkb21haW5SZWdpc3RyYXIgPyBgUmVnaXN0cmFyL0ROUzogJHtkb21haW5SZWdpc3RyYXJ9YCA6ICdSZWdpc3RyYXIvRE5TOiBub3Qgc3BlY2lmaWVkJyxcbiAgICAgICAgICBwYXltZW50TWV0aG9kID8gYFBheW1lbnQ6ICR7cGF5bWVudE1ldGhvZH1gIDogJ1BheW1lbnQ6IG5vdCBzcGVjaWZpZWQnLFxuICAgICAgICAgIHBob25lVmVyaWZpY2F0aW9uID8gJ1Bob25lL1NNUyB2ZXJpZmljYXRpb24gZXhwZWN0ZWQnIDogJ1Bob25lIHZlcmlmaWNhdGlvbiBub3QgZXhwZWN0ZWQnLFxuICAgICAgICAgIHNzb1Byb3ZpZGVycz8ubGVuZ3RoID8gYFNTTzogJHtzc29Qcm92aWRlcnMuam9pbignLCAnKX1gIDogJ1NTTzogbm90IHNwZWNpZmllZCcsXG4gICAgICAgICAgcHJveHlQb2xpY3kgPyBgUHJveHkvZmluZ2VycHJpbnQ6ICR7cHJveHlQb2xpY3l9YCA6ICdQcm94eS9maW5nZXJwcmludDogbm90IHNwZWNpZmllZCcsXG4gICAgICAgICAgc3RlcHMubGVuZ3RoID8gYFN0ZXBzIChyb3VnaCBwbGFuKTogJHtzdGVwcy5qb2luKCcgfCAnKX1gIDogJ1N0ZXBzOiAocHJvdmlkZSBpbnRlcmFjdGl2ZWx5IC8gcm91Z2ggcGxhbiBvbmx5KScsXG4gICAgICAgICAgYXJ0aWZhY3RzLmxlbmd0aCA/IGBBcnRpZmFjdHMgdG8gY2FwdHVyZTogJHthcnRpZmFjdHMuam9pbignLCAnKX1gIDogJ0FydGlmYWN0czogb3B0aW9uYWwnLFxuICAgICAgICAgICdOZXh0OiBjYWxsIEh1bWFuSW50ZWdyYXRpb24gYWdhaW4gd2l0aCB0YXNrUGF0aCArIHVwZGF0ZSBhZnRlciBlYWNoIHRvb2wgdXNlIHRvIGtlZXAgdGhlIHBsYW4gY3VycmVudC4nLFxuICAgICAgICAgIGBTYXZlZCBhdDogJHtwYXRofWAsXG4gICAgICAgIF07XG5cbiAgICAgICAgcmV0dXJuIHN1bW1hcnlMaW5lcy5qb2luKCdcXG4nKTtcbiAgICAgIH0sXG4gICAgfSxcbiAgXTtcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsT0FBQSxHQUFBQyxPQUFBO0FBQ0EsSUFBQUMsU0FBQSxHQUFBRCxPQUFBO0FBNEJBLFNBQVNFLFlBQVlBLENBQUNDLEtBQWEsRUFBVTtFQUMzQyxPQUFPQSxLQUFLLENBQ1RDLFdBQVcsQ0FBQyxDQUFDLENBQ2JDLE9BQU8sQ0FBQyxhQUFhLEVBQUUsR0FBRyxDQUFDLENBQzNCQSxPQUFPLENBQUMsVUFBVSxFQUFFLEVBQUUsQ0FBQyxDQUN2QkMsS0FBSyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsSUFBSSxNQUFNO0FBQzNCO0FBRUEsU0FBU0Msa0JBQWtCQSxDQUFBLEVBQVc7RUFDcEMsTUFBTUMsSUFBSSxHQUFHQyxPQUFPLENBQUNDLEdBQUcsQ0FBQyxvQkFBb0IsQ0FBQztFQUM5QyxJQUFJRixJQUFJLElBQUlBLElBQUksQ0FBQ0csSUFBSSxDQUFDLENBQUMsRUFBRTtJQUN2QixPQUFPLElBQUFDLGlCQUFPLEVBQUNKLElBQUksQ0FBQ0csSUFB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