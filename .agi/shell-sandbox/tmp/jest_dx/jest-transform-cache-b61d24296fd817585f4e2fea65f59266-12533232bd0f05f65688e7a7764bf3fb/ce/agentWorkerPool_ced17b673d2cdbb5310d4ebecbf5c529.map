{"version":3,"names":["cov_2xv5vya7k","actualCoverage","AgentWorker","controller","s","activeTasks","_completedTasks","_failedTasks","_status","constructor","config","f","id","createController","maxConcurrency","b","priority","tags","Set","status","completedTasks","failedTasks","currentLoad","isAvailable","hasTags","requiredTags","every","tag","has","initialize","error","execute","task","Error","result","streaming","onEvent","event","send","message","type","content","transform","getInfo","Array","from","AgentWorkerPool","workers","Map","taskQueue","roundRobinIndex","totalTaskDuration","completedTaskCount","processing","balanceStrategy","defaultTimeout","maxQueueSize","workerConfig","worker","set","initPromises","values","map","emit","workerId","timestamp","Date","now","data","String","Promise","allSettled","submit","length","resolve","reject","push","queuedAt","taskId","queueLength","processQueue","submitAll","tasks","promises","all","submitStream","pending","race","p","i","then","r","index","splice","selectWorker","sleep","item","shift","executeTask","startedAt","queueWaitMs","timeout","_","rej","setTimeout","completedAt","durationMs","success","err","available","getAvailableWorkers","preferredWorker","preferred","find","w","idx","Math","floor","random","sort","a","filter","getWorkerInfo","getStats","workerInfos","activeWorkers","reduce","sum","totalWorkers","idleWorkers","queuedTasks","averageTaskDurationMs","cancelAll","cancelled","ms","createAgentWorkerPool","createAgentTask","options"],"sources":["agentWorkerPool.ts"],"sourcesContent":["/**\n * Agent Worker Pool Module\n *\n * Provides multi-agent parallelism with automatic load balancing,\n * work distribution, and result aggregation for AGI workflows.\n *\n * Principal Investigator: Bo Shang\n * Framework: agi-cli\n */\n\nimport type { AgentController } from './agentController.js';\nimport type { AgentEventUnion } from '../contracts/v1/agent.js';\n\n// ============================================================================\n// Types\n// ============================================================================\n\nexport type WorkerStatus = 'idle' | 'busy' | 'error' | 'offline';\nexport type BalanceStrategy = 'round-robin' | 'least-busy' | 'random' | 'priority';\n\nexport interface AgentWorkerConfig {\n  /** Unique worker identifier */\n  id: string;\n  /** Agent controller factory or instance */\n  createController: () => Promise<AgentController> | AgentController;\n  /** Maximum concurrent tasks this worker can handle (default: 1) */\n  maxConcurrency?: number;\n  /** Priority for task assignment (higher = preferred) */\n  priority?: number;\n  /** Tags for routing specific task types */\n  tags?: string[];\n}\n\nexport interface AgentTask<T = string> {\n  /** Unique task identifier */\n  id: string;\n  /** The message/prompt to send to the agent */\n  message: string;\n  /** Optional transformer for the result */\n  transform?: (result: string) => T;\n  /** Required worker tags (task routed to workers with all these tags) */\n  requiredTags?: string[];\n  /** Preferred worker ID (soft preference) */\n  preferredWorker?: string;\n  /** Task priority (higher = processed first) */\n  priority?: number;\n  /** Timeout in milliseconds */\n  timeout?: number;\n  /** Whether to stream events */\n  streaming?: boolean;\n  /** Callback for streaming events */\n  onEvent?: (event: AgentEventUnion) => void;\n}\n\nexport interface TaskResult<T = string> {\n  taskId: string;\n  workerId: string;\n  success: boolean;\n  result?: T;\n  error?: Error;\n  durationMs: number;\n  startedAt: number;\n  completedAt: number;\n}\n\nexport interface AgentWorkerPoolConfig {\n  /** Worker configurations */\n  workers: AgentWorkerConfig[];\n  /** Load balancing strategy (default: 'least-busy') */\n  balanceStrategy?: BalanceStrategy;\n  /** Default task timeout in ms (default: 60000) */\n  defaultTimeout?: number;\n  /** Maximum queue size before rejecting tasks (default: 100) */\n  maxQueueSize?: number;\n  /** Callback for pool events */\n  onEvent?: (event: PoolEvent) => void;\n}\n\nexport interface PoolEvent {\n  type: 'worker.ready' | 'worker.busy' | 'worker.idle' | 'worker.error' |\n        'task.queued' | 'task.started' | 'task.completed' | 'task.failed' |\n        'pool.saturated' | 'pool.drained';\n  timestamp: number;\n  workerId?: string;\n  taskId?: string;\n  data?: Record<string, unknown>;\n}\n\nexport interface WorkerInfo {\n  id: string;\n  status: WorkerStatus;\n  activeTasks: number;\n  completedTasks: number;\n  failedTasks: number;\n  tags: string[];\n  priority: number;\n}\n\nexport interface PoolStats {\n  totalWorkers: number;\n  activeWorkers: number;\n  idleWorkers: number;\n  queuedTasks: number;\n  activeTasks: number;\n  completedTasks: number;\n  failedTasks: number;\n  averageTaskDurationMs: number;\n}\n\n// ============================================================================\n// Agent Worker\n// ============================================================================\n\nclass AgentWorker {\n  readonly id: string;\n  readonly maxConcurrency: number;\n  readonly priority: number;\n  readonly tags: Set<string>;\n\n  private controller: AgentController | null = null;\n  private readonly createController: () => Promise<AgentController> | AgentController;\n  private activeTasks = 0;\n  private _completedTasks = 0;\n  private _failedTasks = 0;\n  private _status: WorkerStatus = 'idle';\n\n  constructor(config: AgentWorkerConfig) {\n    this.id = config.id;\n    this.createController = config.createController;\n    this.maxConcurrency = config.maxConcurrency ?? 1;\n    this.priority = config.priority ?? 0;\n    this.tags = new Set(config.tags ?? []);\n  }\n\n  get status(): WorkerStatus {\n    return this._status;\n  }\n\n  get completedTasks(): number {\n    return this._completedTasks;\n  }\n\n  get failedTasks(): number {\n    return this._failedTasks;\n  }\n\n  get currentLoad(): number {\n    return this.activeTasks;\n  }\n\n  get isAvailable(): boolean {\n    return this._status !== 'offline' && this._status !== 'error' && this.activeTasks < this.maxConcurrency;\n  }\n\n  hasTags(requiredTags: string[]): boolean {\n    return requiredTags.every(tag => this.tags.has(tag));\n  }\n\n  async initialize(): Promise<void> {\n    if (this.controller) return;\n    try {\n      this.controller = await this.createController();\n      this._status = 'idle';\n    } catch (error) {\n      this._status = 'error';\n      throw error;\n    }\n  }\n\n  async execute<T>(task: AgentTask<T>): Promise<T> {\n    if (!this.controller) {\n      await this.initialize();\n    }\n    if (!this.controller) {\n      throw new Error(`Worker ${this.id} failed to initialize`);\n    }\n\n    this.activeTasks++;\n    this._status = this.activeTasks >= this.maxConcurrency ? 'busy' : 'idle';\n\n    try {\n      let result = '';\n\n      if (task.streaming && task.onEvent) {\n        // Streaming mode: collect events and final result\n        for await (const event of this.controller.send(task.message)) {\n          task.onEvent(event);\n          if (event.type === 'message.complete') {\n            result = event.content;\n          } else if (event.type === 'message.delta') {\n            result += event.content;\n          }\n        }\n      } else {\n        // Non-streaming: collect complete response\n        for await (const event of this.controller.send(task.message)) {\n          if (event.type === 'message.complete') {\n            result = event.content;\n          } else if (event.type === 'message.delta') {\n            result += event.content;\n          }\n        }\n      }\n\n      this._completedTasks++;\n      return task.transform ? task.transform(result) : (result as unknown as T);\n    } catch (error) {\n      this._failedTasks++;\n      throw error;\n    } finally {\n      this.activeTasks--;\n      this._status = this.activeTasks > 0 ? 'busy' : 'idle';\n    }\n  }\n\n  getInfo(): WorkerInfo {\n    return {\n      id: this.id,\n      status: this._status,\n      activeTasks: this.activeTasks,\n      completedTasks: this._completedTasks,\n      failedTasks: this._failedTasks,\n      tags: Array.from(this.tags),\n      priority: this.priority,\n    };\n  }\n}\n\n// ============================================================================\n// Agent Worker Pool\n// ============================================================================\n\nexport class AgentWorkerPool {\n  private readonly workers = new Map<string, AgentWorker>();\n  private readonly taskQueue: Array<{\n    task: AgentTask;\n    resolve: (result: TaskResult) => void;\n    reject: (error: Error) => void;\n    queuedAt: number;\n  }> = [];\n  private readonly balanceStrategy: BalanceStrategy;\n  private readonly defaultTimeout: number;\n  private readonly maxQueueSize: number;\n  private readonly onEvent: (event: PoolEvent) => void;\n  private roundRobinIndex = 0;\n  private totalTaskDuration = 0;\n  private completedTaskCount = 0;\n  private processing = false;\n\n  constructor(config: AgentWorkerPoolConfig) {\n    this.balanceStrategy = config.balanceStrategy ?? 'least-busy';\n    this.defaultTimeout = config.defaultTimeout ?? 60000;\n    this.maxQueueSize = config.maxQueueSize ?? 100;\n    this.onEvent = config.onEvent ?? (() => {});\n\n    for (const workerConfig of config.workers) {\n      const worker = new AgentWorker(workerConfig);\n      this.workers.set(worker.id, worker);\n    }\n  }\n\n  /**\n   * Initialize all workers\n   */\n  async initialize(): Promise<void> {\n    const initPromises = Array.from(this.workers.values()).map(async (worker) => {\n      try {\n        await worker.initialize();\n        this.emit({ type: 'worker.ready', workerId: worker.id, timestamp: Date.now() });\n      } catch (error) {\n        this.emit({\n          type: 'worker.error',\n          workerId: worker.id,\n          timestamp: Date.now(),\n          data: { error: error instanceof Error ? error.message : String(error) },\n        });\n      }\n    });\n\n    await Promise.allSettled(initPromises);\n  }\n\n  /**\n   * Submit a task to the pool\n   */\n  async submit<T>(task: AgentTask<T>): Promise<TaskResult<T>> {\n    if (this.taskQueue.length >= this.maxQueueSize) {\n      throw new Error('Task queue is full');\n    }\n\n    return new Promise((resolve, reject) => {\n      this.taskQueue.push({\n        task: task as AgentTask,\n        resolve: resolve as (result: TaskResult) => void,\n        reject,\n        queuedAt: Date.now(),\n      });\n\n      this.emit({\n        type: 'task.queued',\n        taskId: task.id,\n        timestamp: Date.now(),\n        data: { queueLength: this.taskQueue.length },\n      });\n\n      if (this.taskQueue.length >= this.maxQueueSize) {\n        this.emit({ type: 'pool.saturated', timestamp: Date.now() });\n      }\n\n      // Trigger processing\n      this.processQueue();\n    });\n  }\n\n  /**\n   * Submit multiple tasks and wait for all results\n   */\n  async submitAll<T>(tasks: AgentTask<T>[]): Promise<TaskResult<T>[]> {\n    const promises = tasks.map(task => this.submit(task));\n    return Promise.all(promises);\n  }\n\n  /**\n   * Submit multiple tasks and process results as they complete\n   */\n  async *submitStream<T>(tasks: AgentTask<T>[]): AsyncGenerator<TaskResult<T>> {\n    const pending = tasks.map(task => this.submit(task));\n\n    while (pending.length > 0) {\n      const result = await Promise.race(\n        pending.map((p, i) => p.then(r => ({ result: r, index: i })))\n      );\n      pending.splice(result.index, 1);\n      yield result.result;\n    }\n  }\n\n  /**\n   * Process queued tasks\n   */\n  private async processQueue(): Promise<void> {\n    if (this.processing) return;\n    this.processing = true;\n\n    try {\n      while (this.taskQueue.length > 0) {\n        const worker = this.selectWorker(this.taskQueue[0]?.task);\n        if (!worker) {\n          // No available workers, wait and retry\n          await this.sleep(50);\n          continue;\n        }\n\n        const item = this.taskQueue.shift();\n        if (!item) break;\n\n        // Execute task asynchronously (don't await)\n        this.executeTask(worker, item.task, item.resolve, item.reject, item.queuedAt);\n      }\n\n      if (this.taskQueue.length === 0) {\n        this.emit({ type: 'pool.drained', timestamp: Date.now() });\n      }\n    } finally {\n      this.processing = false;\n    }\n  }\n\n  /**\n   * Execute a task on a worker\n   */\n  private async executeTask<T>(\n    worker: AgentWorker,\n    task: AgentTask<T>,\n    resolve: (result: TaskResult<T>) => void,\n    reject: (error: Error) => void,\n    queuedAt: number\n  ): Promise<void> {\n    const startedAt = Date.now();\n\n    this.emit({\n      type: 'task.started',\n      taskId: task.id,\n      workerId: worker.id,\n      timestamp: startedAt,\n      data: { queueWaitMs: startedAt - queuedAt },\n    });\n\n    this.emit({ type: 'worker.busy', workerId: worker.id, timestamp: startedAt });\n\n    try {\n      const timeout = task.timeout ?? this.defaultTimeout;\n      const result = await Promise.race([\n        worker.execute(task),\n        new Promise<never>((_, rej) =>\n          setTimeout(() => rej(new Error(`Task ${task.id} timed out after ${timeout}ms`)), timeout)\n        ),\n      ]);\n\n      const completedAt = Date.now();\n      const durationMs = completedAt - startedAt;\n      this.totalTaskDuration += durationMs;\n      this.completedTaskCount++;\n\n      this.emit({\n        type: 'task.completed',\n        taskId: task.id,\n        workerId: worker.id,\n        timestamp: completedAt,\n        data: { durationMs },\n      });\n\n      resolve({\n        taskId: task.id,\n        workerId: worker.id,\n        success: true,\n        result,\n        durationMs,\n        startedAt,\n        completedAt,\n      });\n    } catch (error) {\n      const completedAt = Date.now();\n      const err = error instanceof Error ? error : new Error(String(error));\n\n      this.emit({\n        type: 'task.failed',\n        taskId: task.id,\n        workerId: worker.id,\n        timestamp: completedAt,\n        data: { error: err.message },\n      });\n\n      resolve({\n        taskId: task.id,\n        workerId: worker.id,\n        success: false,\n        error: err,\n        durationMs: completedAt - startedAt,\n        startedAt,\n        completedAt,\n      });\n    } finally {\n      if (worker.isAvailable) {\n        this.emit({ type: 'worker.idle', workerId: worker.id, timestamp: Date.now() });\n      }\n\n      // Continue processing queue\n      this.processQueue();\n    }\n  }\n\n  /**\n   * Select a worker based on the balancing strategy\n   */\n  private selectWorker(task?: AgentTask): AgentWorker | null {\n    const available = this.getAvailableWorkers(task);\n    if (available.length === 0) return null;\n\n    // Check for preferred worker\n    if (task?.preferredWorker) {\n      const preferred = available.find(w => w.id === task.preferredWorker);\n      if (preferred) return preferred;\n    }\n\n    switch (this.balanceStrategy) {\n      case 'round-robin': {\n        const worker = available[this.roundRobinIndex % available.length]!;\n        this.roundRobinIndex++;\n        return worker;\n      }\n      case 'random': {\n        const idx = Math.floor(Math.random() * available.length);\n        return available[idx]!;\n      }\n      case 'priority': {\n        // Sort by priority (descending) then by load (ascending)\n        available.sort((a, b) => {\n          if (b.priority !== a.priority) return b.priority - a.priority;\n          return a.currentLoad - b.currentLoad;\n        });\n        return available[0]!;\n      }\n      case 'least-busy':\n      default: {\n        // Sort by current load (ascending)\n        available.sort((a, b) => a.currentLoad - b.currentLoad);\n        return available[0]!;\n      }\n    }\n  }\n\n  /**\n   * Get available workers filtered by task requirements\n   */\n  private getAvailableWorkers(task?: AgentTask): AgentWorker[] {\n    const workers = Array.from(this.workers.values()).filter(w => w.isAvailable);\n\n    if (task?.requiredTags && task.requiredTags.length > 0) {\n      return workers.filter(w => w.hasTags(task.requiredTags!));\n    }\n\n    return workers;\n  }\n\n  /**\n   * Get information about all workers\n   */\n  getWorkerInfo(): WorkerInfo[] {\n    return Array.from(this.workers.values()).map(w => w.getInfo());\n  }\n\n  /**\n   * Get pool statistics\n   */\n  getStats(): PoolStats {\n    const workerInfos = this.getWorkerInfo();\n    const activeWorkers = workerInfos.filter(w => w.status === 'busy').length;\n    const activeTasks = workerInfos.reduce((sum, w) => sum + w.activeTasks, 0);\n    const completedTasks = workerInfos.reduce((sum, w) => sum + w.completedTasks, 0);\n    const failedTasks = workerInfos.reduce((sum, w) => sum + w.failedTasks, 0);\n\n    return {\n      totalWorkers: workerInfos.length,\n      activeWorkers,\n      idleWorkers: workerInfos.length - activeWorkers,\n      queuedTasks: this.taskQueue.length,\n      activeTasks,\n      completedTasks,\n      failedTasks,\n      averageTaskDurationMs: this.completedTaskCount > 0\n        ? this.totalTaskDuration / this.completedTaskCount\n        : 0,\n    };\n  }\n\n  /**\n   * Cancel all queued tasks\n   */\n  cancelAll(): number {\n    const cancelled = this.taskQueue.length;\n    while (this.taskQueue.length > 0) {\n      const item = this.taskQueue.shift();\n      if (item) {\n        item.reject(new Error('Task cancelled'));\n      }\n    }\n    return cancelled;\n  }\n\n  private emit(event: PoolEvent): void {\n    try {\n      this.onEvent(event);\n    } catch {\n      // Ignore callback errors\n    }\n  }\n\n  private sleep(ms: number): Promise<void> {\n    return new Promise(resolve => setTimeout(resolve, ms));\n  }\n}\n\n// ============================================================================\n// Convenience Functions\n// ============================================================================\n\n/**\n * Create an agent worker pool with the given configuration\n */\nexport function createAgentWorkerPool(config: AgentWorkerPoolConfig): AgentWorkerPool {\n  return new AgentWorkerPool(config);\n}\n\n/**\n * Create a simple agent task\n */\nexport function createAgentTask<T = string>(\n  id: string,\n  message: string,\n  options?: Partial<Omit<AgentTask<T>, 'id' | 'message'>>\n): AgentTask<T> {\n  return {\n    id,\n    message,\n    ...options,\n  };\n}\n\n// ============================================================================\n// Exports\n// ============================================================================\n\nexport default {\n  AgentWorkerPool,\n  createAgentWorkerPool,\n  createAgentTask,\n};\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}