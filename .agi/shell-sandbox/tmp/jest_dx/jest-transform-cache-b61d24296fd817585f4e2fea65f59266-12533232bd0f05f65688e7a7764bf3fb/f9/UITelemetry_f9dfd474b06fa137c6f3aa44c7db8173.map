{"version":3,"names":["cov_1pe3g5151l","actualCoverage","EventEmitter","performance","UITelemetry","events","s","metrics","interactions","renderMetrics","errors","marks","Map","measures","flushTimer","frameCounter","frames","dropped","lastFrame","now","constructor","config","b","f","enabled","bufferSize","flushInterval","captureStackTraces","anonymize","performanceThresholds","renderTime","responseTime","framerate","memory","sessionStart","Date","startCollection","setInterval","flush","recordMemoryUsage","emit","recordEvent","type","eventMetadata","event","timestamp","metadata","anonymizeData","push","trimBuffer","markStart","name","set","markEnd","_metadata","start","get","console","warn","duration","delete","has","metric","value","unit","checkPerformanceThreshold","recordInteraction","target","complete","cancel","interaction","completed","checkResponseTimeThreshold","recordRender","component","timeSinceLastFrame","frameCount","threshold","recordError","error","context","errorRecord","message","String","stack","undefined","usage","process","memoryUsage","heapUsed","includes","bufferName","buffer","Array","isArray","length","toRemove","splice","data","anonymized","sensitiveFields","field","key","getSnapshot","period","end","eventsByType","renderTimes","map","m","avgRenderTime","reduce","a","responseTimes","filter","i","avgResponseTime","completedInteractions","cancelledInteractions","errorsByType","total","byType","cpuUsage","cancelled","getPerformanceSummary","summary","durations","avg","min","Math","max","count","allOperations","slowestOperations","sort","slice","snapshot","cutoff","e","setEnabled","stop","updateConfig","wasEnabled","reset","clear","clearInterval","dispose","removeAllListeners"],"sources":["UITelemetry.ts"],"sourcesContent":["/**\n * UITelemetry - Collects and tracks UI performance metrics and user interactions\n * Provides insights into UI responsiveness, user behavior, and system performance\n */\n\nimport { EventEmitter } from 'events';\nimport { performance } from 'perf_hooks';\n\nexport interface UIEvent {\n  type: string;\n  timestamp: number;\n  duration?: number;\n  metadata?: any;\n}\n\nexport interface PerformanceMetric {\n  name: string;\n  value: number;\n  unit: string;\n  timestamp: number;\n}\n\nexport interface UserInteraction {\n  type: 'command' | 'keypress' | 'menu-selection' | 'cancel' | 'confirm';\n  target?: string;\n  timestamp: number;\n  responseTime?: number;\n  completed: boolean;\n}\n\nexport interface RenderMetric {\n  component: string;\n  renderTime: number;\n  frameCount: number;\n  dropped: number;\n  timestamp: number;\n}\n\nexport interface TelemetrySnapshot {\n  timestamp: number;\n  period: {\n    start: number;\n    end: number;\n  };\n  events: {\n    total: number;\n    byType: Record<string, number>;\n  };\n  performance: {\n    avgRenderTime: number;\n    avgResponseTime: number;\n    framerate: number;\n    memoryUsage: NodeJS.MemoryUsage;\n    cpuUsage: NodeJS.CpuUsage;\n  };\n  interactions: {\n    total: number;\n    completed: number;\n    cancelled: number;\n    avgResponseTime: number;\n  };\n  errors: {\n    total: number;\n    byType: Record<string, number>;\n  };\n}\n\nexport interface TelemetryConfig {\n  enabled: boolean;\n  bufferSize: number;\n  flushInterval: number;\n  captureStackTraces: boolean;\n  anonymize: boolean;\n  performanceThresholds: {\n    renderTime: number;\n    responseTime: number;\n    framerate: number;\n    memory: number;\n  };\n}\n\nexport class UITelemetry extends EventEmitter {\n  private config: TelemetryConfig;\n  private events: UIEvent[] = [];\n  private metrics: PerformanceMetric[] = [];\n  private interactions: UserInteraction[] = [];\n  private renderMetrics: RenderMetric[] = [];\n  private errors: Array<{ error: any; timestamp: number; context?: any }> = [];\n  private sessionStart: number;\n  private marks: Map<string, number> = new Map();\n  private measures: Map<string, number[]> = new Map();\n  private flushTimer: NodeJS.Timeout | null = null;\n  private frameCounter: {\n    frames: number;\n    dropped: number;\n    lastFrame: number;\n  } = {\n    frames: 0,\n    dropped: 0,\n    lastFrame: performance.now(),\n  };\n\n  constructor(config: Partial<TelemetryConfig> = {}) {\n    super();\n    this.config = {\n      enabled: true,\n      bufferSize: 10000,\n      flushInterval: 60000, // 1 minute\n      captureStackTraces: false,\n      anonymize: true,\n      performanceThresholds: {\n        renderTime: 16, // 60 FPS target\n        responseTime: 100, // 100ms max response time\n        framerate: 30, // Minimum acceptable framerate\n        memory: 500 * 1024 * 1024, // 500MB memory threshold\n      },\n      ...config,\n    };\n\n    this.sessionStart = Date.now();\n\n    if (this.config.enabled) {\n      this.startCollection();\n    }\n  }\n\n  /**\n   * Start telemetry collection\n   */\n  private startCollection(): void {\n    // Set up flush timer\n    if (this.config.flushInterval > 0) {\n      this.flushTimer = setInterval(\n        () => this.flush(),\n        this.config.flushInterval\n      );\n    }\n\n    // Monitor memory usage\n    setInterval(() => {\n      this.recordMemoryUsage();\n    }, 10000); // Every 10 seconds\n\n    this.emit('telemetry:started');\n  }\n\n  /**\n   * Record a UI event\n   */\n  recordEvent(type: string, eventMetadata?: any): void {\n    if (!this.config.enabled) return;\n\n    const event: UIEvent = {\n      type,\n      timestamp: Date.now(),\n      metadata: this.config.anonymize ? this.anonymizeData(eventMetadata) : eventMetadata,\n    };\n\n    this.events.push(event);\n    this.trimBuffer('events');\n\n    this.emit('event:recorded', event);\n  }\n\n  /**\n   * Start a performance mark\n   */\n  markStart(name: string): void {\n    if (!this.config.enabled) return;\n    this.marks.set(name, performance.now());\n  }\n\n  /**\n   * End a performance mark and record the duration\n   */\n  markEnd(name: string, _metadata?: any): number {\n    if (!this.config.enabled) return 0;\n\n    const start = this.marks.get(name);\n    if (!start) {\n      console.warn(`No start mark found for: ${name}`);\n      return 0;\n    }\n\n    const duration = performance.now() - start;\n    this.marks.delete(name);\n\n    // Store measure\n    if (!this.measures.has(name)) {\n      this.measures.set(name, []);\n    }\n    this.measures.get(name)!.push(duration);\n\n    // Record metric\n    const metric: PerformanceMetric = {\n      name,\n      value: duration,\n      unit: 'ms',\n      timestamp: Date.now(),\n    };\n\n    this.metrics.push(metric);\n    this.trimBuffer('metrics');\n\n    // Check threshold\n    this.checkPerformanceThreshold(name, duration);\n\n    this.emit('metric:recorded', metric);\n    return duration;\n  }\n\n  /**\n   * Record a user interaction\n   */\n  recordInteraction(\n    type: UserInteraction['type'],\n    target?: string\n  ): {\n    complete: () => void;\n    cancel: () => void;\n  } {\n    if (!this.config.enabled) {\n      return {\n        complete: () => {},\n        cancel: () => {},\n      };\n    }\n\n    const interaction: UserInteraction = {\n      type,\n      target,\n      timestamp: Date.now(),\n      completed: false,\n    };\n\n    this.interactions.push(interaction);\n\n    return {\n      complete: () => {\n        interaction.completed = true;\n        interaction.responseTime = Date.now() - interaction.timestamp;\n        this.checkResponseTimeThreshold(interaction.responseTime);\n        this.emit('interaction:completed', interaction);\n      },\n      cancel: () => {\n        interaction.completed = false;\n        this.emit('interaction:cancelled', interaction);\n      },\n    };\n  }\n\n  /**\n   * Record render metrics\n   */\n  recordRender(component: string, renderTime: number): void {\n    if (!this.config.enabled) return;\n\n    // Update frame counter\n    const now = performance.now();\n    const timeSinceLastFrame = now - this.frameCounter.lastFrame;\n\n    if (timeSinceLastFrame > 33.33) { // More than 2 frames at 60fps\n      this.frameCounter.dropped++;\n    }\n\n    this.frameCounter.frames++;\n    this.frameCounter.lastFrame = now;\n\n    const metric: RenderMetric = {\n      component,\n      renderTime,\n      frameCount: this.frameCounter.frames,\n      dropped: this.frameCounter.dropped,\n      timestamp: Date.now(),\n    };\n\n    this.renderMetrics.push(metric);\n    this.trimBuffer('renderMetrics');\n\n    // Check render time threshold\n    if (renderTime > this.config.performanceThresholds.renderTime) {\n      this.emit('performance:slow-render', {\n        component,\n        renderTime,\n        threshold: this.config.performanceThresholds.renderTime,\n      });\n    }\n\n    this.emit('render:recorded', metric);\n  }\n\n  /**\n   * Record an error\n   */\n  recordError(error: any, context?: any): void {\n    if (!this.config.enabled) return;\n\n    const errorRecord = {\n      error: {\n        message: error.message || String(error),\n        type: error.constructor?.name || 'Error',\n        stack: this.config.captureStackTraces ? error.stack : undefined,\n      },\n      timestamp: Date.now(),\n      context: this.config.anonymize ? this.anonymizeData(context) : context,\n    };\n\n    this.errors.push(errorRecord);\n    this.trimBuffer('errors');\n\n    this.emit('error:recorded', errorRecord);\n  }\n\n  /**\n   * Record memory usage\n   */\n  private recordMemoryUsage(): void {\n    const usage = process.memoryUsage();\n    const metric: PerformanceMetric = {\n      name: 'memory.heapUsed',\n      value: usage.heapUsed,\n      unit: 'bytes',\n      timestamp: Date.now(),\n    };\n\n    this.metrics.push(metric);\n\n    // Check memory threshold\n    if (usage.heapUsed > this.config.performanceThresholds.memory) {\n      this.emit('performance:high-memory', {\n        usage: usage.heapUsed,\n        threshold: this.config.performanceThresholds.memory,\n      });\n    }\n  }\n\n  /**\n   * Check performance threshold\n   */\n  private checkPerformanceThreshold(name: string, duration: number): void {\n    if (name.includes('render') &&\n        duration > this.config.performanceThresholds.renderTime) {\n      this.emit('performance:threshold-exceeded', {\n        type: 'render',\n        name,\n        duration,\n        threshold: this.config.performanceThresholds.renderTime,\n      });\n    }\n  }\n\n  /**\n   * Check response time threshold\n   */\n  private checkResponseTimeThreshold(responseTime: number): void {\n    if (responseTime > this.config.performanceThresholds.responseTime) {\n      this.emit('performance:threshold-exceeded', {\n        type: 'response',\n        responseTime,\n        threshold: this.config.performanceThresholds.responseTime,\n      });\n    }\n  }\n\n  /**\n   * Trim buffer to prevent memory issues\n   */\n  private trimBuffer(\n    bufferName: 'events' | 'metrics' | 'interactions' | 'renderMetrics' | 'errors'\n  ): void {\n    const buffer = this[bufferName];\n    if (Array.isArray(buffer) && buffer.length > this.config.bufferSize) {\n      // Keep most recent items\n      const toRemove = buffer.length - this.config.bufferSize;\n      buffer.splice(0, toRemove);\n    }\n  }\n\n  /**\n   * Anonymize sensitive data\n   */\n  private anonymizeData(data: any): any {\n    if (!data) return data;\n    if (typeof data !== 'object') return data;\n\n    const anonymized = { ...data };\n\n    // Remove or hash sensitive fields\n    const sensitiveFields = ['password', 'token', 'key', 'secret', 'email', 'username'];\n\n    for (const field of sensitiveFields) {\n      if (field in anonymized) {\n        anonymized[field] = '[REDACTED]';\n      }\n    }\n\n    // Recursively anonymize nested objects\n    for (const key in anonymized) {\n      if (typeof anonymized[key] === 'object' && anonymized[key] !== null) {\n        anonymized[key] = this.anonymizeData(anonymized[key]);\n      }\n    }\n\n    return anonymized;\n  }\n\n  /**\n   * Get current telemetry snapshot\n   */\n  getSnapshot(): TelemetrySnapshot {\n    const now = Date.now();\n    const period = {\n      start: this.sessionStart,\n      end: now,\n    };\n\n    // Calculate event statistics\n    const eventsByType: Record<string, number> = {};\n    for (const event of this.events) {\n      eventsByType[event.type] = (eventsByType[event.type] || 0) + 1;\n    }\n\n    // Calculate performance metrics\n    const renderTimes = this.renderMetrics.map(m => m.renderTime);\n    const avgRenderTime = renderTimes.length > 0\n      ? renderTimes.reduce((a, b) => a + b, 0) / renderTimes.length\n      : 0;\n\n    const responseTimes = this.interactions\n      .filter(i => i.responseTime !== undefined)\n      .map(i => i.responseTime!);\n    const avgResponseTime = responseTimes.length > 0\n      ? responseTimes.reduce((a, b) => a + b, 0) / responseTimes.length\n      : 0;\n\n    const framerate = this.frameCounter.frames > 0\n      ? (this.frameCounter.frames - this.frameCounter.dropped) /\n        ((now - this.sessionStart) / 1000)\n      : 0;\n\n    // Calculate interaction statistics\n    const completedInteractions = this.interactions.filter(i => i.completed).length;\n    const cancelledInteractions = this.interactions.filter(i => !i.completed).length;\n\n    // Calculate error statistics\n    const errorsByType: Record<string, number> = {};\n    for (const error of this.errors) {\n      const type = error.error.type || 'Unknown';\n      errorsByType[type] = (errorsByType[type] || 0) + 1;\n    }\n\n    return {\n      timestamp: now,\n      period,\n      events: {\n        total: this.events.length,\n        byType: eventsByType,\n      },\n      performance: {\n        avgRenderTime,\n        avgResponseTime,\n        framerate,\n        memoryUsage: process.memoryUsage(),\n        cpuUsage: process.cpuUsage(),\n      },\n      interactions: {\n        total: this.interactions.length,\n        completed: completedInteractions,\n        cancelled: cancelledInteractions,\n        avgResponseTime,\n      },\n      errors: {\n        total: this.errors.length,\n        byType: errorsByType,\n      },\n    };\n  }\n\n  /**\n   * Get performance summary\n   */\n  getPerformanceSummary(): {\n    measures: Record<string, { avg: number; min: number; max: number; count: number }>;\n    slowestOperations: Array<{ name: string; duration: number }>;\n  } {\n    const summary: Record<string, { avg: number; min: number; max: number; count: number }> = {};\n\n    for (const [name, durations] of this.measures) {\n      if (durations.length === 0) continue;\n\n      summary[name] = {\n        avg: durations.reduce((a, b) => a + b, 0) / durations.length,\n        min: Math.min(...durations),\n        max: Math.max(...durations),\n        count: durations.length,\n      };\n    }\n\n    // Find slowest operations\n    const allOperations: Array<{ name: string; duration: number }> = [];\n    for (const metric of this.metrics) {\n      if (metric.unit === 'ms') {\n        allOperations.push({ name: metric.name, duration: metric.value });\n      }\n    }\n\n    const slowestOperations = allOperations\n      .sort((a, b) => b.duration - a.duration)\n      .slice(0, 10);\n\n    return {\n      measures: summary,\n      slowestOperations,\n    };\n  }\n\n  /**\n   * Flush telemetry data\n   */\n  flush(): void {\n    const snapshot = this.getSnapshot();\n    this.emit('telemetry:flush', snapshot);\n\n    // Clear old data based on buffer size\n    const cutoff = Date.now() - this.config.flushInterval;\n\n    this.events = this.events.filter(e => e.timestamp > cutoff);\n    this.metrics = this.metrics.filter(m => m.timestamp > cutoff);\n    this.interactions = this.interactions.filter(i => i.timestamp > cutoff);\n    this.renderMetrics = this.renderMetrics.filter(m => m.timestamp > cutoff);\n    this.errors = this.errors.filter(e => e.timestamp > cutoff);\n  }\n\n  /**\n   * Enable or disable telemetry\n   */\n  setEnabled(enabled: boolean): void {\n    this.config.enabled = enabled;\n\n    if (!enabled) {\n      this.stop();\n    } else {\n      this.startCollection();\n    }\n\n    this.emit('telemetry:status-changed', { enabled });\n  }\n\n  /**\n   * Update configuration\n   */\n  updateConfig(config: Partial<TelemetryConfig>): void {\n    const wasEnabled = this.config.enabled;\n    this.config = { ...this.config, ...config };\n\n    if (wasEnabled !== this.config.enabled) {\n      this.setEnabled(this.config.enabled);\n    }\n\n    this.emit('telemetry:config-updated', this.config);\n  }\n\n  /**\n   * Reset all telemetry data\n   */\n  reset(): void {\n    this.events = [];\n    this.metrics = [];\n    this.interactions = [];\n    this.renderMetrics = [];\n    this.errors = [];\n    this.marks.clear();\n    this.measures.clear();\n    this.frameCounter = {\n      frames: 0,\n      dropped: 0,\n      lastFrame: performance.now(),\n    };\n    this.sessionStart = Date.now();\n\n    this.emit('telemetry:reset');\n  }\n\n  /**\n   * Stop telemetry collection\n   */\n  stop(): void {\n    if (this.flushTimer) {\n      clearInterval(this.flushTimer);\n      this.flushTimer = null;\n    }\n\n    this.emit('telemetry:stopped');\n  }\n\n  /**\n   * Dispose of telemetry\n   */\n  dispose(): void {\n    this.stop();\n    this.removeAllListeners();\n    this.reset();\n  }\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}