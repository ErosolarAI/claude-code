{"version":3,"names":["ErrorType","exports","TS_ERROR_PATTERN","NPM_DEP_PATTERN","TEST_FAIL_PATTERN","AIErrorFixer","constructor","options","workingDir","process","cwd","analyzeOutput","output","command","errors","outputType","detectOutputType","push","parseTypeScriptErrors","parseNpmErrors","parseTestErrors","parseGenericErrors","error","suggestedFixes","generateFixes","formatForAI","length","lines","i","Math","min","errorType","toUpperCase","message","slice","loc","locations","filePath","lineNumber","bestFix","description","join","outputLower","toLowerCase","commandLower","includes","regex","RegExp","source","match","exec","file","line","col","code","msg","TYPE_ERROR","rawOutput","parseInt","undefined","column","relatedErrors","metadata","tsCode","dep","IMPORT_ERROR","missingDep","TEST_FAILURE","trim","errorLines","split","lineLower","UNKNOWN","fixes","String","nameMatch","oldContent","newContent","confidence","autoApplicable","requiresConfirmation","varMatch","createErrorFixer"],"sources":["aiErrorFixer.ts"],"sourcesContent":["/**\n * AI Error Fixer - Minimal stub for backward compatibility\n */\n\nexport enum ErrorType {\n  BUILD_ERROR = 'build_error',\n  TEST_FAILURE = 'test_failure',\n  TYPE_ERROR = 'type_error',\n  LINT_ERROR = 'lint_error',\n  IMPORT_ERROR = 'import_error',\n  SYNTAX_ERROR = 'syntax_error',\n  FILE_NOT_FOUND = 'file_not_found',\n  PERMISSION_ERROR = 'permission_error',\n  EDIT_CONFLICT = 'edit_conflict',\n  NEWLINE_IN_STRING = 'newline_in_string',\n  UNKNOWN = 'unknown',\n}\n\nexport interface ErrorLocation {\n  filePath: string;\n  lineNumber?: number;\n  column?: number;\n}\n\nexport interface ErrorFix {\n  description: string;\n  filePath: string;\n  oldContent: string;\n  newContent: string;\n  confidence: number;\n  autoApplicable: boolean;\n  requiresConfirmation: boolean;\n}\n\nexport interface ParsedError {\n  errorType: ErrorType;\n  message: string;\n  rawOutput: string;\n  locations: ErrorLocation[];\n  suggestedFixes: ErrorFix[];\n  relatedErrors: string[];\n  metadata: Record<string, unknown>;\n}\n\nconst TS_ERROR_PATTERN = /([^\\s:]+\\.tsx?):(\\d+):(\\d+)\\s*-\\s*error\\s+TS(\\d+):\\s*(.+)/gm;\nconst NPM_DEP_PATTERN = /(?:Cannot find|Module not found).*['\"]([^'\"]+)['\"]/gm;\nconst TEST_FAIL_PATTERN = /FAIL\\s+([^\\n]+)/gm;\n\nexport class AIErrorFixer {\n  private readonly workingDir: string;\n\n  constructor(options: { workingDir?: string } = {}) {\n    this.workingDir = options.workingDir ?? process.cwd();\n  }\n\n  analyzeOutput(output: string, command?: string): ParsedError[] {\n    const errors: ParsedError[] = [];\n    const outputType = this.detectOutputType(output, command);\n\n    if (outputType === 'typescript') errors.push(...this.parseTypeScriptErrors(output));\n    else if (outputType === 'npm') errors.push(...this.parseNpmErrors(output));\n    else if (outputType === 'test') errors.push(...this.parseTestErrors(output));\n    else errors.push(...this.parseGenericErrors(output));\n\n    for (const error of errors) {\n      error.suggestedFixes = this.generateFixes(error);\n    }\n    return errors;\n  }\n\n  formatForAI(errors: ParsedError[]): string {\n    if (errors.length === 0) return '';\n    const lines: string[] = ['', '═══ AI ERROR ANALYSIS ═══', ''];\n    for (let i = 0; i < Math.min(errors.length, 5); i++) {\n      const error = errors[i];\n      if (!error) continue;\n      lines.push(`• ${error.errorType.toUpperCase()}: ${error.message.slice(0, 150)}`);\n      const loc = error.locations[0];\n      if (loc) lines.push(`  at ${loc.filePath}:${loc.lineNumber ?? '?'}`);\n      const bestFix = error.suggestedFixes[0];\n      if (bestFix) lines.push(`  FIX: ${bestFix.description}`);\n      lines.push('');\n    }\n    if (errors.length > 5) lines.push(`... and ${errors.length - 5} more errors`);\n    return lines.join('\\n');\n  }\n\n  private detectOutputType(output: string, command?: string): string {\n    const outputLower = output.toLowerCase();\n    const commandLower = (command ?? '').toLowerCase();\n    if (commandLower.includes('tsc') || commandLower.includes('typescript')) return 'typescript';\n    if (commandLower.includes('test') || commandLower.includes('jest')) return 'test';\n    if (commandLower.includes('npm') || commandLower.includes('yarn')) return 'npm';\n    if (outputLower.includes('error ts') || output.includes('.ts:')) return 'typescript';\n    if (outputLower.includes('npm err!')) return 'npm';\n    return 'generic';\n  }\n\n  private parseTypeScriptErrors(output: string): ParsedError[] {\n    const errors: ParsedError[] = [];\n    const regex = new RegExp(TS_ERROR_PATTERN.source, 'gm');\n    let match;\n    while ((match = regex.exec(output)) !== null) {\n      const [, file, line, col, code, msg] = match;\n      if (!file || !code || !msg) continue;\n      errors.push({\n        errorType: ErrorType.TYPE_ERROR,\n        message: `TS${code}: ${msg}`,\n        rawOutput: match[0],\n        locations: [{ filePath: file, lineNumber: line ? parseInt(line, 10) : undefined, column: col ? parseInt(col, 10) : undefined }],\n        suggestedFixes: [],\n        relatedErrors: [],\n        metadata: { tsCode: code },\n      });\n    }\n    return errors;\n  }\n\n  private parseNpmErrors(output: string): ParsedError[] {\n    const errors: ParsedError[] = [];\n    const regex = new RegExp(NPM_DEP_PATTERN.source, 'gm');\n    let match;\n    while ((match = regex.exec(output)) !== null) {\n      const [, dep] = match;\n      if (!dep) continue;\n      errors.push({\n        errorType: ErrorType.IMPORT_ERROR,\n        message: `Missing dependency: ${dep}`,\n        rawOutput: match[0],\n        locations: [],\n        suggestedFixes: [],\n        relatedErrors: [],\n        metadata: { missingDep: dep },\n      });\n    }\n    return errors;\n  }\n\n  private parseTestErrors(output: string): ParsedError[] {\n    const errors: ParsedError[] = [];\n    const regex = new RegExp(TEST_FAIL_PATTERN.source, 'gm');\n    let match;\n    while ((match = regex.exec(output)) !== null) {\n      const [, file] = match;\n      if (!file) continue;\n      errors.push({\n        errorType: ErrorType.TEST_FAILURE,\n        message: `Test failed: ${file}`,\n        rawOutput: match[0],\n        locations: [{ filePath: file.trim() }],\n        suggestedFixes: [],\n        relatedErrors: [],\n        metadata: {},\n      });\n    }\n    return errors;\n  }\n\n  private parseGenericErrors(output: string): ParsedError[] {\n    const errors: ParsedError[] = [];\n    const errorLines: string[] = [];\n    for (const line of output.split('\\n')) {\n      const lineLower = line.toLowerCase();\n      if (lineLower.includes('error:') || lineLower.includes('failed:') || lineLower.includes('exception:') || lineLower.includes('fatal:')) {\n        errorLines.push(line.trim());\n      }\n    }\n    if (errorLines.length > 0 && errorLines[0]) {\n      errors.push({\n        errorType: ErrorType.UNKNOWN,\n        message: errorLines[0].slice(0, 200),\n        rawOutput: errorLines.slice(0, 5).join('\\n'),\n        locations: [],\n        suggestedFixes: [],\n        relatedErrors: errorLines.slice(1, 5),\n        metadata: {},\n      });\n    }\n    return errors;\n  }\n\n  private generateFixes(error: ParsedError): ErrorFix[] {\n    const fixes: ErrorFix[] = [];\n    const loc = error.locations[0];\n    if (error.errorType === ErrorType.TYPE_ERROR && loc) {\n      const tsCode = String(error.metadata['tsCode'] ?? '');\n      if (tsCode === '2304') {\n        const nameMatch = error.message.match(/Cannot find name '([^']+)'/);\n        if (nameMatch?.[1]) {\n          fixes.push({\n            description: `Add import for '${nameMatch[1]}'`,\n            filePath: loc.filePath,\n            oldContent: '',\n            newContent: `import { ${nameMatch[1]} } from './${nameMatch[1]}';`,\n            confidence: 0.6,\n            autoApplicable: false,\n            requiresConfirmation: true,\n          });\n        }\n      }\n      if (tsCode === '6133') {\n        const varMatch = error.message.match(/'([^']+)' is declared but/);\n        if (varMatch?.[1]) {\n          fixes.push({\n            description: `Prefix '${varMatch[1]}' with underscore`,\n            filePath: loc.filePath,\n            oldContent: varMatch[1],\n            newContent: `_${varMatch[1]}`,\n            confidence: 0.8,\n            autoApplicable: true,\n            requiresConfirmation: false,\n          });\n        }\n      }\n    }\n    if (error.errorType === ErrorType.IMPORT_ERROR) {\n      const missingDep = String(error.metadata['missingDep'] ?? '');\n      if (missingDep) {\n        fixes.push({\n          description: `Install: npm install ${missingDep}`,\n          filePath: 'package.json',\n          oldContent: '',\n          newContent: '',\n          confidence: 0.9,\n          autoApplicable: false,\n          requiresConfirmation: true,\n        });\n      }\n    }\n    return fixes;\n  }\n}\n\nexport function createErrorFixer(options?: { workingDir?: string }): AIErrorFixer {\n  return new AIErrorFixer({ workingDir: options?.workingDir });\n}\n"],"mappings":"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","ignoreList":[]}