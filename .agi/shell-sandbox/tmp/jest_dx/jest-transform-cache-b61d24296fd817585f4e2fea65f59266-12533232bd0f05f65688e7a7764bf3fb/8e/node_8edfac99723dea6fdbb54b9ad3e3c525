b32369627e548ed738772657d54676d7
/* istanbul ignore next */
function cov_4nm7h56aj() {
  var path = "/Users/bo/GitHub/agi-core-CLI-coding/src/runtime/node.ts";
  var hash = "c928ec913320c2fe7dfb0505ed6201c03cdadc89";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/Users/bo/GitHub/agi-core-CLI-coding/src/runtime/node.ts",
    statementMap: {
      "0": {
        start: {
          line: 20,
          column: 2
        },
        end: {
          line: 27,
          column: 4
        }
      },
      "1": {
        start: {
          line: 31,
          column: 22
        },
        end: {
          line: 31,
          column: 51
        }
      },
      "2": {
        start: {
          line: 32,
          column: 28
        },
        end: {
          line: 32,
          column: 59
        }
      },
      "3": {
        start: {
          line: 34,
          column: 2
        },
        end: {
          line: 37,
          column: 5
        }
      }
    },
    fnMap: {
      "0": {
        name: "createNodeCapabilityModules",
        decl: {
          start: {
            line: 19,
            column: 9
          },
          end: {
            line: 19,
            column: 36
          }
        },
        loc: {
          start: {
            line: 19,
            column: 59
          },
          end: {
            line: 28,
            column: 1
          }
        },
        line: 19
      },
      "1": {
        name: "createNodeRuntime",
        decl: {
          start: {
            line: 30,
            column: 22
          },
          end: {
            line: 30,
            column: 39
          }
        },
        loc: {
          start: {
            line: 30,
            column: 96
          },
          end: {
            line: 38,
            column: 1
          }
        },
        line: 30
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 32,
            column: 28
          },
          end: {
            line: 32,
            column: 59
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 32,
            column: 28
          },
          end: {
            line: 32,
            column: 53
          }
        }, {
          start: {
            line: 32,
            column: 57
          },
          end: {
            line: 32,
            column: 59
          }
        }],
        line: 32
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0
    },
    f: {
      "0": 0,
      "1": 0
    },
    b: {
      "0": [0, 0]
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "c928ec913320c2fe7dfb0505ed6201c03cdadc89"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_4nm7h56aj = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_4nm7h56aj();
import { createUniversalRuntime } from './universal.js';
import { FilesystemCapabilityModule, EditCapabilityModule, BashCapabilityModule, SearchCapabilityModule, WebCapabilityModule } from '../capabilities/index.js';
/**
 * Create core Node.js capability modules for the CLI.
 */
function createNodeCapabilityModules() {
  /* istanbul ignore next */
  cov_4nm7h56aj().f[0]++;
  cov_4nm7h56aj().s[0]++;
  return [new FilesystemCapabilityModule(), new EditCapabilityModule(), new BashCapabilityModule(), new SearchCapabilityModule(), new WebCapabilityModule()
  // Note: GlobCapabilityModule removed - it's deprecated and duplicates the Search tool from SearchCapabilityModule
  ];
}
export async function createNodeRuntime(options) {
  /* istanbul ignore next */
  cov_4nm7h56aj().f[1]++;
  const coreModules =
  /* istanbul ignore next */
  (cov_4nm7h56aj().s[1]++, createNodeCapabilityModules());
  const additionalModules =
  /* istanbul ignore next */
  (cov_4nm7h56aj().s[2]++,
  /* istanbul ignore next */
  (cov_4nm7h56aj().b[0][0]++, options.additionalModules) ??
  /* istanbul ignore next */
  (cov_4nm7h56aj().b[0][1]++, []));
  /* istanbul ignore next */
  cov_4nm7h56aj().s[3]++;
  return createUniversalRuntime({
    ...options,
    additionalModules: [...coreModules, ...additionalModules]
  });
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfNG5tN2g1NmFqIiwiYWN0dWFsQ292ZXJhZ2UiLCJjcmVhdGVVbml2ZXJzYWxSdW50aW1lIiwiRmlsZXN5c3RlbUNhcGFiaWxpdHlNb2R1bGUiLCJFZGl0Q2FwYWJpbGl0eU1vZHVsZSIsIkJhc2hDYXBhYmlsaXR5TW9kdWxlIiwiU2VhcmNoQ2FwYWJpbGl0eU1vZHVsZSIsIldlYkNhcGFiaWxpdHlNb2R1bGUiLCJjcmVhdGVOb2RlQ2FwYWJpbGl0eU1vZHVsZXMiLCJmIiwicyIsImNyZWF0ZU5vZGVSdW50aW1lIiwib3B0aW9ucyIsImNvcmVNb2R1bGVzIiwiYWRkaXRpb25hbE1vZHVsZXMiLCJiIl0sInNvdXJjZXMiOlsibm9kZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVVbml2ZXJzYWxSdW50aW1lLCB0eXBlIFVuaXZlcnNhbFJ1bnRpbWUsIHR5cGUgVW5pdmVyc2FsUnVudGltZU9wdGlvbnMgfSBmcm9tICcuL3VuaXZlcnNhbC5qcyc7XG5pbXBvcnQgdHlwZSB7IENhcGFiaWxpdHlNb2R1bGUgfSBmcm9tICcuL2FnZW50SG9zdC5qcyc7XG5pbXBvcnQge1xuICBGaWxlc3lzdGVtQ2FwYWJpbGl0eU1vZHVsZSxcbiAgRWRpdENhcGFiaWxpdHlNb2R1bGUsXG4gIEJhc2hDYXBhYmlsaXR5TW9kdWxlLFxuICBTZWFyY2hDYXBhYmlsaXR5TW9kdWxlLFxuICBXZWJDYXBhYmlsaXR5TW9kdWxlLFxufSBmcm9tICcuLi9jYXBhYmlsaXRpZXMvaW5kZXguanMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIE5vZGVSdW50aW1lT3B0aW9uc1xuICBleHRlbmRzIE9taXQ8VW5pdmVyc2FsUnVudGltZU9wdGlvbnMsICdhZGRpdGlvbmFsTW9kdWxlcyc+IHtcbiAgYWRkaXRpb25hbE1vZHVsZXM/OiBDYXBhYmlsaXR5TW9kdWxlW107XG59XG5cbi8qKlxuICogQ3JlYXRlIGNvcmUgTm9kZS5qcyBjYXBhYmlsaXR5IG1vZHVsZXMgZm9yIHRoZSBDTEkuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZU5vZGVDYXBhYmlsaXR5TW9kdWxlcygpOiBDYXBhYmlsaXR5TW9kdWxlW10ge1xuICByZXR1cm4gW1xuICAgIG5ldyBGaWxlc3lzdGVtQ2FwYWJpbGl0eU1vZHVsZSgpLFxuICAgIG5ldyBFZGl0Q2FwYWJpbGl0eU1vZHVsZSgpLFxuICAgIG5ldyBCYXNoQ2FwYWJpbGl0eU1vZHVsZSgpLFxuICAgIG5ldyBTZWFyY2hDYXBhYmlsaXR5TW9kdWxlKCksXG4gICAgbmV3IFdlYkNhcGFiaWxpdHlNb2R1bGUoKSxcbiAgICAvLyBOb3RlOiBHbG9iQ2FwYWJpbGl0eU1vZHVsZSByZW1vdmVkIC0gaXQncyBkZXByZWNhdGVkIGFuZCBkdXBsaWNhdGVzIHRoZSBTZWFyY2ggdG9vbCBmcm9tIFNlYXJjaENhcGFiaWxpdHlNb2R1bGVcbiAgXTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZU5vZGVSdW50aW1lKG9wdGlvbnM6IE5vZGVSdW50aW1lT3B0aW9ucyk6IFByb21pc2U8VW5pdmVyc2FsUnVudGltZT4ge1xuICBjb25zdCBjb3JlTW9kdWxlcyA9IGNyZWF0ZU5vZGVDYXBhYmlsaXR5TW9kdWxlcygpO1xuICBjb25zdCBhZGRpdGlvbmFsTW9kdWxlcyA9IG9wdGlvbnMuYWRkaXRpb25hbE1vZHVsZXMgPz8gW107XG5cbiAgcmV0dXJuIGNyZWF0ZVVuaXZlcnNhbFJ1bnRpbWUoe1xuICAgIC4uLm9wdGlvbnMsXG4gICAgYWRkaXRpb25hbE1vZHVsZXM6IFsuLi5jb3JlTW9kdWxlcywgLi4uYWRkaXRpb25hbE1vZHVsZXNdLFxuICB9KTtcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQWVZO0lBQUFBLGFBQUEsWUFBQUEsQ0FBQTtNQUFBLE9BQUFDLGNBQUE7SUFBQTtFQUFBO0VBQUEsT0FBQUEsY0FBQTtBQUFBO0FBQUFELGFBQUE7QUFmWixTQUFTRSxzQkFBc0IsUUFBNkQsZ0JBQWdCO0FBRTVHLFNBQ0VDLDBCQUEwQixFQUMxQkMsb0JBQW9CLEVBQ3BCQyxvQkFBb0IsRUFDcEJDLHNCQUFzQixFQUN0QkMsbUJBQW1CLFFBQ2QsMEJBQTBCO0FBT2pDO0FBQ0E7QUFDQTtBQUNBLFNBQVNDLDJCQUEyQkEsQ0FBQSxFQUF1QjtFQUFBO0VBQUFSLGFBQUEsR0FBQVMsQ0FBQTtFQUFBVCxhQUFBLEdBQUFVLENBQUE7RUFDekQsT0FBTyxDQUNMLElBQUlQLDBCQUEwQixDQUFDLENBQUMsRUFDaEMsSUFBSUMsb0JBQW9CLENBQUMsQ0FBQyxFQUMxQixJQUFJQyxvQkFBb0IsQ0FBQyxDQUFDLEVBQzFCLElBQUlDLHNCQUFzQixDQUFDLENBQUMsRUFDNUIsSUFBSUMsbUJBQW1CLENBQUM7RUFDeEI7RUFBQSxDQUNEO0FBQ0g7QUFFQSxPQUFPLGVBQWVJLGlCQUFpQkEsQ0FBQ0MsT0FBMkIsRUFBNkI7RUFBQTtFQUFBWixhQUFBLEdBQUFTLENBQUE7RUFDOUYsTUFBTUksV0FBVztFQUFBO0VBQUEsQ0FBQWIsYUFBQSxHQUFBVSxDQUFBLE9BQUdGLDJCQUEyQixDQUFDLENBQUM7RUFDakQsTUFBTU0saUJBQWlCO0VBQUE7RUFBQSxDQUFBZCxhQUFBLEdBQUFVLENBQUE7RUFBRztFQUFBLENBQUFWLGFBQUEsR0FBQWUsQ0FBQSxVQUFBSCxPQUFPLENBQUNFLGlCQUFpQjtFQUFBO0VBQUEsQ0FBQWQsYUFBQSxHQUFBZSxDQUFBLFVBQUksRUFBRTtFQUFDO0VBQUFmLGFBQUEsR0FBQVUsQ0FBQTtFQUUxRCxPQUFPUixzQkFBc0IsQ0FBQztJQUM1QixHQUFHVSxPQUFPO0lBQ1ZFLGlCQUFpQixFQUFFLENBQUMsR0FBR0QsV0FBVyxFQUFFLEdBQUdDLGlCQUFpQjtFQUMxRCxDQUFDLENBQUM7QUFDSiIsImlnbm9yZUxpc3QiOltdfQ==