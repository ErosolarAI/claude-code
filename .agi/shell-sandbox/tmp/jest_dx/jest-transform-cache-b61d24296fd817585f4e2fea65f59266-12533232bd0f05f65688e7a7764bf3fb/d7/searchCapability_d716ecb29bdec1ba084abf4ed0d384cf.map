{"version":3,"names":["_searchTools","require","SearchCapabilityModule","id","constructor","options","create","context","workingDir","description","toolSuite","tools","createSearchTools","metadata","exports"],"sources":["searchCapability.ts"],"sourcesContent":["import type { CapabilityContribution, CapabilityContext, CapabilityModule } from '../runtime/agentHost.js';\nimport { createSearchTools } from '../tools/searchTools.js';\n\nexport interface SearchCapabilityOptions {\n  workingDir?: string;\n}\n\n/**\n * Search Capability Module\n *\n * Provides separate, focused search tools:\n * - Glob: File pattern matching\n * - Grep: Content search (regex)\n * - FindDefinition: Code definition finding\n */\nexport class SearchCapabilityModule implements CapabilityModule {\n  readonly id = 'capability.search';\n  private readonly options: SearchCapabilityOptions;\n\n  constructor(options: SearchCapabilityOptions = {}) {\n    this.options = options;\n  }\n\n  async create(context: CapabilityContext): Promise<CapabilityContribution> {\n    const workingDir = this.options.workingDir ?? context.workingDir;\n    return {\n      id: 'search.tools',\n      description: 'Separate tools for file and content search',\n      toolSuite: {\n        id: 'search',\n        tools: createSearchTools(workingDir),\n      },\n      metadata: { workingDir },\n    };\n  }\n}\n"],"mappings":";;;;;;AACA,IAAAA,YAAA,GAAAC,OAAA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,MAAMC,sBAAsB,CAA6B;EACrDC,EAAE,GAAG,mBAAmB;EAGjCC,WAAWA,CAACC,OAAgC,GAAG,CAAC,CAAC,EAAE;IACjD,IAAI,CAACA,OAAO,GAAGA,OAAO;EACxB;EAEA,MAAMC,MAAMA,CAACC,OAA0B,EAAmC;IACxE,MAAMC,UAAU,GAAG,IAAI,CAACH,OAAO,CAACG,UAAU,IAAID,OAAO,CAACC,UAAU;IAChE,OAAO;MACLL,EAAE,EAAE,cAAc;MAClBM,WAAW,EAAE,4CAA4C;MACzDC,SAAS,EAAE;QACTP,EAAE,EAAE,QAAQ;QACZQ,KAAK,EAAE,IAAAC,8BAAiB,EAACJ,UAAU;MACrC,CAAC;MACDK,QAAQ,EAAE;QAAEL;MAAW;IACzB,CAAC;EACH;AACF;AAACM,OAAA,CAAAZ,sBAAA,GAAAA,sBAAA","ignoreList":[]}