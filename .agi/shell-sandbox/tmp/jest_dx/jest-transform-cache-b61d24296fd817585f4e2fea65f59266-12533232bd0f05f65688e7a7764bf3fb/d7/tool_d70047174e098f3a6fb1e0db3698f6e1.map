{"version":3,"names":["cov_2lhsztbtr","actualCoverage","TOOL_CONTRACT_VERSION","s"],"sources":["tool.ts"],"sourcesContent":["/**\n * Tool Contract v1.0\n * \n * Stable interface for tool registration and execution.\n */\n\nexport const TOOL_CONTRACT_VERSION = '1.0.0';\n\n/**\n * JSON Schema type definitions\n */\nexport interface JSONSchemaProperty {\n  type: 'string' | 'number' | 'boolean' | 'array' | 'object';\n  description?: string;\n  enum?: string[];\n  items?: JSONSchemaProperty;\n  properties?: Record<string, JSONSchemaProperty>;\n}\n\nexport interface JSONSchemaObject {\n  type: 'object';\n  description?: string;\n  properties?: Record<string, JSONSchemaProperty>;\n  required?: string[];\n  additionalProperties?: boolean;\n}\n\n/**\n * Tool definition\n */\nexport interface IToolDefinition {\n  name: string;\n  description: string;\n  parameters?: JSONSchemaObject;\n  category?: string;\n  metadata?: Record<string, unknown>;\n}\n\n/**\n * Tool execution request\n */\nexport interface ToolExecutionRequest {\n  toolName: string;\n  executionId: string;\n  parameters: Record<string, unknown>;\n  context?: ToolExecutionContext;\n}\n\n/**\n * Tool execution response\n */\nexport interface ToolExecutionResponse {\n  executionId: string;\n  success: boolean;\n  result?: string;\n  error?: {\n    message: string;\n    code?: string;\n    details?: unknown;\n  };\n  metadata?: {\n    elapsedMs?: number;\n    cached?: boolean;\n  };\n}\n\n/**\n * Tool execution context\n */\nexport interface ToolExecutionContext {\n  workingDirectory?: string;\n  environment?: Record<string, string>;\n  user?: {\n    id: string;\n    permissions?: string[];\n  };\n}\n\n/**\n * Tool suite definition\n */\nexport interface IToolSuite {\n  id: string;\n  name: string;\n  description?: string;\n  version?: string;\n  tools: IToolDefinition[];\n  metadata?: Record<string, unknown>;\n}\n\n/**\n * Tool handler function\n */\nexport type ToolHandler = (\n  parameters: Record<string, unknown>,\n  context?: ToolExecutionContext\n) => Promise<string> | string;\n\n/**\n * Tool executor interface\n */\nexport interface IToolExecutor {\n  /**\n   * Execute a tool\n   */\n  execute(request: ToolExecutionRequest): Promise<ToolExecutionResponse>;\n\n  /**\n   * Check if a tool is available\n   */\n  hasToolAvailable(toolName: string): boolean;\n\n  /**\n   * List all available tools\n   */\n  listTools(): IToolDefinition[];\n\n  /**\n   * Get tool definition\n   */\n  getToolDefinition(toolName: string): IToolDefinition | null;\n}\n\n/**\n * Tool registry interface\n */\nexport interface IToolRegistry {\n  /**\n   * Register a tool suite\n   */\n  registerSuite(suite: IToolSuite): void;\n\n  /**\n   * Unregister a tool suite\n   */\n  unregisterSuite(suiteId: string): void;\n\n  /**\n   * Register a single tool\n   */\n  registerTool(suiteId: string, definition: IToolDefinition, handler: ToolHandler): void;\n\n  /**\n   * Unregister a single tool\n   */\n  unregisterTool(toolName: string): void;\n\n  /**\n   * Get all registered suites\n   */\n  getSuites(): IToolSuite[];\n\n  /**\n   * Get a specific suite\n   */\n  getSuite(suiteId: string): IToolSuite | null;\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAeY;IAAAA,aAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,aAAA;AAfZ;AACA;AACA;AACA;AACA;;AAEA,OAAO,MAAME,qBAAqB;AAAA;AAAA,CAAAF,aAAA,GAAAG,CAAA,OAAG,OAAO;;AAE5C;AACA;AACA;;AAiBA;AACA;AACA;;AASA;AACA;AACA;;AAQA;AACA;AACA;;AAgBA;AACA;AACA;;AAUA;AACA;AACA;;AAUA;AACA;AACA;;AAMA;AACA;AACA;;AAuBA;AACA;AACA","ignoreList":[]}