{"version":3,"names":["cov_2bsh4gyqd2","actualCoverage","getSecretValue","buildError","createWebTools","f","s","name","description","parameters","type","properties","query","maxResults","searchDepth","enum","includeAnswer","required","additionalProperties","handler","args","b","trim","Math","min","tavilyKey","searchTavily","braveKey","searchBrave","serpKey","searchSerpAPI","error","urls","items","url","Array","isArray","filter","u","length","slice","extractTavily","join","apiKey","options","controller","AbortController","timeout","setTimeout","abort","response","fetch","method","headers","body","JSON","stringify","api_key","search_depth","include_answer","max_results","signal","ok","text","Error","status","data","json","formatTavilyResults","clearTimeout","params","URLSearchParams","q","count","String","formatBraveResults","engine","num","formatSerpAPIResults","formatExtractResults","provider","lines","answer","push","results","result","title","content","snippet","published_date","web","profile","publishedDate","organic_results","link","source","date","raw_content"],"sources":["webTools.ts"],"sourcesContent":["/**\n * Web Tools - Web search and content extraction capabilities\n *\n * Provides:\n * - WebSearch: Search the web using Tavily, Brave, or SerpAPI\n * - WebExtract: Extract and summarize content from URLs\n */\n\nimport type { ToolDefinition } from '../core/toolRuntime.js';\nimport { getSecretValue } from '../core/secretStore.js';\nimport { buildError } from '../core/errors.js';\n\ninterface TavilySearchResult {\n  title: string;\n  url: string;\n  content: string;\n  score?: number;\n  published_date?: string;\n}\n\ninterface TavilySearchResponse {\n  results: TavilySearchResult[];\n  answer?: string;\n  query: string;\n}\n\ninterface TavilyExtractResponse {\n  results: Array<{\n    url: string;\n    raw_content: string;\n  }>;\n}\n\ninterface BraveSearchResult {\n  title: string;\n  url: string;\n  description: string;\n  profile?: { name: string };\n  publishedDate?: string;\n}\n\ninterface BraveSearchResponse {\n  web?: {\n    results: BraveSearchResult[];\n  };\n}\n\ninterface SerpAPIResult {\n  title: string;\n  link: string;\n  snippet: string;\n  source?: string;\n  date?: string;\n}\n\ninterface SerpAPIResponse {\n  organic_results?: SerpAPIResult[];\n}\n\ntype SearchProvider = 'tavily' | 'brave' | 'serpapi';\n\n/**\n * Create web tools for search and extraction.\n */\nexport function createWebTools(): ToolDefinition[] {\n  return [\n    {\n      name: 'WebSearch',\n      description: 'Search the web for information. Returns relevant results from search engines. Requires TAVILY_API_KEY, BRAVE_SEARCH_API_KEY, or SERPAPI_API_KEY.',\n      parameters: {\n        type: 'object',\n        properties: {\n          query: {\n            type: 'string',\n            description: 'The search query',\n          },\n          maxResults: {\n            type: 'number',\n            description: 'Maximum number of results to return (default: 5, max: 10)',\n          },\n          searchDepth: {\n            type: 'string',\n            enum: ['basic', 'advanced'],\n            description: 'Search depth for Tavily: basic (fast) or advanced (thorough). Default: basic',\n          },\n          includeAnswer: {\n            type: 'boolean',\n            description: 'For Tavily: include AI-generated answer summary. Default: true',\n          },\n        },\n        required: ['query'],\n        additionalProperties: false,\n      },\n      handler: async (args) => {\n        const query = args['query'];\n        if (typeof query !== 'string' || !query.trim()) {\n          return 'Error: query is required';\n        }\n\n        const maxResults = Math.min(\n          typeof args['maxResults'] === 'number' ? args['maxResults'] : 5,\n          10\n        );\n        const searchDepth = args['searchDepth'] === 'advanced' ? 'advanced' : 'basic';\n        const includeAnswer = args['includeAnswer'] !== false;\n\n        try {\n          // Try providers in order of preference\n          const tavilyKey = getSecretValue('TAVILY_API_KEY');\n          if (tavilyKey) {\n            return await searchTavily(query, tavilyKey, { maxResults, searchDepth, includeAnswer });\n          }\n\n          const braveKey = getSecretValue('BRAVE_SEARCH_API_KEY');\n          if (braveKey) {\n            return await searchBrave(query, braveKey, { maxResults });\n          }\n\n          const serpKey = getSecretValue('SERPAPI_API_KEY');\n          if (serpKey) {\n            return await searchSerpAPI(query, serpKey, { maxResults });\n          }\n\n          return 'WebSearch requires either TAVILY_API_KEY (recommended), BRAVE_SEARCH_API_KEY, or SERPAPI_API_KEY to be configured. Use /secrets set to configure.';\n        } catch (error) {\n          return buildError('WebSearch', error, { query });\n        }\n      },\n    },\n    {\n      name: 'WebExtract',\n      description: 'Extract and summarize content from one or more URLs. Uses Tavily for high-quality extraction. Requires TAVILY_API_KEY.',\n      parameters: {\n        type: 'object',\n        properties: {\n          urls: {\n            type: 'array',\n            items: { type: 'string' },\n            description: 'URLs to extract content from (max 5)',\n          },\n          url: {\n            type: 'string',\n            description: 'Single URL to extract content from (alternative to urls array)',\n          },\n        },\n        additionalProperties: false,\n      },\n      handler: async (args) => {\n        let urls: string[] = [];\n\n        if (Array.isArray(args['urls'])) {\n          urls = args['urls'].filter((u): u is string => typeof u === 'string');\n        } else if (typeof args['url'] === 'string') {\n          urls = [args['url']];\n        }\n\n        if (urls.length === 0) {\n          return 'Error: at least one URL is required';\n        }\n\n        // Limit to 5 URLs\n        urls = urls.slice(0, 5);\n\n        const tavilyKey = getSecretValue('TAVILY_API_KEY');\n        if (!tavilyKey) {\n          return 'WebExtract requires TAVILY_API_KEY to be configured. Use /secrets set TAVILY_API_KEY to configure.';\n        }\n\n        try {\n          return await extractTavily(urls, tavilyKey);\n        } catch (error) {\n          return buildError('WebExtract', error, { urls: urls.join(', ') });\n        }\n      },\n    },\n  ];\n}\n\n/**\n * Search using Tavily API (recommended provider)\n */\nasync function searchTavily(\n  query: string,\n  apiKey: string,\n  options: { maxResults: number; searchDepth: string; includeAnswer: boolean }\n): Promise<string> {\n  const controller = new AbortController();\n  const timeout = setTimeout(() => controller.abort(), 30000); // 30 second timeout\n\n  try {\n    const response = await fetch('https://api.tavily.com/search', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        api_key: apiKey,\n        query,\n        search_depth: options.searchDepth,\n        include_answer: options.includeAnswer,\n        max_results: options.maxResults,\n      }),\n      signal: controller.signal,\n    });\n    if (!response.ok) {\n      const text = await response.text();\n      throw new Error(`Tavily API error: ${response.status} ${text}`);\n    }\n\n    const data = (await response.json()) as TavilySearchResponse;\n    return formatTavilyResults(data, 'Tavily');\n  } catch (error) {\n    if (error instanceof Error && error.name === 'AbortError') {\n      throw new Error('Tavily search timed out after 30 seconds');\n    }\n    throw error;\n  } finally {\n    clearTimeout(timeout);\n  }\n}\n\n/**\n * Search using Brave Search API\n */\nasync function searchBrave(\n  query: string,\n  apiKey: string,\n  options: { maxResults: number }\n): Promise<string> {\n  const params = new URLSearchParams({\n    q: query,\n    count: String(options.maxResults),\n  });\n\n  const controller = new AbortController();\n  const timeout = setTimeout(() => controller.abort(), 30000); // 30 second timeout\n\n  try {\n    const response = await fetch(`https://api.search.brave.com/res/v1/web/search?${params}`, {\n      headers: {\n        'Accept': 'application/json',\n        'X-Subscription-Token': apiKey,\n      },\n      signal: controller.signal,\n    });\n\n    if (!response.ok) {\n      const text = await response.text();\n      throw new Error(`Brave Search API error: ${response.status} ${text}`);\n    }\n\n    const data = (await response.json()) as BraveSearchResponse;\n    return formatBraveResults(data, 'Brave Search');\n  } catch (error) {\n    if (error instanceof Error && error.name === 'AbortError') {\n      throw new Error('Brave search timed out after 30 seconds');\n    }\n    throw error;\n  } finally {\n    clearTimeout(timeout);\n  }\n}\n\n/**\n * Search using SerpAPI\n */\nasync function searchSerpAPI(\n  query: string,\n  apiKey: string,\n  options: { maxResults: number }\n): Promise<string> {\n  const params = new URLSearchParams({\n    q: query,\n    api_key: apiKey,\n    engine: 'google',\n    num: String(options.maxResults),\n  });\n\n  const controller = new AbortController();\n  const timeout = setTimeout(() => controller.abort(), 30000); // 30 second timeout\n\n  try {\n    const response = await fetch(`https://serpapi.com/search?${params}`, {\n      signal: controller.signal,\n    });\n\n    if (!response.ok) {\n      const text = await response.text();\n      throw new Error(`SerpAPI error: ${response.status} ${text}`);\n    }\n\n    const data = (await response.json()) as SerpAPIResponse;\n    return formatSerpAPIResults(data, 'SerpAPI');\n  } catch (error) {\n    if (error instanceof Error && error.name === 'AbortError') {\n      throw new Error('SerpAPI search timed out after 30 seconds');\n    }\n    throw error;\n  } finally {\n    clearTimeout(timeout);\n  }\n}\n\n/**\n * Extract content using Tavily Extract API\n */\nasync function extractTavily(urls: string[], apiKey: string): Promise<string> {\n  const response = await fetch('https://api.tavily.com/extract', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({\n      api_key: apiKey,\n      urls,\n    }),\n  });\n\n  if (!response.ok) {\n    const text = await response.text();\n    throw new Error(`Tavily Extract API error: ${response.status} ${text}`);\n  }\n\n  const data = (await response.json()) as TavilyExtractResponse;\n  return formatExtractResults(data);\n}\n\n/**\n * Format Tavily search results\n */\nfunction formatTavilyResults(data: TavilySearchResponse, provider: string): string {\n  const lines: string[] = [`[WebSearch via ${provider}]`, ''];\n\n  if (data.answer) {\n    lines.push('Summary:', data.answer, '');\n  }\n\n  if (!data.results || data.results.length === 0) {\n    lines.push('No results found.');\n    return lines.join('\\n');\n  }\n\n  lines.push(`Results for \"${data.query}\":`);\n  lines.push('');\n\n  for (const result of data.results) {\n    lines.push(`**${result.title}**`);\n    lines.push(result.url);\n    if (result.content) {\n      const snippet = result.content.length > 300\n        ? result.content.slice(0, 300) + '...'\n        : result.content;\n      lines.push(snippet);\n    }\n    if (result.published_date) {\n      lines.push(`Published: ${result.published_date}`);\n    }\n    lines.push('');\n  }\n\n  return lines.join('\\n');\n}\n\n/**\n * Format Brave search results\n */\nfunction formatBraveResults(data: BraveSearchResponse, provider: string): string {\n  const lines: string[] = [`[WebSearch via ${provider}]`, ''];\n\n  const results = data.web?.results || [];\n  if (results.length === 0) {\n    lines.push('No results found.');\n    return lines.join('\\n');\n  }\n\n  for (const result of results) {\n    lines.push(`**${result.title}**`);\n    lines.push(result.url);\n    if (result.description) {\n      lines.push(result.description);\n    }\n    if (result.profile?.name) {\n      lines.push(`Source: ${result.profile.name}`);\n    }\n    if (result.publishedDate) {\n      lines.push(`Published: ${result.publishedDate}`);\n    }\n    lines.push('');\n  }\n\n  return lines.join('\\n');\n}\n\n/**\n * Format SerpAPI results\n */\nfunction formatSerpAPIResults(data: SerpAPIResponse, provider: string): string {\n  const lines: string[] = [`[WebSearch via ${provider}]`, ''];\n\n  const results = data.organic_results || [];\n  if (results.length === 0) {\n    lines.push('No results found.');\n    return lines.join('\\n');\n  }\n\n  for (const result of results) {\n    lines.push(`**${result.title}**`);\n    lines.push(result.link);\n    if (result.snippet) {\n      lines.push(result.snippet);\n    }\n    if (result.source) {\n      lines.push(`Source: ${result.source}`);\n    }\n    if (result.date) {\n      lines.push(`Date: ${result.date}`);\n    }\n    lines.push('');\n  }\n\n  return lines.join('\\n');\n}\n\n/**\n * Format Tavily extract results\n */\nfunction formatExtractResults(data: TavilyExtractResponse): string {\n  const lines: string[] = ['[WebExtract via Tavily]', ''];\n\n  if (!data.results || data.results.length === 0) {\n    lines.push('No content extracted.');\n    return lines.join('\\n');\n  }\n\n  for (const result of data.results) {\n    lines.push(`**${result.url}**`);\n    lines.push('');\n    if (result.raw_content) {\n      // Truncate very long content\n      const content = result.raw_content.length > 5000\n        ? result.raw_content.slice(0, 5000) + '\\n\\n[Content truncated...]'\n        : result.raw_content;\n      lines.push(content);\n    }\n    lines.push('');\n    lines.push('---');\n    lines.push('');\n  }\n\n  return lines.join('\\n');\n}\n\n// Export types for testing\nexport type { SearchProvider, TavilySearchResponse, BraveSearchResponse, SerpAPIResponse };\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}