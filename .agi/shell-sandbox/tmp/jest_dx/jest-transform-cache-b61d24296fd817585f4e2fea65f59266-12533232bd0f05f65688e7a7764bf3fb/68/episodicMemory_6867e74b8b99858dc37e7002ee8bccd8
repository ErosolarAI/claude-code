956c0f95cdc3370e5fd0fab7d2b1d96c
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.EpisodicMemory = void 0;
exports.createEpisodicMemory = createEpisodicMemory;
exports.getEpisodicMemory = getEpisodicMemory;
var _nodeFs = require("node:fs");
var _nodePath = require("node:path");
var _nodeOs = require("node:os");
/**
 * Episodic Memory System - Cross-session pattern learning with semantic indexing
 *
 * Features:
 * 1. Episode detection and boundary marking
 * 2. Semantic indexing via vector embeddings (pluggable providers)
 * 3. Cross-session pattern learning and retrieval
 * 4. Task-specific memory with temporal decay
 * 5. Memory consolidation and pruning
 *
 * Storage: ~/.agi/episodic-memory/
 *   - episodes.json     (episode metadata index)
 *   - embeddings.bin    (vector embeddings cache)
 *   - patterns.json     (learned patterns)
 */

// ============================================================================
// TYPES
// ============================================================================

// ============================================================================
// TASK-SPECIFIC OPTIMIZATION PROFILES
// ============================================================================

/**
 * Optimization profile for task-specific settings.
 * Used to configure RL tournament behavior, validation, and execution strategies
 * based on learned patterns from successful episodes.
 */

/**
 * Default reward weights for each category
 */
const DEFAULT_REWARD_WEIGHTS = {
  bug_fix: {
    executionSuccess: 0.30,
    testsPassed: 0.35,
    staticAnalysis: 0.10,
    codeQuality: 0.05,
    blastRadius: 0.15,
    selfAssessment: 0.03,
    speedBonus: 0.02
  },
  feature_add: {
    executionSuccess: 0.25,
    testsPassed: 0.25,
    staticAnalysis: 0.15,
    codeQuality: 0.15,
    blastRadius: 0.10,
    selfAssessment: 0.05,
    speedBonus: 0.05
  },
  refactor: {
    executionSuccess: 0.25,
    testsPassed: 0.30,
    staticAnalysis: 0.20,
    codeQuality: 0.15,
    blastRadius: 0.05,
    selfAssessment: 0.03,
    speedBonus: 0.02
  },
  test_write: {
    executionSuccess: 0.30,
    testsPassed: 0.40,
    staticAnalysis: 0.10,
    codeQuality: 0.05,
    blastRadius: 0.05,
    selfAssessment: 0.05,
    speedBonus: 0.05
  },
  documentation: {
    executionSuccess: 0.35,
    testsPassed: 0.05,
    staticAnalysis: 0.10,
    codeQuality: 0.20,
    blastRadius: 0.10,
    selfAssessment: 0.10,
    speedBonus: 0.10
  },
  analysis: {
    executionSuccess: 0.40,
    testsPassed: 0.05,
    staticAnalysis: 0.05,
    codeQuality: 0.10,
    blastRadius: 0.05,
    selfAssessment: 0.20,
    speedBonus: 0.15
  },
  configuration: {
    executionSuccess: 0.35,
    testsPassed: 0.20,
    staticAnalysis: 0.15,
    codeQuality: 0.05,
    blastRadius: 0.15,
    selfAssessment: 0.05,
    speedBonus: 0.05
  },
  debugging: {
    executionSuccess: 0.35,
    testsPassed: 0.25,
    staticAnalysis: 0.05,
    codeQuality: 0.05,
    blastRadius: 0.05,
    selfAssessment: 0.15,
    speedBonus: 0.10
  },
  optimization: {
    executionSuccess: 0.25,
    testsPassed: 0.25,
    staticAnalysis: 0.10,
    codeQuality: 0.15,
    blastRadius: 0.05,
    selfAssessment: 0.05,
    speedBonus: 0.15
  },
  migration: {
    executionSuccess: 0.30,
    testsPassed: 0.30,
    staticAnalysis: 0.15,
    codeQuality: 0.05,
    blastRadius: 0.10,
    selfAssessment: 0.05,
    speedBonus: 0.05
  },
  unknown: {
    executionSuccess: 0.25,
    testsPassed: 0.30,
    staticAnalysis: 0.15,
    codeQuality: 0.10,
    blastRadius: 0.10,
    selfAssessment: 0.05,
    speedBonus: 0.05
  }
};

// ============================================================================
// DEFAULT EMBEDDING PROVIDER (Simple TF-IDF style, no external deps)
// ============================================================================

class SimpleEmbeddingProvider {
  dimension = 256;
  name = 'simple-tfidf';
  vocabulary = new Map();
  idf = new Map();
  async embed(text) {
    const tokens = this.tokenize(text);
    const vector = new Array(this.dimension).fill(0);

    // Simple hash-based embedding (deterministic, no training needed)
    for (const token of tokens) {
      const hash = this.hashToken(token);
      const idx = Math.abs(hash) % this.dimension;
      vector[idx] += 1;
    }

    // Normalize to unit vector
    const magnitude = Math.sqrt(vector.reduce((sum, v) => sum + v * v, 0));
    if (magnitude > 0) {
      for (let i = 0; i < vector.length; i++) {
        vector[i] /= magnitude;
      }
    }
    return vector;
  }
  tokenize(text) {
    return text.toLowerCase().replace(/[^a-z0-9\s]/g, ' ').split(/\s+/).filter(t => t.length > 2);
  }
  hashToken(token) {
    let hash = 0;
    for (let i = 0; i < token.length; i++) {
      const char = token.charCodeAt(i);
      hash = (hash << 5) - hash + char;
      hash = hash & hash; // Convert to 32-bit integer
    }
    return hash;
  }
}

// ============================================================================
// EPISODIC MEMORY SYSTEM
// ============================================================================

class EpisodicMemory {
  episodes = new Map();
  approaches = new Map();
  optimizationProfiles = new Map();
  dirty = false;

  // In-memory episode being recorded
  currentEpisode = null;
  episodeToolsUsed = new Set();
  episodeFilesModified = new Set();
  constructor(config = {}) {
    const dataRoot = process.env['EROSOLAR_DATA_DIR']?.trim() || (0, _nodePath.join)((0, _nodeOs.homedir)(), '.agi');
    this.config = {
      maxEpisodes: 1000,
      maxApproaches: 200,
      decayFactor: 0.95,
      minSimilarity: 0.3,
      useEmbeddings: true,
      storageDir: (0, _nodePath.join)(dataRoot, 'episodic-memory'),
      ...config
    };
    this.embeddingProvider = config.embeddingProvider || new SimpleEmbeddingProvider();
    this.load();
  }

  // ==========================================================================
  // EPISODE LIFECYCLE
  // ==========================================================================

  /**
   * Start recording a new episode
   */
  startEpisode(intent, sessionId, category) {
    const id = this.generateId();
    this.currentEpisode = {
      id,
      sessionId,
      startTime: Date.now(),
      intent,
      category: category || this.inferCategory(intent),
      toolsUsed: [],
      filesModified: [],
      success: false,
      summary: '',
      tags: this.extractTags(intent),
      retrievalCount: 0,
      lastRetrieved: 0
    };
    this.episodeToolsUsed.clear();
    this.episodeFilesModified.clear();
    return id;
  }

  /**
   * Record tool usage within current episode
   */
  recordToolUse(toolName) {
    this.episodeToolsUsed.add(toolName);
  }

  /**
   * Record file modification within current episode
   */
  recordFileModification(filePath) {
    this.episodeFilesModified.add(filePath);
  }

  /**
   * End current episode and save to memory
   */
  async endEpisode(success, summary) {
    if (!this.currentEpisode) return null;
    const episode = {
      ...this.currentEpisode,
      endTime: Date.now(),
      success,
      summary,
      toolsUsed: Array.from(this.episodeToolsUsed),
      filesModified: Array.from(this.episodeFilesModified)
    };

    // Generate embedding for semantic search
    if (this.config.useEmbeddings) {
      const textForEmbedding = `${episode.intent} ${episode.summary} ${episode.tags.join(' ')}`;
      episode.embedding = await this.embeddingProvider.embed(textForEmbedding);
    }
    this.episodes.set(episode.id, episode);
    this.dirty = true;

    // Learn from successful episodes
    if (success) {
      await this.learnFromEpisode(episode);
    }

    // Prune if needed
    this.pruneEpisodes();

    // Clear current episode
    this.currentEpisode = null;
    this.episodeToolsUsed.clear();
    this.episodeFilesModified.clear();

    // Auto-save
    this.save();
    return episode;
  }

  /**
   * Abort current episode without saving
   */
  abortEpisode() {
    this.currentEpisode = null;
    this.episodeToolsUsed.clear();
    this.episodeFilesModified.clear();
  }

  // ==========================================================================
  // RETRIEVAL & SEARCH
  // ==========================================================================

  /**
   * Search for similar past episodes
   */
  async search(query) {
    const results = [];
    const limit = query.limit || 10;

    // Generate query embedding if using embeddings
    let queryEmbedding = null;
    if (this.config.useEmbeddings) {
      queryEmbedding = await this.embeddingProvider.embed(query.query);
    }
    for (const episode of this.episodes.values()) {
      // Apply filters
      if (query.category && episode.category !== query.category) continue;
      if (query.successOnly && !episode.success) continue;
      if (query.since && episode.startTime < query.since) continue;
      if (query.tags && !query.tags.some(t => episode.tags.includes(t))) continue;

      // Calculate similarity
      let similarity = 0;
      let matchReason = '';
      if (queryEmbedding && episode.embedding) {
        // Cosine similarity for embeddings
        similarity = this.cosineSimilarity(queryEmbedding, episode.embedding);
        matchReason = 'semantic similarity';
      } else {
        // Fallback to keyword matching
        similarity = this.keywordSimilarity(query.query, episode.intent + ' ' + episode.summary);
        matchReason = 'keyword match';
      }

      // Apply temporal decay
      const ageInDays = (Date.now() - episode.endTime) / (1000 * 60 * 60 * 24);
      const decayedSimilarity = similarity * Math.pow(this.config.decayFactor, ageInDays / 30);

      // Boost for popularity
      const popularityBoost = 1 + episode.retrievalCount * 0.01;
      const finalSimilarity = decayedSimilarity * popularityBoost;
      if (finalSimilarity >= (query.minSimilarity || this.config.minSimilarity)) {
        results.push({
          episode,
          similarity: finalSimilarity,
          matchReason
        });
      }
    }

    // Sort by similarity and limit
    results.sort((a, b) => b.similarity - a.similarity);
    const topResults = results.slice(0, limit);

    // Update retrieval counts
    for (const result of topResults) {
      result.episode.retrievalCount++;
      result.episode.lastRetrieved = Date.now();
      this.dirty = true;
    }
    return topResults;
  }

  /**
   * Get learned approach for a task
   */
  async getApproach(intent) {
    const keywords = this.extractKeywords(intent);

    // First try exact keyword match
    for (const approach of this.approaches.values()) {
      const overlapCount = keywords.filter(k => approach.keywords.includes(k)).length;
      if (overlapCount >= Math.min(3, keywords.length * 0.5)) {
        return approach;
      }
    }

    // Try semantic search if embeddings enabled
    if (this.config.useEmbeddings) {
      const queryEmbedding = await this.embeddingProvider.embed(intent);
      let bestMatch = null;
      let bestSimilarity = 0;
      for (const approach of this.approaches.values()) {
        if (approach.embedding) {
          const similarity = this.cosineSimilarity(queryEmbedding, approach.embedding);
          if (similarity > bestSimilarity && similarity >= this.config.minSimilarity) {
            bestSimilarity = similarity;
            bestMatch = approach;
          }
        }
      }
      return bestMatch;
    }
    return null;
  }

  /**
   * Get recent episodes for context
   */
  getRecentEpisodes(limit = 5, sessionId) {
    const episodes = Array.from(this.episodes.values());
    const filtered = sessionId ? episodes.filter(e => e.sessionId === sessionId) : episodes;
    return filtered.sort((a, b) => b.endTime - a.endTime).slice(0, limit);
  }

  // ==========================================================================
  // LEARNING
  // ==========================================================================

  /**
   * Learn patterns from a successful episode
   */
  async learnFromEpisode(episode) {
    const keywords = this.extractKeywords(episode.intent);
    const approachKey = keywords.sort().join('_');
    const existing = this.approaches.get(approachKey);
    if (existing) {
      // Update existing approach
      existing.useCount++;
      existing.successRate = (existing.successRate * (existing.useCount - 1) + 1) / existing.useCount;
      existing.sourceEpisodes.push(episode.id);
      existing.tools = [...new Set([...existing.tools, ...episode.toolsUsed])];
      existing.updatedAt = Date.now();

      // Re-compute embedding
      if (this.config.useEmbeddings) {
        existing.embedding = await this.embeddingProvider.embed(existing.triggerPattern);
      }
    } else {
      // Create new approach
      const approach = {
        id: this.generateId(),
        triggerPattern: episode.intent,
        keywords,
        approach: [episode.summary],
        tools: episode.toolsUsed,
        successRate: 1,
        useCount: 1,
        sourceEpisodes: [episode.id],
        updatedAt: Date.now()
      };
      if (this.config.useEmbeddings) {
        approach.embedding = await this.embeddingProvider.embed(approach.triggerPattern);
      }
      this.approaches.set(approachKey, approach);
    }
    this.pruneApproaches();
    this.dirty = true;
  }

  /**
   * Record approach failure to update success rate
   */
  recordApproachFailure(approachId) {
    for (const approach of this.approaches.values()) {
      if (approach.id === approachId) {
        approach.useCount++;
        approach.successRate = approach.successRate * (approach.useCount - 1) / approach.useCount;
        approach.updatedAt = Date.now();
        this.dirty = true;
        break;
      }
    }
  }

  // ==========================================================================
  // HELPERS
  // ==========================================================================

  generateId() {
    const timestamp = Date.now().toString(36);
    const random = Math.random().toString(36).slice(2, 8);
    return `ep_${timestamp}_${random}`;
  }
  inferCategory(intent) {
    const lower = intent.toLowerCase();
    if (/\b(fix|bug|error|issue|crash|broken)\b/.test(lower)) return 'bug_fix';
    if (/\b(add|feature|implement|create|new)\b/.test(lower)) return 'feature_add';
    if (/\b(refactor|clean|reorganize|restructure)\b/.test(lower)) return 'refactor';
    if (/\b(test|spec|coverage)\b/.test(lower)) return 'test_write';
    if (/\b(doc|readme|comment|explain)\b/.test(lower)) return 'documentation';
    if (/\b(analyz|understand|explore|investigate)\b/.test(lower)) return 'analysis';
    if (/\b(config|setup|install|env)\b/.test(lower)) return 'configuration';
    if (/\b(debug|trace|log|inspect)\b/.test(lower)) return 'debugging';
    if (/\b(optim|perf|speed|fast)\b/.test(lower)) return 'optimization';
    if (/\b(migrat|upgrad|update|convert)\b/.test(lower)) return 'migration';
    return 'unknown';
  }
  extractTags(text) {
    const tags = [];
    const lower = text.toLowerCase();

    // Extract technology tags
    const techPatterns = {
      typescript: /\btypescript\b|\\.tsx?\b/,
      javascript: /\bjavascript\b|\\.jsx?\b/,
      python: /\bpython\b|\\.py\b/,
      react: /\breact\b/,
      node: /\bnode\.?js?\b/,
      api: /\bapi\b|\brest\b|\bgraphql\b/,
      database: /\bdb\b|\bdatabase\b|\bsql\b|\bmongo\b/,
      test: /\btest\b|\bspec\b|\bjest\b|\bvitest\b/,
      git: /\bgit\b|\bcommit\b|\bbranch\b/
    };
    for (const [tag, pattern] of Object.entries(techPatterns)) {
      if (pattern.test(lower)) {
        tags.push(tag);
      }
    }
    return tags;
  }
  extractKeywords(text) {
    return text.toLowerCase().replace(/[^a-z0-9\s]/g, ' ').split(/\s+/).filter(w => w.length > 3).filter(w => !['this', 'that', 'with', 'from', 'have', 'will', 'would', 'could', 'should'].includes(w));
  }
  cosineSimilarity(a, b) {
    if (a.length !== b.length) return 0;
    let dotProduct = 0;
    let magnitudeA = 0;
    let magnitudeB = 0;
    for (let i = 0; i < a.length; i++) {
      dotProduct += a[i] * b[i];
      magnitudeA += a[i] * a[i];
      magnitudeB += b[i] * b[i];
    }
    const magnitude = Math.sqrt(magnitudeA) * Math.sqrt(magnitudeB);
    return magnitude === 0 ? 0 : dotProduct / magnitude;
  }
  keywordSimilarity(query, text) {
    const queryWords = new Set(this.extractKeywords(query));
    const textWords = new Set(this.extractKeywords(text));
    if (queryWords.size === 0 || textWords.size === 0) return 0;
    let matches = 0;
    for (const word of queryWords) {
      if (textWords.has(word)) matches++;
    }
    return matches / queryWords.size;
  }

  // ==========================================================================
  // OPTIMIZATION PROFILES
  // ==========================================================================

  /**
   * Get or create an optimization profile for a category.
   * Used by the RL tournament system to get task-specific settings.
   */
  getOptimizationProfile(category, policyName) {
    const existing = this.optimizationProfiles.get(category);
    if (existing) {
      return existing;
    }

    // Create default profile for this category
    const profile = {
      id: `profile_${category}_${Date.now().toString(36)}`,
      category,
      policyName: policyName || `${category}_default`,
      preferredMode: this.inferPreferredMode(category),
      useGitWorktrees: category === 'migration' || category === 'refactor',
      rewardWeights: {
        ...DEFAULT_REWARD_WEIGHTS[category]
      },
      preferredTools: this.inferPreferredTools(category),
      autoApprovalThreshold: 0.85,
      successCount: 0,
      failureCount: 0,
      updatedAt: Date.now()
    };
    this.optimizationProfiles.set(category, profile);
    this.dirty = true;
    return profile;
  }

  /**
   * Update optimization profile based on episode outcome.
   * Called after an episode completes to adjust learned settings.
   */
  updateOptimizationProfile(category, success, options) {
    const profile = this.getOptimizationProfile(category);
    if (success) {
      profile.successCount++;

      // Update preferred tools based on successful episodes
      if (options?.toolsUsed) {
        for (const tool of options.toolsUsed) {
          if (!profile.preferredTools.includes(tool)) {
            profile.preferredTools.push(tool);
          }
        }
        // Keep only top 10 preferred tools
        profile.preferredTools = profile.preferredTools.slice(0, 10);
      }

      // Update mode preference if dual mode was successful
      if (options?.mode && options.mode !== 'single-continuous') {
        const successRate = profile.successCount / (profile.successCount + profile.failureCount);
        if (successRate > 0.7 && profile.preferredMode === 'single-continuous') {
          profile.preferredMode = 'dual-rl-continuous';
        }
      }

      // Track git worktree success
      if (options?.usedGitWorktrees && !profile.useGitWorktrees) {
        profile.useGitWorktrees = true;
      }
    } else {
      profile.failureCount++;

      // If success rate drops, adjust auto-approval threshold
      const successRate = profile.successCount / (profile.successCount + profile.failureCount);
      if (successRate < profile.autoApprovalThreshold) {
        profile.autoApprovalThreshold = Math.max(0.5, successRate - 0.05);
      }
    }
    profile.updatedAt = Date.now();
    this.dirty = true;
    this.save();
  }

  /**
   * Get reward weights for a category, adjusted based on learned patterns.
   */
  getRewardWeights(category) {
    const profile = this.getOptimizationProfile(category);
    return profile.rewardWeights;
  }

  /**
   * Update reward weights based on tournament outcomes.
   * Adjusts weights to favor signals that correlated with successful outcomes.
   */
  adjustRewardWeights(category, winningSignals, success) {
    const profile = this.getOptimizationProfile(category);
    const learningRate = 0.1;
    for (const [key, value] of Object.entries(winningSignals)) {
      const k = key;
      if (success) {
        // Slightly increase weight for signals that contributed to success
        profile.rewardWeights[k] = Math.min(0.5, profile.rewardWeights[k] + learningRate * value);
      } else {
        // Slightly decrease weight for signals that didn't prevent failure
        profile.rewardWeights[k] = Math.max(0.01, profile.rewardWeights[k] - learningRate * 0.5 * value);
      }
    }

    // Normalize weights to sum to 1
    const total = Object.values(profile.rewardWeights).reduce((sum, v) => sum + v, 0);
    for (const key of Object.keys(profile.rewardWeights)) {
      const k = key;
      profile.rewardWeights[k] /= total;
    }
    profile.updatedAt = Date.now();
    this.dirty = true;
  }

  /**
   * Get all optimization profiles for inspection.
   */
  getAllOptimizationProfiles() {
    return Array.from(this.optimizationProfiles.values());
  }
  inferPreferredMode(category) {
    // Categories that benefit from dual-agent comparison
    switch (category) {
      case 'refactor':
      case 'optimization':
      case 'migration':
        return 'dual-rl-tournament';
      case 'feature_add':
      case 'bug_fix':
        return 'dual-rl-continuous';
      default:
        return 'single-continuous';
    }
  }
  inferPreferredTools(category) {
    switch (category) {
      case 'bug_fix':
        return ['Read', 'Grep', 'Edit', 'Bash'];
      case 'feature_add':
        return ['Read', 'Write', 'Edit', 'Bash'];
      case 'refactor':
        return ['Read', 'Edit', 'Grep', 'Bash'];
      case 'test_write':
        return ['Read', 'Write', 'Bash'];
      case 'documentation':
        return ['Read', 'Write', 'Edit'];
      case 'analysis':
        return ['Read', 'Grep', 'Glob'];
      case 'debugging':
        return ['Read', 'Grep', 'Bash', 'Edit'];
      default:
        return ['Read', 'Edit', 'Bash'];
    }
  }

  // ==========================================================================
  // PRUNING
  // ==========================================================================

  pruneEpisodes() {
    if (this.episodes.size <= this.config.maxEpisodes) return;

    // Score episodes by value (recency + success + retrieval count)
    const scored = Array.from(this.episodes.values()).map(ep => {
      const ageScore = 1 - (Date.now() - ep.endTime) / (1000 * 60 * 60 * 24 * 365); // 1 year decay
      const successScore = ep.success ? 0.3 : 0;
      const retrievalScore = Math.min(ep.retrievalCount * 0.05, 0.2);
      return {
        id: ep.id,
        score: ageScore + successScore + retrievalScore
      };
    });
    scored.sort((a, b) => b.score - a.score);

    // Keep top episodes
    const toKeep = new Set(scored.slice(0, this.config.maxEpisodes).map(s => s.id));
    for (const id of this.episodes.keys()) {
      if (!toKeep.has(id)) {
        this.episodes.delete(id);
      }
    }
  }
  pruneApproaches() {
    if (this.approaches.size <= this.config.maxApproaches) return;

    // Score approaches by usefulness
    const scored = Array.from(this.approaches.entries()).map(([key, ap]) => {
      const recencyScore = 1 - (Date.now() - ap.updatedAt) / (1000 * 60 * 60 * 24 * 180); // 6 month decay
      const useScore = Math.min(ap.useCount * 0.1, 0.3);
      const successScore = ap.successRate * 0.4;
      return {
        key,
        score: recencyScore + useScore + successScore
      };
    });
    scored.sort((a, b) => b.score - a.score);

    // Keep top approaches
    const toKeep = new Set(scored.slice(0, this.config.maxApproaches).map(s => s.key));
    for (const key of this.approaches.keys()) {
      if (!toKeep.has(key)) {
        this.approaches.delete(key);
      }
    }
  }

  // ==========================================================================
  // PERSISTENCE
  // ==========================================================================

  load() {
    try {
      if (!(0, _nodeFs.existsSync)(this.config.storageDir)) {
        (0, _nodeFs.mkdirSync)(this.config.storageDir, {
          recursive: true
        });
        return;
      }
      const episodesPath = (0, _nodePath.join)(this.config.storageDir, 'episodes.json');
      const approachesPath = (0, _nodePath.join)(this.config.storageDir, 'approaches.json');
      const profilesPath = (0, _nodePath.join)(this.config.storageDir, 'optimization-profiles.json');
      if ((0, _nodeFs.existsSync)(episodesPath)) {
        const data = JSON.parse((0, _nodeFs.readFileSync)(episodesPath, 'utf-8'));
        for (const ep of data.episodes || []) {
          this.episodes.set(ep.id, ep);
        }
      }
      if ((0, _nodeFs.existsSync)(approachesPath)) {
        const data = JSON.parse((0, _nodeFs.readFileSync)(approachesPath, 'utf-8'));
        for (const [key, ap] of Object.entries(data.approaches || {})) {
          this.approaches.set(key, ap);
        }
      }
      if ((0, _nodeFs.existsSync)(profilesPath)) {
        const data = JSON.parse((0, _nodeFs.readFileSync)(profilesPath, 'utf-8'));
        for (const profile of data.profiles || []) {
          this.optimizationProfiles.set(profile.category, profile);
        }
      }
    } catch (error) {
      console.error('Failed to load episodic memory:', error);
    }
  }
  save() {
    if (!this.dirty) return;
    try {
      (0, _nodeFs.mkdirSync)(this.config.storageDir, {
        recursive: true
      });
      const episodesPath = (0, _nodePath.join)(this.config.storageDir, 'episodes.json');
      const approachesPath = (0, _nodePath.join)(this.config.storageDir, 'approaches.json');
      const profilesPath = (0, _nodePath.join)(this.config.storageDir, 'optimization-profiles.json');
      (0, _nodeFs.writeFileSync)(episodesPath, JSON.stringify({
        version: 1,
        updatedAt: Date.now(),
        episodes: Array.from(this.episodes.values())
      }, null, 2));
      (0, _nodeFs.writeFileSync)(approachesPath, JSON.stringify({
        version: 1,
        updatedAt: Date.now(),
        approaches: Object.fromEntries(this.approaches)
      }, null, 2));
      (0, _nodeFs.writeFileSync)(profilesPath, JSON.stringify({
        version: 1,
        updatedAt: Date.now(),
        profiles: Array.from(this.optimizationProfiles.values())
      }, null, 2));
      this.dirty = false;
    } catch (error) {
      console.error('Failed to save episodic memory:', error);
    }
  }

  // ==========================================================================
  // STATS
  // ==========================================================================

  getStats() {
    const categoryCounts = {};
    const tagCounts = {};
    let successCount = 0;
    for (const episode of this.episodes.values()) {
      categoryCounts[episode.category] = (categoryCounts[episode.category] || 0) + 1;
      if (episode.success) successCount++;
      for (const tag of episode.tags) {
        tagCounts[tag] = (tagCounts[tag] || 0) + 1;
      }
    }
    const topTags = Object.entries(tagCounts).sort((a, b) => b[1] - a[1]).slice(0, 10).map(([tag]) => tag);
    const profileSummary = Array.from(this.optimizationProfiles.values()).map(p => ({
      category: p.category,
      successRate: p.successCount + p.failureCount > 0 ? p.successCount / (p.successCount + p.failureCount) : 0,
      preferredMode: p.preferredMode
    })).sort((a, b) => b.successRate - a.successRate);
    return {
      totalEpisodes: this.episodes.size,
      successfulEpisodes: successCount,
      totalApproaches: this.approaches.size,
      totalProfiles: this.optimizationProfiles.size,
      categoryCounts,
      topTags,
      profileSummary
    };
  }
}

// ============================================================================
// SINGLETON & FACTORY
// ============================================================================
exports.EpisodicMemory = EpisodicMemory;
let defaultInstance = null;

/**
 * Get or create the default episodic memory instance
 */
function getEpisodicMemory(config) {
  if (!defaultInstance) {
    defaultInstance = new EpisodicMemory(config);
  }
  return defaultInstance;
}

/**
 * Create a new episodic memory instance with custom config
 */
function createEpisodicMemory(config = {}) {
  return new EpisodicMemory(config);
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbm9kZUZzIiwicmVxdWlyZSIsIl9ub2RlUGF0aCIsIl9ub2RlT3MiLCJERUZBVUxUX1JFV0FSRF9XRUlHSFRTIiwiYnVnX2ZpeCIsImV4ZWN1dGlvblN1Y2Nlc3MiLCJ0ZXN0c1Bhc3NlZCIsInN0YXRpY0FuYWx5c2lzIiwiY29kZVF1YWxpdHkiLCJibGFzdFJhZGl1cyIsInNlbGZBc3Nlc3NtZW50Iiwic3BlZWRCb251cyIsImZlYXR1cmVfYWRkIiwicmVmYWN0b3IiLCJ0ZXN0X3dyaXRlIiwiZG9jdW1lbnRhdGlvbiIsImFuYWx5c2lzIiwiY29uZmlndXJhdGlvbiIsImRlYnVnZ2luZyIsIm9wdGltaXphdGlvbiIsIm1pZ3JhdGlvbiIsInVua25vd24iLCJTaW1wbGVFbWJlZGRpbmdQcm92aWRlciIsImRpbWVuc2lvbiIsIm5hbWUiLCJ2b2NhYnVsYXJ5IiwiTWFwIiwiaWRmIiwiZW1iZWQiLCJ0ZXh0IiwidG9rZW5zIiwidG9rZW5pemUiLCJ2ZWN0b3IiLCJBcnJheSIsImZpbGwiLCJ0b2tlbiIsImhhc2giLCJoYXNoVG9rZW4iLCJpZHgiLCJNYXRoIiwiYWJzIiwibWFnbml0dWRlIiwic3FydCIsInJlZHVjZSIsInN1bSIsInYiLCJpIiwibGVuZ3RoIiwidG9Mb3dlckNhc2UiLCJyZXBsYWNlIiwic3BsaXQiLCJmaWx0ZXIiLCJ0IiwiY2hhciIsImNoYXJDb2RlQXQiLCJFcGlzb2RpY01lbW9yeSIsImVwaXNvZGVzIiwiYXBwcm9hY2hlcyIsIm9wdGltaXphdGlvblByb2ZpbGVzIiwiZGlydHkiLCJjdXJyZW50RXBpc29kZSIsImVwaXNvZGVUb29sc1VzZWQiLCJTZXQiLCJlcGlzb2RlRmlsZXNNb2RpZmllZCIsImNvbnN0cnVjdG9yIiwiY29uZmlnIiwiZGF0YVJvb3QiLCJwcm9jZXNzIiwiZW52IiwidHJpbSIsImpvaW4iLCJob21lZGlyIiwibWF4RXBpc29kZXMiLCJtYXhBcHByb2FjaGVzIiwiZGVjYXlGYWN0b3IiLCJtaW5TaW1pbGFyaXR5IiwidXNlRW1iZWRkaW5ncyIsInN0b3JhZ2VEaXIiLCJlbWJlZGRpbmdQcm92aWRlciIsImxvYWQiLCJzdGFydEVwaXNvZGUiLCJpbnRlbnQiLCJzZXNzaW9uSWQiLCJjYXRlZ29yeSIsImlkIiwiZ2VuZXJhdGVJZCIsInN0YXJ0VGltZSIsIkRhdGUiLCJub3ciLCJpbmZlckNhdGVnb3J5IiwidG9vbHNVc2VkIiwiZmlsZXNNb2RpZmllZCIsInN1Y2Nlc3MiLCJzdW1tYXJ5IiwidGFncyIsImV4dHJhY3RUYWdzIiwicmV0cmlldmFsQ291bnQiLCJsYXN0UmV0cmlldmVkIiwiY2xlYXIiLCJyZWNvcmRUb29sVXNlIiwidG9vbE5hbWUiLCJhZGQiLCJyZWNvcmRGaWxlTW9kaWZpY2F0aW9uIiwiZmlsZVBhdGgiLCJlbmRFcGlzb2RlIiwiZXBpc29kZSIsImVuZFRpbWUiLCJmcm9tIiwidGV4dEZvckVtYmVkZGluZyIsImVtYmVkZGluZyIsInNldCIsImxlYXJuRnJvbUVwaXNvZGUiLCJwcnVuZUVwaXNvZGVzIiwic2F2ZSIsImFib3J0RXBpc29kZSIsInNlYXJjaCIsInF1ZXJ5IiwicmVzdWx0cyIsImxpbWl0IiwicXVlcnlFbWJlZGRpbmciLCJ2YWx1ZXMiLCJzdWNjZXNzT25seSIsInNpbmNlIiwic29tZSIsImluY2x1ZGVzIiwic2ltaWxhcml0eSIsIm1hdGNoUmVhc29uIiwiY29zaW5lU2ltaWxhcml0eSIsImtleXdvcmRTaW1pbGFyaXR5IiwiYWdlSW5EYXlzIiwiZGVjYXllZFNpbWlsYXJpdHkiLCJwb3ciLCJwb3B1bGFyaXR5Qm9vc3QiLCJmaW5hbFNpbWlsYXJpdHkiLCJwdXNoIiwic29ydCIsImEiLCJiIiwidG9wUmVzdWx0cyIsInNsaWNlIiwicmVzdWx0IiwiZ2V0QXBwcm9hY2giLCJrZXl3b3JkcyIsImV4dHJhY3RLZXl3b3JkcyIsImFwcHJvYWNoIiwib3ZlcmxhcENvdW50IiwiayIsIm1pbiIsImJlc3RNYXRjaCIsImJlc3RTaW1pbGFyaXR5IiwiZ2V0UmVjZW50RXBpc29kZXMiLCJmaWx0ZXJlZCIsImUiLCJhcHByb2FjaEtleSIsImV4aXN0aW5nIiwiZ2V0IiwidXNlQ291bnQiLCJzdWNjZXNzUmF0ZSIsInNvdXJjZUVwaXNvZGVzIiwidG9vbHMiLCJ1cGRhdGVkQXQiLCJ0cmlnZ2VyUGF0dGVybiIsInBydW5lQXBwcm9hY2hlcyIsInJlY29yZEFwcHJvYWNoRmFpbHVyZSIsImFwcHJvYWNoSWQiLCJ0aW1lc3RhbXAiLCJ0b1N0cmluZyIsInJhbmRvbSIsImxvd2VyIiwidGVzdCIsInRlY2hQYXR0ZXJucyIsInR5cGVzY3JpcHQiLCJqYXZhc2NyaXB0IiwicHl0aG9uIiwicmVhY3QiLCJub2RlIiwiYXBpIiwiZGF0YWJhc2UiLCJnaXQiLCJ0YWciLCJwYXR0ZXJuIiwiT2JqZWN0IiwiZW50cmllcyIsInciLCJkb3RQcm9kdWN0IiwibWFnbml0dWRlQSIsIm1hZ25pdHVkZUIiLCJxdWVyeVdvcmRzIiwidGV4dFdvcmRzIiwic2l6ZSIsIm1hdGNoZXMiLCJ3b3JkIiwiaGFzIiwiZ2V0T3B0aW1pemF0aW9uUHJvZmlsZSIsInBvbGljeU5hbWUiLCJwcm9maWxlIiwicHJlZmVycmVkTW9kZSIsImluZmVyUHJlZmVycmVkTW9kZSIsInVzZUdpdFdvcmt0cmVlcyIsInJld2FyZFdlaWdodHMiLCJwcmVmZXJyZWRUb29scyIsImluZmVyUHJlZmVycmVkVG9vbHMiLCJhdXRvQXBwcm92YWxUaHJlc2hvbGQiLCJzdWNjZXNzQ291bnQiLCJmYWlsdXJlQ291bnQiLCJ1cGRhdGVPcHRpbWl6YXRpb25Qcm9maWxlIiwib3B0aW9ucyIsInRvb2wiLCJtb2RlIiwidXNlZEdpdFdvcmt0cmVlcyIsIm1heCIsImdldFJld2FyZFdlaWdodHMiLCJhZGp1c3RSZXdhcmRXZWlnaHRzIiwid2lubmluZ1NpZ25hbHMiLCJsZWFybmluZ1JhdGUiLCJrZXkiLCJ2YWx1ZSIsInRvdGFsIiwia2V5cyIsImdldEFsbE9wdGltaXphdGlvblByb2ZpbGVzIiwic2NvcmVkIiwibWFwIiwiZXAiLCJhZ2VTY29yZSIsInN1Y2Nlc3NTY29yZSIsInJldHJpZXZhbFNjb3JlIiwic2NvcmUiLCJ0b0tlZXAiLCJzIiwiZGVsZXRlIiwiYXAiLCJyZWNlbmN5U2NvcmUiLCJ1c2VTY29yZSIsImV4aXN0c1N5bmMiLCJta2RpclN5bmMiLCJyZWN1cnNpdmUiLCJlcGlzb2Rlc1BhdGgiLCJhcHByb2FjaGVzUGF0aCIsInByb2ZpbGVzUGF0aCIsImRhdGEiLCJKU09OIiwicGFyc2UiLCJyZWFkRmlsZVN5bmMiLCJwcm9maWxlcyIsImVycm9yIiwiY29uc29sZSIsIndyaXRlRmlsZVN5bmMiLCJzdHJpbmdpZnkiLCJ2ZXJzaW9uIiwiZnJvbUVudHJpZXMiLCJnZXRTdGF0cyIsImNhdGVnb3J5Q291bnRzIiwidGFnQ291bnRzIiwidG9wVGFncyIsInByb2ZpbGVTdW1tYXJ5IiwicCIsInRvdGFsRXBpc29kZXMiLCJzdWNjZXNzZnVsRXBpc29kZXMiLCJ0b3RhbEFwcHJvYWNoZXMiLCJ0b3RhbFByb2ZpbGVzIiwiZXhwb3J0cyIsImRlZmF1bHRJbnN0YW5jZSIsImdldEVwaXNvZGljTWVtb3J5IiwiY3JlYXRlRXBpc29kaWNNZW1vcnkiXSwic291cmNlcyI6WyJlcGlzb2RpY01lbW9yeS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEVwaXNvZGljIE1lbW9yeSBTeXN0ZW0gLSBDcm9zcy1zZXNzaW9uIHBhdHRlcm4gbGVhcm5pbmcgd2l0aCBzZW1hbnRpYyBpbmRleGluZ1xuICpcbiAqIEZlYXR1cmVzOlxuICogMS4gRXBpc29kZSBkZXRlY3Rpb24gYW5kIGJvdW5kYXJ5IG1hcmtpbmdcbiAqIDIuIFNlbWFudGljIGluZGV4aW5nIHZpYSB2ZWN0b3IgZW1iZWRkaW5ncyAocGx1Z2dhYmxlIHByb3ZpZGVycylcbiAqIDMuIENyb3NzLXNlc3Npb24gcGF0dGVybiBsZWFybmluZyBhbmQgcmV0cmlldmFsXG4gKiA0LiBUYXNrLXNwZWNpZmljIG1lbW9yeSB3aXRoIHRlbXBvcmFsIGRlY2F5XG4gKiA1LiBNZW1vcnkgY29uc29saWRhdGlvbiBhbmQgcHJ1bmluZ1xuICpcbiAqIFN0b3JhZ2U6IH4vLmFnaS9lcGlzb2RpYy1tZW1vcnkvXG4gKiAgIC0gZXBpc29kZXMuanNvbiAgICAgKGVwaXNvZGUgbWV0YWRhdGEgaW5kZXgpXG4gKiAgIC0gZW1iZWRkaW5ncy5iaW4gICAgKHZlY3RvciBlbWJlZGRpbmdzIGNhY2hlKVxuICogICAtIHBhdHRlcm5zLmpzb24gICAgIChsZWFybmVkIHBhdHRlcm5zKVxuICovXG5cbmltcG9ydCB7IG1rZGlyU3luYywgcmVhZEZpbGVTeW5jLCB3cml0ZUZpbGVTeW5jLCBleGlzdHNTeW5jIH0gZnJvbSAnbm9kZTpmcyc7XG5pbXBvcnQgeyBqb2luIH0gZnJvbSAnbm9kZTpwYXRoJztcbmltcG9ydCB7IGhvbWVkaXIgfSBmcm9tICdub2RlOm9zJztcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gVFlQRVNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuZXhwb3J0IGludGVyZmFjZSBFcGlzb2RlIHtcbiAgaWQ6IHN0cmluZztcbiAgc2Vzc2lvbklkOiBzdHJpbmc7XG4gIHN0YXJ0VGltZTogbnVtYmVyO1xuICBlbmRUaW1lOiBudW1iZXI7XG4gIC8qKiBVc2VyJ3Mgb3JpZ2luYWwgaW50ZW50L3Byb21wdCB0aGF0IHN0YXJ0ZWQgdGhpcyBlcGlzb2RlICovXG4gIGludGVudDogc3RyaW5nO1xuICAvKiogQ2F0ZWdvcnkgb2Ygd29yayBwZXJmb3JtZWQgKi9cbiAgY2F0ZWdvcnk6IEVwaXNvZGVDYXRlZ29yeTtcbiAgLyoqIFRvb2xzIHVzZWQgZHVyaW5nIHRoaXMgZXBpc29kZSAqL1xuICB0b29sc1VzZWQ6IHN0cmluZ1tdO1xuICAvKiogS2V5IGZpbGVzIHRvdWNoZWQgKi9cbiAgZmlsZXNNb2RpZmllZDogc3RyaW5nW107XG4gIC8qKiBXaGV0aGVyIHRoZSBlcGlzb2RlIHdhcyBzdWNjZXNzZnVsICovXG4gIHN1Y2Nlc3M6IGJvb2xlYW47XG4gIC8qKiBTdW1tYXJ5IG9mIHdoYXQgd2FzIGFjY29tcGxpc2hlZCAqL1xuICBzdW1tYXJ5OiBzdHJpbmc7XG4gIC8qKiBUYWdzIGZvciBzZW1hbnRpYyBncm91cGluZyAqL1xuICB0YWdzOiBzdHJpbmdbXTtcbiAgLyoqIEVtYmVkZGluZyB2ZWN0b3IgZm9yIHNlbWFudGljIHNlYXJjaCAob3B0aW9uYWwpICovXG4gIGVtYmVkZGluZz86IG51bWJlcltdO1xuICAvKiogUGFyZW50IGVwaXNvZGUgaWYgdGhpcyBpcyBhIHN1Yi10YXNrICovXG4gIHBhcmVudElkPzogc3RyaW5nO1xuICAvKiogUmV0cmlldmFsIGNvdW50IGZvciBwb3B1bGFyaXR5IHdlaWdodGluZyAqL1xuICByZXRyaWV2YWxDb3VudDogbnVtYmVyO1xuICAvKiogTGFzdCB0aW1lIHRoaXMgZXBpc29kZSB3YXMgcmV0cmlldmVkICovXG4gIGxhc3RSZXRyaWV2ZWQ6IG51bWJlcjtcbn1cblxuZXhwb3J0IHR5cGUgRXBpc29kZUNhdGVnb3J5ID1cbiAgfCAnYnVnX2ZpeCdcbiAgfCAnZmVhdHVyZV9hZGQnXG4gIHwgJ3JlZmFjdG9yJ1xuICB8ICd0ZXN0X3dyaXRlJ1xuICB8ICdkb2N1bWVudGF0aW9uJ1xuICB8ICdhbmFseXNpcydcbiAgfCAnY29uZmlndXJhdGlvbidcbiAgfCAnZGVidWdnaW5nJ1xuICB8ICdvcHRpbWl6YXRpb24nXG4gIHwgJ21pZ3JhdGlvbidcbiAgfCAndW5rbm93bic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgTGVhcm5lZEFwcHJvYWNoIHtcbiAgaWQ6IHN0cmluZztcbiAgLyoqIFBhdHRlcm4gdGhhdCB0cmlnZ2VycyB0aGlzIGFwcHJvYWNoIChub3JtYWxpemVkKSAqL1xuICB0cmlnZ2VyUGF0dGVybjogc3RyaW5nO1xuICAvKiogS2V5d29yZHMgZm9yIGZhc3QgbWF0Y2hpbmcgKi9cbiAga2V5d29yZHM6IHN0cmluZ1tdO1xuICAvKiogU3RlcC1ieS1zdGVwIGFwcHJvYWNoIHRoYXQgd29ya2VkICovXG4gIGFwcHJvYWNoOiBzdHJpbmdbXTtcbiAgLyoqIFRvb2xzIHR5cGljYWxseSB1c2VkICovXG4gIHRvb2xzOiBzdHJpbmdbXTtcbiAgLyoqIFN1Y2Nlc3MgcmF0ZSAoMC0xKSAqL1xuICBzdWNjZXNzUmF0ZTogbnVtYmVyO1xuICAvKiogTnVtYmVyIG9mIHRpbWVzIHRoaXMgYXBwcm9hY2ggd2FzIHVzZWQgKi9cbiAgdXNlQ291bnQ6IG51bWJlcjtcbiAgLyoqIEVwaXNvZGUgSURzIHRoYXQgY29udHJpYnV0ZWQgdG8gdGhpcyBwYXR0ZXJuICovXG4gIHNvdXJjZUVwaXNvZGVzOiBzdHJpbmdbXTtcbiAgLyoqIEVtYmVkZGluZyBmb3Igc2VtYW50aWMgbWF0Y2hpbmcgKi9cbiAgZW1iZWRkaW5nPzogbnVtYmVyW107XG4gIC8qKiBMYXN0IHVwZGF0ZSB0aW1lc3RhbXAgKi9cbiAgdXBkYXRlZEF0OiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWVtb3J5UXVlcnkge1xuICAvKiogTmF0dXJhbCBsYW5ndWFnZSBxdWVyeSAqL1xuICBxdWVyeTogc3RyaW5nO1xuICAvKiogRmlsdGVyIGJ5IGNhdGVnb3J5ICovXG4gIGNhdGVnb3J5PzogRXBpc29kZUNhdGVnb3J5O1xuICAvKiogRmlsdGVyIGJ5IHRhZ3MgKi9cbiAgdGFncz86IHN0cmluZ1tdO1xuICAvKiogRmlsdGVyIGJ5IHRpbWUgcmFuZ2UgKG1zIHNpbmNlIGVwb2NoKSAqL1xuICBzaW5jZT86IG51bWJlcjtcbiAgLyoqIEZpbHRlciBieSBzdWNjZXNzIHN0YXR1cyAqL1xuICBzdWNjZXNzT25seT86IGJvb2xlYW47XG4gIC8qKiBNYXhpbXVtIHJlc3VsdHMgKi9cbiAgbGltaXQ/OiBudW1iZXI7XG4gIC8qKiBNaW5pbXVtIHNpbWlsYXJpdHkgdGhyZXNob2xkICgwLTEpICovXG4gIG1pblNpbWlsYXJpdHk/OiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWVtb3J5U2VhcmNoUmVzdWx0IHtcbiAgZXBpc29kZTogRXBpc29kZTtcbiAgc2ltaWxhcml0eTogbnVtYmVyO1xuICBtYXRjaFJlYXNvbjogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEVtYmVkZGluZ1Byb3ZpZGVyIHtcbiAgLyoqIEdlbmVyYXRlIGVtYmVkZGluZyB2ZWN0b3IgZm9yIHRleHQgKi9cbiAgZW1iZWQodGV4dDogc3RyaW5nKTogUHJvbWlzZTxudW1iZXJbXT47XG4gIC8qKiBEaW1lbnNpb24gb2YgZW1iZWRkaW5nIHZlY3RvcnMgKi9cbiAgZGltZW5zaW9uOiBudW1iZXI7XG4gIC8qKiBQcm92aWRlciBuYW1lIGZvciB0cmFja2luZyAqL1xuICBuYW1lOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRXBpc29kaWNNZW1vcnlDb25maWcge1xuICAvKiogTWF4aW11bSBlcGlzb2RlcyB0byBrZWVwICovXG4gIG1heEVwaXNvZGVzOiBudW1iZXI7XG4gIC8qKiBNYXhpbXVtIGxlYXJuZWQgYXBwcm9hY2hlcyB0byBrZWVwICovXG4gIG1heEFwcHJvYWNoZXM6IG51bWJlcjtcbiAgLyoqIFRlbXBvcmFsIGRlY2F5IGZhY3RvciAoMC0xLCBsb3dlciA9IGZhc3RlciBkZWNheSkgKi9cbiAgZGVjYXlGYWN0b3I6IG51bWJlcjtcbiAgLyoqIE1pbmltdW0gc2ltaWxhcml0eSBmb3Igc2VtYW50aWMgc2VhcmNoICgwLTEpICovXG4gIG1pblNpbWlsYXJpdHk6IG51bWJlcjtcbiAgLyoqIEVuYWJsZSBlbWJlZGRpbmctYmFzZWQgc2VhcmNoICovXG4gIHVzZUVtYmVkZGluZ3M6IGJvb2xlYW47XG4gIC8qKiBFbWJlZGRpbmcgcHJvdmlkZXIgKG9wdGlvbmFsKSAqL1xuICBlbWJlZGRpbmdQcm92aWRlcj86IEVtYmVkZGluZ1Byb3ZpZGVyO1xuICAvKiogU3RvcmFnZSBkaXJlY3RvcnkgKi9cbiAgc3RvcmFnZURpcjogc3RyaW5nO1xufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBUQVNLLVNQRUNJRklDIE9QVElNSVpBVElPTiBQUk9GSUxFU1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vKipcbiAqIE9wdGltaXphdGlvbiBwcm9maWxlIGZvciB0YXNrLXNwZWNpZmljIHNldHRpbmdzLlxuICogVXNlZCB0byBjb25maWd1cmUgUkwgdG91cm5hbWVudCBiZWhhdmlvciwgdmFsaWRhdGlvbiwgYW5kIGV4ZWN1dGlvbiBzdHJhdGVnaWVzXG4gKiBiYXNlZCBvbiBsZWFybmVkIHBhdHRlcm5zIGZyb20gc3VjY2Vzc2Z1bCBlcGlzb2Rlcy5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBPcHRpbWl6YXRpb25Qcm9maWxlIHtcbiAgaWQ6IHN0cmluZztcbiAgLyoqIENhdGVnb3J5IHRoaXMgcHJvZmlsZSBhcHBsaWVzIHRvICovXG4gIGNhdGVnb3J5OiBFcGlzb2RlQ2F0ZWdvcnk7XG4gIC8qKiBQb2xpY3kgbmFtZSBmb3IgaHVtYW4gcmVmZXJlbmNlICovXG4gIHBvbGljeU5hbWU6IHN0cmluZztcbiAgLyoqIFByZWZlcnJlZCB1cGdyYWRlIG1vZGUgZm9yIHRoaXMgY2F0ZWdvcnkgKi9cbiAgcHJlZmVycmVkTW9kZTogJ3NpbmdsZS1jb250aW51b3VzJyB8ICdkdWFsLXJsLWNvbnRpbnVvdXMnIHwgJ2R1YWwtcmwtdG91cm5hbWVudCc7XG4gIC8qKiBXaGV0aGVyIHRvIHVzZSBnaXQgd29ya3RyZWVzIGZvciBpc29sYXRpb24gKi9cbiAgdXNlR2l0V29ya3RyZWVzOiBib29sZWFuO1xuICAvKiogQ3VzdG9tIHJld2FyZCB3ZWlnaHRzIGZvciBSTCB0b3VybmFtZW50ICovXG4gIHJld2FyZFdlaWdodHM6IHtcbiAgICBleGVjdXRpb25TdWNjZXNzOiBudW1iZXI7XG4gICAgdGVzdHNQYXNzZWQ6IG51bWJlcjtcbiAgICBzdGF0aWNBbmFseXNpczogbnVtYmVyO1xuICAgIGNvZGVRdWFsaXR5OiBudW1iZXI7XG4gICAgYmxhc3RSYWRpdXM6IG51bWJlcjtcbiAgICBzZWxmQXNzZXNzbWVudDogbnVtYmVyO1xuICAgIHNwZWVkQm9udXM6IG51bWJlcjtcbiAgfTtcbiAgLyoqIFRvb2xzIHRoYXQgcGVyZm9ybSB3ZWxsIGZvciB0aGlzIGNhdGVnb3J5ICovXG4gIHByZWZlcnJlZFRvb2xzOiBzdHJpbmdbXTtcbiAgLyoqIFN1Y2Nlc3MgcmF0ZSB0aHJlc2hvbGQgZm9yIGF1dG8tYXBwcm92YWwgKi9cbiAgYXV0b0FwcHJvdmFsVGhyZXNob2xkOiBudW1iZXI7XG4gIC8qKiBOdW1iZXIgb2Ygc3VjY2Vzc2Z1bCBleGVjdXRpb25zICovXG4gIHN1Y2Nlc3NDb3VudDogbnVtYmVyO1xuICAvKiogTnVtYmVyIG9mIGZhaWxlZCBleGVjdXRpb25zICovXG4gIGZhaWx1cmVDb3VudDogbnVtYmVyO1xuICAvKiogTGFzdCB1cGRhdGUgdGltZXN0YW1wICovXG4gIHVwZGF0ZWRBdDogbnVtYmVyO1xufVxuXG4vKipcbiAqIERlZmF1bHQgcmV3YXJkIHdlaWdodHMgZm9yIGVhY2ggY2F0ZWdvcnlcbiAqL1xuY29uc3QgREVGQVVMVF9SRVdBUkRfV0VJR0hUUzogUmVjb3JkPEVwaXNvZGVDYXRlZ29yeSwgT3B0aW1pemF0aW9uUHJvZmlsZVsncmV3YXJkV2VpZ2h0cyddPiA9IHtcbiAgYnVnX2ZpeDoge1xuICAgIGV4ZWN1dGlvblN1Y2Nlc3M6IDAuMzAsXG4gICAgdGVzdHNQYXNzZWQ6IDAuMzUsXG4gICAgc3RhdGljQW5hbHlzaXM6IDAuMTAsXG4gICAgY29kZVF1YWxpdHk6IDAuMDUsXG4gICAgYmxhc3RSYWRpdXM6IDAuMTUsXG4gICAgc2VsZkFzc2Vzc21lbnQ6IDAuMDMsXG4gICAgc3BlZWRCb251czogMC4wMixcbiAgfSxcbiAgZmVhdHVyZV9hZGQ6IHtcbiAgICBleGVjdXRpb25TdWNjZXNzOiAwLjI1LFxuICAgIHRlc3RzUGFzc2VkOiAwLjI1LFxuICAgIHN0YXRpY0FuYWx5c2lzOiAwLjE1LFxuICAgIGNvZGVRdWFsaXR5OiAwLjE1LFxuICAgIGJsYXN0UmFkaXVzOiAwLjEwLFxuICAgIHNlbGZBc3Nlc3NtZW50OiAwLjA1LFxuICAgIHNwZWVkQm9udXM6IDAuMDUsXG4gIH0sXG4gIHJlZmFjdG9yOiB7XG4gICAgZXhlY3V0aW9uU3VjY2VzczogMC4yNSxcbiAgICB0ZXN0c1Bhc3NlZDogMC4zMCxcbiAgICBzdGF0aWNBbmFseXNpczogMC4yMCxcbiAgICBjb2RlUXVhbGl0eTogMC4xNSxcbiAgICBibGFzdFJhZGl1czogMC4wNSxcbiAgICBzZWxmQXNzZXNzbWVudDogMC4wMyxcbiAgICBzcGVlZEJvbnVzOiAwLjAyLFxuICB9LFxuICB0ZXN0X3dyaXRlOiB7XG4gICAgZXhlY3V0aW9uU3VjY2VzczogMC4zMCxcbiAgICB0ZXN0c1Bhc3NlZDogMC40MCxcbiAgICBzdGF0aWNBbmFseXNpczogMC4xMCxcbiAgICBjb2RlUXVhbGl0eTogMC4wNSxcbiAgICBibGFzdFJhZGl1czogMC4wNSxcbiAgICBzZWxmQXNzZXNzbWVudDogMC4wNSxcbiAgICBzcGVlZEJvbnVzOiAwLjA1LFxuICB9LFxuICBkb2N1bWVudGF0aW9uOiB7XG4gICAgZXhlY3V0aW9uU3VjY2VzczogMC4zNSxcbiAgICB0ZXN0c1Bhc3NlZDogMC4wNSxcbiAgICBzdGF0aWNBbmFseXNpczogMC4xMCxcbiAgICBjb2RlUXVhbGl0eTogMC4yMCxcbiAgICBibGFzdFJhZGl1czogMC4xMCxcbiAgICBzZWxmQXNzZXNzbWVudDogMC4xMCxcbiAgICBzcGVlZEJvbnVzOiAwLjEwLFxuICB9LFxuICBhbmFseXNpczoge1xuICAgIGV4ZWN1dGlvblN1Y2Nlc3M6IDAuNDAsXG4gICAgdGVzdHNQYXNzZWQ6IDAuMDUsXG4gICAgc3RhdGljQW5hbHlzaXM6IDAuMDUsXG4gICAgY29kZVF1YWxpdHk6IDAuMTAsXG4gICAgYmxhc3RSYWRpdXM6IDAuMDUsXG4gICAgc2VsZkFzc2Vzc21lbnQ6IDAuMjAsXG4gICAgc3BlZWRCb251czogMC4xNSxcbiAgfSxcbiAgY29uZmlndXJhdGlvbjoge1xuICAgIGV4ZWN1dGlvblN1Y2Nlc3M6IDAuMzUsXG4gICAgdGVzdHNQYXNzZWQ6IDAuMjAsXG4gICAgc3RhdGljQW5hbHlzaXM6IDAuMTUsXG4gICAgY29kZVF1YWxpdHk6IDAuMDUsXG4gICAgYmxhc3RSYWRpdXM6IDAuMTUsXG4gICAgc2VsZkFzc2Vzc21lbnQ6IDAuMDUsXG4gICAgc3BlZWRCb251czogMC4wNSxcbiAgfSxcbiAgZGVidWdnaW5nOiB7XG4gICAgZXhlY3V0aW9uU3VjY2VzczogMC4zNSxcbiAgICB0ZXN0c1Bhc3NlZDogMC4yNSxcbiAgICBzdGF0aWNBbmFseXNpczogMC4wNSxcbiAgICBjb2RlUXVhbGl0eTogMC4wNSxcbiAgICBibGFzdFJhZGl1czogMC4wNSxcbiAgICBzZWxmQXNzZXNzbWVudDogMC4xNSxcbiAgICBzcGVlZEJvbnVzOiAwLjEwLFxuICB9LFxuICBvcHRpbWl6YXRpb246IHtcbiAgICBleGVjdXRpb25TdWNjZXNzOiAwLjI1LFxuICAgIHRlc3RzUGFzc2VkOiAwLjI1LFxuICAgIHN0YXRpY0FuYWx5c2lzOiAwLjEwLFxuICAgIGNvZGVRdWFsaXR5OiAwLjE1LFxuICAgIGJsYXN0UmFkaXVzOiAwLjA1LFxuICAgIHNlbGZBc3Nlc3NtZW50OiAwLjA1LFxuICAgIHNwZWVkQm9udXM6IDAuMTUsXG4gIH0sXG4gIG1pZ3JhdGlvbjoge1xuICAgIGV4ZWN1dGlvblN1Y2Nlc3M6IDAuMzAsXG4gICAgdGVzdHNQYXNzZWQ6IDAuMzAsXG4gICAgc3RhdGljQW5hbHlzaXM6IDAuMTUsXG4gICAgY29kZVF1YWxpdHk6IDAuMDUsXG4gICAgYmxhc3RSYWRpdXM6IDAuMTAsXG4gICAgc2VsZkFzc2Vzc21lbnQ6IDAuMDUsXG4gICAgc3BlZWRCb251czogMC4wNSxcbiAgfSxcbiAgdW5rbm93bjoge1xuICAgIGV4ZWN1dGlvblN1Y2Nlc3M6IDAuMjUsXG4gICAgdGVzdHNQYXNzZWQ6IDAuMzAsXG4gICAgc3RhdGljQW5hbHlzaXM6IDAuMTUsXG4gICAgY29kZVF1YWxpdHk6IDAuMTAsXG4gICAgYmxhc3RSYWRpdXM6IDAuMTAsXG4gICAgc2VsZkFzc2Vzc21lbnQ6IDAuMDUsXG4gICAgc3BlZWRCb251czogMC4wNSxcbiAgfSxcbn07XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIERFRkFVTFQgRU1CRURESU5HIFBST1ZJREVSIChTaW1wbGUgVEYtSURGIHN0eWxlLCBubyBleHRlcm5hbCBkZXBzKVxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5jbGFzcyBTaW1wbGVFbWJlZGRpbmdQcm92aWRlciBpbXBsZW1lbnRzIEVtYmVkZGluZ1Byb3ZpZGVyIHtcbiAgcmVhZG9ubHkgZGltZW5zaW9uID0gMjU2O1xuICByZWFkb25seSBuYW1lID0gJ3NpbXBsZS10ZmlkZic7XG5cbiAgcHJpdmF0ZSB2b2NhYnVsYXJ5OiBNYXA8c3RyaW5nLCBudW1iZXI+ID0gbmV3IE1hcCgpO1xuICBwcml2YXRlIGlkZjogTWFwPHN0cmluZywgbnVtYmVyPiA9IG5ldyBNYXAoKTtcblxuICBhc3luYyBlbWJlZCh0ZXh0OiBzdHJpbmcpOiBQcm9taXNlPG51bWJlcltdPiB7XG4gICAgY29uc3QgdG9rZW5zID0gdGhpcy50b2tlbml6ZSh0ZXh0KTtcbiAgICBjb25zdCB2ZWN0b3IgPSBuZXcgQXJyYXkodGhpcy5kaW1lbnNpb24pLmZpbGwoMCk7XG5cbiAgICAvLyBTaW1wbGUgaGFzaC1iYXNlZCBlbWJlZGRpbmcgKGRldGVybWluaXN0aWMsIG5vIHRyYWluaW5nIG5lZWRlZClcbiAgICBmb3IgKGNvbnN0IHRva2VuIG9mIHRva2Vucykge1xuICAgICAgY29uc3QgaGFzaCA9IHRoaXMuaGFzaFRva2VuKHRva2VuKTtcbiAgICAgIGNvbnN0IGlkeCA9IE1hdGguYWJzKGhhc2gpICUgdGhpcy5kaW1lbnNpb247XG4gICAgICB2ZWN0b3JbaWR4XSArPSAxO1xuICAgIH1cblxuICAgIC8vIE5vcm1hbGl6ZSB0byB1bml0IHZlY3RvclxuICAgIGNvbnN0IG1hZ25pdHVkZSA9IE1hdGguc3FydCh2ZWN0b3IucmVkdWNlKChzdW0sIHYpID0+IHN1bSArIHYgKiB2LCAwKSk7XG4gICAgaWYgKG1hZ25pdHVkZSA+IDApIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmVjdG9yLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZlY3RvcltpXSAvPSBtYWduaXR1ZGU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHZlY3RvcjtcbiAgfVxuXG4gIHByaXZhdGUgdG9rZW5pemUodGV4dDogc3RyaW5nKTogc3RyaW5nW10ge1xuICAgIHJldHVybiB0ZXh0XG4gICAgICAudG9Mb3dlckNhc2UoKVxuICAgICAgLnJlcGxhY2UoL1teYS16MC05XFxzXS9nLCAnICcpXG4gICAgICAuc3BsaXQoL1xccysvKVxuICAgICAgLmZpbHRlcih0ID0+IHQubGVuZ3RoID4gMik7XG4gIH1cblxuICBwcml2YXRlIGhhc2hUb2tlbih0b2tlbjogc3RyaW5nKTogbnVtYmVyIHtcbiAgICBsZXQgaGFzaCA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0b2tlbi5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgY2hhciA9IHRva2VuLmNoYXJDb2RlQXQoaSk7XG4gICAgICBoYXNoID0gKChoYXNoIDw8IDUpIC0gaGFzaCkgKyBjaGFyO1xuICAgICAgaGFzaCA9IGhhc2ggJiBoYXNoOyAvLyBDb252ZXJ0IHRvIDMyLWJpdCBpbnRlZ2VyXG4gICAgfVxuICAgIHJldHVybiBoYXNoO1xuICB9XG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIEVQSVNPRElDIE1FTU9SWSBTWVNURU1cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuZXhwb3J0IGNsYXNzIEVwaXNvZGljTWVtb3J5IHtcbiAgcHJpdmF0ZSBjb25maWc6IEVwaXNvZGljTWVtb3J5Q29uZmlnO1xuICBwcml2YXRlIGVwaXNvZGVzOiBNYXA8c3RyaW5nLCBFcGlzb2RlPiA9IG5ldyBNYXAoKTtcbiAgcHJpdmF0ZSBhcHByb2FjaGVzOiBNYXA8c3RyaW5nLCBMZWFybmVkQXBwcm9hY2g+ID0gbmV3IE1hcCgpO1xuICBwcml2YXRlIG9wdGltaXphdGlvblByb2ZpbGVzOiBNYXA8RXBpc29kZUNhdGVnb3J5LCBPcHRpbWl6YXRpb25Qcm9maWxlPiA9IG5ldyBNYXAoKTtcbiAgcHJpdmF0ZSBlbWJlZGRpbmdQcm92aWRlcjogRW1iZWRkaW5nUHJvdmlkZXI7XG4gIHByaXZhdGUgZGlydHkgPSBmYWxzZTtcblxuICAvLyBJbi1tZW1vcnkgZXBpc29kZSBiZWluZyByZWNvcmRlZFxuICBwcml2YXRlIGN1cnJlbnRFcGlzb2RlOiBQYXJ0aWFsPEVwaXNvZGU+IHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgZXBpc29kZVRvb2xzVXNlZDogU2V0PHN0cmluZz4gPSBuZXcgU2V0KCk7XG4gIHByaXZhdGUgZXBpc29kZUZpbGVzTW9kaWZpZWQ6IFNldDxzdHJpbmc+ID0gbmV3IFNldCgpO1xuXG4gIGNvbnN0cnVjdG9yKGNvbmZpZzogUGFydGlhbDxFcGlzb2RpY01lbW9yeUNvbmZpZz4gPSB7fSkge1xuICAgIGNvbnN0IGRhdGFSb290ID0gcHJvY2Vzcy5lbnZbJ0VST1NPTEFSX0RBVEFfRElSJ10/LnRyaW0oKSB8fCBqb2luKGhvbWVkaXIoKSwgJy5hZ2knKTtcblxuICAgIHRoaXMuY29uZmlnID0ge1xuICAgICAgbWF4RXBpc29kZXM6IDEwMDAsXG4gICAgICBtYXhBcHByb2FjaGVzOiAyMDAsXG4gICAgICBkZWNheUZhY3RvcjogMC45NSxcbiAgICAgIG1pblNpbWlsYXJpdHk6IDAuMyxcbiAgICAgIHVzZUVtYmVkZGluZ3M6IHRydWUsXG4gICAgICBzdG9yYWdlRGlyOiBqb2luKGRhdGFSb290LCAnZXBpc29kaWMtbWVtb3J5JyksXG4gICAgICAuLi5jb25maWcsXG4gICAgfTtcblxuICAgIHRoaXMuZW1iZWRkaW5nUHJvdmlkZXIgPSBjb25maWcuZW1iZWRkaW5nUHJvdmlkZXIgfHwgbmV3IFNpbXBsZUVtYmVkZGluZ1Byb3ZpZGVyKCk7XG4gICAgdGhpcy5sb2FkKCk7XG4gIH1cblxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBFUElTT0RFIExJRkVDWUNMRVxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIC8qKlxuICAgKiBTdGFydCByZWNvcmRpbmcgYSBuZXcgZXBpc29kZVxuICAgKi9cbiAgc3RhcnRFcGlzb2RlKGludGVudDogc3RyaW5nLCBzZXNzaW9uSWQ6IHN0cmluZywgY2F0ZWdvcnk/OiBFcGlzb2RlQ2F0ZWdvcnkpOiBzdHJpbmcge1xuICAgIGNvbnN0IGlkID0gdGhpcy5nZW5lcmF0ZUlkKCk7XG5cbiAgICB0aGlzLmN1cnJlbnRFcGlzb2RlID0ge1xuICAgICAgaWQsXG4gICAgICBzZXNzaW9uSWQsXG4gICAgICBzdGFydFRpbWU6IERhdGUubm93KCksXG4gICAgICBpbnRlbnQsXG4gICAgICBjYXRlZ29yeTogY2F0ZWdvcnkgfHwgdGhpcy5pbmZlckNhdGVnb3J5KGludGVudCksXG4gICAgICB0b29sc1VzZWQ6IFtdLFxuICAgICAgZmlsZXNNb2RpZmllZDogW10sXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgIHN1bW1hcnk6ICcnLFxuICAgICAgdGFnczogdGhpcy5leHRyYWN0VGFncyhpbnRlbnQpLFxuICAgICAgcmV0cmlldmFsQ291bnQ6IDAsXG4gICAgICBsYXN0UmV0cmlldmVkOiAwLFxuICAgIH07XG5cbiAgICB0aGlzLmVwaXNvZGVUb29sc1VzZWQuY2xlYXIoKTtcbiAgICB0aGlzLmVwaXNvZGVGaWxlc01vZGlmaWVkLmNsZWFyKCk7XG5cbiAgICByZXR1cm4gaWQ7XG4gIH1cblxuICAvKipcbiAgICogUmVjb3JkIHRvb2wgdXNhZ2Ugd2l0aGluIGN1cnJlbnQgZXBpc29kZVxuICAgKi9cbiAgcmVjb3JkVG9vbFVzZSh0b29sTmFtZTogc3RyaW5nKTogdm9pZCB7XG4gICAgdGhpcy5lcGlzb2RlVG9vbHNVc2VkLmFkZCh0b29sTmFtZSk7XG4gIH1cblxuICAvKipcbiAgICogUmVjb3JkIGZpbGUgbW9kaWZpY2F0aW9uIHdpdGhpbiBjdXJyZW50IGVwaXNvZGVcbiAgICovXG4gIHJlY29yZEZpbGVNb2RpZmljYXRpb24oZmlsZVBhdGg6IHN0cmluZyk6IHZvaWQge1xuICAgIHRoaXMuZXBpc29kZUZpbGVzTW9kaWZpZWQuYWRkKGZpbGVQYXRoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFbmQgY3VycmVudCBlcGlzb2RlIGFuZCBzYXZlIHRvIG1lbW9yeVxuICAgKi9cbiAgYXN5bmMgZW5kRXBpc29kZShzdWNjZXNzOiBib29sZWFuLCBzdW1tYXJ5OiBzdHJpbmcpOiBQcm9taXNlPEVwaXNvZGUgfCBudWxsPiB7XG4gICAgaWYgKCF0aGlzLmN1cnJlbnRFcGlzb2RlKSByZXR1cm4gbnVsbDtcblxuICAgIGNvbnN0IGVwaXNvZGU6IEVwaXNvZGUgPSB7XG4gICAgICAuLi50aGlzLmN1cnJlbnRFcGlzb2RlIGFzIEVwaXNvZGUsXG4gICAgICBlbmRUaW1lOiBEYXRlLm5vdygpLFxuICAgICAgc3VjY2VzcyxcbiAgICAgIHN1bW1hcnksXG4gICAgICB0b29sc1VzZWQ6IEFycmF5LmZyb20odGhpcy5lcGlzb2RlVG9vbHNVc2VkKSxcbiAgICAgIGZpbGVzTW9kaWZpZWQ6IEFycmF5LmZyb20odGhpcy5lcGlzb2RlRmlsZXNNb2RpZmllZCksXG4gICAgfTtcblxuICAgIC8vIEdlbmVyYXRlIGVtYmVkZGluZyBmb3Igc2VtYW50aWMgc2VhcmNoXG4gICAgaWYgKHRoaXMuY29uZmlnLnVzZUVtYmVkZGluZ3MpIHtcbiAgICAgIGNvbnN0IHRleHRGb3JFbWJlZGRpbmcgPSBgJHtlcGlzb2RlLmludGVudH0gJHtlcGlzb2RlLnN1bW1hcnl9ICR7ZXBpc29kZS50YWdzLmpvaW4oJyAnKX1gO1xuICAgICAgZXBpc29kZS5lbWJlZGRpbmcgPSBhd2FpdCB0aGlzLmVtYmVkZGluZ1Byb3ZpZGVyLmVtYmVkKHRleHRGb3JFbWJlZGRpbmcpO1xuICAgIH1cblxuICAgIHRoaXMuZXBpc29kZXMuc2V0KGVwaXNvZGUuaWQsIGVwaXNvZGUpO1xuICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuXG4gICAgLy8gTGVhcm4gZnJvbSBzdWNjZXNzZnVsIGVwaXNvZGVzXG4gICAgaWYgKHN1Y2Nlc3MpIHtcbiAgICAgIGF3YWl0IHRoaXMubGVhcm5Gcm9tRXBpc29kZShlcGlzb2RlKTtcbiAgICB9XG5cbiAgICAvLyBQcnVuZSBpZiBuZWVkZWRcbiAgICB0aGlzLnBydW5lRXBpc29kZXMoKTtcblxuICAgIC8vIENsZWFyIGN1cnJlbnQgZXBpc29kZVxuICAgIHRoaXMuY3VycmVudEVwaXNvZGUgPSBudWxsO1xuICAgIHRoaXMuZXBpc29kZVRvb2xzVXNlZC5jbGVhcigpO1xuICAgIHRoaXMuZXBpc29kZUZpbGVzTW9kaWZpZWQuY2xlYXIoKTtcblxuICAgIC8vIEF1dG8tc2F2ZVxuICAgIHRoaXMuc2F2ZSgpO1xuXG4gICAgcmV0dXJuIGVwaXNvZGU7XG4gIH1cblxuICAvKipcbiAgICogQWJvcnQgY3VycmVudCBlcGlzb2RlIHdpdGhvdXQgc2F2aW5nXG4gICAqL1xuICBhYm9ydEVwaXNvZGUoKTogdm9pZCB7XG4gICAgdGhpcy5jdXJyZW50RXBpc29kZSA9IG51bGw7XG4gICAgdGhpcy5lcGlzb2RlVG9vbHNVc2VkLmNsZWFyKCk7XG4gICAgdGhpcy5lcGlzb2RlRmlsZXNNb2RpZmllZC5jbGVhcigpO1xuICB9XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gUkVUUklFVkFMICYgU0VBUkNIXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgLyoqXG4gICAqIFNlYXJjaCBmb3Igc2ltaWxhciBwYXN0IGVwaXNvZGVzXG4gICAqL1xuICBhc3luYyBzZWFyY2gocXVlcnk6IE1lbW9yeVF1ZXJ5KTogUHJvbWlzZTxNZW1vcnlTZWFyY2hSZXN1bHRbXT4ge1xuICAgIGNvbnN0IHJlc3VsdHM6IE1lbW9yeVNlYXJjaFJlc3VsdFtdID0gW107XG4gICAgY29uc3QgbGltaXQgPSBxdWVyeS5saW1pdCB8fCAxMDtcblxuICAgIC8vIEdlbmVyYXRlIHF1ZXJ5IGVtYmVkZGluZyBpZiB1c2luZyBlbWJlZGRpbmdzXG4gICAgbGV0IHF1ZXJ5RW1iZWRkaW5nOiBudW1iZXJbXSB8IG51bGwgPSBudWxsO1xuICAgIGlmICh0aGlzLmNvbmZpZy51c2VFbWJlZGRpbmdzKSB7XG4gICAgICBxdWVyeUVtYmVkZGluZyA9IGF3YWl0IHRoaXMuZW1iZWRkaW5nUHJvdmlkZXIuZW1iZWQocXVlcnkucXVlcnkpO1xuICAgIH1cblxuICAgIGZvciAoY29uc3QgZXBpc29kZSBvZiB0aGlzLmVwaXNvZGVzLnZhbHVlcygpKSB7XG4gICAgICAvLyBBcHBseSBmaWx0ZXJzXG4gICAgICBpZiAocXVlcnkuY2F0ZWdvcnkgJiYgZXBpc29kZS5jYXRlZ29yeSAhPT0gcXVlcnkuY2F0ZWdvcnkpIGNvbnRpbnVlO1xuICAgICAgaWYgKHF1ZXJ5LnN1Y2Nlc3NPbmx5ICYmICFlcGlzb2RlLnN1Y2Nlc3MpIGNvbnRpbnVlO1xuICAgICAgaWYgKHF1ZXJ5LnNpbmNlICYmIGVwaXNvZGUuc3RhcnRUaW1lIDwgcXVlcnkuc2luY2UpIGNvbnRpbnVlO1xuICAgICAgaWYgKHF1ZXJ5LnRhZ3MgJiYgIXF1ZXJ5LnRhZ3Muc29tZSh0ID0+IGVwaXNvZGUudGFncy5pbmNsdWRlcyh0KSkpIGNvbnRpbnVlO1xuXG4gICAgICAvLyBDYWxjdWxhdGUgc2ltaWxhcml0eVxuICAgICAgbGV0IHNpbWlsYXJpdHkgPSAwO1xuICAgICAgbGV0IG1hdGNoUmVhc29uID0gJyc7XG5cbiAgICAgIGlmIChxdWVyeUVtYmVkZGluZyAmJiBlcGlzb2RlLmVtYmVkZGluZykge1xuICAgICAgICAvLyBDb3NpbmUgc2ltaWxhcml0eSBmb3IgZW1iZWRkaW5nc1xuICAgICAgICBzaW1pbGFyaXR5ID0gdGhpcy5jb3NpbmVTaW1pbGFyaXR5KHF1ZXJ5RW1iZWRkaW5nLCBlcGlzb2RlLmVtYmVkZGluZyk7XG4gICAgICAgIG1hdGNoUmVhc29uID0gJ3NlbWFudGljIHNpbWlsYXJpdHknO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRmFsbGJhY2sgdG8ga2V5d29yZCBtYXRjaGluZ1xuICAgICAgICBzaW1pbGFyaXR5ID0gdGhpcy5rZXl3b3JkU2ltaWxhcml0eShxdWVyeS5xdWVyeSwgZXBpc29kZS5pbnRlbnQgKyAnICcgKyBlcGlzb2RlLnN1bW1hcnkpO1xuICAgICAgICBtYXRjaFJlYXNvbiA9ICdrZXl3b3JkIG1hdGNoJztcbiAgICAgIH1cblxuICAgICAgLy8gQXBwbHkgdGVtcG9yYWwgZGVjYXlcbiAgICAgIGNvbnN0IGFnZUluRGF5cyA9IChEYXRlLm5vdygpIC0gZXBpc29kZS5lbmRUaW1lKSAvICgxMDAwICogNjAgKiA2MCAqIDI0KTtcbiAgICAgIGNvbnN0IGRlY2F5ZWRTaW1pbGFyaXR5ID0gc2ltaWxhcml0eSAqIE1hdGgucG93KHRoaXMuY29uZmlnLmRlY2F5RmFjdG9yLCBhZ2VJbkRheXMgLyAzMCk7XG5cbiAgICAgIC8vIEJvb3N0IGZvciBwb3B1bGFyaXR5XG4gICAgICBjb25zdCBwb3B1bGFyaXR5Qm9vc3QgPSAxICsgKGVwaXNvZGUucmV0cmlldmFsQ291bnQgKiAwLjAxKTtcbiAgICAgIGNvbnN0IGZpbmFsU2ltaWxhcml0eSA9IGRlY2F5ZWRTaW1pbGFyaXR5ICogcG9wdWxhcml0eUJvb3N0O1xuXG4gICAgICBpZiAoZmluYWxTaW1pbGFyaXR5ID49IChxdWVyeS5taW5TaW1pbGFyaXR5IHx8IHRoaXMuY29uZmlnLm1pblNpbWlsYXJpdHkpKSB7XG4gICAgICAgIHJlc3VsdHMucHVzaCh7XG4gICAgICAgICAgZXBpc29kZSxcbiAgICAgICAgICBzaW1pbGFyaXR5OiBmaW5hbFNpbWlsYXJpdHksXG4gICAgICAgICAgbWF0Y2hSZWFzb24sXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFNvcnQgYnkgc2ltaWxhcml0eSBhbmQgbGltaXRcbiAgICByZXN1bHRzLnNvcnQoKGEsIGIpID0+IGIuc2ltaWxhcml0eSAtIGEuc2ltaWxhcml0eSk7XG4gICAgY29uc3QgdG9wUmVzdWx0cyA9IHJlc3VsdHMuc2xpY2UoMCwgbGltaXQpO1xuXG4gICAgLy8gVXBkYXRlIHJldHJpZXZhbCBjb3VudHNcbiAgICBmb3IgKGNvbnN0IHJlc3VsdCBvZiB0b3BSZXN1bHRzKSB7XG4gICAgICByZXN1bHQuZXBpc29kZS5yZXRyaWV2YWxDb3VudCsrO1xuICAgICAgcmVzdWx0LmVwaXNvZGUubGFzdFJldHJpZXZlZCA9IERhdGUubm93KCk7XG4gICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdG9wUmVzdWx0cztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgbGVhcm5lZCBhcHByb2FjaCBmb3IgYSB0YXNrXG4gICAqL1xuICBhc3luYyBnZXRBcHByb2FjaChpbnRlbnQ6IHN0cmluZyk6IFByb21pc2U8TGVhcm5lZEFwcHJvYWNoIHwgbnVsbD4ge1xuICAgIGNvbnN0IGtleXdvcmRzID0gdGhpcy5leHRyYWN0S2V5d29yZHMoaW50ZW50KTtcblxuICAgIC8vIEZpcnN0IHRyeSBleGFjdCBrZXl3b3JkIG1hdGNoXG4gICAgZm9yIChjb25zdCBhcHByb2FjaCBvZiB0aGlzLmFwcHJvYWNoZXMudmFsdWVzKCkpIHtcbiAgICAgIGNvbnN0IG92ZXJsYXBDb3VudCA9IGtleXdvcmRzLmZpbHRlcihrID0+IGFwcHJvYWNoLmtleXdvcmRzLmluY2x1ZGVzKGspKS5sZW5ndGg7XG4gICAgICBpZiAob3ZlcmxhcENvdW50ID49IE1hdGgubWluKDMsIGtleXdvcmRzLmxlbmd0aCAqIDAuNSkpIHtcbiAgICAgICAgcmV0dXJuIGFwcHJvYWNoO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFRyeSBzZW1hbnRpYyBzZWFyY2ggaWYgZW1iZWRkaW5ncyBlbmFibGVkXG4gICAgaWYgKHRoaXMuY29uZmlnLnVzZUVtYmVkZGluZ3MpIHtcbiAgICAgIGNvbnN0IHF1ZXJ5RW1iZWRkaW5nID0gYXdhaXQgdGhpcy5lbWJlZGRpbmdQcm92aWRlci5lbWJlZChpbnRlbnQpO1xuICAgICAgbGV0IGJlc3RNYXRjaDogTGVhcm5lZEFwcHJvYWNoIHwgbnVsbCA9IG51bGw7XG4gICAgICBsZXQgYmVzdFNpbWlsYXJpdHkgPSAwO1xuXG4gICAgICBmb3IgKGNvbnN0IGFwcHJvYWNoIG9mIHRoaXMuYXBwcm9hY2hlcy52YWx1ZXMoKSkge1xuICAgICAgICBpZiAoYXBwcm9hY2guZW1iZWRkaW5nKSB7XG4gICAgICAgICAgY29uc3Qgc2ltaWxhcml0eSA9IHRoaXMuY29zaW5lU2ltaWxhcml0eShxdWVyeUVtYmVkZGluZywgYXBwcm9hY2guZW1iZWRkaW5nKTtcbiAgICAgICAgICBpZiAoc2ltaWxhcml0eSA+IGJlc3RTaW1pbGFyaXR5ICYmIHNpbWlsYXJpdHkgPj0gdGhpcy5jb25maWcubWluU2ltaWxhcml0eSkge1xuICAgICAgICAgICAgYmVzdFNpbWlsYXJpdHkgPSBzaW1pbGFyaXR5O1xuICAgICAgICAgICAgYmVzdE1hdGNoID0gYXBwcm9hY2g7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBiZXN0TWF0Y2g7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHJlY2VudCBlcGlzb2RlcyBmb3IgY29udGV4dFxuICAgKi9cbiAgZ2V0UmVjZW50RXBpc29kZXMobGltaXQgPSA1LCBzZXNzaW9uSWQ/OiBzdHJpbmcpOiBFcGlzb2RlW10ge1xuICAgIGNvbnN0IGVwaXNvZGVzID0gQXJyYXkuZnJvbSh0aGlzLmVwaXNvZGVzLnZhbHVlcygpKTtcblxuICAgIGNvbnN0IGZpbHRlcmVkID0gc2Vzc2lvbklkXG4gICAgICA/IGVwaXNvZGVzLmZpbHRlcihlID0+IGUuc2Vzc2lvbklkID09PSBzZXNzaW9uSWQpXG4gICAgICA6IGVwaXNvZGVzO1xuXG4gICAgcmV0dXJuIGZpbHRlcmVkXG4gICAgICAuc29ydCgoYSwgYikgPT4gYi5lbmRUaW1lIC0gYS5lbmRUaW1lKVxuICAgICAgLnNsaWNlKDAsIGxpbWl0KTtcbiAgfVxuXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vIExFQVJOSU5HXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgLyoqXG4gICAqIExlYXJuIHBhdHRlcm5zIGZyb20gYSBzdWNjZXNzZnVsIGVwaXNvZGVcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgbGVhcm5Gcm9tRXBpc29kZShlcGlzb2RlOiBFcGlzb2RlKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3Qga2V5d29yZHMgPSB0aGlzLmV4dHJhY3RLZXl3b3JkcyhlcGlzb2RlLmludGVudCk7XG4gICAgY29uc3QgYXBwcm9hY2hLZXkgPSBrZXl3b3Jkcy5zb3J0KCkuam9pbignXycpO1xuXG4gICAgY29uc3QgZXhpc3RpbmcgPSB0aGlzLmFwcHJvYWNoZXMuZ2V0KGFwcHJvYWNoS2V5KTtcblxuICAgIGlmIChleGlzdGluZykge1xuICAgICAgLy8gVXBkYXRlIGV4aXN0aW5nIGFwcHJvYWNoXG4gICAgICBleGlzdGluZy51c2VDb3VudCsrO1xuICAgICAgZXhpc3Rpbmcuc3VjY2Vzc1JhdGUgPSAoZXhpc3Rpbmcuc3VjY2Vzc1JhdGUgKiAoZXhpc3RpbmcudXNlQ291bnQgLSAxKSArIDEpIC8gZXhpc3RpbmcudXNlQ291bnQ7XG4gICAgICBleGlzdGluZy5zb3VyY2VFcGlzb2Rlcy5wdXNoKGVwaXNvZGUuaWQpO1xuICAgICAgZXhpc3RpbmcudG9vbHMgPSBbLi4ubmV3IFNldChbLi4uZXhpc3RpbmcudG9vbHMsIC4uLmVwaXNvZGUudG9vbHNVc2VkXSldO1xuICAgICAgZXhpc3RpbmcudXBkYXRlZEF0ID0gRGF0ZS5ub3coKTtcblxuICAgICAgLy8gUmUtY29tcHV0ZSBlbWJlZGRpbmdcbiAgICAgIGlmICh0aGlzLmNvbmZpZy51c2VFbWJlZGRpbmdzKSB7XG4gICAgICAgIGV4aXN0aW5nLmVtYmVkZGluZyA9IGF3YWl0IHRoaXMuZW1iZWRkaW5nUHJvdmlkZXIuZW1iZWQoZXhpc3RpbmcudHJpZ2dlclBhdHRlcm4pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBDcmVhdGUgbmV3IGFwcHJvYWNoXG4gICAgICBjb25zdCBhcHByb2FjaDogTGVhcm5lZEFwcHJvYWNoID0ge1xuICAgICAgICBpZDogdGhpcy5nZW5lcmF0ZUlkKCksXG4gICAgICAgIHRyaWdnZXJQYXR0ZXJuOiBlcGlzb2RlLmludGVudCxcbiAgICAgICAga2V5d29yZHMsXG4gICAgICAgIGFwcHJvYWNoOiBbZXBpc29kZS5zdW1tYXJ5XSxcbiAgICAgICAgdG9vbHM6IGVwaXNvZGUudG9vbHNVc2VkLFxuICAgICAgICBzdWNjZXNzUmF0ZTogMSxcbiAgICAgICAgdXNlQ291bnQ6IDEsXG4gICAgICAgIHNvdXJjZUVwaXNvZGVzOiBbZXBpc29kZS5pZF0sXG4gICAgICAgIHVwZGF0ZWRBdDogRGF0ZS5ub3coKSxcbiAgICAgIH07XG5cbiAgICAgIGlmICh0aGlzLmNvbmZpZy51c2VFbWJlZGRpbmdzKSB7XG4gICAgICAgIGFwcHJvYWNoLmVtYmVkZGluZyA9IGF3YWl0IHRoaXMuZW1iZWRkaW5nUHJvdmlkZXIuZW1iZWQoYXBwcm9hY2gudHJpZ2dlclBhdHRlcm4pO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmFwcHJvYWNoZXMuc2V0KGFwcHJvYWNoS2V5LCBhcHByb2FjaCk7XG4gICAgfVxuXG4gICAgdGhpcy5wcnVuZUFwcHJvYWNoZXMoKTtcbiAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWNvcmQgYXBwcm9hY2ggZmFpbHVyZSB0byB1cGRhdGUgc3VjY2VzcyByYXRlXG4gICAqL1xuICByZWNvcmRBcHByb2FjaEZhaWx1cmUoYXBwcm9hY2hJZDogc3RyaW5nKTogdm9pZCB7XG4gICAgZm9yIChjb25zdCBhcHByb2FjaCBvZiB0aGlzLmFwcHJvYWNoZXMudmFsdWVzKCkpIHtcbiAgICAgIGlmIChhcHByb2FjaC5pZCA9PT0gYXBwcm9hY2hJZCkge1xuICAgICAgICBhcHByb2FjaC51c2VDb3VudCsrO1xuICAgICAgICBhcHByb2FjaC5zdWNjZXNzUmF0ZSA9IChhcHByb2FjaC5zdWNjZXNzUmF0ZSAqIChhcHByb2FjaC51c2VDb3VudCAtIDEpKSAvIGFwcHJvYWNoLnVzZUNvdW50O1xuICAgICAgICBhcHByb2FjaC51cGRhdGVkQXQgPSBEYXRlLm5vdygpO1xuICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gSEVMUEVSU1xuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIHByaXZhdGUgZ2VuZXJhdGVJZCgpOiBzdHJpbmcge1xuICAgIGNvbnN0IHRpbWVzdGFtcCA9IERhdGUubm93KCkudG9TdHJpbmcoMzYpO1xuICAgIGNvbnN0IHJhbmRvbSA9IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnNsaWNlKDIsIDgpO1xuICAgIHJldHVybiBgZXBfJHt0aW1lc3RhbXB9XyR7cmFuZG9tfWA7XG4gIH1cblxuICBwcml2YXRlIGluZmVyQ2F0ZWdvcnkoaW50ZW50OiBzdHJpbmcpOiBFcGlzb2RlQ2F0ZWdvcnkge1xuICAgIGNvbnN0IGxvd2VyID0gaW50ZW50LnRvTG93ZXJDYXNlKCk7XG5cbiAgICBpZiAoL1xcYihmaXh8YnVnfGVycm9yfGlzc3VlfGNyYXNofGJyb2tlbilcXGIvLnRlc3QobG93ZXIpKSByZXR1cm4gJ2J1Z19maXgnO1xuICAgIGlmICgvXFxiKGFkZHxmZWF0dXJlfGltcGxlbWVudHxjcmVhdGV8bmV3KVxcYi8udGVzdChsb3dlcikpIHJldHVybiAnZmVhdHVyZV9hZGQnO1xuICAgIGlmICgvXFxiKHJlZmFjdG9yfGNsZWFufHJlb3JnYW5pemV8cmVzdHJ1Y3R1cmUpXFxiLy50ZXN0KGxvd2VyKSkgcmV0dXJuICdyZWZhY3Rvcic7XG4gICAgaWYgKC9cXGIodGVzdHxzcGVjfGNvdmVyYWdlKVxcYi8udGVzdChsb3dlcikpIHJldHVybiAndGVzdF93cml0ZSc7XG4gICAgaWYgKC9cXGIoZG9jfHJlYWRtZXxjb21tZW50fGV4cGxhaW4pXFxiLy50ZXN0KGxvd2VyKSkgcmV0dXJuICdkb2N1bWVudGF0aW9uJztcbiAgICBpZiAoL1xcYihhbmFseXp8dW5kZXJzdGFuZHxleHBsb3JlfGludmVzdGlnYXRlKVxcYi8udGVzdChsb3dlcikpIHJldHVybiAnYW5hbHlzaXMnO1xuICAgIGlmICgvXFxiKGNvbmZpZ3xzZXR1cHxpbnN0YWxsfGVudilcXGIvLnRlc3QobG93ZXIpKSByZXR1cm4gJ2NvbmZpZ3VyYXRpb24nO1xuICAgIGlmICgvXFxiKGRlYnVnfHRyYWNlfGxvZ3xpbnNwZWN0KVxcYi8udGVzdChsb3dlcikpIHJldHVybiAnZGVidWdnaW5nJztcbiAgICBpZiAoL1xcYihvcHRpbXxwZXJmfHNwZWVkfGZhc3QpXFxiLy50ZXN0KGxvd2VyKSkgcmV0dXJuICdvcHRpbWl6YXRpb24nO1xuICAgIGlmICgvXFxiKG1pZ3JhdHx1cGdyYWR8dXBkYXRlfGNvbnZlcnQpXFxiLy50ZXN0KGxvd2VyKSkgcmV0dXJuICdtaWdyYXRpb24nO1xuXG4gICAgcmV0dXJuICd1bmtub3duJztcbiAgfVxuXG4gIHByaXZhdGUgZXh0cmFjdFRhZ3ModGV4dDogc3RyaW5nKTogc3RyaW5nW10ge1xuICAgIGNvbnN0IHRhZ3M6IHN0cmluZ1tdID0gW107XG4gICAgY29uc3QgbG93ZXIgPSB0ZXh0LnRvTG93ZXJDYXNlKCk7XG5cbiAgICAvLyBFeHRyYWN0IHRlY2hub2xvZ3kgdGFnc1xuICAgIGNvbnN0IHRlY2hQYXR0ZXJuczogUmVjb3JkPHN0cmluZywgUmVnRXhwPiA9IHtcbiAgICAgIHR5cGVzY3JpcHQ6IC9cXGJ0eXBlc2NyaXB0XFxifFxcXFwudHN4P1xcYi8sXG4gICAgICBqYXZhc2NyaXB0OiAvXFxiamF2YXNjcmlwdFxcYnxcXFxcLmpzeD9cXGIvLFxuICAgICAgcHl0aG9uOiAvXFxicHl0aG9uXFxifFxcXFwucHlcXGIvLFxuICAgICAgcmVhY3Q6IC9cXGJyZWFjdFxcYi8sXG4gICAgICBub2RlOiAvXFxibm9kZVxcLj9qcz9cXGIvLFxuICAgICAgYXBpOiAvXFxiYXBpXFxifFxcYnJlc3RcXGJ8XFxiZ3JhcGhxbFxcYi8sXG4gICAgICBkYXRhYmFzZTogL1xcYmRiXFxifFxcYmRhdGFiYXNlXFxifFxcYnNxbFxcYnxcXGJtb25nb1xcYi8sXG4gICAgICB0ZXN0OiAvXFxidGVzdFxcYnxcXGJzcGVjXFxifFxcYmplc3RcXGJ8XFxidml0ZXN0XFxiLyxcbiAgICAgIGdpdDogL1xcYmdpdFxcYnxcXGJjb21taXRcXGJ8XFxiYnJhbmNoXFxiLyxcbiAgICB9O1xuXG4gICAgZm9yIChjb25zdCBbdGFnLCBwYXR0ZXJuXSBvZiBPYmplY3QuZW50cmllcyh0ZWNoUGF0dGVybnMpKSB7XG4gICAgICBpZiAocGF0dGVybi50ZXN0KGxvd2VyKSkge1xuICAgICAgICB0YWdzLnB1c2godGFnKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGFncztcbiAgfVxuXG4gIHByaXZhdGUgZXh0cmFjdEtleXdvcmRzKHRleHQ6IHN0cmluZyk6IHN0cmluZ1tdIHtcbiAgICByZXR1cm4gdGV4dFxuICAgICAgLnRvTG93ZXJDYXNlKClcbiAgICAgIC5yZXBsYWNlKC9bXmEtejAtOVxcc10vZywgJyAnKVxuICAgICAgLnNwbGl0KC9cXHMrLylcbiAgICAgIC5maWx0ZXIodyA9PiB3Lmxlbmd0aCA+IDMpXG4gICAgICAuZmlsdGVyKHcgPT4gIVsndGhpcycsICd0aGF0JywgJ3dpdGgnLCAnZnJvbScsICdoYXZlJywgJ3dpbGwnLCAnd291bGQnLCAnY291bGQnLCAnc2hvdWxkJ10uaW5jbHVkZXModykpO1xuICB9XG5cbiAgcHJpdmF0ZSBjb3NpbmVTaW1pbGFyaXR5KGE6IG51bWJlcltdLCBiOiBudW1iZXJbXSk6IG51bWJlciB7XG4gICAgaWYgKGEubGVuZ3RoICE9PSBiLmxlbmd0aCkgcmV0dXJuIDA7XG5cbiAgICBsZXQgZG90UHJvZHVjdCA9IDA7XG4gICAgbGV0IG1hZ25pdHVkZUEgPSAwO1xuICAgIGxldCBtYWduaXR1ZGVCID0gMDtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYS5sZW5ndGg7IGkrKykge1xuICAgICAgZG90UHJvZHVjdCArPSBhW2ldICogYltpXTtcbiAgICAgIG1hZ25pdHVkZUEgKz0gYVtpXSAqIGFbaV07XG4gICAgICBtYWduaXR1ZGVCICs9IGJbaV0gKiBiW2ldO1xuICAgIH1cblxuICAgIGNvbnN0IG1hZ25pdHVkZSA9IE1hdGguc3FydChtYWduaXR1ZGVBKSAqIE1hdGguc3FydChtYWduaXR1ZGVCKTtcbiAgICByZXR1cm4gbWFnbml0dWRlID09PSAwID8gMCA6IGRvdFByb2R1Y3QgLyBtYWduaXR1ZGU7XG4gIH1cblxuICBwcml2YXRlIGtleXdvcmRTaW1pbGFyaXR5KHF1ZXJ5OiBzdHJpbmcsIHRleHQ6IHN0cmluZyk6IG51bWJlciB7XG4gICAgY29uc3QgcXVlcnlXb3JkcyA9IG5ldyBTZXQodGhpcy5leHRyYWN0S2V5d29yZHMocXVlcnkpKTtcbiAgICBjb25zdCB0ZXh0V29yZHMgPSBuZXcgU2V0KHRoaXMuZXh0cmFjdEtleXdvcmRzKHRleHQpKTtcblxuICAgIGlmIChxdWVyeVdvcmRzLnNpemUgPT09IDAgfHwgdGV4dFdvcmRzLnNpemUgPT09IDApIHJldHVybiAwO1xuXG4gICAgbGV0IG1hdGNoZXMgPSAwO1xuICAgIGZvciAoY29uc3Qgd29yZCBvZiBxdWVyeVdvcmRzKSB7XG4gICAgICBpZiAodGV4dFdvcmRzLmhhcyh3b3JkKSkgbWF0Y2hlcysrO1xuICAgIH1cblxuICAgIHJldHVybiBtYXRjaGVzIC8gcXVlcnlXb3Jkcy5zaXplO1xuICB9XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gT1BUSU1JWkFUSU9OIFBST0ZJTEVTXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgLyoqXG4gICAqIEdldCBvciBjcmVhdGUgYW4gb3B0aW1pemF0aW9uIHByb2ZpbGUgZm9yIGEgY2F0ZWdvcnkuXG4gICAqIFVzZWQgYnkgdGhlIFJMIHRvdXJuYW1lbnQgc3lzdGVtIHRvIGdldCB0YXNrLXNwZWNpZmljIHNldHRpbmdzLlxuICAgKi9cbiAgZ2V0T3B0aW1pemF0aW9uUHJvZmlsZShjYXRlZ29yeTogRXBpc29kZUNhdGVnb3J5LCBwb2xpY3lOYW1lPzogc3RyaW5nKTogT3B0aW1pemF0aW9uUHJvZmlsZSB7XG4gICAgY29uc3QgZXhpc3RpbmcgPSB0aGlzLm9wdGltaXphdGlvblByb2ZpbGVzLmdldChjYXRlZ29yeSk7XG4gICAgaWYgKGV4aXN0aW5nKSB7XG4gICAgICByZXR1cm4gZXhpc3Rpbmc7XG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIGRlZmF1bHQgcHJvZmlsZSBmb3IgdGhpcyBjYXRlZ29yeVxuICAgIGNvbnN0IHByb2ZpbGU6IE9wdGltaXphdGlvblByb2ZpbGUgPSB7XG4gICAgICBpZDogYHByb2ZpbGVfJHtjYXRlZ29yeX1fJHtEYXRlLm5vdygpLnRvU3RyaW5nKDM2KX1gLFxuICAgICAgY2F0ZWdvcnksXG4gICAgICBwb2xpY3lOYW1lOiBwb2xpY3lOYW1lIHx8IGAke2NhdGVnb3J5fV9kZWZhdWx0YCxcbiAgICAgIHByZWZlcnJlZE1vZGU6IHRoaXMuaW5mZXJQcmVmZXJyZWRNb2RlKGNhdGVnb3J5KSxcbiAgICAgIHVzZUdpdFdvcmt0cmVlczogY2F0ZWdvcnkgPT09ICdtaWdyYXRpb24nIHx8IGNhdGVnb3J5ID09PSAncmVmYWN0b3InLFxuICAgICAgcmV3YXJkV2VpZ2h0czogeyAuLi5ERUZBVUxUX1JFV0FSRF9XRUlHSFRTW2NhdGVnb3J5XSB9LFxuICAgICAgcHJlZmVycmVkVG9vbHM6IHRoaXMuaW5mZXJQcmVmZXJyZWRUb29scyhjYXRlZ29yeSksXG4gICAgICBhdXRvQXBwcm92YWxUaHJlc2hvbGQ6IDAuODUsXG4gICAgICBzdWNjZXNzQ291bnQ6IDAsXG4gICAgICBmYWlsdXJlQ291bnQ6IDAsXG4gICAgICB1cGRhdGVkQXQ6IERhdGUubm93KCksXG4gICAgfTtcblxuICAgIHRoaXMub3B0aW1pemF0aW9uUHJvZmlsZXMuc2V0KGNhdGVnb3J5LCBwcm9maWxlKTtcbiAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICByZXR1cm4gcHJvZmlsZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgb3B0aW1pemF0aW9uIHByb2ZpbGUgYmFzZWQgb24gZXBpc29kZSBvdXRjb21lLlxuICAgKiBDYWxsZWQgYWZ0ZXIgYW4gZXBpc29kZSBjb21wbGV0ZXMgdG8gYWRqdXN0IGxlYXJuZWQgc2V0dGluZ3MuXG4gICAqL1xuICB1cGRhdGVPcHRpbWl6YXRpb25Qcm9maWxlKFxuICAgIGNhdGVnb3J5OiBFcGlzb2RlQ2F0ZWdvcnksXG4gICAgc3VjY2VzczogYm9vbGVhbixcbiAgICBvcHRpb25zPzoge1xuICAgICAgdG9vbHNVc2VkPzogc3RyaW5nW107XG4gICAgICBtb2RlPzogJ3NpbmdsZS1jb250aW51b3VzJyB8ICdkdWFsLXJsLWNvbnRpbnVvdXMnIHwgJ2R1YWwtcmwtdG91cm5hbWVudCc7XG4gICAgICB1c2VkR2l0V29ya3RyZWVzPzogYm9vbGVhbjtcbiAgICB9XG4gICk6IHZvaWQge1xuICAgIGNvbnN0IHByb2ZpbGUgPSB0aGlzLmdldE9wdGltaXphdGlvblByb2ZpbGUoY2F0ZWdvcnkpO1xuXG4gICAgaWYgKHN1Y2Nlc3MpIHtcbiAgICAgIHByb2ZpbGUuc3VjY2Vzc0NvdW50Kys7XG5cbiAgICAgIC8vIFVwZGF0ZSBwcmVmZXJyZWQgdG9vbHMgYmFzZWQgb24gc3VjY2Vzc2Z1bCBlcGlzb2Rlc1xuICAgICAgaWYgKG9wdGlvbnM/LnRvb2xzVXNlZCkge1xuICAgICAgICBmb3IgKGNvbnN0IHRvb2wgb2Ygb3B0aW9ucy50b29sc1VzZWQpIHtcbiAgICAgICAgICBpZiAoIXByb2ZpbGUucHJlZmVycmVkVG9vbHMuaW5jbHVkZXModG9vbCkpIHtcbiAgICAgICAgICAgIHByb2ZpbGUucHJlZmVycmVkVG9vbHMucHVzaCh0b29sKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gS2VlcCBvbmx5IHRvcCAxMCBwcmVmZXJyZWQgdG9vbHNcbiAgICAgICAgcHJvZmlsZS5wcmVmZXJyZWRUb29scyA9IHByb2ZpbGUucHJlZmVycmVkVG9vbHMuc2xpY2UoMCwgMTApO1xuICAgICAgfVxuXG4gICAgICAvLyBVcGRhdGUgbW9kZSBwcmVmZXJlbmNlIGlmIGR1YWwgbW9kZSB3YXMgc3VjY2Vzc2Z1bFxuICAgICAgaWYgKG9wdGlvbnM/Lm1vZGUgJiYgb3B0aW9ucy5tb2RlICE9PSAnc2luZ2xlLWNvbnRpbnVvdXMnKSB7XG4gICAgICAgIGNvbnN0IHN1Y2Nlc3NSYXRlID0gcHJvZmlsZS5zdWNjZXNzQ291bnQgLyAocHJvZmlsZS5zdWNjZXNzQ291bnQgKyBwcm9maWxlLmZhaWx1cmVDb3VudCk7XG4gICAgICAgIGlmIChzdWNjZXNzUmF0ZSA+IDAuNyAmJiBwcm9maWxlLnByZWZlcnJlZE1vZGUgPT09ICdzaW5nbGUtY29udGludW91cycpIHtcbiAgICAgICAgICBwcm9maWxlLnByZWZlcnJlZE1vZGUgPSAnZHVhbC1ybC1jb250aW51b3VzJztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBUcmFjayBnaXQgd29ya3RyZWUgc3VjY2Vzc1xuICAgICAgaWYgKG9wdGlvbnM/LnVzZWRHaXRXb3JrdHJlZXMgJiYgIXByb2ZpbGUudXNlR2l0V29ya3RyZWVzKSB7XG4gICAgICAgIHByb2ZpbGUudXNlR2l0V29ya3RyZWVzID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcHJvZmlsZS5mYWlsdXJlQ291bnQrKztcblxuICAgICAgLy8gSWYgc3VjY2VzcyByYXRlIGRyb3BzLCBhZGp1c3QgYXV0by1hcHByb3ZhbCB0aHJlc2hvbGRcbiAgICAgIGNvbnN0IHN1Y2Nlc3NSYXRlID0gcHJvZmlsZS5zdWNjZXNzQ291bnQgLyAocHJvZmlsZS5zdWNjZXNzQ291bnQgKyBwcm9maWxlLmZhaWx1cmVDb3VudCk7XG4gICAgICBpZiAoc3VjY2Vzc1JhdGUgPCBwcm9maWxlLmF1dG9BcHByb3ZhbFRocmVzaG9sZCkge1xuICAgICAgICBwcm9maWxlLmF1dG9BcHByb3ZhbFRocmVzaG9sZCA9IE1hdGgubWF4KDAuNSwgc3VjY2Vzc1JhdGUgLSAwLjA1KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBwcm9maWxlLnVwZGF0ZWRBdCA9IERhdGUubm93KCk7XG4gICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgdGhpcy5zYXZlKCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHJld2FyZCB3ZWlnaHRzIGZvciBhIGNhdGVnb3J5LCBhZGp1c3RlZCBiYXNlZCBvbiBsZWFybmVkIHBhdHRlcm5zLlxuICAgKi9cbiAgZ2V0UmV3YXJkV2VpZ2h0cyhjYXRlZ29yeTogRXBpc29kZUNhdGVnb3J5KTogT3B0aW1pemF0aW9uUHJvZmlsZVsncmV3YXJkV2VpZ2h0cyddIHtcbiAgICBjb25zdCBwcm9maWxlID0gdGhpcy5nZXRPcHRpbWl6YXRpb25Qcm9maWxlKGNhdGVnb3J5KTtcbiAgICByZXR1cm4gcHJvZmlsZS5yZXdhcmRXZWlnaHRzO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSByZXdhcmQgd2VpZ2h0cyBiYXNlZCBvbiB0b3VybmFtZW50IG91dGNvbWVzLlxuICAgKiBBZGp1c3RzIHdlaWdodHMgdG8gZmF2b3Igc2lnbmFscyB0aGF0IGNvcnJlbGF0ZWQgd2l0aCBzdWNjZXNzZnVsIG91dGNvbWVzLlxuICAgKi9cbiAgYWRqdXN0UmV3YXJkV2VpZ2h0cyhcbiAgICBjYXRlZ29yeTogRXBpc29kZUNhdGVnb3J5LFxuICAgIHdpbm5pbmdTaWduYWxzOiBQYXJ0aWFsPE9wdGltaXphdGlvblByb2ZpbGVbJ3Jld2FyZFdlaWdodHMnXT4sXG4gICAgc3VjY2VzczogYm9vbGVhblxuICApOiB2b2lkIHtcbiAgICBjb25zdCBwcm9maWxlID0gdGhpcy5nZXRPcHRpbWl6YXRpb25Qcm9maWxlKGNhdGVnb3J5KTtcbiAgICBjb25zdCBsZWFybmluZ1JhdGUgPSAwLjE7XG5cbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyh3aW5uaW5nU2lnbmFscykpIHtcbiAgICAgIGNvbnN0IGsgPSBrZXkgYXMga2V5b2YgT3B0aW1pemF0aW9uUHJvZmlsZVsncmV3YXJkV2VpZ2h0cyddO1xuICAgICAgaWYgKHN1Y2Nlc3MpIHtcbiAgICAgICAgLy8gU2xpZ2h0bHkgaW5jcmVhc2Ugd2VpZ2h0IGZvciBzaWduYWxzIHRoYXQgY29udHJpYnV0ZWQgdG8gc3VjY2Vzc1xuICAgICAgICBwcm9maWxlLnJld2FyZFdlaWdodHNba10gPSBNYXRoLm1pbigwLjUsIHByb2ZpbGUucmV3YXJkV2VpZ2h0c1trXSArIGxlYXJuaW5nUmF0ZSAqICh2YWx1ZSBhcyBudW1iZXIpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFNsaWdodGx5IGRlY3JlYXNlIHdlaWdodCBmb3Igc2lnbmFscyB0aGF0IGRpZG4ndCBwcmV2ZW50IGZhaWx1cmVcbiAgICAgICAgcHJvZmlsZS5yZXdhcmRXZWlnaHRzW2tdID0gTWF0aC5tYXgoMC4wMSwgcHJvZmlsZS5yZXdhcmRXZWlnaHRzW2tdIC0gbGVhcm5pbmdSYXRlICogMC41ICogKHZhbHVlIGFzIG51bWJlcikpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIE5vcm1hbGl6ZSB3ZWlnaHRzIHRvIHN1bSB0byAxXG4gICAgY29uc3QgdG90YWwgPSBPYmplY3QudmFsdWVzKHByb2ZpbGUucmV3YXJkV2VpZ2h0cykucmVkdWNlKChzdW0sIHYpID0+IHN1bSArIHYsIDApO1xuICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKHByb2ZpbGUucmV3YXJkV2VpZ2h0cykpIHtcbiAgICAgIGNvbnN0IGsgPSBrZXkgYXMga2V5b2YgT3B0aW1pemF0aW9uUHJvZmlsZVsncmV3YXJkV2VpZ2h0cyddO1xuICAgICAgcHJvZmlsZS5yZXdhcmRXZWlnaHRzW2tdIC89IHRvdGFsO1xuICAgIH1cblxuICAgIHByb2ZpbGUudXBkYXRlZEF0ID0gRGF0ZS5ub3coKTtcbiAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYWxsIG9wdGltaXphdGlvbiBwcm9maWxlcyBmb3IgaW5zcGVjdGlvbi5cbiAgICovXG4gIGdldEFsbE9wdGltaXphdGlvblByb2ZpbGVzKCk6IE9wdGltaXphdGlvblByb2ZpbGVbXSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5vcHRpbWl6YXRpb25Qcm9maWxlcy52YWx1ZXMoKSk7XG4gIH1cblxuICBwcml2YXRlIGluZmVyUHJlZmVycmVkTW9kZShcbiAgICBjYXRlZ29yeTogRXBpc29kZUNhdGVnb3J5XG4gICk6ICdzaW5nbGUtY29udGludW91cycgfCAnZHVhbC1ybC1jb250aW51b3VzJyB8ICdkdWFsLXJsLXRvdXJuYW1lbnQnIHtcbiAgICAvLyBDYXRlZ29yaWVzIHRoYXQgYmVuZWZpdCBmcm9tIGR1YWwtYWdlbnQgY29tcGFyaXNvblxuICAgIHN3aXRjaCAoY2F0ZWdvcnkpIHtcbiAgICAgIGNhc2UgJ3JlZmFjdG9yJzpcbiAgICAgIGNhc2UgJ29wdGltaXphdGlvbic6XG4gICAgICBjYXNlICdtaWdyYXRpb24nOlxuICAgICAgICByZXR1cm4gJ2R1YWwtcmwtdG91cm5hbWVudCc7XG4gICAgICBjYXNlICdmZWF0dXJlX2FkZCc6XG4gICAgICBjYXNlICdidWdfZml4JzpcbiAgICAgICAgcmV0dXJuICdkdWFsLXJsLWNvbnRpbnVvdXMnO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuICdzaW5nbGUtY29udGludW91cyc7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBpbmZlclByZWZlcnJlZFRvb2xzKGNhdGVnb3J5OiBFcGlzb2RlQ2F0ZWdvcnkpOiBzdHJpbmdbXSB7XG4gICAgc3dpdGNoIChjYXRlZ29yeSkge1xuICAgICAgY2FzZSAnYnVnX2ZpeCc6XG4gICAgICAgIHJldHVybiBbJ1JlYWQnLCAnR3JlcCcsICdFZGl0JywgJ0Jhc2gnXTtcbiAgICAgIGNhc2UgJ2ZlYXR1cmVfYWRkJzpcbiAgICAgICAgcmV0dXJuIFsnUmVhZCcsICdXcml0ZScsICdFZGl0JywgJ0Jhc2gnXTtcbiAgICAgIGNhc2UgJ3JlZmFjdG9yJzpcbiAgICAgICAgcmV0dXJuIFsnUmVhZCcsICdFZGl0JywgJ0dyZXAnLCAnQmFzaCddO1xuICAgICAgY2FzZSAndGVzdF93cml0ZSc6XG4gICAgICAgIHJldHVybiBbJ1JlYWQnLCAnV3JpdGUnLCAnQmFzaCddO1xuICAgICAgY2FzZSAnZG9jdW1lbnRhdGlvbic6XG4gICAgICAgIHJldHVybiBbJ1JlYWQnLCAnV3JpdGUnLCAnRWRpdCddO1xuICAgICAgY2FzZSAnYW5hbHlzaXMnOlxuICAgICAgICByZXR1cm4gWydSZWFkJywgJ0dyZXAnLCAnR2xvYiddO1xuICAgICAgY2FzZSAnZGVidWdnaW5nJzpcbiAgICAgICAgcmV0dXJuIFsnUmVhZCcsICdHcmVwJywgJ0Jhc2gnLCAnRWRpdCddO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIFsnUmVhZCcsICdFZGl0JywgJ0Jhc2gnXTtcbiAgICB9XG4gIH1cblxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBQUlVOSU5HXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgcHJpdmF0ZSBwcnVuZUVwaXNvZGVzKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLmVwaXNvZGVzLnNpemUgPD0gdGhpcy5jb25maWcubWF4RXBpc29kZXMpIHJldHVybjtcblxuICAgIC8vIFNjb3JlIGVwaXNvZGVzIGJ5IHZhbHVlIChyZWNlbmN5ICsgc3VjY2VzcyArIHJldHJpZXZhbCBjb3VudClcbiAgICBjb25zdCBzY29yZWQgPSBBcnJheS5mcm9tKHRoaXMuZXBpc29kZXMudmFsdWVzKCkpLm1hcChlcCA9PiB7XG4gICAgICBjb25zdCBhZ2VTY29yZSA9IDEgLSAoRGF0ZS5ub3coKSAtIGVwLmVuZFRpbWUpIC8gKDEwMDAgKiA2MCAqIDYwICogMjQgKiAzNjUpOyAvLyAxIHllYXIgZGVjYXlcbiAgICAgIGNvbnN0IHN1Y2Nlc3NTY29yZSA9IGVwLnN1Y2Nlc3MgPyAwLjMgOiAwO1xuICAgICAgY29uc3QgcmV0cmlldmFsU2NvcmUgPSBNYXRoLm1pbihlcC5yZXRyaWV2YWxDb3VudCAqIDAuMDUsIDAuMik7XG4gICAgICByZXR1cm4geyBpZDogZXAuaWQsIHNjb3JlOiBhZ2VTY29yZSArIHN1Y2Nlc3NTY29yZSArIHJldHJpZXZhbFNjb3JlIH07XG4gICAgfSk7XG5cbiAgICBzY29yZWQuc29ydCgoYSwgYikgPT4gYi5zY29yZSAtIGEuc2NvcmUpO1xuXG4gICAgLy8gS2VlcCB0b3AgZXBpc29kZXNcbiAgICBjb25zdCB0b0tlZXAgPSBuZXcgU2V0KHNjb3JlZC5zbGljZSgwLCB0aGlzLmNvbmZpZy5tYXhFcGlzb2RlcykubWFwKHMgPT4gcy5pZCkpO1xuXG4gICAgZm9yIChjb25zdCBpZCBvZiB0aGlzLmVwaXNvZGVzLmtleXMoKSkge1xuICAgICAgaWYgKCF0b0tlZXAuaGFzKGlkKSkge1xuICAgICAgICB0aGlzLmVwaXNvZGVzLmRlbGV0ZShpZCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBwcnVuZUFwcHJvYWNoZXMoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuYXBwcm9hY2hlcy5zaXplIDw9IHRoaXMuY29uZmlnLm1heEFwcHJvYWNoZXMpIHJldHVybjtcblxuICAgIC8vIFNjb3JlIGFwcHJvYWNoZXMgYnkgdXNlZnVsbmVzc1xuICAgIGNvbnN0IHNjb3JlZCA9IEFycmF5LmZyb20odGhpcy5hcHByb2FjaGVzLmVudHJpZXMoKSkubWFwKChba2V5LCBhcF0pID0+IHtcbiAgICAgIGNvbnN0IHJlY2VuY3lTY29yZSA9IDEgLSAoRGF0ZS5ub3coKSAtIGFwLnVwZGF0ZWRBdCkgLyAoMTAwMCAqIDYwICogNjAgKiAyNCAqIDE4MCk7IC8vIDYgbW9udGggZGVjYXlcbiAgICAgIGNvbnN0IHVzZVNjb3JlID0gTWF0aC5taW4oYXAudXNlQ291bnQgKiAwLjEsIDAuMyk7XG4gICAgICBjb25zdCBzdWNjZXNzU2NvcmUgPSBhcC5zdWNjZXNzUmF0ZSAqIDAuNDtcbiAgICAgIHJldHVybiB7IGtleSwgc2NvcmU6IHJlY2VuY3lTY29yZSArIHVzZVNjb3JlICsgc3VjY2Vzc1Njb3JlIH07XG4gICAgfSk7XG5cbiAgICBzY29yZWQuc29ydCgoYSwgYikgPT4gYi5zY29yZSAtIGEuc2NvcmUpO1xuXG4gICAgLy8gS2VlcCB0b3AgYXBwcm9hY2hlc1xuICAgIGNvbnN0IHRvS2VlcCA9IG5ldyBTZXQoc2NvcmVkLnNsaWNlKDAsIHRoaXMuY29uZmlnLm1heEFwcHJvYWNoZXMpLm1hcChzID0+IHMua2V5KSk7XG5cbiAgICBmb3IgKGNvbnN0IGtleSBvZiB0aGlzLmFwcHJvYWNoZXMua2V5cygpKSB7XG4gICAgICBpZiAoIXRvS2VlcC5oYXMoa2V5KSkge1xuICAgICAgICB0aGlzLmFwcHJvYWNoZXMuZGVsZXRlKGtleSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gUEVSU0lTVEVOQ0VcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBwcml2YXRlIGxvYWQoKTogdm9pZCB7XG4gICAgdHJ5IHtcbiAgICAgIGlmICghZXhpc3RzU3luYyh0aGlzLmNvbmZpZy5zdG9yYWdlRGlyKSkge1xuICAgICAgICBta2RpclN5bmModGhpcy5jb25maWcuc3RvcmFnZURpciwgeyByZWN1cnNpdmU6IHRydWUgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3QgZXBpc29kZXNQYXRoID0gam9pbih0aGlzLmNvbmZpZy5zdG9yYWdlRGlyLCAnZXBpc29kZXMuanNvbicpO1xuICAgICAgY29uc3QgYXBwcm9hY2hlc1BhdGggPSBqb2luKHRoaXMuY29uZmlnLnN0b3JhZ2VEaXIsICdhcHByb2FjaGVzLmpzb24nKTtcbiAgICAgIGNvbnN0IHByb2ZpbGVzUGF0aCA9IGpvaW4odGhpcy5jb25maWcuc3RvcmFnZURpciwgJ29wdGltaXphdGlvbi1wcm9maWxlcy5qc29uJyk7XG5cbiAgICAgIGlmIChleGlzdHNTeW5jKGVwaXNvZGVzUGF0aCkpIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UocmVhZEZpbGVTeW5jKGVwaXNvZGVzUGF0aCwgJ3V0Zi04JykpO1xuICAgICAgICBmb3IgKGNvbnN0IGVwIG9mIGRhdGEuZXBpc29kZXMgfHwgW10pIHtcbiAgICAgICAgICB0aGlzLmVwaXNvZGVzLnNldChlcC5pZCwgZXApO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChleGlzdHNTeW5jKGFwcHJvYWNoZXNQYXRoKSkge1xuICAgICAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShyZWFkRmlsZVN5bmMoYXBwcm9hY2hlc1BhdGgsICd1dGYtOCcpKTtcbiAgICAgICAgZm9yIChjb25zdCBba2V5LCBhcF0gb2YgT2JqZWN0LmVudHJpZXMoZGF0YS5hcHByb2FjaGVzIHx8IHt9KSkge1xuICAgICAgICAgIHRoaXMuYXBwcm9hY2hlcy5zZXQoa2V5LCBhcCBhcyBMZWFybmVkQXBwcm9hY2gpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChleGlzdHNTeW5jKHByb2ZpbGVzUGF0aCkpIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UocmVhZEZpbGVTeW5jKHByb2ZpbGVzUGF0aCwgJ3V0Zi04JykpO1xuICAgICAgICBmb3IgKGNvbnN0IHByb2ZpbGUgb2YgZGF0YS5wcm9maWxlcyB8fCBbXSkge1xuICAgICAgICAgIHRoaXMub3B0aW1pemF0aW9uUHJvZmlsZXMuc2V0KHByb2ZpbGUuY2F0ZWdvcnkgYXMgRXBpc29kZUNhdGVnb3J5LCBwcm9maWxlIGFzIE9wdGltaXphdGlvblByb2ZpbGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBsb2FkIGVwaXNvZGljIG1lbW9yeTonLCBlcnJvcik7XG4gICAgfVxuICB9XG5cbiAgc2F2ZSgpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuZGlydHkpIHJldHVybjtcblxuICAgIHRyeSB7XG4gICAgICBta2RpclN5bmModGhpcy5jb25maWcuc3RvcmFnZURpciwgeyByZWN1cnNpdmU6IHRydWUgfSk7XG5cbiAgICAgIGNvbnN0IGVwaXNvZGVzUGF0aCA9IGpvaW4odGhpcy5jb25maWcuc3RvcmFnZURpciwgJ2VwaXNvZGVzLmpzb24nKTtcbiAgICAgIGNvbnN0IGFwcHJvYWNoZXNQYXRoID0gam9pbih0aGlzLmNvbmZpZy5zdG9yYWdlRGlyLCAnYXBwcm9hY2hlcy5qc29uJyk7XG4gICAgICBjb25zdCBwcm9maWxlc1BhdGggPSBqb2luKHRoaXMuY29uZmlnLnN0b3JhZ2VEaXIsICdvcHRpbWl6YXRpb24tcHJvZmlsZXMuanNvbicpO1xuXG4gICAgICB3cml0ZUZpbGVTeW5jKGVwaXNvZGVzUGF0aCwgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICB2ZXJzaW9uOiAxLFxuICAgICAgICB1cGRhdGVkQXQ6IERhdGUubm93KCksXG4gICAgICAgIGVwaXNvZGVzOiBBcnJheS5mcm9tKHRoaXMuZXBpc29kZXMudmFsdWVzKCkpLFxuICAgICAgfSwgbnVsbCwgMikpO1xuXG4gICAgICB3cml0ZUZpbGVTeW5jKGFwcHJvYWNoZXNQYXRoLCBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIHZlcnNpb246IDEsXG4gICAgICAgIHVwZGF0ZWRBdDogRGF0ZS5ub3coKSxcbiAgICAgICAgYXBwcm9hY2hlczogT2JqZWN0LmZyb21FbnRyaWVzKHRoaXMuYXBwcm9hY2hlcyksXG4gICAgICB9LCBudWxsLCAyKSk7XG5cbiAgICAgIHdyaXRlRmlsZVN5bmMocHJvZmlsZXNQYXRoLCBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIHZlcnNpb246IDEsXG4gICAgICAgIHVwZGF0ZWRBdDogRGF0ZS5ub3coKSxcbiAgICAgICAgcHJvZmlsZXM6IEFycmF5LmZyb20odGhpcy5vcHRpbWl6YXRpb25Qcm9maWxlcy52YWx1ZXMoKSksXG4gICAgICB9LCBudWxsLCAyKSk7XG5cbiAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHNhdmUgZXBpc29kaWMgbWVtb3J5OicsIGVycm9yKTtcbiAgICB9XG4gIH1cblxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBTVEFUU1xuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGdldFN0YXRzKCk6IHtcbiAgICB0b3RhbEVwaXNvZGVzOiBudW1iZXI7XG4gICAgc3VjY2Vzc2Z1bEVwaXNvZGVzOiBudW1iZXI7XG4gICAgdG90YWxBcHByb2FjaGVzOiBudW1iZXI7XG4gICAgdG90YWxQcm9maWxlczogbnVtYmVyO1xuICAgIGNhdGVnb3J5Q291bnRzOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+O1xuICAgIHRvcFRhZ3M6IHN0cmluZ1tdO1xuICAgIHByb2ZpbGVTdW1tYXJ5OiB7IGNhdGVnb3J5OiBzdHJpbmc7IHN1Y2Nlc3NSYXRlOiBudW1iZXI7IHByZWZlcnJlZE1vZGU6IHN0cmluZyB9W107XG4gIH0ge1xuICAgIGNvbnN0IGNhdGVnb3J5Q291bnRzOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+ID0ge307XG4gICAgY29uc3QgdGFnQ291bnRzOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+ID0ge307XG4gICAgbGV0IHN1Y2Nlc3NDb3VudCA9IDA7XG5cbiAgICBmb3IgKGNvbnN0IGVwaXNvZGUgb2YgdGhpcy5lcGlzb2Rlcy52YWx1ZXMoKSkge1xuICAgICAgY2F0ZWdvcnlDb3VudHNbZXBpc29kZS5jYXRlZ29yeV0gPSAoY2F0ZWdvcnlDb3VudHNbZXBpc29kZS5jYXRlZ29yeV0gfHwgMCkgKyAxO1xuICAgICAgaWYgKGVwaXNvZGUuc3VjY2Vzcykgc3VjY2Vzc0NvdW50Kys7XG4gICAgICBmb3IgKGNvbnN0IHRhZyBvZiBlcGlzb2RlLnRhZ3MpIHtcbiAgICAgICAgdGFnQ291bnRzW3RhZ10gPSAodGFnQ291bnRzW3RhZ10gfHwgMCkgKyAxO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHRvcFRhZ3MgPSBPYmplY3QuZW50cmllcyh0YWdDb3VudHMpXG4gICAgICAuc29ydCgoYSwgYikgPT4gYlsxXSAtIGFbMV0pXG4gICAgICAuc2xpY2UoMCwgMTApXG4gICAgICAubWFwKChbdGFnXSkgPT4gdGFnKTtcblxuICAgIGNvbnN0IHByb2ZpbGVTdW1tYXJ5ID0gQXJyYXkuZnJvbSh0aGlzLm9wdGltaXphdGlvblByb2ZpbGVzLnZhbHVlcygpKVxuICAgICAgLm1hcChwID0+ICh7XG4gICAgICAgIGNhdGVnb3J5OiBwLmNhdGVnb3J5LFxuICAgICAgICBzdWNjZXNzUmF0ZTogcC5zdWNjZXNzQ291bnQgKyBwLmZhaWx1cmVDb3VudCA+IDBcbiAgICAgICAgICA/IHAuc3VjY2Vzc0NvdW50IC8gKHAuc3VjY2Vzc0NvdW50ICsgcC5mYWlsdXJlQ291bnQpXG4gICAgICAgICAgOiAwLFxuICAgICAgICBwcmVmZXJyZWRNb2RlOiBwLnByZWZlcnJlZE1vZGUsXG4gICAgICB9KSlcbiAgICAgIC5zb3J0KChhLCBiKSA9PiBiLnN1Y2Nlc3NSYXRlIC0gYS5zdWNjZXNzUmF0ZSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgdG90YWxFcGlzb2RlczogdGhpcy5lcGlzb2Rlcy5zaXplLFxuICAgICAgc3VjY2Vzc2Z1bEVwaXNvZGVzOiBzdWNjZXNzQ291bnQsXG4gICAgICB0b3RhbEFwcHJvYWNoZXM6IHRoaXMuYXBwcm9hY2hlcy5zaXplLFxuICAgICAgdG90YWxQcm9maWxlczogdGhpcy5vcHRpbWl6YXRpb25Qcm9maWxlcy5zaXplLFxuICAgICAgY2F0ZWdvcnlDb3VudHMsXG4gICAgICB0b3BUYWdzLFxuICAgICAgcHJvZmlsZVN1bW1hcnksXG4gICAgfTtcbiAgfVxufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBTSU5HTEVUT04gJiBGQUNUT1JZXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmxldCBkZWZhdWx0SW5zdGFuY2U6IEVwaXNvZGljTWVtb3J5IHwgbnVsbCA9IG51bGw7XG5cbi8qKlxuICogR2V0IG9yIGNyZWF0ZSB0aGUgZGVmYXVsdCBlcGlzb2RpYyBtZW1vcnkgaW5zdGFuY2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEVwaXNvZGljTWVtb3J5KGNvbmZpZz86IFBhcnRpYWw8RXBpc29kaWNNZW1vcnlDb25maWc+KTogRXBpc29kaWNNZW1vcnkge1xuICBpZiAoIWRlZmF1bHRJbnN0YW5jZSkge1xuICAgIGRlZmF1bHRJbnN0YW5jZSA9IG5ldyBFcGlzb2RpY01lbW9yeShjb25maWcpO1xuICB9XG4gIHJldHVybiBkZWZhdWx0SW5zdGFuY2U7XG59XG5cbi8qKlxuICogQ3JlYXRlIGEgbmV3IGVwaXNvZGljIG1lbW9yeSBpbnN0YW5jZSB3aXRoIGN1c3RvbSBjb25maWdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUVwaXNvZGljTWVtb3J5KGNvbmZpZzogUGFydGlhbDxFcGlzb2RpY01lbW9yeUNvbmZpZz4gPSB7fSk6IEVwaXNvZGljTWVtb3J5IHtcbiAgcmV0dXJuIG5ldyBFcGlzb2RpY01lbW9yeShjb25maWcpO1xufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQWdCQSxJQUFBQSxPQUFBLEdBQUFDLE9BQUE7QUFDQSxJQUFBQyxTQUFBLEdBQUFELE9BQUE7QUFDQSxJQUFBRSxPQUFBLEdBQUFGLE9BQUE7QUFsQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQU1BO0FBQ0E7QUFDQTs7QUFtSEE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBaUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU1HLHNCQUFxRixHQUFHO0VBQzVGQyxPQUFPLEVBQUU7SUFDUEMsZ0JBQWdCLEVBQUUsSUFBSTtJQUN0QkMsV0FBVyxFQUFFLElBQUk7SUFDakJDLGNBQWMsRUFBRSxJQUFJO0lBQ3BCQyxXQUFXLEVBQUUsSUFBSTtJQUNqQkMsV0FBVyxFQUFFLElBQUk7SUFDakJDLGNBQWMsRUFBRSxJQUFJO0lBQ3BCQyxVQUFVLEVBQUU7RUFDZCxDQUFDO0VBQ0RDLFdBQVcsRUFBRTtJQUNYUCxnQkFBZ0IsRUFBRSxJQUFJO0lBQ3RCQyxXQUFXLEVBQUUsSUFBSTtJQUNqQkMsY0FBYyxFQUFFLElBQUk7SUFDcEJDLFdBQVcsRUFBRSxJQUFJO0lBQ2pCQyxXQUFXLEVBQUUsSUFBSTtJQUNqQkMsY0FBYyxFQUFFLElBQUk7SUFDcEJDLFVBQVUsRUFBRTtFQUNkLENBQUM7RUFDREUsUUFBUSxFQUFFO0lBQ1JSLGdCQUFnQixFQUFFLElBQUk7SUFDdEJDLFdBQVcsRUFBRSxJQUFJO0lBQ2pCQyxjQUFjLEVBQUUsSUFBSTtJQUNwQkMsV0FBVyxF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