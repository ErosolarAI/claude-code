ade5e01ff63533ba172cb1700511ed14
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.debugSnippet = debugSnippet;
exports.isDebugModeEnabled = isDebugModeEnabled;
exports.logDebug = logDebug;
exports.onDebugModeChange = onDebugModeChange;
exports.setDebugMode = setDebugMode;
const DEBUG_SNIPPET_LENGTH = 180;
let debugEnabled = false;
const listeners = new Set();
function isDebugModeEnabled() {
  return debugEnabled;
}
function setDebugMode(enabled) {
  const normalized = Boolean(enabled);
  if (normalized === debugEnabled) {
    return;
  }
  debugEnabled = normalized;
  for (const listener of listeners) {
    listener(debugEnabled);
  }
}
function onDebugModeChange(listener) {
  listeners.add(listener);
  return () => {
    listeners.delete(listener);
  };
}
function logDebug(...args) {
  if (!debugEnabled) {
    return;
  }
  console.error(...args);
}
function debugSnippet(value, maxLength = DEBUG_SNIPPET_LENGTH) {
  if (!value) {
    return '';
  }
  const collapsed = value.replace(/\s+/g, ' ').trim();
  if (collapsed.length <= maxLength) {
    return collapsed;
  }
  return `${collapsed.slice(0, maxLength)}â€¦`;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJERUJVR19TTklQUEVUX0xFTkdUSCIsImRlYnVnRW5hYmxlZCIsImxpc3RlbmVycyIsIlNldCIsImlzRGVidWdNb2RlRW5hYmxlZCIsInNldERlYnVnTW9kZSIsImVuYWJsZWQiLCJub3JtYWxpemVkIiwiQm9vbGVhbiIsImxpc3RlbmVyIiwib25EZWJ1Z01vZGVDaGFuZ2UiLCJhZGQiLCJkZWxldGUiLCJsb2dEZWJ1ZyIsImFyZ3MiLCJjb25zb2xlIiwiZXJyb3IiLCJkZWJ1Z1NuaXBwZXQiLCJ2YWx1ZSIsIm1heExlbmd0aCIsImNvbGxhcHNlZCIsInJlcGxhY2UiLCJ0cmltIiwibGVuZ3RoIiwic2xpY2UiXSwic291cmNlcyI6WyJkZWJ1Z0xvZ2dlci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBERUJVR19TTklQUEVUX0xFTkdUSCA9IDE4MDtcblxubGV0IGRlYnVnRW5hYmxlZCA9IGZhbHNlO1xuY29uc3QgbGlzdGVuZXJzID0gbmV3IFNldDwoZW5hYmxlZDogYm9vbGVhbikgPT4gdm9pZD4oKTtcblxuZXhwb3J0IGZ1bmN0aW9uIGlzRGVidWdNb2RlRW5hYmxlZCgpOiBib29sZWFuIHtcbiAgcmV0dXJuIGRlYnVnRW5hYmxlZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldERlYnVnTW9kZShlbmFibGVkOiBib29sZWFuKTogdm9pZCB7XG4gIGNvbnN0IG5vcm1hbGl6ZWQgPSBCb29sZWFuKGVuYWJsZWQpO1xuICBpZiAobm9ybWFsaXplZCA9PT0gZGVidWdFbmFibGVkKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGRlYnVnRW5hYmxlZCA9IG5vcm1hbGl6ZWQ7XG4gIGZvciAoY29uc3QgbGlzdGVuZXIgb2YgbGlzdGVuZXJzKSB7XG4gICAgbGlzdGVuZXIoZGVidWdFbmFibGVkKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gb25EZWJ1Z01vZGVDaGFuZ2UobGlzdGVuZXI6IChlbmFibGVkOiBib29sZWFuKSA9PiB2b2lkKTogKCkgPT4gdm9pZCB7XG4gIGxpc3RlbmVycy5hZGQobGlzdGVuZXIpO1xuICByZXR1cm4gKCkgPT4ge1xuICAgIGxpc3RlbmVycy5kZWxldGUobGlzdGVuZXIpO1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbG9nRGVidWcoLi4uYXJnczogdW5rbm93bltdKTogdm9pZCB7XG4gIGlmICghZGVidWdFbmFibGVkKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnNvbGUuZXJyb3IoLi4uYXJncyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWJ1Z1NuaXBwZXQodmFsdWU/OiBzdHJpbmcsIG1heExlbmd0aDogbnVtYmVyID0gREVCVUdfU05JUFBFVF9MRU5HVEgpOiBzdHJpbmcge1xuICBpZiAoIXZhbHVlKSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG4gIGNvbnN0IGNvbGxhcHNlZCA9IHZhbHVlLnJlcGxhY2UoL1xccysvZywgJyAnKS50cmltKCk7XG4gIGlmIChjb2xsYXBzZWQubGVuZ3RoIDw9IG1heExlbmd0aCkge1xuICAgIHJldHVybiBjb2xsYXBzZWQ7XG4gIH1cbiAgcmV0dXJuIGAke2NvbGxhcHNlZC5zbGljZSgwLCBtYXhMZW5ndGgpfeKApmA7XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQSxNQUFNQSxvQkFBb0IsR0FBRyxHQUFHO0FBRWhDLElBQUlDLFlBQVksR0FBRyxLQUFLO0FBQ3hCLE1BQU1DLFNBQVMsR0FBRyxJQUFJQyxHQUFHLENBQTZCLENBQUM7QUFFaEQsU0FBU0Msa0JBQWtCQSxDQUFBLEVBQVk7RUFDNUMsT0FBT0gsWUFBWTtBQUNyQjtBQUVPLFNBQVNJLFlBQVlBLENBQUNDLE9BQWdCLEVBQVE7RUFDbkQsTUFBTUMsVUFBVSxHQUFHQyxPQUFPLENBQUNGLE9BQU8sQ0FBQztFQUNuQyxJQUFJQyxVQUFVLEtBQUtOLFlBQVksRUFBRTtJQUMvQjtFQUNGO0VBQ0FBLFlBQVksR0FBR00sVUFBVTtFQUN6QixLQUFLLE1BQU1FLFFBQVEsSUFBSVAsU0FBUyxFQUFFO0lBQ2hDTyxRQUFRLENBQUNSLFlBQVksQ0FBQztFQUN4QjtBQUNGO0FBRU8sU0FBU1MsaUJBQWlCQSxDQUFDRCxRQUFvQyxFQUFjO0VBQ2xGUCxTQUFTLENBQUNTLEdBQUcsQ0FBQ0YsUUFBUSxDQUFDO0VBQ3ZCLE9BQU8sTUFBTTtJQUNYUCxTQUFTLENBQUNVLE1BQU0sQ0FBQ0gsUUFBUSxDQUFDO0VBQzVCLENBQUM7QUFDSDtBQUVPLFNBQVNJLFFBQVFBLENBQUMsR0FBR0MsSUFBZSxFQUFRO0VBQ2pELElBQUksQ0FBQ2IsWUFBWSxFQUFFO0lBQ2pCO0VBQ0Y7RUFDQWMsT0FBTyxDQUFDQyxLQUFLLENBQUMsR0FBR0YsSUFBSSxDQUFDO0FBQ3hCO0FBRU8sU0FBU0csWUFBWUEsQ0FBQ0MsS0FBYyxFQUFFQyxTQUFpQixHQUFHbkIsb0JBQW9CLEVBQVU7RUFDN0YsSUFBSSxDQUFDa0IsS0FBSyxFQUFFO0lBQ1YsT0FBTyxFQUFFO0VBQ1g7RUFDQSxNQUFNRSxTQUFTLEdBQUdGLEtBQUssQ0FBQ0csT0FBTyxDQUFDLE1BQU0sRUFBRSxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLENBQUM7RUFDbkQsSUFBSUYsU0FBUyxDQUFDRyxNQUFNLElBQUlKLFNBQVMsRUFBRTtJQUNqQyxPQUFPQyxTQUFTO0VBQ2xCO0VBQ0EsT0FBTyxHQUFHQSxTQUFTLENBQUNJLEtBQUssQ0FBQyxDQUFDLEVBQUVMLFNBQVMsQ0FBQyxHQUFHO0FBQzVDIiwiaWdub3JlTGlzdCI6W119