a2c6a88c3f0004b3673641403cb4c521
"use strict";

var _globals = require("@jest/globals");
var _nodeStream = require("node:stream");
var _UnifiedUIRenderer = require("../src/ui/UnifiedUIRenderer.js");
const createRenderer = () => {
  const input = new _nodeStream.PassThrough();
  input.isTTY = true;
  input.setRawMode = _globals.jest.fn();
  const output = new _nodeStream.PassThrough();
  output.isTTY = true;
  output.columns = 80;
  output.rows = 24;
  output.write = chunk => {
    const text = typeof chunk === 'string' ? chunk : chunk?.toString?.() ?? '';
    // Preserve write signature used by readline
    _nodeStream.PassThrough.prototype.write.call(output, text);
    return true;
  };
  const renderer = new _UnifiedUIRenderer.UnifiedUIRenderer(output, input);
  return {
    renderer,
    input,
    output
  };
};
(0, _globals.describe)('Paste functionality fixes', () => {
  (0, _globals.it)('should not leak toggle symbols during paste', () => {
    // Test the core logic - toggle symbols should be stripped
    const testStripToggleSymbols = input => {
      const chars = [...input];
      let result = '';
      for (let i = 0; i < chars.length; i++) {
        const ch = chars[i];
        const code = ch.charCodeAt(0);

        // Check for toggle characters
        if (code === 169 || code === 8482) continue; // © ™ (Option+G)
        if (code === 229 || code === 197) continue; // å Å (Option+A)
        if (code === 8706 || code === 8710 || code === 206) continue; // ∂ ∆ Î (Option+D)
        if (code === 8224 || code === 8225) continue; // † ‡ (Option+T)
        if (code === 8730) continue; // √ (Option+V)

        // Check for ESC + toggle letter
        if (code === 27 && i + 1 < chars.length) {
          const letter = chars[i + 1].toLowerCase();
          if (['g', 'a', 'd', 't', 'v'].includes(letter)) {
            i++;
            continue;
          }
        }
        result += ch;
      }
      return result;
    };
    const result = testStripToggleSymbols('Hello©WorldåTest∂Content');
    (0, _globals.expect)(result).toBe('HelloWorldTestContent');
    (0, _globals.expect)(result).not.toContain('©');
    (0, _globals.expect)(result).not.toContain('å');
    (0, _globals.expect)(result).not.toContain('∂');
  });
  (0, _globals.it)('should suppress render during paste burst', () => {
    // Test that render is suppressed when emitPasteBuffer is active
    const {
      renderer
    } = createRenderer();
    try {
      // Simulate being in a paste burst state
      renderer.emitPasteBuffer = 'Some paste content';

      // Check that render suppression works
      const inEmitPaste = renderer.emitPasteBuffer.length > 0;
      (0, _globals.expect)(inEmitPaste).toBe(true);

      // When collapsedPaste is null, render should be suppressed
      const shouldSuppress = inEmitPaste && !renderer.collapsedPaste;
      (0, _globals.expect)(shouldSuppress).toBe(true);
    } finally {
      renderer.cleanup();
    }
  });
  (0, _globals.it)('should auto-expand chat box height for multi-line content', () => {
    // Test that collapsed paste tracks line count
    const {
      renderer
    } = createRenderer();
    try {
      // Create a collapsed paste with multiple lines
      const multiLineText = 'Line 1\nLine 2\nLine 3\nLine 4';
      renderer.collapsedPaste = {
        text: multiLineText,
        lines: 4,
        chars: multiLineText.length
      };

      // The collapsed paste should track correct line count
      const paste = renderer.collapsedPaste;
      (0, _globals.expect)(paste).toBeDefined();
      (0, _globals.expect)(paste.lines).toBe(4);
      (0, _globals.expect)(paste.text).toBe(multiLineText);
    } finally {
      renderer.cleanup();
    }
  });
  (0, _globals.it)('should maintain toggle state below paste chip', () => {
    // Test that toggles work even when collapsed paste is active
    const {
      renderer
    } = createRenderer();
    try {
      // Create a collapsed paste
      renderer.collapsedPaste = {
        text: 'Some pasted content',
        lines: 1,
        chars: 18
      };

      // Toggle state should still be accessible
      // The renderer should show both paste chip and toggles
      (0, _globals.expect)(renderer.collapsedPaste).toBeDefined();
    } finally {
      renderer.cleanup();
    }
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2xvYmFscyIsInJlcXVpcmUiLCJfbm9kZVN0cmVhbSIsIl9VbmlmaWVkVUlSZW5kZXJlciIsImNyZWF0ZVJlbmRlcmVyIiwiaW5wdXQiLCJQYXNzVGhyb3VnaCIsImlzVFRZIiwic2V0UmF3TW9kZSIsImplc3QiLCJmbiIsIm91dHB1dCIsImNvbHVtbnMiLCJyb3dzIiwid3JpdGUiLCJjaHVuayIsInRleHQiLCJ0b1N0cmluZyIsInByb3RvdHlwZSIsImNhbGwiLCJyZW5kZXJlciIsIlVuaWZpZWRVSVJlbmRlcmVyIiwiZGVzY3JpYmUiLCJpdCIsInRlc3RTdHJpcFRvZ2dsZVN5bWJvbHMiLCJjaGFycyIsInJlc3VsdCIsImkiLCJsZW5ndGgiLCJjaCIsImNvZGUiLCJjaGFyQ29kZUF0IiwibGV0dGVyIiwidG9Mb3dlckNhc2UiLCJpbmNsdWRlcyIsImV4cGVjdCIsInRvQmUiLCJub3QiLCJ0b0NvbnRhaW4iLCJlbWl0UGFzdGVCdWZmZXIiLCJpbkVtaXRQYXN0ZSIsInNob3VsZFN1cHByZXNzIiwiY29sbGFwc2VkUGFzdGUiLCJjbGVhbnVwIiwibXVsdGlMaW5lVGV4dCIsImxpbmVzIiwicGFzdGUiLCJ0b0JlRGVmaW5lZCJdLCJzb3VyY2VzIjpbInBhc3RlLWxlYWsudGVzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBkZXNjcmliZSwgaXQsIGV4cGVjdCwgamVzdCB9IGZyb20gJ0BqZXN0L2dsb2JhbHMnO1xuaW1wb3J0IHsgUGFzc1Rocm91Z2ggfSBmcm9tICdub2RlOnN0cmVhbSc7XG5pbXBvcnQgeyBVbmlmaWVkVUlSZW5kZXJlciB9IGZyb20gJy4uL3NyYy91aS9VbmlmaWVkVUlSZW5kZXJlci5qcyc7XG5cbmNvbnN0IGNyZWF0ZVJlbmRlcmVyID0gKCkgPT4ge1xuICBjb25zdCBpbnB1dCA9IG5ldyBQYXNzVGhyb3VnaCgpIGFzIHVua25vd24gYXMgTm9kZUpTLlJlYWRTdHJlYW07XG4gIChpbnB1dCBhcyBhbnkpLmlzVFRZID0gdHJ1ZTtcbiAgKGlucHV0IGFzIGFueSkuc2V0UmF3TW9kZSA9IGplc3QuZm4oKTtcblxuICBjb25zdCBvdXRwdXQgPSBuZXcgUGFzc1Rocm91Z2goKSBhcyB1bmtub3duIGFzIE5vZGVKUy5Xcml0ZVN0cmVhbTtcbiAgKG91dHB1dCBhcyBhbnkpLmlzVFRZID0gdHJ1ZTtcbiAgKG91dHB1dCBhcyBhbnkpLmNvbHVtbnMgPSA4MDtcbiAgKG91dHB1dCBhcyBhbnkpLnJvd3MgPSAyNDtcbiAgKG91dHB1dCBhcyBhbnkpLndyaXRlID0gKChjaHVuazogYW55KSA9PiB7XG4gICAgY29uc3QgdGV4dCA9IHR5cGVvZiBjaHVuayA9PT0gJ3N0cmluZycgPyBjaHVuayA6IGNodW5rPy50b1N0cmluZz8uKCkgPz8gJyc7XG4gICAgLy8gUHJlc2VydmUgd3JpdGUgc2lnbmF0dXJlIHVzZWQgYnkgcmVhZGxpbmVcbiAgICBQYXNzVGhyb3VnaC5wcm90b3R5cGUud3JpdGUuY2FsbChvdXRwdXQsIHRleHQpO1xuICAgIHJldHVybiB0cnVlO1xuICB9KSBhcyBhbnk7XG5cbiAgY29uc3QgcmVuZGVyZXIgPSBuZXcgVW5pZmllZFVJUmVuZGVyZXIob3V0cHV0LCBpbnB1dCk7XG4gIHJldHVybiB7IHJlbmRlcmVyLCBpbnB1dCwgb3V0cHV0IH07XG59O1xuXG5kZXNjcmliZSgnUGFzdGUgZnVuY3Rpb25hbGl0eSBmaXhlcycsICgpID0+IHtcbiAgaXQoJ3Nob3VsZCBub3QgbGVhayB0b2dnbGUgc3ltYm9scyBkdXJpbmcgcGFzdGUnLCAoKSA9PiB7XG4gICAgLy8gVGVzdCB0aGUgY29yZSBsb2dpYyAtIHRvZ2dsZSBzeW1ib2xzIHNob3VsZCBiZSBzdHJpcHBlZFxuICAgIGNvbnN0IHRlc3RTdHJpcFRvZ2dsZVN5bWJvbHMgPSAoaW5wdXQ6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gICAgICBjb25zdCBjaGFycyA9IFsuLi5pbnB1dF07XG4gICAgICBsZXQgcmVzdWx0ID0gJyc7XG4gICAgICBcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hhcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgY2ggPSBjaGFyc1tpXTtcbiAgICAgICAgY29uc3QgY29kZSA9IGNoLmNoYXJDb2RlQXQoMCk7XG4gICAgICAgIFxuICAgICAgICAvLyBDaGVjayBmb3IgdG9nZ2xlIGNoYXJhY3RlcnNcbiAgICAgICAgaWYgKGNvZGUgPT09IDE2OSB8fCBjb2RlID09PSA4NDgyKSBjb250aW51ZTsgLy8gwqkg4oSiIChPcHRpb24rRylcbiAgICAgICAgaWYgKGNvZGUgPT09IDIyOSB8fCBjb2RlID09PSAxOTcpIGNvbnRpbnVlOyAgLy8gw6Ugw4UgKE9wdGlvbitBKVxuICAgICAgICBpZiAoY29kZSA9PT0gODcwNiB8fCBjb2RlID09PSA4NzEwIHx8IGNvZGUgPT09IDIwNikgY29udGludWU7IC8vIOKIgiDiiIYgw44gKE9wdGlvbitEKVxuICAgICAgICBpZiAoY29kZSA9PT0gODIyNCB8fCBjb2RlID09PSA4MjI1KSBjb250aW51ZTsgLy8g4oCgIOKAoSAoT3B0aW9uK1QpXG4gICAgICAgIGlmIChjb2RlID09PSA4NzMwKSBjb250aW51ZTsgLy8g4oiaIChPcHRpb24rVilcbiAgICAgICAgXG4gICAgICAgIC8vIENoZWNrIGZvciBFU0MgKyB0b2dnbGUgbGV0dGVyXG4gICAgICAgIGlmIChjb2RlID09PSAyNyAmJiBpICsgMSA8IGNoYXJzLmxlbmd0aCkge1xuICAgICAgICAgIGNvbnN0IGxldHRlciA9IGNoYXJzW2kgKyAxXS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgIGlmIChbJ2cnLCAnYScsICdkJywgJ3QnLCAndiddLmluY2x1ZGVzKGxldHRlcikpIHtcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgcmVzdWx0ICs9IGNoO1xuICAgICAgfVxuICAgICAgXG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgXG4gICAgY29uc3QgcmVzdWx0ID0gdGVzdFN0cmlwVG9nZ2xlU3ltYm9scygnSGVsbG/CqVdvcmxkw6VUZXN04oiCQ29udGVudCcpO1xuICAgIGV4cGVjdChyZXN1bHQpLnRvQmUoJ0hlbGxvV29ybGRUZXN0Q29udGVudCcpO1xuICAgIGV4cGVjdChyZXN1bHQpLm5vdC50b0NvbnRhaW4oJ8KpJyk7XG4gICAgZXhwZWN0KHJlc3VsdCkubm90LnRvQ29udGFpbignw6UnKTtcbiAgICBleHBlY3QocmVzdWx0KS5ub3QudG9Db250YWluKCfiiIInKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBzdXBwcmVzcyByZW5kZXIgZHVyaW5nIHBhc3RlIGJ1cnN0JywgKCkgPT4ge1xuICAgIC8vIFRlc3QgdGhhdCByZW5kZXIgaXMgc3VwcHJlc3NlZCB3aGVuIGVtaXRQYXN0ZUJ1ZmZlciBpcyBhY3RpdmVcbiAgICBjb25zdCB7IHJlbmRlcmVyIH0gPSBjcmVhdGVSZW5kZXJlcigpO1xuICAgIHRyeSB7XG4gICAgICAvLyBTaW11bGF0ZSBiZWluZyBpbiBhIHBhc3RlIGJ1cnN0IHN0YXRlXG4gICAgICAocmVuZGVyZXIgYXMgYW55KS5lbWl0UGFzdGVCdWZmZXIgPSAnU29tZSBwYXN0ZSBjb250ZW50JztcbiAgICAgIFxuICAgICAgLy8gQ2hlY2sgdGhhdCByZW5kZXIgc3VwcHJlc3Npb24gd29ya3NcbiAgICAgIGNvbnN0IGluRW1pdFBhc3RlID0gKHJlbmRlcmVyIGFzIGFueSkuZW1pdFBhc3RlQnVmZmVyLmxlbmd0aCA+IDA7XG4gICAgICBleHBlY3QoaW5FbWl0UGFzdGUpLnRvQmUodHJ1ZSk7XG4gICAgICBcbiAgICAgIC8vIFdoZW4gY29sbGFwc2VkUGFzdGUgaXMgbnVsbCwgcmVuZGVyIHNob3VsZCBiZSBzdXBwcmVzc2VkXG4gICAgICBjb25zdCBzaG91bGRTdXBwcmVzcyA9IGluRW1pdFBhc3RlICYmICEocmVuZGVyZXIgYXMgYW55KS5jb2xsYXBzZWRQYXN0ZTtcbiAgICAgIGV4cGVjdChzaG91bGRTdXBwcmVzcykudG9CZSh0cnVlKTtcbiAgICAgIFxuICAgIH0gZmluYWxseSB7XG4gICAgICByZW5kZXJlci5jbGVhbnVwKCk7XG4gICAgfVxuICB9KTtcblxuICBpdCgnc2hvdWxkIGF1dG8tZXhwYW5kIGNoYXQgYm94IGhlaWdodCBmb3IgbXVsdGktbGluZSBjb250ZW50JywgKCkgPT4ge1xuICAgIC8vIFRlc3QgdGhhdCBjb2xsYXBzZWQgcGFzdGUgdHJhY2tzIGxpbmUgY291bnRcbiAgICBjb25zdCB7IHJlbmRlcmVyIH0gPSBjcmVhdGVSZW5kZXJlcigpO1xuICAgIHRyeSB7XG4gICAgICAvLyBDcmVhdGUgYSBjb2xsYXBzZWQgcGFzdGUgd2l0aCBtdWx0aXBsZSBsaW5lc1xuICAgICAgY29uc3QgbXVsdGlMaW5lVGV4dCA9ICdMaW5lIDFcXG5MaW5lIDJcXG5MaW5lIDNcXG5MaW5lIDQnO1xuICAgICAgKHJlbmRlcmVyIGFzIGFueSkuY29sbGFwc2VkUGFzdGUgPSB7XG4gICAgICAgIHRleHQ6IG11bHRpTGluZVRleHQsXG4gICAgICAgIGxpbmVzOiA0LFxuICAgICAgICBjaGFyczogbXVsdGlMaW5lVGV4dC5sZW5ndGhcbiAgICAgIH07XG4gICAgICBcbiAgICAgIC8vIFRoZSBjb2xsYXBzZWQgcGFzdGUgc2hvdWxkIHRyYWNrIGNvcnJlY3QgbGluZSBjb3VudFxuICAgICAgY29uc3QgcGFzdGUgPSAocmVuZGVyZXIgYXMgYW55KS5jb2xsYXBzZWRQYXN0ZTtcbiAgICAgIGV4cGVjdChwYXN0ZSkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChwYXN0ZS5saW5lcykudG9CZSg0KTtcbiAgICAgIGV4cGVjdChwYXN0ZS50ZXh0KS50b0JlKG11bHRpTGluZVRleHQpO1xuICAgICAgXG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHJlbmRlcmVyLmNsZWFudXAoKTtcbiAgICB9XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgbWFpbnRhaW4gdG9nZ2xlIHN0YXRlIGJlbG93IHBhc3RlIGNoaXAnLCAoKSA9PiB7XG4gICAgLy8gVGVzdCB0aGF0IHRvZ2dsZXMgd29yayBldmVuIHdoZW4gY29sbGFwc2VkIHBhc3RlIGlzIGFjdGl2ZVxuICAgIGNvbnN0IHsgcmVuZGVyZXIgfSA9IGNyZWF0ZVJlbmRlcmVyKCk7XG4gICAgdHJ5IHtcbiAgICAgIC8vIENyZWF0ZSBhIGNvbGxhcHNlZCBwYXN0ZVxuICAgICAgKHJlbmRlcmVyIGFzIGFueSkuY29sbGFwc2VkUGFzdGUgPSB7XG4gICAgICAgIHRleHQ6ICdTb21lIHBhc3RlZCBjb250ZW50JyxcbiAgICAgICAgbGluZXM6IDEsXG4gICAgICAgIGNoYXJzOiAxOFxuICAgICAgfTtcbiAgICAgIFxuICAgICAgLy8gVG9nZ2xlIHN0YXRlIHNob3VsZCBzdGlsbCBiZSBhY2Nlc3NpYmxlXG4gICAgICAvLyBUaGUgcmVuZGVyZXIgc2hvdWxkIHNob3cgYm90aCBwYXN0ZSBjaGlwIGFuZCB0b2dnbGVzXG4gICAgICBleHBlY3QoKHJlbmRlcmVyIGFzIGFueSkuY29sbGFwc2VkUGFzdGUpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBcbiAgICB9IGZpbmFsbHkge1xuICAgICAgcmVuZGVyZXIuY2xlYW51cCgpO1xuICAgIH1cbiAgfSk7XG59KTsiXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBQUEsUUFBQSxHQUFBQyxPQUFBO0FBQ0EsSUFBQUMsV0FBQSxHQUFBRCxPQUFBO0FBQ0EsSUFBQUUsa0JBQUEsR0FBQUYsT0FBQTtBQUVBLE1BQU1HLGNBQWMsR0FBR0EsQ0FBQSxLQUFNO0VBQzNCLE1BQU1DLEtBQUssR0FBRyxJQUFJQyx1QkFBVyxDQUFDLENBQWlDO0VBQzlERCxLQUFLLENBQVNFLEtBQUssR0FBRyxJQUFJO0VBQzFCRixLQUFLLENBQVNHLFVBQVUsR0FBR0MsYUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQztFQUVyQyxNQUFNQyxNQUFNLEdBQUcsSUFBSUwsdUJBQVcsQ0FBQyxDQUFrQztFQUNoRUssTUFBTSxDQUFTSixLQUFLLEdBQUcsSUFBSTtFQUMzQkksTUFB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