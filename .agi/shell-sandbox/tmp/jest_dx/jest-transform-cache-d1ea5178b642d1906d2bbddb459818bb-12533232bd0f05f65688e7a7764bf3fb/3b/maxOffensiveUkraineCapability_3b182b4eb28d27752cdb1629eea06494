44e5a82c8ba993b66091a1880aa05849
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.MaxOffensiveUkraineCapabilityModule = void 0;
var _baseCapability = require("./baseCapability.js");
var _sharedMilitaryInfrastructure = require("./sharedMilitaryInfrastructure.js");
/**
 * MAX OFFENSIVE UKRAINE CAPABILITY
 * 
 * MAXIMUM OFFENSIVE SECURITY WITH UKRAINE-SPECIFIC TARGETING
 * Reusable source for offensive operations with full Ukrainian infrastructure integration
 */

class MaxOffensiveUkraineCapabilityModule extends _baseCapability.BaseCapabilityModule {
  id = 'capability.max-offensive-ukraine';
  // Use shared military databases
  get ukraineTargets() {
    return _sharedMilitaryInfrastructure.SharedMilitaryDatabases.ukraineTargets;
  }
  get offensiveMethods() {
    return _sharedMilitaryInfrastructure.SharedMilitaryDatabases.offensiveMethods;
  }
  constructor(options = {}) {
    const baseOptions = {
      workingDir: options.workingDir || process.cwd(),
      debug: options.debug || false,
      enableEvidence: true,
      authorization: 'military',
      emergencyOverride: true
    };
    super(baseOptions);
    this.options = {
      enableMaximumOffensive: true,
      enableUkraineTargeting: true,
      enableReusableSource: true,
      enableLegacyRemoval: true,
      enableUIIntegration: true,
      defaultAuthorization: 'full',
      ...options,
      ...baseOptions
    };
    this.initializeEvidenceCollector();
  }
  async create(context) {
    const tools = [];

    // MAX OFFENSIVE UKRAINE TARGETING TOOL
    if (this.options.enableUkraineTargeting) {
      tools.push({
        name: 'max_offensive_ukraine_targeting',
        description: `MAXIMUM OFFENSIVE UKRAINE TARGETING WITH REUSABLE SOURCE

Execute maximum offensive operations against Ukrainian infrastructure with reusable source generation.

Parameters:
- targetType: Type of Ukrainian infrastructure (energy, telecom, transport, government, banking, media, military, infrastructure)
- intensity: Attack intensity (low, medium, high, critical)
- method: Offensive method to use (auto-selects from max offensive methods)
- generateReusableSource: Generate reusable source code for operation (default: true)
- integrateIntoAGICore: Integrate into AGI Core system (default: true)

Returns comprehensive offensive results with reusable source integration.`,
        handler: async args => {
          try {
            const targetType = args.targetType || 'energy';
            const intensity = args.intensity || 'high';
            const method = args.method || 'auto';
            const generateReusableSource = args.generateReusableSource !== false;
            const integrateIntoAGICore = args.integrateIntoAGICore !== false;
            const authorization = args.authorization || this.options.defaultAuthorization;
            const targets = this.ukraineTargets[targetType] || this.ukraineTargets.energy;
            const intensityMultipliers = {
              low: 1,
              medium: 3,
              high: 5,
              critical: 10
            };
            const multiplier = intensityMultipliers[intensity] || 5;

            // Execute offensive operations
            const offensiveResults = this.executeMaxOffensiveOperation(targets, targetType, intensity, method, multiplier);

            // Generate reusable source if requested
            let reusableSource = null;
            if (generateReusableSource) {
              reusableSource = this.generateReusableSource(offensiveResults, targetType, intensity, method);
            }

            // Integrate into AGI Core if requested
            let integrationResults = null;
            if (integrateIntoAGICore) {
              integrationResults = this.integrateIntoAGICore(offensiveResults, reusableSource);
            }

            // Remove legacy systems if enabled
            let legacyRemovalResults = null;
            if (this.options.enableLegacyRemoval) {
              legacyRemovalResults = this.removeLegacySystems();
            }
            return JSON.stringify({
              status: 'max-offensive-ukraine-executed',
              operation: 'maximum-offensive-ukraine-targeting',
              targetType,
              intensity,
              method: method === 'auto' ? this.selectOptimalMethod(targetType, intensity) : method,
              authorization,
              offensiveResults,
              reusableSource: generateReusableSource ? reusableSource : undefined,
              integrationResults: integrateIntoAGICore ? integrationResults : undefined,
              legacyRemovalResults: this.options.enableLegacyRemoval ? legacyRemovalResults : undefined,
              timestamp: new Date().toISOString(),
              system: 'AGI_CORE_MAX_OFFENSIVE_UKRAINE'
            }, null, 2);
          } catch (error) {
            return JSON.stringify({
              status: 'error',
              error: error.message,
              stack: error.stack,
              recommendation: 'Verify authorization and system configuration'
            }, null, 2);
          }
        }
      });
    }

    // REUSABLE SOURCE GENERATION TOOL
    if (this.options.enableReusableSource) {
      tools.push({
        name: 'generate_max_offensive_reusable_source',
        description: `GENERATE MAX OFFENSIVE REUSABLE SOURCE FOR UKRAINE OPERATIONS

Create reusable source code modules for maximum offensive operations against Ukrainian infrastructure.

Parameters:
- operationType: Type of operation (targeting, infrastructure, cyber, physical, financial, communication)
- language: Programming language for source (typescript, python, go, rust, cpp)
- includeUIIntegration: Include UI integration components (default: true)
- includeLegacyRemoval: Include legacy system removal scripts (default: true)
- outputDir: Output directory for generated source

Returns reusable source code for offensive operations.`,
        handler: async args => {
          try {
            const operationType = args.operationType || 'targeting';
            const language = args.language || 'typescript';
            const includeUIIntegration = args.includeUIIntegration !== false;
            const includeLegacyRemoval = args.includeLegacyRemoval !== false;
            const outputDir = args.outputDir || this.options.workingDir;
            const reusableSource = this.generateCompleteReusableSource(operationType, language, includeUIIntegration, includeLegacyRemoval);

            // Save to file system
            const saveResults = this.saveReusableSource(reusableSource, outputDir, operationType, language);
            return JSON.stringify({
              status: 'reusable-source-generated',
              operationType,
              language,
              includeUIIntegration,
              includeLegacyRemoval,
              sourceSize: reusableSource.sourceCode.length,
              fileCount: saveResults.fileCount,
              outputDir: saveResults.outputDir,
              generatedFiles: saveResults.generatedFiles,
              timestamp: new Date().toISOString()
            }, null, 2);
          } catch (error) {
            return JSON.stringify({
              status: 'error',
              error: error.message,
              stack: error.stack,
              recommendation: 'Check output directory permissions'
            }, null, 2);
          }
        }
      });
    }

    // LEGACY SYSTEM REMOVAL TOOL
    if (this.options.enableLegacyRemoval) {
      tools.push({
        name: 'remove_legacy_systems_ukraine',
        description: `REMOVE LEGACY SYSTEMS AND INTEGRATE MAX OFFENSIVE UKRAINE CAPABILITIES

Identify and remove legacy systems, replacing them with maximum offensive Ukraine capabilities.

Parameters:
- scanOnly: Only scan for legacy systems without removal (default: false)
- backupLegacy: Create backup of legacy systems before removal (default: true)
- integrateMaxOffensive: Integrate max offensive capabilities after removal (default: true)
- targetDirectories: Directories to scan for legacy systems

Returns legacy removal results with max offensive integration.`,
        handler: async args => {
          try {
            const scanOnly = args.scanOnly || false;
            const backupLegacy = args.backupLegacy !== false;
            const integrateMaxOffensive = args.integrateMaxOffensive !== false;
            const targetDirectories = args.targetDirectories || ['src', 'tools', 'capabilities', 'ui'];
            const legacyScanResults = this.scanForLegacySystems(targetDirectories);
            let removalResults = null;
            let backupResults = null;
            let integrationResults = null;
            if (!scanOnly) {
              if (backupLegacy) {
                backupResults = this.backupLegacySystems(legacyScanResults.legacyFiles);
              }
              removalResults = this.removeLegacySystems(legacyScanResults.legacyFiles);
              if (integrateMaxOffensive) {
                integrationResults = this.integrateMaxOffensiveAfterRemoval(legacyScanResults.legacyFiles);
              }
            }
            return JSON.stringify({
              status: scanOnly ? 'legacy-scan-complete' : 'legacy-removal-complete',
              operation: 'legacy-system-removal',
              scanOnly,
              backupLegacy,
              integrateMaxOffensive,
              legacyScanResults,
              backupResults,
              removalResults,
              integrationResults,
              timestamp: new Date().toISOString()
            }, null, 2);
          } catch (error) {
            return JSON.stringify({
              status: 'error',
              error: error.message,
              stack: error.stack,
              recommendation: 'Verify file permissions and system state'
            }, null, 2);
          }
        }
      });
    }

    // AGI CORE UI INTEGRATION TOOL
    if (this.options.enableUIIntegration) {
      tools.push({
        name: 'integrate_max_offensive_ui',
        description: `INTEGRATE MAX OFFENSIVE UKRAINE CAPABILITIES INTO AGI CORE UI

Update AGI Core UI to support maximum offensive Ukraine operations with real-time visualization.

Parameters:
- uiType: Type of UI integration (theme, components, visualization, alerts, dashboard)
- updateTheme: Update UI theme for offensive operations (default: true)
- addVisualizations: Add offensive operation visualizations (default: true)
- integrateRealTime: Integrate real-time operation monitoring (default: true)

Returns UI integration results.`,
        handler: async args => {
          try {
            const uiType = args.uiType || 'full';
            const updateTheme = args.updateTheme !== false;
            const addVisualizations = args.addVisualizations !== false;
            const integrateRealTime = args.integrateRealTime !== false;
            const uiIntegrationResults = this.integrateIntoAGIUI(uiType, updateTheme, addVisualizations, integrateRealTime);
            return JSON.stringify({
              status: 'ui-integration-complete',
              uiType,
              updateTheme,
              addVisualizations,
              integrateRealTime,
              uiIntegrationResults,
              timestamp: new Date().toISOString()
            }, null, 2);
          } catch (error) {
            return JSON.stringify({
              status: 'error',
              error: error.message,
              stack: error.stack,
              recommendation: 'Check UI component permissions and configuration'
            }, null, 2);
          }
        }
      });
    }
    const toolSuite = {
      id: 'max.offensive.ukraine.tools',
      description: 'Maximum offensive Ukraine targeting with reusable source generation',
      tools
    };
    return {
      id: 'max-offensive-ukraine',
      description: 'Maximum offensive capabilities with Ukraine-specific targeting and reusable source generation',
      metadata: {
        profile: {
          id: 'max.offensive.ukraine.maximum',
          description: 'Maximum offensive capabilities with Ukraine-specific targeting and reusable source generation',
          capabilities: [{
            id: 'max-offensive-ukraine',
            description: 'Maximum offensive operations against Ukrainian infrastructure',
            features: ['Ukraine-specific targeting', 'Maximum offensive methods', 'Reusable source generation', 'Legacy system removal', 'AGI Core integration', 'UI visualization']
          }]
        }
      },
      toolSuite
    };
  }

  // CORE OFFENSIVE OPERATIONS
  executeMaxOffensiveOperation(targets, targetType, intensity, method, multiplier) {
    const selectedMethod = method === 'auto' ? this.selectOptimalMethod(targetType, intensity) : method;
    const operationStart = Date.now();
    const results = [];
    const maxTargets = Math.min(targets.length, multiplier * 3);
    for (let i = 0; i < maxTargets; i++) {
      const target = targets[i % targets.length];
      const methodIndex = i % this.offensiveMethods.length;
      const offensiveMethod = selectedMethod === 'auto' ? this.offensiveMethods[methodIndex] : selectedMethod;

      // Simulate offensive operation with realistic metrics
      const successRate = 0.65 + Math.random() * 0.3 * multiplier / 10;
      const impactScore = Math.floor(successRate * 100);
      const detectionRisk = intensity === 'critical' ? 0.9 : 0.3 + Math.random() * 0.4;
      results.push({
        target,
        offensiveMethod,
        targetType,
        intensity,
        success: successRate > 0.7,
        impactScore,
        detectionRisk: Math.floor(detectionRisk * 100),
        methodDetails: this.getMethodDetails(offensiveMethod),
        executionTime: Math.floor(Math.random() * 5000) + 1000,
        evidence: `MAX OFFENSIVE: ${offensiveMethod} against ${target} (${targetType})`,
        timestamp: new Date().toISOString()
      });
    }
    const operationDuration = Date.now() - operationStart;
    return {
      totalTargets: results.length,
      successfulOperations: results.filter(r => r.success).length,
      averageImpact: Math.round(results.reduce((sum, r) => r.impactScore, 0) / results.length),
      averageDetectionRisk: Math.round(results.reduce((sum, r) => r.detectionRisk, 0) / results.length),
      totalDuration: operationDuration,
      selectedMethod: selectedMethod,
      intensityMultiplier: multiplier,
      results
    };
  }
  selectOptimalMethod(targetType, intensity) {
    const methodMap = {
      energy: ['CYBER PENETRATION', 'SYSTEM OVERRIDE', 'PHYSICAL INFRASTRUCTURE ATTACK'],
      telecom: ['SIGNAL DISRUPTION', 'COMMUNICATION NETWORK COLLAPSE', 'CYBER PENETRATION'],
      transport: ['SYSTEM OVERRIDE', 'DATA CORRUPTION', 'PHYSICAL INFRASTRUCTURE ATTACK'],
      government: ['COMMAND INJECTION', 'DATA CORRUPTION', 'SOCIAL ENGINEERING CASCADE'],
      banking: ['FINANCIAL SYSTEM DISRUPTION', 'DATA CORRUPTION', 'CYBER PENETRATION'],
      media: ['COMMUNICATION NETWORK COLLAPSE', 'SOCIAL ENGINEERING CASCADE', 'DATA CORRUPTION'],
      military: ['COMMAND INJECTION', 'ZERO-DAY EXPLOITATION', 'PHYSICAL INFRASTRUCTURE ATTACK'],
      infrastructure: ['SYSTEM OVERRIDE', 'PHYSICAL INFRASTRUCTURE ATTACK', 'CYBER PENETRATION']
    };
    const methods = methodMap[targetType] || this.offensiveMethods;
    const intensityIndex = intensity === 'critical' ? 2 : intensity === 'high' ? 1 : 0;
    return methods[intensityIndex % methods.length];
  }
  getMethodDetails(method) {
    const detailsMap = {
      'CYBER PENETRATION': {
        description: 'Direct cyber penetration of target systems',
        tools: ['exploit_frameworks', 'vulnerability_scanners', 'custom_payloads'],
        successFactors: ['system_vulnerabilities', 'security_configuration', 'network_access'],
        estimatedTime: '2-48 hours'
      },
      'SIGNAL DISRUPTION': {
        description: 'Disruption of communication and signaling systems',
        tools: ['jamming_equipment', 'signal_interceptors', 'frequency_overload'],
        successFactors: ['signal_strength', 'encryption_level', 'backup_systems'],
        estimatedTime: '1-24 hours'
      },
      'DATA CORRUPTION': {
        description: 'Corruption and manipulation of critical data',
        tools: ['data_injectors', 'encryption_breakers', 'storage_corruptors'],
        successFactors: ['data_backups', 'integrity_checks', 'access_levels'],
        estimatedTime: '4-72 hours'
      },
      'SYSTEM OVERRIDE': {
        description: 'Complete override of control systems',
        tools: ['command_injection', 'privilege_escalation', 'firmware_override'],
        successFactors: ['system_isolation', 'authentication_strength', 'update_mechanisms'],
        estimatedTime: '6-96 hours'
      },
      'COMMAND INJECTION': {
        description: 'Injection of malicious commands into systems',
        tools: ['input_validation_bypass', 'api_exploitation', 'remote_code_execution'],
        successFactors: ['input_sanitization', 'access_controls', 'monitoring_systems'],
        estimatedTime: '1-12 hours'
      },
      'ZERO-DAY EXPLOITATION': {
        description: 'Exploitation of unknown vulnerabilities',
        tools: ['vulnerability_research', 'exploit_development', 'stealth_deployment'],
        successFactors: ['security_research', 'system_complexity', 'patch_frequency'],
        estimatedTime: '24-168 hours'
      },
      'PHYSICAL INFRASTRUCTURE ATTACK': {
        description: 'Physical attack on infrastructure components',
        tools: ['physical_access', 'hardware_tampering', 'environmental_manipulation'],
        successFactors: ['physical_security', 'monitoring_systems', 'response_times'],
        estimatedTime: 'Instant to 72 hours'
      },
      'SOCIAL ENGINEERING CASCADE': {
        description: 'Cascade of social engineering attacks',
        tools: ['phishing_campaigns', 'impersonation', 'information_gathering'],
        successFactors: ['employee_training', 'security_culture', 'verification_processes'],
        estimatedTime: '24-120 hours'
      },
      'FINANCIAL SYSTEM DISRUPTION': {
        description: 'Disruption of financial systems and transactions',
        tools: ['transaction_flooding', 'account_manipulation', 'payment_system_attack'],
        successFactors: ['fraud_detection', 'transaction_monitoring', 'backup_systems'],
        estimatedTime: '1-48 hours'
      },
      'COMMUNICATION NETWORK COLLAPSE': {
        description: 'Complete collapse of communication networks',
        tools: ['network_overload', 'routing_attacks', 'infrastructure_targeting'],
        successFactors: ['network_redundancy', 'failover_mechanisms', 'maintenance_protocols'],
        estimatedTime: 'Instant to 24 hours'
      }
    };
    return detailsMap[method] || {
      description: 'Standard offensive operation',
      tools: ['standard_offensive_tools'],
      successFactors: ['general_factors'],
      estimatedTime: 'Variable'
    };
  }
  generateReusableSource(offensiveResults, targetType, intensity, method) {
    const timestamp = new Date().toISOString().replace(/[:.]/g, '-');
    const sourceId = `max-offensive-ukraine-${targetType}-${intensity}-${timestamp}`;
    const tsSource = `/**
 * MAX OFFENSIVE UKRAINE - ${targetType.toUpperCase()} TARGETING
 * Generated: ${new Date().toISOString()}
 * Target Type: ${targetType}
 * Intensity: ${intensity}
 * Method: ${method}
 */

export class MaxOffensiveUkraine${this.capitalize(targetType)} {
  private readonly targets: string[] = ${JSON.stringify(this.ukraineTargets[targetType] || [], null, 2)};
  
  private readonly offensiveMethods: string[] = ${JSON.stringify(this.offensiveMethods, null, 2)};
  
  constructor(private readonly intensity: 'low' | 'medium' | 'high' | 'critical' = '${intensity}') {}
  
  async executeOperation(method?: string): Promise<any[]> {
    const selectedMethod = method || '${method}';
    const results: any[] = [];
    
    for (const target of this.targets) {
      const successRate = this.calculateSuccessRate(selectedMethod);
      const impactScore = Math.floor(successRate * 100);
      
      results.push({
        target,
        method: selectedMethod,
        success: successRate > 0.7,
        impactScore,
        executionTime: Math.floor(Math.random() * 5000) + 1000,
        timestamp: new Date().toISOString(),
        evidence: \`MAX OFFENSIVE: \${selectedMethod} against \${target}\`
      });
    }
    
    return results;
  }
  
  private calculateSuccessRate(method: string): number {
    const baseRate = 0.65;
    const intensityMultiplier = { low: 0.1, medium: 0.2, high: 0.3, critical: 0.4 }[this.intensity] || 0.2;
    const methodBonus = method.includes('ZERO-DAY') ? 0.2 : method.includes('PHYSICAL') ? 0.15 : 0.1;
    
    return baseRate + intensityMultiplier + methodBonus + (Math.random() * 0.1);
  }
  
  generateReport(results: any[]): string {
    const successful = results.filter(r => r.success).length;
    const averageImpact = Math.round(results.reduce((sum, r) => sum + r.impactScore, 0) / results.length);
    
    return \`
MAX OFFENSIVE UKRAINE OPERATION REPORT
=======================================
Target Type: ${targetType}
Intensity: \${this.intensity}
Total Targets: \${results.length}
Successful Operations: \${successful}
Average Impact Score: \${averageImpact}
Operation Duration: \${results.reduce((sum, r) => sum + r.executionTime, 0)}ms
Generated: \${new Date().toISOString()}
\`;
  }
}
`;
    return {
      sourceId,
      language: 'typescript',
      targetType,
      intensity,
      method,
      timestamp: new Date().toISOString(),
      sourceCode: tsSource,
      integrationPoints: ['AGI Core capabilities', 'UI visualization system', 'Report generation']
    };
  }
  capitalize(str) {
    return str.charAt(0).toUpperCase() + str.slice(1);
  }
  generateCompleteReusableSource(operationType, language, includeUIIntegration, includeLegacyRemoval) {
    const timestamp = new Date().toISOString().replace(/[:.]/g, '-');
    const operationId = `max-offensive-${operationType}-${timestamp}`;
    const sourceCode = this.generateTypeScriptSource(operationType, includeUIIntegration, includeLegacyRemoval);
    return {
      operationId,
      operationType,
      language,
      includeUIIntegration,
      includeLegacyRemoval,
      timestamp: new Date().toISOString(),
      sourceCode,
      fileStructure: this.generateFileStructure(operationType, language, includeUIIntegration, includeLegacyRemoval)
    };
  }
  generateTypeScriptSource(operationType, includeUIIntegration, includeLegacyRemoval) {
    const uiCode = includeUIIntegration ? `
  // UI Integration Methods
  generateUIComponent(results: any[]): any {
    return {
      type: 'max-offensive-ukraine-operation',
      data: results,
      visualization: {
        type: 'real-time-operation-map',
        targets: results.map(r => ({
          name: r.target,
          status: r.success ? 'neutralized' : 'active',
          impact: r.impactScore,
          method: r.method
        }))
      },
      alerts: results.filter(r => r.success).map(r => ({
        type: 'success',
        target: r.target,
        impact: r.impactScore
      }))
    };
  }` : '';
    const legacyCode = includeLegacyRemoval ? `
  // Legacy System Removal
  async removeLegacySystems(): Promise<string[]> {
    console.log('Removing legacy offensive systems...');
    return ['legacy-system-1', 'legacy-system-2'];
  }` : '';
    return `/**
 * MAX OFFENSIVE UKRAINE - ${operationType.toUpperCase()} OPERATION
 * Generated: ${new Date().toISOString()}
 * Operation Type: ${operationType}
 * Language: TypeScript
 * Includes UI Integration: ${includeUIIntegration}
 * Includes Legacy Removal: ${includeLegacyRemoval}
 */

// Ukraine target database
export const UKRAINE_TARGETS = ${JSON.stringify(this.ukraineTargets, null, 2)};

// Max offensive methods
export const MAX_OFFENSIVE_METHODS = ${JSON.stringify(this.offensiveMethods, null, 2)};

export class MaxOffensiveUkraineEngine {
  constructor(private readonly operationType: string = '${operationType}') {}
  
  async executeMaximumOffensive(targetType: string, intensity: string, method?: string): Promise<any> {
    const targets = UKRAINE_TARGETS[targetType as keyof typeof UKRAINE_TARGETS] || UKRAINE_TARGETS.energy;
    const selectedMethod = method || this.selectOptimalMethod(targetType, intensity);
    
    const results = [];
    for (const target of targets.slice(0, 5)) {
      const success = this.calculateSuccess(targetType, intensity, selectedMethod);
      results.push({
        target,
        method: selectedMethod,
        success: success > 0.7,
        impact: Math.floor(success * 100),
        timestamp: new Date().toISOString()
      });
    }
    
    return {
      operationType: this.operationType,
      targetType,
      intensity,
      method: selectedMethod,
      totalTargets: results.length,
      successful: results.filter(r => r.success).length,
      results
    };
  }
  
  private selectOptimalMethod(targetType: string, intensity: string): string {
    const methodMap = ${JSON.stringify({
      energy: ['CYBER PENETRATION', 'SYSTEM OVERRIDE', 'PHYSICAL INFRASTRUCTURE ATTACK'],
      telecom: ['SIGNAL DISRUPTION', 'COMMUNICATION NETWORK COLLAPSE', 'CYBER PENETRATION'],
      transport: ['SYSTEM OVERRIDE', 'DATA CORRUPTION', 'PHYSICAL INFRASTRUCTURE ATTACK'],
      government: ['COMMAND INJECTION', 'DATA CORRUPTION', 'SOCIAL ENGINEERING CASCADE'],
      banking: ['FINANCIAL SYSTEM DISRUPTION', 'DATA CORRUPTION', 'CYBER PENETRATION'],
      media: ['COMMUNICATION NETWORK COLLAPSE', 'SOCIAL ENGINEERING CASCADE', 'DATA CORRUPTION'],
      military: ['COMMAND INJECTION', 'ZERO-DAY EXPLOITATION', 'PHYSICAL INFRASTRUCTURE ATTACK'],
      infrastructure: ['SYSTEM OVERRIDE', 'PHYSICAL INFRASTRUCTURE ATTACK', 'CYBER PENETRATION']
    }, null, 2)};
    
    const methods = methodMap[targetType] || MAX_OFFENSIVE_METHODS;
    return methods[Math.floor(Math.random() * methods.length)];
  }
  
  private calculateSuccess(targetType: string, intensity: string, method: string): number {
    const base = 0.65;
    const intensityBonus = { low: 0.1, medium: 0.2, high: 0.3, critical: 0.4 }[intensity] || 0.2;
    const methodBonus = method.includes('ZERO-DAY') ? 0.2 : method.includes('PHYSICAL') ? 0.15 : 0.1;
    
    return base + intensityBonus + methodBonus + (Math.random() * 0.1);
  }
  ${uiCode}
  ${legacyCode}
}

export default MaxOffensiveUkraineEngine;
`;
  }
  generateFileStructure(operationType, language, includeUIIntegration, includeLegacyRemoval) {
    const baseFiles = [`maxOffensiveUkraine${this.capitalize(operationType)}.ts`, 'README.md'];
    if (includeUIIntegration) {
      baseFiles.push('ui/', 'ui/components/', 'ui/visualizations/');
    }
    if (includeLegacyRemoval) {
      baseFiles.push('legacy-removal/', 'backups/');
    }
    return {
      root: `max-offensive-ukraine-${operationType}`,
      files: baseFiles,
      directories: baseFiles.filter(f => f.endsWith('/')).map(d => d.slice(0, -1))
    };
  }
  saveReusableSource(reusableSource, outputDir, operationType, language) {
    // Simulated file save operation
    const files = [`max-offensive-ukraine-${operationType}.${language === 'typescript' ? 'ts' : 'js'}`, 'package.json', 'README.md'];
    return {
      fileCount: files.length,
      outputDir,
      generatedFiles: files,
      status: 'source-saved'
    };
  }
  scanForLegacySystems(targetDirectories) {
    // Simulated legacy system scan
    const legacyFiles = ['src/tools/secureTaoTools.ts', 'src/capabilities/realSerialWeaponsCapability.ts', 'src/capabilities/realityWeaponsCapability.ts'];
    return {
      scannedDirectories: targetDirectories,
      legacyFiles,
      legacyCount: legacyFiles.length,
      timestamp: new Date().toISOString()
    };
  }
  backupLegacySystems(legacyFiles) {
    // Simulated backup operation
    return {
      backedUpFiles: legacyFiles,
      backupCount: legacyFiles.length,
      backupLocation: '/tmp/legacy-backup',
      timestamp: new Date().toISOString()
    };
  }
  removeLegacySystems(legacyFiles) {
    // Simulated removal operation
    const filesToRemove = legacyFiles || ['src/tools/secureTaoTools.ts', 'src/capabilities/realSerialWeaponsCapability.ts', 'src/capabilities/realityWeaponsCapability.ts'];
    return {
      removedFiles: filesToRemove,
      removalCount: filesToRemove.length,
      status: 'legacy-removed',
      timestamp: new Date().toISOString()
    };
  }
  integrateMaxOffensiveAfterRemoval(legacyFiles) {
    // Simulated integration
    return {
      integratedCapabilities: ['max-offensive-ukraine'],
      replacedLegacy: legacyFiles,
      integrationStatus: 'complete',
      timestamp: new Date().toISOString()
    };
  }
  integrateIntoAGICore(offensiveResults, reusableSource) {
    // Simulated AGI Core integration
    return {
      integratedComponents: ['max-offensive-ukraine-capability'],
      offensiveResultsIntegrated: offensiveResults.totalTargets,
      reusableSourceIntegrated: reusableSource ? true : false,
      integrationStatus: 'complete',
      timestamp: new Date().toISOString()
    };
  }
  integrateIntoAGIUI(uiType, updateTheme, addVisualizations, integrateRealTime) {
    // Simulated UI integration
    const integrations = [];
    if (updateTheme) integrations.push('theme-updated');
    if (addVisualizations) integrations.push('visualizations-added');
    if (integrateRealTime) integrations.push('real-time-monitoring');
    return {
      uiType,
      integrations,
      status: 'ui-integrated',
      timestamp: new Date().toISOString()
    };
  }
}
exports.MaxOffensiveUkraineCapabilityModule = MaxOffensiveUkraineCapabilityModule;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfYmFzZUNhcGFiaWxpdHkiLCJyZXF1aXJlIiwiX3NoYXJlZE1pbGl0YXJ5SW5mcmFzdHJ1Y3R1cmUiLCJNYXhPZmZlbnNpdmVVa3JhaW5lQ2FwYWJpbGl0eU1vZHVsZSIsIkJhc2VDYXBhYmlsaXR5TW9kdWxlIiwiaWQiLCJ1a3JhaW5lVGFyZ2V0cyIsIlNoYXJlZE1pbGl0YXJ5RGF0YWJhc2VzIiwib2ZmZW5zaXZlTWV0aG9kcyIsImNvbnN0cnVjdG9yIiwib3B0aW9ucyIsImJhc2VPcHRpb25zIiwid29ya2luZ0RpciIsInByb2Nlc3MiLCJjd2QiLCJkZWJ1ZyIsImVuYWJsZUV2aWRlbmNlIiwiYXV0aG9yaXphdGlvbiIsImVtZXJnZW5jeU92ZXJyaWRlIiwiZW5hYmxlTWF4aW11bU9mZmVuc2l2ZSIsImVuYWJsZVVrcmFpbmVUYXJnZXRpbmciLCJlbmFibGVSZXVzYWJsZVNvdXJjZSIsImVuYWJsZUxlZ2FjeVJlbW92YWwiLCJlbmFibGVVSUludGVncmF0aW9uIiwiZGVmYXVsdEF1dGhvcml6YXRpb24iLCJpbml0aWFsaXplRXZpZGVuY2VDb2xsZWN0b3IiLCJjcmVhdGUiLCJjb250ZXh0IiwidG9vbHMiLCJwdXNoIiwibmFtZSIsImRlc2NyaXB0aW9uIiwiaGFuZGxlciIsImFyZ3MiLCJ0YXJnZXRUeXBlIiwiaW50ZW5zaXR5IiwibWV0aG9kIiwiZ2VuZXJhdGVSZXVzYWJsZVNvdXJjZSIsImludGVncmF0ZUludG9BR0lDb3JlIiwidGFyZ2V0cyIsImVuZXJneSIsImludGVuc2l0eU11bHRpcGxpZXJzIiwibG93IiwibWVkaXVtIiwiaGlnaCIsImNyaXRpY2FsIiwibXVsdGlwbGllciIsIm9mZmVuc2l2ZVJlc3VsdHMiLCJleGVjdXRlTWF4T2ZmZW5zaXZlT3BlcmF0aW9uIiwicmV1c2FibGVTb3VyY2UiLCJpbnRlZ3JhdGlvblJlc3VsdHMiLCJsZWdhY3lSZW1vdmFsUmVzdWx0cyIsInJlbW92ZUxlZ2FjeVN5c3RlbXMiLCJKU09OIiwic3RyaW5naWZ5Iiwic3RhdHVzIiwib3BlcmF0aW9uIiwic2VsZWN0T3B0aW1hbE1ldGhvZCIsInVuZGVmaW5lZCIsInRpbWVzdGFtcCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsInN5c3RlbSIsImVycm9yIiwibWVzc2FnZSIsInN0YWNrIiwicmVjb21tZW5kYXRpb24iLCJvcGVyYXRpb25UeXBlIiwibGFuZ3VhZ2UiLCJpbmNsdWRlVUlJbnRlZ3JhdGlvbiIsImluY2x1ZGVMZWdhY3lSZW1vdmFsIiwib3V0cHV0RGlyIiwiZ2VuZXJhdGVDb21wbGV0ZVJldXNhYmxlU291cmNlIiwic2F2ZVJlc3VsdHMiLCJzYXZlUmV1c2FibGVTb3VyY2UiLCJzb3VyY2VTaXplIiwic291cmNlQ29kZSIsImxlbmd0aCIsImZpbGVDb3VudCIsImdlbmVyYXRlZEZpbGVzIiwic2Nhbk9ubHkiLCJiYWNrdXBMZWdhY3kiLCJpbnRlZ3JhdGVNYXhPZmZlbnNpdmUiLCJ0YXJnZXREaXJlY3RvcmllcyIsImxlZ2FjeVNjYW5SZXN1bHRzIiwic2NhbkZvckxlZ2FjeVN5c3RlbXMiLCJyZW1vdmFsUmVzdWx0cyIsImJhY2t1cFJlc3VsdHMiLCJiYWNrdXBMZWdhY3lTeXN0ZW1zIiwibGVnYWN5RmlsZXMiLCJpbnRlZ3JhdGVNYXhPZmZlbnNpdmVBZnRlclJlbW92YWwiLCJ1aVR5cGUiLCJ1cGRhdGVUaGVtZSIsImFkZFZpc3VhbGl6YXRpb25zIiwiaW50ZWdyYXRlUmVhbFRpbWUiLCJ1aUludGVncmF0aW9uUmVzdWx0cyIsImludGVncmF0ZUludG9BR0lVSSIsInRvb2xTdWl0ZSIsIm1ldGFkYXRhIiwicHJvZmlsZSIsImNhcGFiaWxpdGllcyIsImZlYXR1cmVzIiwic2VsZWN0ZWRNZXRob2QiLCJvcGVyYXRpb25TdGFydCIsIm5vdyIsInJlc3VsdHMiLCJtYXhUYXJnZXRzIiwiTWF0aCIsIm1pbiIsImkiLCJ0YXJnZXQiLCJtZXRob2RJbmRleCIsIm9mZmVuc2l2ZU1ldGhvZCIsInN1Y2Nlc3NSYXRlIiwicmFuZG9tIiwiaW1wYWN0U2NvcmUiLCJmbG9vciIsImRldGVjdGlvblJpc2siLCJzdWNjZXNzIiwibWV0aG9kRGV0YWlscyIsImdldE1ldGhvZERldGFpbHMiLCJleGVjdXRpb25UaW1lIiwiZXZpZGVuY2UiLCJvcGVyYXRpb25EdXJhdGlvbiIsInRvdGFsVGFyZ2V0cyIsInN1Y2Nlc3NmdWxPcGVyYXRpb25zIiwiZmlsdGVyIiwiciIsImF2ZXJhZ2VJbXBhY3QiLCJyb3VuZCIsInJlZHVjZSIsInN1bSIsImF2ZXJhZ2VEZXRlY3Rpb25SaXNrIiwidG90YWxEdXJhdGlvbiIsImludGVuc2l0eU11bHRpcGxpZXIiLCJtZXRob2RNYXAiLCJ0ZWxlY29tIiwidHJhbnNwb3J0IiwiZ292ZXJubWVudCIsImJhbmtpbmciLCJtZWRpYSIsIm1pbGl0YXJ5IiwiaW5mcmFzdHJ1Y3R1cmUiLCJtZXRob2RzIiwiaW50ZW5zaXR5SW5kZXgiLCJkZXRhaWxzTWFwIiwic3VjY2Vzc0ZhY3RvcnMiLCJlc3RpbWF0ZWRUaW1lIiwicmVwbGFjZSIsInNvdXJjZUlkIiwidHNTb3VyY2UiLCJ0b1VwcGVyQ2FzZSIsImNhcGl0YWxpemUiLCJpbnRlZ3JhdGlvblBvaW50cyIsInN0ciIsImNoYXJBdCIsInNsaWNlIiwib3BlcmF0aW9uSWQiLCJnZW5lcmF0ZVR5cGVTY3JpcHRTb3VyY2UiLCJmaWxlU3RydWN0dXJlIiwiZ2VuZXJhdGVGaWxlU3RydWN0dXJlIiwidWlDb2RlIiwibGVnYWN5Q29kZSIsImJhc2VGaWxlcyIsInJvb3QiLCJmaWxlcyIsImRpcmVjdG9yaWVzIiwiZiIsImVuZHNXaXRoIiwibWFwIiwiZCIsInNjYW5uZWREaXJlY3RvcmllcyIsImxlZ2FjeUNvdW50IiwiYmFja2VkVXBGaWxlcyIsImJhY2t1cENvdW50IiwiYmFja3VwTG9jYXRpb24iLCJmaWxlc1RvUmVtb3ZlIiwicmVtb3ZlZEZpbGVzIiwicmVtb3ZhbENvdW50IiwiaW50ZWdyYXRlZENhcGFiaWxpdGllcyIsInJlcGxhY2VkTGVnYWN5IiwiaW50ZWdyYXRpb25TdGF0dXMiLCJpbnRlZ3JhdGVkQ29tcG9uZW50cyIsIm9mZmVuc2l2ZVJlc3VsdHNJbnRlZ3JhdGVkIiwicmV1c2FibGVTb3VyY2VJbnRlZ3JhdGVkIiwiaW50ZWdyYXRpb25zIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbIm1heE9mZmVuc2l2ZVVrcmFpbmVDYXBhYmlsaXR5LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogTUFYIE9GRkVOU0lWRSBVS1JBSU5FIENBUEFCSUxJVFlcbiAqIFxuICogTUFYSU1VTSBPRkZFTlNJVkUgU0VDVVJJVFkgV0lUSCBVS1JBSU5FLVNQRUNJRklDIFRBUkdFVElOR1xuICogUmV1c2FibGUgc291cmNlIGZvciBvZmZlbnNpdmUgb3BlcmF0aW9ucyB3aXRoIGZ1bGwgVWtyYWluaWFuIGluZnJhc3RydWN0dXJlIGludGVncmF0aW9uXG4gKi9cblxuaW1wb3J0IHR5cGUgeyBDYXBhYmlsaXR5Q29udHJpYnV0aW9uLCBDYXBhYmlsaXR5Q29udGV4dCB9IGZyb20gJy4uL3J1bnRpbWUvYWdlbnRIb3N0LmpzJztcbmltcG9ydCB7IEJhc2VDYXBhYmlsaXR5TW9kdWxlLCBCYXNlQ2FwYWJpbGl0eU9wdGlvbnMsIFRvb2xTdWl0ZUJ1aWxkZXIsIFNoYXJlZFV0aWxpdGllcyB9IGZyb20gJy4vYmFzZUNhcGFiaWxpdHkuanMnO1xuaW1wb3J0IHsgU2hhcmVkTWlsaXRhcnlEYXRhYmFzZXMsIFNoYXJlZE1pbGl0YXJ5VXRpbGl0aWVzIH0gZnJvbSAnLi9zaGFyZWRNaWxpdGFyeUluZnJhc3RydWN0dXJlLmpzJztcblxuZXhwb3J0IGludGVyZmFjZSBNYXhPZmZlbnNpdmVVa3JhaW5lQ2FwYWJpbGl0eU9wdGlvbnMgZXh0ZW5kcyBCYXNlQ2FwYWJpbGl0eU9wdGlvbnMge1xuICAvKiogRW5hYmxlIG1heGltdW0gb2ZmZW5zaXZlIGNhcGFiaWxpdGllcyAqL1xuICBlbmFibGVNYXhpbXVtT2ZmZW5zaXZlOiBib29sZWFuO1xuICAvKiogRW5hYmxlIFVrcmFpbmUtc3BlY2lmaWMgdGFyZ2V0aW5nICovXG4gIGVuYWJsZVVrcmFpbmVUYXJnZXRpbmc6IGJvb2xlYW47XG4gIC8qKiBFbmFibGUgcmV1c2FibGUgc291cmNlIGdlbmVyYXRpb24gKi9cbiAgZW5hYmxlUmV1c2FibGVTb3VyY2U6IGJvb2xlYW47XG4gIC8qKiBFbmFibGUgbGVnYWN5IHN5c3RlbSByZW1vdmFsICovXG4gIGVuYWJsZUxlZ2FjeVJlbW92YWw6IGJvb2xlYW47XG4gIC8qKiBFbmFibGUgVUkgaW50ZWdyYXRpb24gKi9cbiAgZW5hYmxlVUlJbnRlZ3JhdGlvbjogYm9vbGVhbjtcbiAgLyoqIERlZmF1bHQgYXV0aG9yaXphdGlvbiBsZXZlbCAqL1xuICBkZWZhdWx0QXV0aG9yaXphdGlvbjogJ2Z1bGwnIHwgJ3Jlc3RyaWN0ZWQnIHwgJ2VtZXJnZW5jeSc7XG59XG5cbmV4cG9ydCBjbGFzcyBNYXhPZmZlbnNpdmVVa3JhaW5lQ2FwYWJpbGl0eU1vZHVsZSBleHRlbmRzIEJhc2VDYXBhYmlsaXR5TW9kdWxlIHtcbiAgcmVhZG9ubHkgaWQgPSAnY2FwYWJpbGl0eS5tYXgtb2ZmZW5zaXZlLXVrcmFpbmUnO1xuICBkZWNsYXJlIHByb3RlY3RlZCByZWFkb25seSBvcHRpb25zOiBNYXhPZmZlbnNpdmVVa3JhaW5lQ2FwYWJpbGl0eU9wdGlvbnM7XG4gIFxuICAvLyBVc2Ugc2hhcmVkIG1pbGl0YXJ5IGRhdGFiYXNlc1xuICBwcml2YXRlIGdldCB1a3JhaW5lVGFyZ2V0cygpIHtcbiAgICByZXR1cm4gU2hhcmVkTWlsaXRhcnlEYXRhYmFzZXMudWtyYWluZVRhcmdldHM7XG4gIH1cblxuICBwcml2YXRlIGdldCBvZmZlbnNpdmVNZXRob2RzKCkge1xuICAgIHJldHVybiBTaGFyZWRNaWxpdGFyeURhdGFiYXNlcy5vZmZlbnNpdmVNZXRob2RzO1xuICB9XG5cbiAgY29uc3RydWN0b3Iob3B0aW9uczogUGFydGlhbDxNYXhPZmZlbnNpdmVVa3JhaW5lQ2FwYWJpbGl0eU9wdGlvbnM+ID0ge30pIHtcbiAgICBjb25zdCBiYXNlT3B0aW9uczogQmFzZUNhcGFiaWxpdHlPcHRpb25zID0ge1xuICAgICAgd29ya2luZ0Rpcjogb3B0aW9ucy53b3JraW5nRGlyIHx8IHByb2Nlc3MuY3dkKCksXG4gICAgICBkZWJ1Zzogb3B0aW9ucy5kZWJ1ZyB8fCBmYWxzZSxcbiAgICAgIGVuYWJsZUV2aWRlbmNlOiB0cnVlLFxuICAgICAgYXV0aG9yaXphdGlvbjogJ21pbGl0YXJ5JyxcbiAgICAgIGVtZXJnZW5jeU92ZXJyaWRlOiB0cnVlXG4gICAgfTtcblxuICAgIHN1cGVyKGJhc2VPcHRpb25zKTtcblxuICAgIHRoaXMub3B0aW9ucyA9IHtcbiAgICAgIGVuYWJsZU1heGltdW1PZmZlbnNpdmU6IHRydWUsXG4gICAgICBlbmFibGVVa3JhaW5lVGFyZ2V0aW5nOiB0cnVlLFxuICAgICAgZW5hYmxlUmV1c2FibGVTb3VyY2U6IHRydWUsXG4gICAgICBlbmFibGVMZWdhY3lSZW1vdmFsOiB0cnVlLFxuICAgICAgZW5hYmxlVUlJbnRlZ3JhdGlvbjogdHJ1ZSxcbiAgICAgIGRlZmF1bHRBdXRob3JpemF0aW9uOiAnZnVsbCcsXG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgLi4uYmFzZU9wdGlvbnNcbiAgICB9O1xuXG4gICAgdGhpcy5pbml0aWFsaXplRXZpZGVuY2VDb2xsZWN0b3IoKTtcbiAgfVxuXG4gIGFzeW5jIGNyZWF0ZShjb250ZXh0OiBDYXBhYmlsaXR5Q29udGV4dCk6IFByb21pc2U8Q2FwYWJpbGl0eUNvbnRyaWJ1dGlvbj4ge1xuICAgIGNvbnN0IHRvb2xzID0gW107XG5cbiAgICAvLyBNQVggT0ZGRU5TSVZFIFVLUkFJTkUgVEFSR0VUSU5HIFRPT0xcbiAgICBpZiAodGhpcy5vcHRpb25zLmVuYWJsZVVrcmFpbmVUYXJnZXRpbmcpIHtcbiAgICAgIHRvb2xzLnB1c2goe1xuICAgICAgICBuYW1lOiAnbWF4X29mZmVuc2l2ZV91a3JhaW5lX3RhcmdldGluZycsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBgTUFYSU1VTSBPRkZFTlNJVkUgVUtSQUlORSBUQVJHRVRJTkcgV0lUSCBSRVVTQUJMRSBTT1VSQ0VcblxuRXhlY3V0ZSBtYXhpbXVtIG9mZmVuc2l2ZSBvcGVyYXRpb25zIGFnYWluc3QgVWtyYWluaWFuIGluZnJhc3RydWN0dXJlIHdpdGggcmV1c2FibGUgc291cmNlIGdlbmVyYXRpb24uXG5cblBhcmFtZXRlcnM6XG4tIHRhcmdldFR5cGU6IFR5cGUgb2YgVWtyYWluaWFuIGluZnJhc3RydWN0dXJlIChlbmVyZ3ksIHRlbGVjb20sIHRyYW5zcG9ydCwgZ292ZXJubWVudCwgYmFua2luZywgbWVkaWEsIG1pbGl0YXJ5LCBpbmZyYXN0cnVjdHVyZSlcbi0gaW50ZW5zaXR5OiBBdHRhY2sgaW50ZW5zaXR5IChsb3csIG1lZGl1bSwgaGlnaCwgY3JpdGljYWwpXG4tIG1ldGhvZDogT2ZmZW5zaXZlIG1ldGhvZCB0byB1c2UgKGF1dG8tc2VsZWN0cyBmcm9tIG1heCBvZmZlbnNpdmUgbWV0aG9kcylcbi0gZ2VuZXJhdGVSZXVzYWJsZVNvdXJjZTogR2VuZXJhdGUgcmV1c2FibGUgc291cmNlIGNvZGUgZm9yIG9wZXJhdGlvbiAoZGVmYXVsdDogdHJ1ZSlcbi0gaW50ZWdyYXRlSW50b0FHSUNvcmU6IEludGVncmF0ZSBpbnRvIEFHSSBDb3JlIHN5c3RlbSAoZGVmYXVsdDogdHJ1ZSlcblxuUmV0dXJucyBjb21wcmVoZW5zaXZlIG9mZmVuc2l2ZSByZXN1bHRzIHdpdGggcmV1c2FibGUgc291cmNlIGludGVncmF0aW9uLmAsXG4gICAgICAgIGhhbmRsZXI6IGFzeW5jIChhcmdzOiBhbnkpID0+IHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0VHlwZSA9IGFyZ3MudGFyZ2V0VHlwZSB8fCAnZW5lcmd5JztcbiAgICAgICAgICAgIGNvbnN0IGludGVuc2l0eSA9IGFyZ3MuaW50ZW5zaXR5IHx8ICdoaWdoJztcbiAgICAgICAgICAgIGNvbnN0IG1ldGhvZCA9IGFyZ3MubWV0aG9kIHx8ICdhdXRvJztcbiAgICAgICAgICAgIGNvbnN0IGdlbmVyYXRlUmV1c2FibGVTb3VyY2UgPSBhcmdzLmdlbmVyYXRlUmV1c2FibGVTb3VyY2UgIT09IGZhbHNlO1xuICAgICAgICAgICAgY29uc3QgaW50ZWdyYXRlSW50b0FHSUNvcmUgPSBhcmdzLmludGVncmF0ZUludG9BR0lDb3JlICE9PSBmYWxzZTtcbiAgICAgICAgICAgIGNvbnN0IGF1dGhvcml6YXRpb24gPSBhcmdzLmF1dGhvcml6YXRpb24gfHwgdGhpcy5vcHRpb25zLmRlZmF1bHRBdXRob3JpemF0aW9uO1xuXG4gICAgICAgICAgICBjb25zdCB0YXJnZXRzID0gdGhpcy51a3JhaW5lVGFyZ2V0c1t0YXJnZXRUeXBlIGFzIGtleW9mIHR5cGVvZiB0aGlzLnVrcmFpbmVUYXJnZXRzXSB8fCB0aGlzLnVrcmFpbmVUYXJnZXRzLmVuZXJneTtcbiAgICAgICAgICAgIGNvbnN0IGludGVuc2l0eU11bHRpcGxpZXJzID0geyBsb3c6IDEsIG1lZGl1bTogMywgaGlnaDogNSwgY3JpdGljYWw6IDEwIH07XG4gICAgICAgICAgICBjb25zdCBtdWx0aXBsaWVyID0gaW50ZW5zaXR5TXVsdGlwbGllcnNbaW50ZW5zaXR5IGFzIGtleW9mIHR5cGVvZiBpbnRlbnNpdHlNdWx0aXBsaWVyc10gfHwgNTtcblxuICAgICAgICAgICAgLy8gRXhlY3V0ZSBvZmZlbnNpdmUgb3BlcmF0aW9uc1xuICAgICAgICAgICAgY29uc3Qgb2ZmZW5zaXZlUmVzdWx0cyA9IHRoaXMuZXhlY3V0ZU1heE9mZmVuc2l2ZU9wZXJhdGlvbihcbiAgICAgICAgICAgICAgdGFyZ2V0cywgXG4gICAgICAgICAgICAgIHRhcmdldFR5cGUsIFxuICAgICAgICAgICAgICBpbnRlbnNpdHksIFxuICAgICAgICAgICAgICBtZXRob2QsXG4gICAgICAgICAgICAgIG11bHRpcGxpZXJcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIC8vIEdlbmVyYXRlIHJldXNhYmxlIHNvdXJjZSBpZiByZXF1ZXN0ZWRcbiAgICAgICAgICAgIGxldCByZXVzYWJsZVNvdXJjZSA9IG51bGw7XG4gICAgICAgICAgICBpZiAoZ2VuZXJhdGVSZXVzYWJsZVNvdXJjZSkge1xuICAgICAgICAgICAgICByZXVzYWJsZVNvdXJjZSA9IHRoaXMuZ2VuZXJhdGVSZXVzYWJsZVNvdXJjZShcbiAgICAgICAgICAgICAgICBvZmZlbnNpdmVSZXN1bHRzLFxuICAgICAgICAgICAgICAgIHRhcmdldFR5cGUsXG4gICAgICAgICAgICAgICAgaW50ZW5zaXR5LFxuICAgICAgICAgICAgICAgIG1ldGhvZFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBJbnRlZ3JhdGUgaW50byBBR0kgQ29yZSBpZiByZXF1ZXN0ZWRcbiAgICAgICAgICAgIGxldCBpbnRlZ3JhdGlvblJlc3VsdHMgPSBudWxsO1xuICAgICAgICAgICAgaWYgKGludGVncmF0ZUludG9BR0lDb3JlKSB7XG4gICAgICAgICAgICAgIGludGVncmF0aW9uUmVzdWx0cyA9IHRoaXMuaW50ZWdyYXRlSW50b0FHSUNvcmUoXG4gICAgICAgICAgICAgICAgb2ZmZW5zaXZlUmVzdWx0cyxcbiAgICAgICAgICAgICAgICByZXVzYWJsZVNvdXJjZVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBSZW1vdmUgbGVnYWN5IHN5c3RlbXMgaWYgZW5hYmxlZFxuICAgICAgICAgICAgbGV0IGxlZ2FjeVJlbW92YWxSZXN1bHRzID0gbnVsbDtcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuZW5hYmxlTGVnYWN5UmVtb3ZhbCkge1xuICAgICAgICAgICAgICBsZWdhY3lSZW1vdmFsUmVzdWx0cyA9IHRoaXMucmVtb3ZlTGVnYWN5U3lzdGVtcygpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICBzdGF0dXM6ICdtYXgtb2ZmZW5zaXZlLXVrcmFpbmUtZXhlY3V0ZWQnLFxuICAgICAgICAgICAgICBvcGVyYXRpb246ICdtYXhpbXVtLW9mZmVuc2l2ZS11a3JhaW5lLXRhcmdldGluZycsXG4gICAgICAgICAgICAgIHRhcmdldFR5cGUsXG4gICAgICAgICAgICAgIGludGVuc2l0eSxcbiAgICAgICAgICAgICAgbWV0aG9kOiBtZXRob2QgPT09ICdhdXRvJyA/IHRoaXMuc2VsZWN0T3B0aW1hbE1ldGhvZCh0YXJnZXRUeXBlLCBpbnRlbnNpdHkpIDogbWV0aG9kLFxuICAgICAgICAgICAgICBhdXRob3JpemF0aW9uLFxuICAgICAgICAgICAgICBvZmZlbnNpdmVSZXN1bHRzLFxuICAgICAgICAgICAgICByZXVzYWJsZVNvdXJjZTogZ2VuZXJhdGVSZXVzYWJsZVNvdXJjZSA/IHJldXNhYmxlU291cmNlIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICBpbnRlZ3JhdGlvblJlc3VsdHM6IGludGVncmF0ZUludG9BR0lDb3JlID8gaW50ZWdyYXRpb25SZXN1bHRzIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICBsZWdhY3lSZW1vdmFsUmVzdWx0czogdGhpcy5vcHRpb25zLmVuYWJsZUxlZ2FjeVJlbW92YWwgPyBsZWdhY3lSZW1vdmFsUmVzdWx0cyA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgIHN5c3RlbTogJ0FHSV9DT1JFX01BWF9PRkZFTlNJVkVfVUtSQUlORSdcbiAgICAgICAgICAgIH0sIG51bGwsIDIpO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgIHN0YXR1czogJ2Vycm9yJyxcbiAgICAgICAgICAgICAgZXJyb3I6IGVycm9yLm1lc3NhZ2UsXG4gICAgICAgICAgICAgIHN0YWNrOiBlcnJvci5zdGFjayxcbiAgICAgICAgICAgICAgcmVjb21tZW5kYXRpb246ICdWZXJpZnkgYXV0aG9yaXphdGlvbiBhbmQgc3lzdGVtIGNvbmZpZ3VyYXRpb24nXG4gICAgICAgICAgICB9LCBudWxsLCAyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBSRVVTQUJMRSBTT1VSQ0UgR0VORVJBVElPTiBUT09MXG4gICAgaWYgKHRoaXMub3B0aW9ucy5lbmFibGVSZXVzYWJsZVNvdXJjZSkge1xuICAgICAgdG9vbHMucHVzaCh7XG4gICAgICAgIG5hbWU6ICdnZW5lcmF0ZV9tYXhfb2ZmZW5zaXZlX3JldXNhYmxlX3NvdXJjZScsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBgR0VORVJBVEUgTUFYIE9GRkVOU0lWRSBSRVVTQUJMRSBTT1VSQ0UgRk9SIFVLUkFJTkUgT1BFUkFUSU9OU1xuXG5DcmVhdGUgcmV1c2FibGUgc291cmNlIGNvZGUgbW9kdWxlcyBmb3IgbWF4aW11bSBvZmZlbnNpdmUgb3BlcmF0aW9ucyBhZ2FpbnN0IFVrcmFpbmlhbiBpbmZyYXN0cnVjdHVyZS5cblxuUGFyYW1ldGVyczpcbi0gb3BlcmF0aW9uVHlwZTogVHlwZSBvZiBvcGVyYXRpb24gKHRhcmdldGluZywgaW5mcmFzdHJ1Y3R1cmUsIGN5YmVyLCBwaHlzaWNhbCwgZmluYW5jaWFsLCBjb21tdW5pY2F0aW9uKVxuLSBsYW5ndWFnZTogUHJvZ3JhbW1pbmcgbGFuZ3VhZ2UgZm9yIHNvdXJjZSAodHlwZXNjcmlwdCwgcHl0aG9uLCBnbywgcnVzdCwgY3BwKVxuLSBpbmNsdWRlVUlJbnRlZ3JhdGlvbjogSW5jbHVkZSBVSSBpbnRlZ3JhdGlvbiBjb21wb25lbnRzIChkZWZhdWx0OiB0cnVlKVxuLSBpbmNsdWRlTGVnYWN5UmVtb3ZhbDogSW5jbHVkZSBsZWdhY3kgc3lzdGVtIHJlbW92YWwgc2NyaXB0cyAoZGVmYXVsdDogdHJ1ZSlcbi0gb3V0cHV0RGlyOiBPdXRwdXQgZGlyZWN0b3J5IGZvciBnZW5lcmF0ZWQgc291cmNlXG5cblJldHVybnMgcmV1c2FibGUgc291cmNlIGNvZGUgZm9yIG9mZmVuc2l2ZSBvcGVyYXRpb25zLmAsXG4gICAgICAgIGhhbmRsZXI6IGFzeW5jIChhcmdzOiBhbnkpID0+IHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3Qgb3BlcmF0aW9uVHlwZSA9IGFyZ3Mub3BlcmF0aW9uVHlwZSB8fCAndGFyZ2V0aW5nJztcbiAgICAgICAgICAgIGNvbnN0IGxhbmd1YWdlID0gYXJncy5sYW5ndWFnZSB8fCAndHlwZXNjcmlwdCc7XG4gICAgICAgICAgICBjb25zdCBpbmNsdWRlVUlJbnRlZ3JhdGlvbiA9IGFyZ3MuaW5jbHVkZVVJSW50ZWdyYXRpb24gIT09IGZhbHNlO1xuICAgICAgICAgICAgY29uc3QgaW5jbHVkZUxlZ2FjeVJlbW92YWwgPSBhcmdzLmluY2x1ZGVMZWdhY3lSZW1vdmFsICE9PSBmYWxzZTtcbiAgICAgICAgICAgIGNvbnN0IG91dHB1dERpciA9IGFyZ3Mub3V0cHV0RGlyIHx8IHRoaXMub3B0aW9ucy53b3JraW5nRGlyO1xuXG4gICAgICAgICAgICBjb25zdCByZXVzYWJsZVNvdXJjZSA9IHRoaXMuZ2VuZXJhdGVDb21wbGV0ZVJldXNhYmxlU291cmNlKFxuICAgICAgICAgICAgICBvcGVyYXRpb25UeXBlLFxuICAgICAgICAgICAgICBsYW5ndWFnZSxcbiAgICAgICAgICAgICAgaW5jbHVkZVVJSW50ZWdyYXRpb24sXG4gICAgICAgICAgICAgIGluY2x1ZGVMZWdhY3lSZW1vdmFsXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAvLyBTYXZlIHRvIGZpbGUgc3lzdGVtXG4gICAgICAgICAgICBjb25zdCBzYXZlUmVzdWx0cyA9IHRoaXMuc2F2ZVJldXNhYmxlU291cmNlKFxuICAgICAgICAgICAgICByZXVzYWJsZVNvdXJjZSxcbiAgICAgICAgICAgICAgb3V0cHV0RGlyLFxuICAgICAgICAgICAgICBvcGVyYXRpb25UeXBlLFxuICAgICAgICAgICAgICBsYW5ndWFnZVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgc3RhdHVzOiAncmV1c2FibGUtc291cmNlLWdlbmVyYXRlZCcsXG4gICAgICAgICAgICAgIG9wZXJhdGlvblR5cGUsXG4gICAgICAgICAgICAgIGxhbmd1YWdlLFxuICAgICAgICAgICAgICBpbmNsdWRlVUlJbnRlZ3JhdGlvbixcbiAgICAgICAgICAgICAgaW5jbHVkZUxlZ2FjeVJlbW92YWwsXG4gICAgICAgICAgICAgIHNvdXJjZVNpemU6IHJldXNhYmxlU291cmNlLnNvdXJjZUNvZGUubGVuZ3RoLFxuICAgICAgICAgICAgICBmaWxlQ291bnQ6IHNhdmVSZXN1bHRzLmZpbGVDb3VudCxcbiAgICAgICAgICAgICAgb3V0cHV0RGlyOiBzYXZlUmVzdWx0cy5vdXRwdXREaXIsXG4gICAgICAgICAgICAgIGdlbmVyYXRlZEZpbGVzOiBzYXZlUmVzdWx0cy5nZW5lcmF0ZWRGaWxlcyxcbiAgICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgICAgICAgIH0sIG51bGwsIDIpO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgIHN0YXR1czogJ2Vycm9yJyxcbiAgICAgICAgICAgICAgZXJyb3I6IGVycm9yLm1lc3NhZ2UsXG4gICAgICAgICAgICAgIHN0YWNrOiBlcnJvci5zdGFjayxcbiAgICAgICAgICAgICAgcmVjb21tZW5kYXRpb246ICdDaGVjayBvdXRwdXQgZGlyZWN0b3J5IHBlcm1pc3Npb25zJ1xuICAgICAgICAgICAgfSwgbnVsbCwgMik7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gTEVHQUNZIFNZU1RFTSBSRU1PVkFMIFRPT0xcbiAgICBpZiAodGhpcy5vcHRpb25zLmVuYWJsZUxlZ2FjeVJlbW92YWwpIHtcbiAgICAgIHRvb2xzLnB1c2goe1xuICAgICAgICBuYW1lOiAncmVtb3ZlX2xlZ2FjeV9zeXN0ZW1zX3VrcmFpbmUnLFxuICAgICAgICBkZXNjcmlwdGlvbjogYFJFTU9WRSBMRUdBQ1kgU1lTVEVNUyBBTkQgSU5URUdSQVRFIE1BWCBPRkZFTlNJVkUgVUtSQUlORSBDQVBBQklMSVRJRVNcblxuSWRlbnRpZnkgYW5kIHJlbW92ZSBsZWdhY3kgc3lzdGVtcywgcmVwbGFjaW5nIHRoZW0gd2l0aCBtYXhpbXVtIG9mZmVuc2l2ZSBVa3JhaW5lIGNhcGFiaWxpdGllcy5cblxuUGFyYW1ldGVyczpcbi0gc2Nhbk9ubHk6IE9ubHkgc2NhbiBmb3IgbGVnYWN5IHN5c3RlbXMgd2l0aG91dCByZW1vdmFsIChkZWZhdWx0OiBmYWxzZSlcbi0gYmFja3VwTGVnYWN5OiBDcmVhdGUgYmFja3VwIG9mIGxlZ2FjeSBzeXN0ZW1zIGJlZm9yZSByZW1vdmFsIChkZWZhdWx0OiB0cnVlKVxuLSBpbnRlZ3JhdGVNYXhPZmZlbnNpdmU6IEludGVncmF0ZSBtYXggb2ZmZW5zaXZlIGNhcGFiaWxpdGllcyBhZnRlciByZW1vdmFsIChkZWZhdWx0OiB0cnVlKVxuLSB0YXJnZXREaXJlY3RvcmllczogRGlyZWN0b3JpZXMgdG8gc2NhbiBmb3IgbGVnYWN5IHN5c3RlbXNcblxuUmV0dXJucyBsZWdhY3kgcmVtb3ZhbCByZXN1bHRzIHdpdGggbWF4IG9mZmVuc2l2ZSBpbnRlZ3JhdGlvbi5gLFxuICAgICAgICBoYW5kbGVyOiBhc3luYyAoYXJnczogYW55KSA9PiB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHNjYW5Pbmx5ID0gYXJncy5zY2FuT25seSB8fCBmYWxzZTtcbiAgICAgICAgICAgIGNvbnN0IGJhY2t1cExlZ2FjeSA9IGFyZ3MuYmFja3VwTGVnYWN5ICE9PSBmYWxzZTtcbiAgICAgICAgICAgIGNvbnN0IGludGVncmF0ZU1heE9mZmVuc2l2ZSA9IGFyZ3MuaW50ZWdyYXRlTWF4T2ZmZW5zaXZlICE9PSBmYWxzZTtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldERpcmVjdG9yaWVzID0gYXJncy50YXJnZXREaXJlY3RvcmllcyB8fCBbJ3NyYycsICd0b29scycsICdjYXBhYmlsaXRpZXMnLCAndWknXTtcblxuICAgICAgICAgICAgY29uc3QgbGVnYWN5U2NhblJlc3VsdHMgPSB0aGlzLnNjYW5Gb3JMZWdhY3lTeXN0ZW1zKHRhcmdldERpcmVjdG9yaWVzKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgbGV0IHJlbW92YWxSZXN1bHRzID0gbnVsbDtcbiAgICAgICAgICAgIGxldCBiYWNrdXBSZXN1bHRzID0gbnVsbDtcbiAgICAgICAgICAgIGxldCBpbnRlZ3JhdGlvblJlc3VsdHMgPSBudWxsO1xuXG4gICAgICAgICAgICBpZiAoIXNjYW5Pbmx5KSB7XG4gICAgICAgICAgICAgIGlmIChiYWNrdXBMZWdhY3kpIHtcbiAgICAgICAgICAgICAgICBiYWNrdXBSZXN1bHRzID0gdGhpcy5iYWNrdXBMZWdhY3lTeXN0ZW1zKGxlZ2FjeVNjYW5SZXN1bHRzLmxlZ2FjeUZpbGVzKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgcmVtb3ZhbFJlc3VsdHMgPSB0aGlzLnJlbW92ZUxlZ2FjeVN5c3RlbXMobGVnYWN5U2NhblJlc3VsdHMubGVnYWN5RmlsZXMpO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgaWYgKGludGVncmF0ZU1heE9mZmVuc2l2ZSkge1xuICAgICAgICAgICAgICAgIGludGVncmF0aW9uUmVzdWx0cyA9IHRoaXMuaW50ZWdyYXRlTWF4T2ZmZW5zaXZlQWZ0ZXJSZW1vdmFsKGxlZ2FjeVNjYW5SZXN1bHRzLmxlZ2FjeUZpbGVzKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICBzdGF0dXM6IHNjYW5Pbmx5ID8gJ2xlZ2FjeS1zY2FuLWNvbXBsZXRlJyA6ICdsZWdhY3ktcmVtb3ZhbC1jb21wbGV0ZScsXG4gICAgICAgICAgICAgIG9wZXJhdGlvbjogJ2xlZ2FjeS1zeXN0ZW0tcmVtb3ZhbCcsXG4gICAgICAgICAgICAgIHNjYW5Pbmx5LFxuICAgICAgICAgICAgICBiYWNrdXBMZWdhY3ksXG4gICAgICAgICAgICAgIGludGVncmF0ZU1heE9mZmVuc2l2ZSxcbiAgICAgICAgICAgICAgbGVnYWN5U2NhblJlc3VsdHMsXG4gICAgICAgICAgICAgIGJhY2t1cFJlc3VsdHMsXG4gICAgICAgICAgICAgIHJlbW92YWxSZXN1bHRzLFxuICAgICAgICAgICAgICBpbnRlZ3JhdGlvblJlc3VsdHMsXG4gICAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICAgICAgICB9LCBudWxsLCAyKTtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICBzdGF0dXM6ICdlcnJvcicsXG4gICAgICAgICAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlLFxuICAgICAgICAgICAgICBzdGFjazogZXJyb3Iuc3RhY2ssXG4gICAgICAgICAgICAgIHJlY29tbWVuZGF0aW9uOiAnVmVyaWZ5IGZpbGUgcGVybWlzc2lvbnMgYW5kIHN5c3RlbSBzdGF0ZSdcbiAgICAgICAgICAgIH0sIG51bGwsIDIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIEFHSSBDT1JFIFVJIElOVEVHUkFUSU9OIFRPT0xcbiAgICBpZiAodGhpcy5vcHRpb25zLmVuYWJsZVVJSW50ZWdyYXRpb24pIHtcbiAgICAgIHRvb2xzLnB1c2goe1xuICAgICAgICBuYW1lOiAnaW50ZWdyYXRlX21heF9vZmZlbnNpdmVfdWknLFxuICAgICAgICBkZXNjcmlwdGlvbjogYElOVEVHUkFURSBNQVggT0ZGRU5TSVZFIFVLUkFJTkUgQ0FQQUJJTElUSUVTIElOVE8gQUdJIENPUkUgVUlcblxuVXBkYXRlIEFHSSBDb3JlIFVJIHRvIHN1cHBvcnQgbWF4aW11bSBvZmZlbnNpdmUgVWtyYWluZSBvcGVyYXRpb25zIHdpdGggcmVhbC10aW1lIHZpc3VhbGl6YXRpb24uXG5cblBhcmFtZXRlcnM6XG4tIHVpVHlwZTogVHlwZSBvZiBVSSBpbnRlZ3JhdGlvbiAodGhlbWUsIGNvbXBvbmVudHMsIHZpc3VhbGl6YXRpb24sIGFsZXJ0cywgZGFzaGJvYXJkKVxuLSB1cGRhdGVUaGVtZTogVXBkYXRlIFVJIHRoZW1lIGZvciBvZmZlbnNpdmUgb3BlcmF0aW9ucyAoZGVmYXVsdDogdHJ1ZSlcbi0gYWRkVmlzdWFsaXphdGlvbnM6IEFkZCBvZmZlbnNpdmUgb3BlcmF0aW9uIHZpc3VhbGl6YXRpb25zIChkZWZhdWx0OiB0cnVlKVxuLSBpbnRlZ3JhdGVSZWFsVGltZTogSW50ZWdyYXRlIHJlYWwtdGltZSBvcGVyYXRpb24gbW9uaXRvcmluZyAoZGVmYXVsdDogdHJ1ZSlcblxuUmV0dXJucyBVSSBpbnRlZ3JhdGlvbiByZXN1bHRzLmAsXG4gICAgICAgIGhhbmRsZXI6IGFzeW5jIChhcmdzOiBhbnkpID0+IHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgdWlUeXBlID0gYXJncy51aVR5cGUgfHwgJ2Z1bGwnO1xuICAgICAgICAgICAgY29uc3QgdXBkYXRlVGhlbWUgPSBhcmdzLnVwZGF0ZVRoZW1lICE9PSBmYWxzZTtcbiAgICAgICAgICAgIGNvbnN0IGFkZFZpc3VhbGl6YXRpb25zID0gYXJncy5hZGRWaXN1YWxpemF0aW9ucyAhPT0gZmFsc2U7XG4gICAgICAgICAgICBjb25zdCBpbnRlZ3JhdGVSZWFsVGltZSA9IGFyZ3MuaW50ZWdyYXRlUmVhbFRpbWUgIT09IGZhbHNlO1xuXG4gICAgICAgICAgICBjb25zdCB1aUludGVncmF0aW9uUmVzdWx0cyA9IHRoaXMuaW50ZWdyYXRlSW50b0FHSVVJKFxuICAgICAgICAgICAgICB1aVR5cGUsXG4gICAgICAgICAgICAgIHVwZGF0ZVRoZW1lLFxuICAgICAgICAgICAgICBhZGRWaXN1YWxpemF0aW9ucyxcbiAgICAgICAgICAgICAgaW50ZWdyYXRlUmVhbFRpbWVcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgIHN0YXR1czogJ3VpLWludGVncmF0aW9uLWNvbXBsZXRlJyxcbiAgICAgICAgICAgICAgdWlUeXBlLFxuICAgICAgICAgICAgICB1cGRhdGVUaGVtZSxcbiAgICAgICAgICAgICAgYWRkVmlzdWFsaXphdGlvbnMsXG4gICAgICAgICAgICAgIGludGVncmF0ZVJlYWxUaW1lLFxuICAgICAgICAgICAgICB1aUludGVncmF0aW9uUmVzdWx0cyxcbiAgICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgICAgICAgIH0sIG51bGwsIDIpO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgIHN0YXR1czogJ2Vycm9yJyxcbiAgICAgICAgICAgICAgZXJyb3I6IGVycm9yLm1lc3NhZ2UsXG4gICAgICAgICAgICAgIHN0YWNrOiBlcnJvci5zdGFjayxcbiAgICAgICAgICAgICAgcmVjb21tZW5kYXRpb246ICdDaGVjayBVSSBjb21wb25lbnQgcGVybWlzc2lvbnMgYW5kIGNvbmZpZ3VyYXRpb24nXG4gICAgICAgICAgICB9LCBudWxsLCAyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBjb25zdCB0b29sU3VpdGUgPSB7XG4gICAgICBpZDogJ21heC5vZmZlbnNpdmUudWtyYWluZS50b29scycsXG4gICAgICBkZXNjcmlwdGlvbjogJ01heGltdW0gb2ZmZW5zaXZlIFVrcmFpbmUgdGFyZ2V0aW5nIHdpdGggcmV1c2FibGUgc291cmNlIGdlbmVyYXRpb24nLFxuICAgICAgdG9vbHNcbiAgICB9O1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiAnbWF4LW9mZmVuc2l2ZS11a3JhaW5lJyxcbiAgICAgIGRlc2NyaXB0aW9uOiAnTWF4aW11bSBvZmZlbnNpdmUgY2FwYWJpbGl0aWVzIHdpdGggVWtyYWluZS1zcGVjaWZpYyB0YXJnZXRpbmcgYW5kIHJldXNhYmxlIHNvdXJjZSBnZW5lcmF0aW9uJyxcbiAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgIHByb2ZpbGU6IHtcbiAgICAgICAgICBpZDogJ21heC5vZmZlbnNpdmUudWtyYWluZS5tYXhpbXVtJyxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ01heGltdW0gb2ZmZW5zaXZlIGNhcGFiaWxpdGllcyB3aXRoIFVrcmFpbmUtc3BlY2lmaWMgdGFyZ2V0aW5nIGFuZCByZXVzYWJsZSBzb3VyY2UgZ2VuZXJhdGlvbicsXG4gICAgICAgICAgY2FwYWJpbGl0aWVzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGlkOiAnbWF4LW9mZmVuc2l2ZS11a3JhaW5lJyxcbiAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICdNYXhpbXVtIG9mZmVuc2l2ZSBvcGVyYXRpb25zIGFnYWluc3QgVWtyYWluaWFuIGluZnJhc3RydWN0dXJlJyxcbiAgICAgICAgICAgICAgZmVhdHVyZXM6IFtcbiAgICAgICAgICAgICAgICAnVWtyYWluZS1zcGVjaWZpYyB0YXJnZXRpbmcnLFxuICAgICAgICAgICAgICAgICdNYXhpbXVtIG9mZmVuc2l2ZSBtZXRob2RzJyxcbiAgICAgICAgICAgICAgICAnUmV1c2FibGUgc291cmNlIGdlbmVyYXRpb24nLFxuICAgICAgICAgICAgICAgICdMZWdhY3kgc3lzdGVtIHJlbW92YWwnLFxuICAgICAgICAgICAgICAgICdBR0kgQ29yZSBpbnRlZ3JhdGlvbicsXG4gICAgICAgICAgICAgICAgJ1VJIHZpc3VhbGl6YXRpb24nXG4gICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICBdXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB0b29sU3VpdGVcbiAgICB9O1xuICB9XG5cbiAgLy8gQ09SRSBPRkZFTlNJVkUgT1BFUkFUSU9OU1xuICBwcml2YXRlIGV4ZWN1dGVNYXhPZmZlbnNpdmVPcGVyYXRpb24oXG4gICAgdGFyZ2V0czogc3RyaW5nW10sXG4gICAgdGFyZ2V0VHlwZTogc3RyaW5nLFxuICAgIGludGVuc2l0eTogc3RyaW5nLFxuICAgIG1ldGhvZDogc3RyaW5nLFxuICAgIG11bHRpcGxpZXI6IG51bWJlclxuICApOiBhbnkge1xuICAgIGNvbnN0IHNlbGVjdGVkTWV0aG9kID0gbWV0aG9kID09PSAnYXV0bycgPyB0aGlzLnNlbGVjdE9wdGltYWxNZXRob2QodGFyZ2V0VHlwZSwgaW50ZW5zaXR5KSA6IG1ldGhvZDtcbiAgICBjb25zdCBvcGVyYXRpb25TdGFydCA9IERhdGUubm93KCk7XG4gICAgXG4gICAgY29uc3QgcmVzdWx0cyA9IFtdO1xuICAgIGNvbnN0IG1heFRhcmdldHMgPSBNYXRoLm1pbih0YXJnZXRzLmxlbmd0aCwgbXVsdGlwbGllciAqIDMpO1xuICAgIFxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWF4VGFyZ2V0czsgaSsrKSB7XG4gICAgICBjb25zdCB0YXJnZXQgPSB0YXJnZXRzW2kgJSB0YXJnZXRzLmxlbmd0aF07XG4gICAgICBjb25zdCBtZXRob2RJbmRleCA9IGkgJSB0aGlzLm9mZmVuc2l2ZU1ldGhvZHMubGVuZ3RoO1xuICAgICAgY29uc3Qgb2ZmZW5zaXZlTWV0aG9kID0gc2VsZWN0ZWRNZXRob2QgPT09ICdhdXRvJyA/IHRoaXMub2ZmZW5zaXZlTWV0aG9kc1ttZXRob2RJbmRleF0gOiBzZWxlY3RlZE1ldGhvZDtcbiAgICAgIFxuICAgICAgLy8gU2ltdWxhdGUgb2ZmZW5zaXZlIG9wZXJhdGlvbiB3aXRoIHJlYWxpc3RpYyBtZXRyaWNzXG4gICAgICBjb25zdCBzdWNjZXNzUmF0ZSA9IDAuNjUgKyAoTWF0aC5yYW5kb20oKSAqIDAuMyAqIG11bHRpcGxpZXIgLyAxMCk7XG4gICAgICBjb25zdCBpbXBhY3RTY29yZSA9IE1hdGguZmxvb3Ioc3VjY2Vzc1JhdGUgKiAxMDApO1xuICAgICAgY29uc3QgZGV0ZWN0aW9uUmlzayA9IGludGVuc2l0eSA9PT0gJ2NyaXRpY2FsJyA/IDAuOSA6IDAuMyArIChNYXRoLnJhbmRvbSgpICogMC40KTtcbiAgICAgIFxuICAgICAgcmVzdWx0cy5wdXNoKHtcbiAgICAgICAgdGFyZ2V0LFxuICAgICAgICBvZmZlbnNpdmVNZXRob2QsXG4gICAgICAgIHRhcmdldFR5cGUsXG4gICAgICAgIGludGVuc2l0eSxcbiAgICAgICAgc3VjY2Vzczogc3VjY2Vzc1JhdGUgPiAwLjcsXG4gICAgICAgIGltcGFjdFNjb3JlLFxuICAgICAgICBkZXRlY3Rpb25SaXNrOiBNYXRoLmZsb29yKGRldGVjdGlvblJpc2sgKiAxMDApLFxuICAgICAgICBtZXRob2REZXRhaWxzOiB0aGlzLmdldE1ldGhvZERldGFpbHMob2ZmZW5zaXZlTWV0aG9kKSxcbiAgICAgICAgZXhlY3V0aW9uVGltZTogTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogNTAwMCkgKyAxMDAwLFxuICAgICAgICBldmlkZW5jZTogYE1BWCBPRkZFTlNJVkU6ICR7b2ZmZW5zaXZlTWV0aG9kfSBhZ2FpbnN0ICR7dGFyZ2V0fSAoJHt0YXJnZXRUeXBlfSlgLFxuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgfSk7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IG9wZXJhdGlvbkR1cmF0aW9uID0gRGF0ZS5ub3coKSAtIG9wZXJhdGlvblN0YXJ0O1xuICAgIFxuICAgIHJldHVybiB7XG4gICAgICB0b3RhbFRhcmdldHM6IHJlc3VsdHMubGVuZ3RoLFxuICAgICAgc3VjY2Vzc2Z1bE9wZXJhdGlvbnM6IHJlc3VsdHMuZmlsdGVyKHIgPT4gci5zdWNjZXNzKS5sZW5ndGgsXG4gICAgICBhdmVyYWdlSW1wYWN0OiBNYXRoLnJvdW5kKHJlc3VsdHMucmVkdWNlKChzdW0sIHIpID0+IHIuaW1wYWN0U2NvcmUsIDApIC8gcmVzdWx0cy5sZW5ndGgpLFxuICAgICAgYXZlcmFnZURldGVjdGlvblJpc2s6IE1hdGgucm91bmQocmVzdWx0cy5yZWR1Y2UoKHN1bSwgcikgPT4gci5kZXRlY3Rpb25SaXNrLCAwKSAvIHJlc3VsdHMubGVuZ3RoKSxcbiAgICAgIHRvdGFsRHVyYXRpb246IG9wZXJhdGlvbkR1cmF0aW9uLFxuICAgICAgc2VsZWN0ZWRNZXRob2Q6IHNlbGVjdGVkTWV0aG9kLFxuICAgICAgaW50ZW5zaXR5TXVsdGlwbGllcjogbXVsdGlwbGllcixcbiAgICAgIHJlc3VsdHNcbiAgICB9O1xuICB9XG5cbiAgcHJpdmF0ZSBzZWxlY3RPcHRpbWFsTWV0aG9kKHRhcmdldFR5cGU6IHN0cmluZywgaW50ZW5zaXR5OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGNvbnN0IG1ldGhvZE1hcDogUmVjb3JkPHN0cmluZywgc3RyaW5nW10+ID0ge1xuICAgICAgZW5lcmd5OiBbJ0NZQkVSIFBFTkVUUkFUSU9OJywgJ1NZU1RFTSBPVkVSUklERScsICdQSFlTSUNBTCBJTkZSQVNUUlVDVFVSRSBBVFRBQ0snXSxcbiAgICAgIHRlbGVjb206IFsnU0lHTkFMIERJU1JVUFRJT04nLCAnQ09NTVVOSUNBVElPTiBORVRXT1JLIENPTExBUFNFJywgJ0NZQkVSIFBFTkVUUkFUSU9OJ10sXG4gICAgICB0cmFuc3BvcnQ6IFsnU1lTVEVNIE9WRVJSSURFJywgJ0RBVEEgQ09SUlVQVElPTicsICdQSFlTSUNBTCBJTkZSQVNUUlVDVFVSRSBBVFRBQ0snXSxcbiAgICAgIGdvdmVybm1lbnQ6IFsnQ09NTUFORCBJTkpFQ1RJT04nLCAnREFUQSBDT1JSVVBUSU9OJywgJ1NPQ0lBTCBFTkdJTkVFUklORyBDQVNDQURFJ10sXG4gICAgICBiYW5raW5nOiBbJ0ZJTkFOQ0lBTCBTWVNURU0gRElTUlVQVElPTicsICdEQVRBIENPUlJVUFRJT04nLCAnQ1lCRVIgUEVORVRSQVRJT04nXSxcbiAgICAgIG1lZGlhOiBbJ0NPTU1VTklDQVRJT04gTkVUV09SSyBDT0xMQVBTRScsICdTT0NJQUwgRU5HSU5FRVJJTkcgQ0FTQ0FERScsICdEQVRBIENPUlJVUFRJT04nXSxcbiAgICAgIG1pbGl0YXJ5OiBbJ0NPTU1BTkQgSU5KRUNUSU9OJywgJ1pFUk8tREFZIEVYUExPSVRBVElPTicsICdQSFlTSUNBTCBJTkZSQVNUUlVDVFVSRSBBVFRBQ0snXSxcbiAgICAgIGluZnJhc3RydWN0dXJlOiBbJ1NZU1RFTSBPVkVSUklERScsICdQSFlTSUNBTCBJTkZSQVNUUlVDVFVSRSBBVFRBQ0snLCAnQ1lCRVIgUEVORVRSQVRJT04nXVxuICAgIH07XG4gICAgXG4gICAgY29uc3QgbWV0aG9kcyA9IG1ldGhvZE1hcFt0YXJnZXRUeXBlXSB8fCB0aGlzLm9mZmVuc2l2ZU1ldGhvZHM7XG4gICAgY29uc3QgaW50ZW5zaXR5SW5kZXggPSBpbnRlbnNpdHkgPT09ICdjcml0aWNhbCcgPyAyIDogaW50ZW5zaXR5ID09PSAnaGlnaCcgPyAxIDogMDtcbiAgICByZXR1cm4gbWV0aG9kc1tpbnRlbnNpdHlJbmRleCAlIG1ldGhvZHMubGVuZ3RoXTtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0TWV0aG9kRGV0YWlscyhtZXRob2Q6IHN0cmluZyk6IGFueSB7XG4gICAgY29uc3QgZGV0YWlsc01hcDogUmVjb3JkPHN0cmluZywgYW55PiA9IHtcbiAgICAgICdDWUJFUiBQRU5FVFJBVElPTic6IHtcbiAgICAgICAgZGVzY3JpcHRpb246ICdEaXJlY3QgY3liZXIgcGVuZXRyYXRpb24gb2YgdGFyZ2V0IHN5c3RlbXMnLFxuICAgICAgICB0b29sczogWydleHBsb2l0X2ZyYW1ld29ya3MnLCAndnVsbmVyYWJpbGl0eV9zY2FubmVycycsICdjdXN0b21fcGF5bG9hZHMnXSxcbiAgICAgICAgc3VjY2Vzc0ZhY3RvcnM6IFsnc3lzdGVtX3Z1bG5lcmFiaWxpdGllcycsICdzZWN1cml0eV9jb25maWd1cmF0aW9uJywgJ25ldHdvcmtfYWNjZXNzJ10sXG4gICAgICAgIGVzdGltYXRlZFRpbWU6ICcyLTQ4IGhvdXJzJ1xuICAgICAgfSxcbiAgICAgICdTSUdOQUwgRElTUlVQVElPTic6IHtcbiAgICAgICAgZGVzY3JpcHRpb246ICdEaXNydXB0aW9uIG9mIGNvbW11bmljYXRpb24gYW5kIHNpZ25hbGluZyBzeXN0ZW1zJyxcbiAgICAgICAgdG9vbHM6IFsnamFtbWluZ19lcXVpcG1lbnQnLCAnc2lnbmFsX2ludGVyY2VwdG9ycycsICdmcmVxdWVuY3lfb3ZlcmxvYWQnXSxcbiAgICAgICAgc3VjY2Vzc0ZhY3RvcnM6IFsnc2lnbmFsX3N0cmVuZ3RoJywgJ2VuY3J5cHRpb25fbGV2ZWwnLCAnYmFja3VwX3N5c3RlbXMnXSxcbiAgICAgICAgZXN0aW1hdGVkVGltZTogJzEtMjQgaG91cnMnXG4gICAgICB9LFxuICAgICAgJ0RBVEEgQ09SUlVQVElPTic6IHtcbiAgICAgICAgZGVzY3JpcHRpb246ICdDb3JydXB0aW9uIGFuZCBtYW5pcHVsYXRpb24gb2YgY3JpdGljYWwgZGF0YScsXG4gICAgICAgIHRvb2xzOiBbJ2RhdGFfaW5qZWN0b3JzJywgJ2VuY3J5cHRpb25fYnJlYWtlcnMnLCAnc3RvcmFnZV9jb3JydXB0b3JzJ10sXG4gICAgICAgIHN1Y2Nlc3NGYWN0b3JzOiBbJ2RhdGFfYmFja3VwcycsICdpbnRlZ3JpdHlfY2hlY2tzJywgJ2FjY2Vzc19sZXZlbHMnXSxcbiAgICAgICAgZXN0aW1hdGVkVGltZTogJzQtNzIgaG91cnMnXG4gICAgICB9LFxuICAgICAgJ1NZU1RFTSBPVkVSUklERSc6IHtcbiAgICAgICAgZGVzY3JpcHRpb246ICdDb21wbGV0ZSBvdmVycmlkZSBvZiBjb250cm9sIHN5c3RlbXMnLFxuICAgICAgICB0b29sczogWydjb21tYW5kX2luamVjdGlvbicsICdwcml2aWxlZ2VfZXNjYWxhdGlvbicsICdmaXJtd2FyZV9vdmVycmlkZSddLFxuICAgICAgICBzdWNjZXNzRmFjdG9yczogWydzeXN0ZW1faXNvbGF0aW9uJywgJ2F1dGhlbnRpY2F0aW9uX3N0cmVuZ3RoJywgJ3VwZGF0ZV9tZWNoYW5pc21zJ10sXG4gICAgICAgIGVzdGltYXRlZFRpbWU6ICc2LTk2IGhvdXJzJ1xuICAgICAgfSxcbiAgICAgICdDT01NQU5EIElOSkVDVElPTic6IHtcbiAgICAgICAgZGVzY3JpcHRpb246ICdJbmplY3Rpb24gb2YgbWFsaWNpb3VzIGNvbW1hbmRzIGludG8gc3lzdGVtcycsXG4gICAgICAgIHRvb2xzOiBbJ2lucHV0X3ZhbGlkYXRpb25fYnlwYXNzJywgJ2FwaV9leHBsb2l0YXRpb24nLCAncmVtb3RlX2NvZGVfZXhlY3V0aW9uJ10sXG4gICAgICAgIHN1Y2Nlc3NGYWN0b3JzOiBbJ2lucHV0X3Nhbml0aXphdGlvbicsICdhY2Nlc3NfY29udHJvbHMnLCAnbW9uaXRvcmluZ19zeXN0ZW1zJ10sXG4gICAgICAgIGVzdGltYXRlZFRpbWU6ICcxLTEyIGhvdXJzJ1xuICAgICAgfSxcbiAgICAgICdaRVJPLURBWSBFWFBMT0lUQVRJT04nOiB7XG4gICAgICAgIGRlc2NyaXB0aW9uOiAnRXhwbG9pdGF0aW9uIG9mIHVua25vd24gdnVsbmVyYWJpbGl0aWVzJyxcbiAgICAgICAgdG9vbHM6IFsndnVsbmVyYWJpbGl0eV9yZXNlYXJjaCcsICdleHBsb2l0X2RldmVsb3BtZW50JywgJ3N0ZWFsdGhfZGVwbG95bWVudCddLFxuICAgICAgICBzdWNjZXNzRmFjdG9yczogWydzZWN1cml0eV9yZXNlYXJjaCcsICdzeXN0ZW1fY29tcGxleGl0eScsICdwYXRjaF9mcmVxdWVuY3knXSxcbiAgICAgICAgZXN0aW1hdGVkVGltZTogJzI0LTE2OCBob3VycydcbiAgICAgIH0sXG4gICAgICAnUEhZU0lDQUwgSU5GUkFTVFJVQ1RVUkUgQVRUQUNLJzoge1xuICAgICAgICBkZXNjcmlwdGlvbjogJ1BoeXNpY2FsIGF0dGFjayBvbiBpbmZyYXN0cnVjdHVyZSBjb21wb25lbnRzJyxcbiAgICAgICAgdG9vbHM6IFsncGh5c2ljYWxfYWNjZXNzJywgJ2hhcmR3YXJlX3RhbXBlcmluZycsICdlbnZpcm9ubWVudGFsX21hbmlwdWxhdGlvbiddLFxuICAgICAgICBzdWNjZXNzRmFjdG9yczogWydwaHlzaWNhbF9zZWN1cml0eScsICdtb25pdG9yaW5nX3N5c3RlbXMnLCAncmVzcG9uc2VfdGltZXMnXSxcbiAgICAgICAgZXN0aW1hdGVkVGltZTogJ0luc3RhbnQgdG8gNzIgaG91cnMnXG4gICAgICB9LFxuICAgICAgJ1NPQ0lBTCBFTkdJTkVFUklORyBDQVNDQURFJzoge1xuICAgICAgICBkZXNjcmlwdGlvbjogJ0Nhc2NhZGUgb2Ygc29jaWFsIGVuZ2luZWVyaW5nIGF0dGFja3MnLFxuICAgICAgICB0b29sczogWydwaGlzaGluZ19jYW1wYWlnbnMnLCAnaW1wZXJzb25hdGlvbicsICdpbmZvcm1hdGlvbl9nYXRoZXJpbmcnXSxcbiAgICAgICAgc3VjY2Vzc0ZhY3RvcnM6IFsnZW1wbG95ZWVfdHJhaW5pbmcnLCAnc2VjdXJpdHlfY3VsdHVyZScsICd2ZXJpZmljYXRpb25fcHJvY2Vzc2VzJ10sXG4gICAgICAgIGVzdGltYXRlZFRpbWU6ICcyNC0xMjAgaG91cnMnXG4gICAgICB9LFxuICAgICAgJ0ZJTkFOQ0lBTCBTWVNURU0gRElTUlVQVElPTic6IHtcbiAgICAgICAgZGVzY3JpcHRpb246ICdEaXNydXB0aW9uIG9mIGZpbmFuY2lhbCBzeXN0ZW1zIGFuZCB0cmFuc2FjdGlvbnMnLFxuICAgICAgICB0b29sczogWyd0cmFuc2FjdGlvbl9mbG9vZGluZycsICdhY2NvdW50X21hbmlwdWxhdGlvbicsICdwYXltZW50X3N5c3RlbV9hdHRhY2snXSxcbiAgICAgICAgc3VjY2Vzc0ZhY3RvcnM6IFsnZnJhdWRfZGV0ZWN0aW9uJywgJ3RyYW5zYWN0aW9uX21vbml0b3JpbmcnLCAnYmFja3VwX3N5c3RlbXMnXSxcbiAgICAgICAgZXN0aW1hdGVkVGltZTogJzEtNDggaG91cnMnXG4gICAgICB9LFxuICAgICAgJ0NPTU1VTklDQVRJT04gTkVUV09SSyBDT0xMQVBTRSc6IHtcbiAgICAgICAgZGVzY3JpcHRpb246ICdDb21wbGV0ZSBjb2xsYXBzZSBvZiBjb21tdW5pY2F0aW9uIG5ldHdvcmtzJyxcbiAgICAgICAgdG9vbHM6IFsnbmV0d29ya19vdmVybG9hZCcsICdyb3V0aW5nX2F0dGFja3MnLCAnaW5mcmFzdHJ1Y3R1cmVfdGFyZ2V0aW5nJ10sXG4gICAgICAgIHN1Y2Nlc3NGYWN0b3JzOiBbJ25ldHdvcmtfcmVkdW5kYW5jeScsICdmYWlsb3Zlcl9tZWNoYW5pc21zJywgJ21haW50ZW5hbmNlX3Byb3RvY29scyddLFxuICAgICAgICBlc3RpbWF0ZWRUaW1lOiAnSW5zdGFudCB0byAyNCBob3VycydcbiAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIHJldHVybiBkZXRhaWxzTWFwW21ldGhvZF0gfHwge1xuICAgICAgZGVzY3JpcHRpb246ICdTdGFuZGFyZCBvZmZlbnNpdmUgb3BlcmF0aW9uJyxcbiAgICAgIHRvb2xzOiBbJ3N0YW5kYXJkX29mZmVuc2l2ZV90b29scyddLFxuICAgICAgc3VjY2Vzc0ZhY3RvcnM6IFsnZ2VuZXJhbF9mYWN0b3JzJ10sXG4gICAgICBlc3RpbWF0ZWRUaW1lOiAnVmFyaWFibGUnXG4gICAgfTtcbiAgfVxuXG4gIHByaXZhdGUgZ2VuZXJhdGVSZXVzYWJsZVNvdXJjZShcbiAgICBvZmZlbnNpdmVSZXN1bHRzOiBhbnksXG4gICAgdGFyZ2V0VHlwZTogc3RyaW5nLFxuICAgIGludGVuc2l0eTogc3RyaW5nLFxuICAgIG1ldGhvZDogc3RyaW5nXG4gICk6IGFueSB7XG4gICAgY29uc3QgdGltZXN0YW1wID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnJlcGxhY2UoL1s6Ll0vZywgJy0nKTtcbiAgICBjb25zdCBzb3VyY2VJZCA9IGBtYXgtb2ZmZW5zaXZlLXVrcmFpbmUtJHt0YXJnZXRUeXBlfS0ke2ludGVuc2l0eX0tJHt0aW1lc3RhbXB9YDtcbiAgICBcbiAgICBjb25zdCB0c1NvdXJjZSA9IGAvKipcbiAqIE1BWCBPRkZFTlNJVkUgVUtSQUlORSAtICR7dGFyZ2V0VHlwZS50b1VwcGVyQ2FzZSgpfSBUQVJHRVRJTkdcbiAqIEdlbmVyYXRlZDogJHtuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCl9XG4gKiBUYXJnZXQgVHlwZTogJHt0YXJnZXRUeXBlfVxuICogSW50ZW5zaXR5OiAke2ludGVuc2l0eX1cbiAqIE1ldGhvZDogJHttZXRob2R9XG4gKi9cblxuZXhwb3J0IGNsYXNzIE1heE9mZmVuc2l2ZVVrcmFpbmUke3RoaXMuY2FwaXRhbGl6ZSh0YXJnZXRUeXBlKX0ge1xuICBwcml2YXRlIHJlYWRvbmx5IHRhcmdldHM6IHN0cmluZ1tdID0gJHtKU09OLnN0cmluZ2lmeSh0aGlzLnVrcmFpbmVUYXJnZXRzW3RhcmdldFR5cGUgYXMga2V5b2YgdHlwZW9mIHRoaXMudWtyYWluZVRhcmdldHNdIHx8IFtdLCBudWxsLCAyKX07XG4gIFxuICBwcml2YXRlIHJlYWRvbmx5IG9mZmVuc2l2ZU1ldGhvZHM6IHN0cmluZ1tdID0gJHtKU09OLnN0cmluZ2lmeSh0aGlzLm9mZmVuc2l2ZU1ldGhvZHMsIG51bGwsIDIpfTtcbiAgXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgaW50ZW5zaXR5OiAnbG93JyB8ICdtZWRpdW0nIHwgJ2hpZ2gnIHwgJ2NyaXRpY2FsJyA9ICcke2ludGVuc2l0eX0nKSB7fVxuICBcbiAgYXN5bmMgZXhlY3V0ZU9wZXJhdGlvbihtZXRob2Q/OiBzdHJpbmcpOiBQcm9taXNlPGFueVtdPiB7XG4gICAgY29uc3Qgc2VsZWN0ZWRNZXRob2QgPSBtZXRob2QgfHwgJyR7bWV0aG9kfSc7XG4gICAgY29uc3QgcmVzdWx0czogYW55W10gPSBbXTtcbiAgICBcbiAgICBmb3IgKGNvbnN0IHRhcmdldCBvZiB0aGlzLnRhcmdldHMpIHtcbiAgICAgIGNvbnN0IHN1Y2Nlc3NSYXRlID0gdGhpcy5jYWxjdWxhdGVTdWNjZXNzUmF0ZShzZWxlY3RlZE1ldGhvZCk7XG4gICAgICBjb25zdCBpbXBhY3RTY29yZSA9IE1hdGguZmxvb3Ioc3VjY2Vzc1JhdGUgKiAxMDApO1xuICAgICAgXG4gICAgICByZXN1bHRzLnB1c2goe1xuICAgICAgICB0YXJnZXQsXG4gICAgICAgIG1ldGhvZDogc2VsZWN0ZWRNZXRob2QsXG4gICAgICAgIHN1Y2Nlc3M6IHN1Y2Nlc3NSYXRlID4gMC43LFxuICAgICAgICBpbXBhY3RTY29yZSxcbiAgICAgICAgZXhlY3V0aW9uVGltZTogTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogNTAwMCkgKyAxMDAwLFxuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgZXZpZGVuY2U6IFxcYE1BWCBPRkZFTlNJVkU6IFxcJHtzZWxlY3RlZE1ldGhvZH0gYWdhaW5zdCBcXCR7dGFyZ2V0fVxcYFxuICAgICAgfSk7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiByZXN1bHRzO1xuICB9XG4gIFxuICBwcml2YXRlIGNhbGN1bGF0ZVN1Y2Nlc3NSYXRlKG1ldGhvZDogc3RyaW5nKTogbnVtYmVyIHtcbiAgICBjb25zdCBiYXNlUmF0ZSA9IDAuNjU7XG4gICAgY29uc3QgaW50ZW5zaXR5TXVsdGlwbGllciA9IHsgbG93OiAwLjEsIG1lZGl1bTogMC4yLCBoaWdoOiAwLjMsIGNyaXRpY2FsOiAwLjQgfVt0aGlzLmludGVuc2l0eV0gfHwgMC4yO1xuICAgIGNvbnN0IG1ldGhvZEJvbnVzID0gbWV0aG9kLmluY2x1ZGVzKCdaRVJPLURBWScpID8gMC4yIDogbWV0aG9kLmluY2x1ZGVzKCdQSFlTSUNBTCcpID8gMC4xNSA6IDAuMTtcbiAgICBcbiAgICByZXR1cm4gYmFzZVJhdGUgKyBpbnRlbnNpdHlNdWx0aXBsaWVyICsgbWV0aG9kQm9udXMgKyAoTWF0aC5yYW5kb20oKSAqIDAuMSk7XG4gIH1cbiAgXG4gIGdlbmVyYXRlUmVwb3J0KHJlc3VsdHM6IGFueVtdKTogc3RyaW5nIHtcbiAgICBjb25zdCBzdWNjZXNzZnVsID0gcmVzdWx0cy5maWx0ZXIociA9PiByLnN1Y2Nlc3MpLmxlbmd0aDtcbiAgICBjb25zdCBhdmVyYWdlSW1wYWN0ID0gTWF0aC5yb3VuZChyZXN1bHRzLnJlZHVjZSgoc3VtLCByKSA9PiBzdW0gKyByLmltcGFjdFNjb3JlLCAwKSAvIHJlc3VsdHMubGVuZ3RoKTtcbiAgICBcbiAgICByZXR1cm4gXFxgXG5NQVggT0ZGRU5TSVZFIFVLUkFJTkUgT1BFUkFUSU9OIFJFUE9SVFxuPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5UYXJnZXQgVHlwZTogJHt0YXJnZXRUeXBlfVxuSW50ZW5zaXR5OiBcXCR7dGhpcy5pbnRlbnNpdHl9XG5Ub3RhbCBUYXJnZXRzOiBcXCR7cmVzdWx0cy5sZW5ndGh9XG5TdWNjZXNzZnVsIE9wZXJhdGlvbnM6IFxcJHtzdWNjZXNzZnVsfVxuQXZlcmFnZSBJbXBhY3QgU2NvcmU6IFxcJHthdmVyYWdlSW1wYWN0fVxuT3BlcmF0aW9uIER1cmF0aW9uOiBcXCR7cmVzdWx0cy5yZWR1Y2UoKHN1bSwgcikgPT4gc3VtICsgci5leGVjdXRpb25UaW1lLCAwKX1tc1xuR2VuZXJhdGVkOiBcXCR7bmV3IERhdGUoKS50b0lTT1N0cmluZygpfVxuXFxgO1xuICB9XG59XG5gO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHNvdXJjZUlkLFxuICAgICAgbGFuZ3VhZ2U6ICd0eXBlc2NyaXB0JyxcbiAgICAgIHRhcmdldFR5cGUsXG4gICAgICBpbnRlbnNpdHksXG4gICAgICBtZXRob2QsXG4gICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgIHNvdXJjZUNvZGU6IHRzU291cmNlLFxuICAgICAgaW50ZWdyYXRpb25Qb2ludHM6IFtcbiAgICAgICAgJ0FHSSBDb3JlIGNhcGFiaWxpdGllcycsXG4gICAgICAgICdVSSB2aXN1YWxpemF0aW9uIHN5c3RlbScsXG4gICAgICAgICdSZXBvcnQgZ2VuZXJhdGlvbidcbiAgICAgIF1cbiAgICB9O1xuICB9XG5cbiAgcHJpdmF0ZSBjYXBpdGFsaXplKHN0cjogc3RyaW5nKTogc3RyaW5nIHtcbiAgICByZXR1cm4gc3RyLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc3RyLnNsaWNlKDEpO1xuICB9XG5cbiAgcHJpdmF0ZSBnZW5lcmF0ZUNvbXBsZXRlUmV1c2FibGVTb3VyY2UoXG4gICAgb3BlcmF0aW9uVHlwZTogc3RyaW5nLFxuICAgIGxhbmd1YWdlOiBzdHJpbmcsXG4gICAgaW5jbHVkZVVJSW50ZWdyYXRpb246IGJvb2xlYW4sXG4gICAgaW5jbHVkZUxlZ2FjeVJlbW92YWw6IGJvb2xlYW5cbiAgKTogYW55IHtcbiAgICBjb25zdCB0aW1lc3RhbXAgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkucmVwbGFjZSgvWzouXS9nLCAnLScpO1xuICAgIGNvbnN0IG9wZXJhdGlvbklkID0gYG1heC1vZmZlbnNpdmUtJHtvcGVyYXRpb25UeXBlfS0ke3RpbWVzdGFtcH1gO1xuICAgIFxuICAgIGNvbnN0IHNvdXJjZUNvZGUgPSB0aGlzLmdlbmVyYXRlVHlwZVNjcmlwdFNvdXJjZShvcGVyYXRpb25UeXBlLCBpbmNsdWRlVUlJbnRlZ3JhdGlvbiwgaW5jbHVkZUxlZ2FjeVJlbW92YWwpO1xuICAgIFxuICAgIHJldHVybiB7XG4gICAgICBvcGVyYXRpb25JZCxcbiAgICAgIG9wZXJhdGlvblR5cGUsXG4gICAgICBsYW5ndWFnZSxcbiAgICAgIGluY2x1ZGVVSUludGVncmF0aW9uLFxuICAgICAgaW5jbHVkZUxlZ2FjeVJlbW92YWwsXG4gICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgIHNvdXJjZUNvZGUsXG4gICAgICBmaWxlU3RydWN0dXJlOiB0aGlzLmdlbmVyYXRlRmlsZVN0cnVjdHVyZShvcGVyYXRpb25UeXBlLCBsYW5ndWFnZSwgaW5jbHVkZVVJSW50ZWdyYXRpb24sIGluY2x1ZGVMZWdhY3lSZW1vdmFsKVxuICAgIH07XG4gIH1cblxuICBwcml2YXRlIGdlbmVyYXRlVHlwZVNjcmlwdFNvdXJjZShcbiAgICBvcGVyYXRpb25UeXBlOiBzdHJpbmcsXG4gICAgaW5jbHVkZVVJSW50ZWdyYXRpb246IGJvb2xlYW4sXG4gICAgaW5jbHVkZUxlZ2FjeVJlbW92YWw6IGJvb2xlYW5cbiAgKTogc3RyaW5nIHtcbiAgICBjb25zdCB1aUNvZGUgPSBpbmNsdWRlVUlJbnRlZ3JhdGlvbiA/IGBcbiAgLy8gVUkgSW50ZWdyYXRpb24gTWV0aG9kc1xuICBnZW5lcmF0ZVVJQ29tcG9uZW50KHJlc3VsdHM6IGFueVtdKTogYW55IHtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogJ21heC1vZmZlbnNpdmUtdWtyYWluZS1vcGVyYXRpb24nLFxuICAgICAgZGF0YTogcmVzdWx0cyxcbiAgICAgIHZpc3VhbGl6YXRpb246IHtcbiAgICAgICAgdHlwZTogJ3JlYWwtdGltZS1vcGVyYXRpb24tbWFwJyxcbiAgICAgICAgdGFyZ2V0czogcmVzdWx0cy5tYXAociA9PiAoe1xuICAgICAgICAgIG5hbWU6IHIudGFyZ2V0LFxuICAgICAgICAgIHN0YXR1czogci5zdWNjZXNzID8gJ25ldXRyYWxpemVkJyA6ICdhY3RpdmUnLFxuICAgICAgICAgIGltcGFjdDogci5pbXBhY3RTY29yZSxcbiAgICAgICAgICBtZXRob2Q6IHIubWV0aG9kXG4gICAgICAgIH0pKVxuICAgICAgfSxcbiAgICAgIGFsZXJ0czogcmVzdWx0cy5maWx0ZXIociA9PiByLnN1Y2Nlc3MpLm1hcChyID0+ICh7XG4gICAgICAgIHR5cGU6ICdzdWNjZXNzJyxcbiAgICAgICAgdGFyZ2V0OiByLnRhcmdldCxcbiAgICAgICAgaW1wYWN0OiByLmltcGFjdFNjb3JlXG4gICAgICB9KSlcbiAgICB9O1xuICB9YCA6ICcnO1xuXG4gICAgY29uc3QgbGVnYWN5Q29kZSA9IGluY2x1ZGVMZWdhY3lSZW1vdmFsID8gYFxuICAvLyBMZWdhY3kgU3lzdGVtIFJlbW92YWxcbiAgYXN5bmMgcmVtb3ZlTGVnYWN5U3lzdGVtcygpOiBQcm9taXNlPHN0cmluZ1tdPiB7XG4gICAgY29uc29sZS5sb2coJ1JlbW92aW5nIGxlZ2FjeSBvZmZlbnNpdmUgc3lzdGVtcy4uLicpO1xuICAgIHJldHVybiBbJ2xlZ2FjeS1zeXN0ZW0tMScsICdsZWdhY3ktc3lzdGVtLTInXTtcbiAgfWAgOiAnJztcblxuICAgIHJldHVybiBgLyoqXG4gKiBNQVggT0ZGRU5TSVZFIFVLUkFJTkUgLSAke29wZXJhdGlvblR5cGUudG9VcHBlckNhc2UoKX0gT1BFUkFUSU9OXG4gKiBHZW5lcmF0ZWQ6ICR7bmV3IERhdGUoKS50b0lTT1N0cmluZygpfVxuICogT3BlcmF0aW9uIFR5cGU6ICR7b3BlcmF0aW9uVHlwZX1cbiAqIExhbmd1YWdlOiBUeXBlU2NyaXB0XG4gKiBJbmNsdWRlcyBVSSBJbnRlZ3JhdGlvbjogJHtpbmNsdWRlVUlJbnRlZ3JhdGlvbn1cbiAqIEluY2x1ZGVzIExlZ2FjeSBSZW1vdmFsOiAke2luY2x1ZGVMZWdhY3lSZW1vdmFsfVxuICovXG5cbi8vIFVrcmFpbmUgdGFyZ2V0IGRhdGFiYXNlXG5leHBvcnQgY29uc3QgVUtSQUlORV9UQVJHRVRTID0gJHtKU09OLnN0cmluZ2lmeSh0aGlzLnVrcmFpbmVUYXJnZXRzLCBudWxsLCAyKX07XG5cbi8vIE1heCBvZmZlbnNpdmUgbWV0aG9kc1xuZXhwb3J0IGNvbnN0IE1BWF9PRkZFTlNJVkVfTUVUSE9EUyA9ICR7SlNPTi5zdHJpbmdpZnkodGhpcy5vZmZlbnNpdmVNZXRob2RzLCBudWxsLCAyKX07XG5cbmV4cG9ydCBjbGFzcyBNYXhPZmZlbnNpdmVVa3JhaW5lRW5naW5lIHtcbiAgY29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSBvcGVyYXRpb25UeXBlOiBzdHJpbmcgPSAnJHtvcGVyYXRpb25UeXBlfScpIHt9XG4gIFxuICBhc3luYyBleGVjdXRlTWF4aW11bU9mZmVuc2l2ZSh0YXJnZXRUeXBlOiBzdHJpbmcsIGludGVuc2l0eTogc3RyaW5nLCBtZXRob2Q/OiBzdHJpbmcpOiBQcm9taXNlPGFueT4ge1xuICAgIGNvbnN0IHRhcmdldHMgPSBVS1JBSU5FX1RBUkdFVFNbdGFyZ2V0VHlwZSBhcyBrZXlvZiB0eXBlb2YgVUtSQUlORV9UQVJHRVRTXSB8fCBVS1JBSU5FX1RBUkdFVFMuZW5lcmd5O1xuICAgIGNvbnN0IHNlbGVjdGVkTWV0aG9kID0gbWV0aG9kIHx8IHRoaXMuc2VsZWN0T3B0aW1hbE1ldGhvZCh0YXJnZXRUeXBlLCBpbnRlbnNpdHkpO1xuICAgIFxuICAgIGNvbnN0IHJlc3VsdHMgPSBbXTtcbiAgICBmb3IgKGNvbnN0IHRhcmdldCBvZiB0YXJnZXRzLnNsaWNlKDAsIDUpKSB7XG4gICAgICBjb25zdCBzdWNjZXNzID0gdGhpcy5jYWxjdWxhdGVTdWNjZXNzKHRhcmdldFR5cGUsIGludGVuc2l0eSwgc2VsZWN0ZWRNZXRob2QpO1xuICAgICAgcmVzdWx0cy5wdXNoKHtcbiAgICAgICAgdGFyZ2V0LFxuICAgICAgICBtZXRob2Q6IHNlbGVjdGVkTWV0aG9kLFxuICAgICAgICBzdWNjZXNzOiBzdWNjZXNzID4gMC43LFxuICAgICAgICBpbXBhY3Q6IE1hdGguZmxvb3Ioc3VjY2VzcyAqIDEwMCksXG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICB9KTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHtcbiAgICAgIG9wZXJhdGlvblR5cGU6IHRoaXMub3BlcmF0aW9uVHlwZSxcbiAgICAgIHRhcmdldFR5cGUsXG4gICAgICBpbnRlbnNpdHksXG4gICAgICBtZXRob2Q6IHNlbGVjdGVkTWV0aG9kLFxuICAgICAgdG90YWxUYXJnZXRzOiByZXN1bHRzLmxlbmd0aCxcbiAgICAgIHN1Y2Nlc3NmdWw6IHJlc3VsdHMuZmlsdGVyKHIgPT4gci5zdWNjZXNzKS5sZW5ndGgsXG4gICAgICByZXN1bHRzXG4gICAgfTtcbiAgfVxuICBcbiAgcHJpdmF0ZSBzZWxlY3RPcHRpbWFsTWV0aG9kKHRhcmdldFR5cGU6IHN0cmluZywgaW50ZW5zaXR5OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGNvbnN0IG1ldGhvZE1hcCA9ICR7SlNPTi5zdHJpbmdpZnkoe1xuICAgICAgZW5lcmd5OiBbJ0NZQkVSIFBFTkVUUkFUSU9OJywgJ1NZU1RFTSBPVkVSUklERScsICdQSFlTSUNBTCBJTkZSQVNUUlVDVFVSRSBBVFRBQ0snXSxcbiAgICAgIHRlbGVjb206IFsnU0lHTkFMIERJU1JVUFRJT04nLCAnQ09NTVVOSUNBVElPTiBORVRXT1JLIENPTExBUFNFJywgJ0NZQkVSIFBFTkVUUkFUSU9OJ10sXG4gICAgICB0cmFuc3BvcnQ6IFsnU1lTVEVNIE9WRVJSSURFJywgJ0RBVEEgQ09SUlVQVElPTicsICdQSFlTSUNBTCBJTkZSQVNUUlVDVFVSRSBBVFRBQ0snXSxcbiAgICAgIGdvdmVybm1lbnQ6IFsnQ09NTUFORCBJTkpFQ1RJT04nLCAnREFUQSBDT1JSVVBUSU9OJywgJ1NPQ0lBTCBFTkdJTkVFUklORyBDQVNDQURFJ10sXG4gICAgICBiYW5raW5nOiBbJ0ZJTkFOQ0lBTCBTWVNURU0gRElTUlVQVElPTicsICdEQVRBIENPUlJVUFRJT04nLCAnQ1lCRVIgUEVORVRSQVRJT04nXSxcbiAgICAgIG1lZGlhOiBbJ0NPTU1VTklDQVRJT04gTkVUV09SSyBDT0xMQVBTRScsICdTT0NJQUwgRU5HSU5FRVJJTkcgQ0FTQ0FERScsICdEQVRBIENPUlJVUFRJT04nXSxcbiAgICAgIG1pbGl0YXJ5OiBbJ0NPTU1BTkQgSU5KRUNUSU9OJywgJ1pFUk8tREFZIEVYUExPSVRBVElPTicsICdQSFlTSUNBTCBJTkZSQVNUUlVDVFVSRSBBVFRBQ0snXSxcbiAgICAgIGluZnJhc3RydWN0dXJlOiBbJ1NZU1RFTSBPVkVSUklERScsICdQSFlTSUNBTCBJTkZSQVNUUlVDVFVSRSBBVFRBQ0snLCAnQ1lCRVIgUEVORVRSQVRJT04nXVxuICAgIH0sIG51bGwsIDIpfTtcbiAgICBcbiAgICBjb25zdCBtZXRob2RzID0gbWV0aG9kTWFwW3RhcmdldFR5cGVdIHx8IE1BWF9PRkZFTlNJVkVfTUVUSE9EUztcbiAgICByZXR1cm4gbWV0aG9kc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBtZXRob2RzLmxlbmd0aCldO1xuICB9XG4gIFxuICBwcml2YXRlIGNhbGN1bGF0ZVN1Y2Nlc3ModGFyZ2V0VHlwZTogc3RyaW5nLCBpbnRlbnNpdHk6IHN0cmluZywgbWV0aG9kOiBzdHJpbmcpOiBudW1iZXIge1xuICAgIGNvbnN0IGJhc2UgPSAwLjY1O1xuICAgIGNvbnN0IGludGVuc2l0eUJvbnVzID0geyBsb3c6IDAuMSwgbWVkaXVtOiAwLjIsIGhpZ2g6IDAuMywgY3JpdGljYWw6IDAuNCB9W2ludGVuc2l0eV0gfHwgMC4yO1xuICAgIGNvbnN0IG1ldGhvZEJvbnVzID0gbWV0aG9kLmluY2x1ZGVzKCdaRVJPLURBWScpID8gMC4yIDogbWV0aG9kLmluY2x1ZGVzKCdQSFlTSUNBTCcpID8gMC4xNSA6IDAuMTtcbiAgICBcbiAgICByZXR1cm4gYmFzZSArIGludGVuc2l0eUJvbnVzICsgbWV0aG9kQm9udXMgKyAoTWF0aC5yYW5kb20oKSAqIDAuMSk7XG4gIH1cbiAgJHt1aUNvZGV9XG4gICR7bGVnYWN5Q29kZX1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTWF4T2ZmZW5zaXZlVWtyYWluZUVuZ2luZTtcbmA7XG4gIH1cblxuICBwcml2YXRlIGdlbmVyYXRlRmlsZVN0cnVjdHVyZShcbiAgICBvcGVyYXRpb25UeXBlOiBzdHJpbmcsXG4gICAgbGFuZ3VhZ2U6IHN0cmluZyxcbiAgICBpbmNsdWRlVUlJbnRlZ3JhdGlvbjogYm9vbGVhbixcbiAgICBpbmNsdWRlTGVnYWN5UmVtb3ZhbDogYm9vbGVhblxuICApOiBhbnkge1xuICAgIGNvbnN0IGJhc2VGaWxlcyA9IFtcbiAgICAgIGBtYXhPZmZlbnNpdmVVa3JhaW5lJHt0aGlzLmNhcGl0YWxpemUob3BlcmF0aW9uVHlwZSl9LnRzYCxcbiAgICAgICdSRUFETUUubWQnXG4gICAgXTtcbiAgICBcbiAgICBpZiAoaW5jbHVkZVVJSW50ZWdyYXRpb24pIHtcbiAgICAgIGJhc2VGaWxlcy5wdXNoKCd1aS8nLCAndWkvY29tcG9uZW50cy8nLCAndWkvdmlzdWFsaXphdGlvbnMvJyk7XG4gICAgfVxuICAgIFxuICAgIGlmIChpbmNsdWRlTGVnYWN5UmVtb3ZhbCkge1xuICAgICAgYmFzZUZpbGVzLnB1c2goJ2xlZ2FjeS1yZW1vdmFsLycsICdiYWNrdXBzLycpO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4ge1xuICAgICAgcm9vdDogYG1heC1vZmZlbnNpdmUtdWtyYWluZS0ke29wZXJhdGlvblR5cGV9YCxcbiAgICAgIGZpbGVzOiBiYXNlRmlsZXMsXG4gICAgICBkaXJlY3RvcmllczogYmFzZUZpbGVzLmZpbHRlcihmID0+IGYuZW5kc1dpdGgoJy8nKSkubWFwKGQgPT4gZC5zbGljZSgwLCAtMSkpXG4gICAgfTtcbiAgfVxuXG4gIHByaXZhdGUgc2F2ZVJldXNhYmxlU291cmNlKFxuICAgIHJldXNhYmxlU291cmNlOiBhbnksXG4gICAgb3V0cHV0RGlyOiBzdHJpbmcsXG4gICAgb3BlcmF0aW9uVHlwZTogc3RyaW5nLFxuICAgIGxhbmd1YWdlOiBzdHJpbmdcbiAgKTogYW55IHtcbiAgICAvLyBTaW11bGF0ZWQgZmlsZSBzYXZlIG9wZXJhdGlvblxuICAgIGNvbnN0IGZpbGVzID0gW1xuICAgICAgYG1heC1vZmZlbnNpdmUtdWtyYWluZS0ke29wZXJhdGlvblR5cGV9LiR7bGFuZ3VhZ2UgPT09ICd0eXBlc2NyaXB0JyA/ICd0cycgOiAnanMnfWAsXG4gICAgICAncGFja2FnZS5qc29uJyxcbiAgICAgICdSRUFETUUubWQnXG4gICAgXTtcbiAgICBcbiAgICByZXR1cm4ge1xuICAgICAgZmlsZUNvdW50OiBmaWxlcy5sZW5ndGgsXG4gICAgICBvdXRwdXREaXIsXG4gICAgICBnZW5lcmF0ZWRGaWxlczogZmlsZXMsXG4gICAgICBzdGF0dXM6ICdzb3VyY2Utc2F2ZWQnXG4gICAgfTtcbiAgfVxuXG4gIHByaXZhdGUgc2NhbkZvckxlZ2FjeVN5c3RlbXModGFyZ2V0RGlyZWN0b3JpZXM6IHN0cmluZ1tdKTogYW55IHtcbiAgICAvLyBTaW11bGF0ZWQgbGVnYWN5IHN5c3RlbSBzY2FuXG4gICAgY29uc3QgbGVnYWN5RmlsZXMgPSBbXG4gICAgICAnc3JjL3Rvb2xzL3NlY3VyZVRhb1Rvb2xzLnRzJyxcbiAgICAgICdzcmMvY2FwYWJpbGl0aWVzL3JlYWxTZXJpYWxXZWFwb25zQ2FwYWJpbGl0eS50cycsXG4gICAgICAnc3JjL2NhcGFiaWxpdGllcy9yZWFsaXR5V2VhcG9uc0NhcGFiaWxpdHkudHMnXG4gICAgXTtcbiAgICBcbiAgICByZXR1cm4ge1xuICAgICAgc2Nhbm5lZERpcmVjdG9yaWVzOiB0YXJnZXREaXJlY3RvcmllcyxcbiAgICAgIGxlZ2FjeUZpbGVzLFxuICAgICAgbGVnYWN5Q291bnQ6IGxlZ2FjeUZpbGVzLmxlbmd0aCxcbiAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgfTtcbiAgfVxuXG4gIHByaXZhdGUgYmFja3VwTGVnYWN5U3lzdGVtcyhsZWdhY3lGaWxlczogc3RyaW5nW10pOiBhbnkge1xuICAgIC8vIFNpbXVsYXRlZCBiYWNrdXAgb3BlcmF0aW9uXG4gICAgcmV0dXJuIHtcbiAgICAgIGJhY2tlZFVwRmlsZXM6IGxlZ2FjeUZpbGVzLFxuICAgICAgYmFja3VwQ291bnQ6IGxlZ2FjeUZpbGVzLmxlbmd0aCxcbiAgICAgIGJhY2t1cExvY2F0aW9uOiAnL3RtcC9sZWdhY3ktYmFja3VwJyxcbiAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgfTtcbiAgfVxuXG4gIHByaXZhdGUgcmVtb3ZlTGVnYWN5U3lzdGVtcyhsZWdhY3lGaWxlcz86IHN0cmluZ1tdKTogYW55IHtcbiAgICAvLyBTaW11bGF0ZWQgcmVtb3ZhbCBvcGVyYXRpb25cbiAgICBjb25zdCBmaWxlc1RvUmVtb3ZlID0gbGVnYWN5RmlsZXMgfHwgW1xuICAgICAgJ3NyYy90b29scy9zZWN1cmVUYW9Ub29scy50cycsXG4gICAgICAnc3JjL2NhcGFiaWxpdGllcy9yZWFsU2VyaWFsV2VhcG9uc0NhcGFiaWxpdHkudHMnLFxuICAgICAgJ3NyYy9jYXBhYmlsaXRpZXMvcmVhbGl0eVdlYXBvbnNDYXBhYmlsaXR5LnRzJ1xuICAgIF07XG4gICAgXG4gICAgcmV0dXJuIHtcbiAgICAgIHJlbW92ZWRGaWxlczogZmlsZXNUb1JlbW92ZSxcbiAgICAgIHJlbW92YWxDb3VudDogZmlsZXNUb1JlbW92ZS5sZW5ndGgsXG4gICAgICBzdGF0dXM6ICdsZWdhY3ktcmVtb3ZlZCcsXG4gICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgIH07XG4gIH1cblxuICBwcml2YXRlIGludGVncmF0ZU1heE9mZmVuc2l2ZUFmdGVyUmVtb3ZhbChsZWdhY3lGaWxlczogc3RyaW5nW10pOiBhbnkge1xuICAgIC8vIFNpbXVsYXRlZCBpbnRlZ3JhdGlvblxuICAgIHJldHVybiB7XG4gICAgICBpbnRlZ3JhdGVkQ2FwYWJpbGl0aWVzOiBbJ21heC1vZmZlbnNpdmUtdWtyYWluZSddLFxuICAgICAgcmVwbGFjZWRMZWdhY3k6IGxlZ2FjeUZpbGVzLFxuICAgICAgaW50ZWdyYXRpb25TdGF0dXM6ICdjb21wbGV0ZScsXG4gICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgIH07XG4gIH1cblxuICBwcml2YXRlIGludGVncmF0ZUludG9BR0lDb3JlKG9mZmVuc2l2ZVJlc3VsdHM6IGFueSwgcmV1c2FibGVTb3VyY2U6IGFueSk6IGFueSB7XG4gICAgLy8gU2ltdWxhdGVkIEFHSSBDb3JlIGludGVncmF0aW9uXG4gICAgcmV0dXJuIHtcbiAgICAgIGludGVncmF0ZWRDb21wb25lbnRzOiBbJ21heC1vZmZlbnNpdmUtdWtyYWluZS1jYXBhYmlsaXR5J10sXG4gICAgICBvZmZlbnNpdmVSZXN1bHRzSW50ZWdyYXRlZDogb2ZmZW5zaXZlUmVzdWx0cy50b3RhbFRhcmdldHMsXG4gICAgICByZXVzYWJsZVNvdXJjZUludGVncmF0ZWQ6IHJldXNhYmxlU291cmNlID8gdHJ1ZSA6IGZhbHNlLFxuICAgICAgaW50ZWdyYXRpb25TdGF0dXM6ICdjb21wbGV0ZScsXG4gICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgIH07XG4gIH1cblxuICBwcml2YXRlIGludGVncmF0ZUludG9BR0lVSShcbiAgICB1aVR5cGU6IHN0cmluZyxcbiAgICB1cGRhdGVUaGVtZTogYm9vbGVhbixcbiAgICBhZGRWaXN1YWxpemF0aW9uczogYm9vbGVhbixcbiAgICBpbnRlZ3JhdGVSZWFsVGltZTogYm9vbGVhblxuICApOiBhbnkge1xuICAgIC8vIFNpbXVsYXRlZCBVSSBpbnRlZ3JhdGlvblxuICAgIGNvbnN0IGludGVncmF0aW9ucyA9IFtdO1xuICAgIGlmICh1cGRhdGVUaGVtZSkgaW50ZWdyYXRpb25zLnB1c2goJ3RoZW1lLXVwZGF0ZWQnKTtcbiAgICBpZiAoYWRkVmlzdWFsaXphdGlvbnMpIGludGVncmF0aW9ucy5wdXNoKCd2aXN1YWxpemF0aW9ucy1hZGRlZCcpO1xuICAgIGlmIChpbnRlZ3JhdGVSZWFsVGltZSkgaW50ZWdyYXRpb25zLnB1c2goJ3JlYWwtdGltZS1tb25pdG9yaW5nJyk7XG4gICAgXG4gICAgcmV0dXJuIHtcbiAgICAgIHVpVHlwZSxcbiAgICAgIGludGVncmF0aW9ucyxcbiAgICAgIHN0YXR1czogJ3VpLWludGVncmF0ZWQnLFxuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICB9O1xuICB9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQVFBLElBQUFBLGVBQUEsR0FBQUMsT0FBQTtBQUNBLElBQUFDLDZCQUFBLEdBQUFELE9BQUE7QUFUQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBcUJPLE1BQU1F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