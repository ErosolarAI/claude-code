{"version":3,"names":["_searchTools","require","SearchCapabilityModule","id","options","constructor","create","context","workingDir","description","toolSuite","tools","createSearchTools","metadata","exports"],"sources":["searchCapability.ts"],"sourcesContent":["import type { CapabilityContribution, CapabilityContext, CapabilityModule } from '../runtime/agentHost.js';\nimport { createSearchTools } from '../tools/searchTools.js';\n\nexport interface SearchCapabilityOptions {\n  workingDir?: string;\n}\n\n/**\n * Unified Search Capability Module\n *\n * Provides the Search tool which combines:\n * - File pattern matching (glob)\n * - Content search (regex/grep)\n * - Definition finding (functions, classes, interfaces)\n */\nexport class SearchCapabilityModule implements CapabilityModule {\n  readonly id = 'capability.search';\n  private readonly options: SearchCapabilityOptions;\n\n  constructor(options: SearchCapabilityOptions = {}) {\n    this.options = options;\n  }\n\n  async create(context: CapabilityContext): Promise<CapabilityContribution> {\n    const workingDir = this.options.workingDir ?? context.workingDir;\n    return {\n      id: 'search.unified',\n      description: 'Unified search for files and content',\n      toolSuite: {\n        id: 'search',\n        tools: createSearchTools(workingDir),\n      },\n      metadata: { workingDir },\n    };\n  }\n}\n"],"mappings":";;;;;;AACA,IAAAA,YAAA,GAAAC,OAAA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,MAAMC,sBAAsB,CAA6B;EACrDC,EAAE,GAAG,mBAAmB;EAChBC,OAAO;EAExBC,WAAWA,CAACD,OAAgC,GAAG,CAAC,CAAC,EAAE;IACjD,IAAI,CAACA,OAAO,GAAGA,OAAO;EACxB;EAEA,MAAME,MAAMA,CAACC,OAA0B,EAAmC;IACxE,MAAMC,UAAU,GAAG,IAAI,CAACJ,OAAO,CAACI,UAAU,IAAID,OAAO,CAACC,UAAU;IAChE,OAAO;MACLL,EAAE,EAAE,gBAAgB;MACpBM,WAAW,EAAE,sCAAsC;MACnDC,SAAS,EAAE;QACTP,EAAE,EAAE,QAAQ;QACZQ,KAAK,EAAE,IAAAC,8BAAiB,EAACJ,UAAU;MACrC,CAAC;MACDK,QAAQ,EAAE;QAAEL;MAAW;IACzB,CAAC;EACH;AACF;AAACM,OAAA,CAAAZ,sBAAA,GAAAA,sBAAA","ignoreList":[]}