{"version":3,"names":["cov_10y6rml7mp","actualCoverage","createBashTools","BashCapabilityModule","id","s","options","constructor","b","f","create","context","workingDir","description","toolSuite","tools","metadata"],"sources":["bashCapability.ts"],"sourcesContent":["import type { CapabilityContribution, CapabilityContext, CapabilityModule } from '../runtime/agentHost.js';\nimport { createBashTools } from '../tools/bashTools.js';\n\nexport interface BashCapabilityOptions {\n  workingDir?: string;\n  id?: string;\n  description?: string;\n}\n\nexport class BashCapabilityModule implements CapabilityModule {\n  readonly id = 'capability.bash';\n  private readonly options: BashCapabilityOptions;\n\n  constructor(options: BashCapabilityOptions = {}) {\n    this.options = options;\n  }\n\n  async create(context: CapabilityContext): Promise<CapabilityContribution> {\n    const workingDir = this.options.workingDir ?? context.workingDir;\n    return {\n      id: this.options.id ?? 'bash.tools.shell',\n      description: this.options.description ?? 'Shell execution with stdout/stderr summaries for reproducibility.',\n      toolSuite: {\n        id: 'bash',\n        description: 'Shell access',\n        tools: createBashTools(workingDir),\n      },\n      metadata: {\n        workingDir,\n      },\n    };\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAeY;IAAAA,cAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,cAAA;AAdZ,SAASE,eAAe,QAAQ,uBAAuB;AAQvD,OAAO,MAAMC,oBAAoB,CAA6B;EACnDC,EAAE;EAAA;EAAA,CAAAJ,cAAA,GAAAK,CAAA,OAAG,iBAAiB;EACdC,OAAO;EAExBC,WAAWA,CAACD,OAA8B;EAAA;EAAA,CAAAN,cAAA,GAAAQ,CAAA,UAAG,CAAC,CAAC,GAAE;IAAA;IAAAR,cAAA,GAAAS,CAAA;IAAAT,cAAA,GAAAK,CAAA;IAC/C,IAAI,CAACC,OAAO,GAAGA,OAAO;EACxB;EAEA,MAAMI,MAAMA,CAACC,OAA0B,EAAmC;IAAA;IAAAX,cAAA,GAAAS,CAAA;IACxE,MAAMG,UAAU;IAAA;IAAA,CAAAZ,cAAA,GAAAK,CAAA;IAAG;IAAA,CAAAL,cAAA,GAAAQ,CAAA,cAAI,CAACF,OAAO,CAACM,UAAU;IAAA;IAAA,CAAAZ,cAAA,GAAAQ,CAAA,UAAIG,OAAO,CAACC,UAAU;IAAC;IAAAZ,cAAA,GAAAK,CAAA;IACjE,OAAO;MACLD,EAAE;MAAE;MAAA,CAAAJ,cAAA,GAAAQ,CAAA,cAAI,CAACF,OAAO,CAACF,EAAE;MAAA;MAAA,CAAAJ,cAAA,GAAAQ,CAAA,UAAI,kBAAkB;MACzCK,WAAW;MAAE;MAAA,CAAAb,cAAA,GAAAQ,CAAA,cAAI,CAACF,OAAO,CAACO,WAAW;MAAA;MAAA,CAAAb,cAAA,GAAAQ,CAAA,UAAI,mEAAmE;MAC5GM,SAAS,EAAE;QACTV,EAAE,EAAE,MAAM;QACVS,WAAW,EAAE,cAAc;QAC3BE,KAAK,EAAEb,eAAe,CAACU,UAAU;MACnC,CAAC;MACDI,QAAQ,EAAE;QACRJ;MACF;IACF,CAAC;EACH;AACF","ignoreList":[]}