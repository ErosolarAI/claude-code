2d3abf0ab0758b2bf43282450b1b3132
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ResilientProvider = exports.PROVIDER_RESILIENCE_CONFIGS = void 0;
exports.getFallbackReason = getFallbackReason;
exports.isFallbackEligibleError = isFallbackEligibleError;
exports.withProviderResilience = withProviderResilience;
exports.withResilience = withResilience;
var _asyncUtils = require("../utils/asyncUtils.js");
/**
 * Resilient Provider Wrapper
 *
 * Adds rate limiting, exponential backoff retry, and circuit breaker
 * patterns to any LLM provider for maximum reliability and performance.
 *
 * PERF: Provider-agnostic wrapper that prevents rate limit errors and
 * automatically recovers from transient failures.
 */

const RATE_LIMIT_PATTERNS = ['rate limit', 'rate_limit', 'ratelimit', 'too many requests', '429', 'quota exceeded', 'request limit', 'throttled', 'overloaded', 'capacity'];
const TRANSIENT_ERROR_PATTERNS = ['timeout', 'timed out', 'network', 'connection', 'econnrefused', 'econnreset', 'enotfound', 'epipe', 'econnaborted', 'ehostunreach', 'enetunreach', 'socket', 'temporarily unavailable', '502', '503', '504', 'bad gateway', 'service unavailable', 'gateway timeout', 'internal server error', '500',
// Stream and fetch errors
'premature close', 'premature end', 'unexpected end', 'stream', 'aborted', 'fetcherror', 'fetch error', 'invalid response body', 'response body', 'gunzip', 'decompress', 'zlib', 'content-encoding', 'chunked encoding', 'transfer-encoding',
// SSL/TLS errors
'ssl', 'tls', 'certificate', 'cert', 'handshake'];
const FALLBACK_ELIGIBLE_PATTERNS = [
// Quota/billing errors
'insufficient_quota', 'quota exceeded', 'exceeded your current quota', 'billing', 'payment required', 'account suspended', 'account disabled',
// API key errors
'api key expired', 'api_key_invalid', 'invalid api key', 'invalid_api_key', 'api key not valid',
// Model availability errors
'model not found', 'model_not_found', 'does not exist', 'not available', 'deprecated', 'access denied', 'permission denied', 'unauthorized', '401', '403', '400', 'invalid_argument',
// Regional/access restrictions
'region', 'not supported in your', 'country', 'restricted'];

/**
 * Check if an error warrants trying a different provider (fallback).
 * These are non-transient errors that won't be fixed by retrying the same provider.
 */
function isFallbackEligibleError(error) {
  if (!(error instanceof Error)) return false;
  const message = error.message.toLowerCase();

  // Check message for fallback patterns
  if (FALLBACK_ELIGIBLE_PATTERNS.some(pattern => message.includes(pattern))) {
    return true;
  }

  // Check error code/type/reason if present (OpenAI and Google style errors)
  const errorWithCode = error;
  const code = String(errorWithCode.code ?? '').toLowerCase();
  const type = (errorWithCode.type ?? '').toLowerCase();
  const reason = (errorWithCode.reason ?? '').toLowerCase();
  const status = (errorWithCode.status ?? '').toLowerCase();

  // OpenAI style errors
  if (code === 'insufficient_quota' || type === 'insufficient_quota') {
    return true;
  }
  if (code === 'model_not_found' || type === 'model_not_found') {
    return true;
  }
  if (code === 'invalid_api_key' || type === 'invalid_api_key') {
    return true;
  }

  // Google style errors
  if (reason === 'api_key_invalid' || status === 'invalid_argument') {
    return true;
  }
  if (code === '400' || code === '401' || code === '403') {
    return true;
  }
  return false;
}

/**
 * Get a user-friendly description of why fallback is needed
 */
function getFallbackReason(error) {
  if (!(error instanceof Error)) return 'Unknown error';
  const message = error.message.toLowerCase();
  if (message.includes('quota') || message.includes('billing')) {
    return 'API quota exceeded or billing issue';
  }
  if (message.includes('expired') || message.includes('api_key_invalid') || message.includes('api key')) {
    return 'API key expired or invalid';
  }
  if (message.includes('model') && (message.includes('not found') || message.includes('not exist'))) {
    return 'Model not available';
  }
  if (message.includes('unauthorized') || message.includes('401') || message.includes('invalid_api_key')) {
    return 'Invalid API key';
  }
  if (message.includes('403') || message.includes('permission') || message.includes('access denied')) {
    return 'Access denied';
  }
  if (message.includes('400') || message.includes('invalid_argument')) {
    return 'Invalid request or API key';
  }
  if (message.includes('region') || message.includes('country') || message.includes('restricted')) {
    return 'Regional restriction';
  }
  return 'Provider error';
}
function isRateLimitError(error) {
  if (!(error instanceof Error)) return false;
  const message = error.message.toLowerCase();
  return RATE_LIMIT_PATTERNS.some(pattern => message.includes(pattern));
}
function isTransientError(error) {
  if (!(error instanceof Error)) return false;

  // Check message
  const message = error.message.toLowerCase();
  if (TRANSIENT_ERROR_PATTERNS.some(pattern => message.includes(pattern))) {
    return true;
  }

  // Check error name/type (FetchError, AbortError, etc.)
  const errorName = error.name?.toLowerCase() ?? '';
  if (errorName.includes('fetch') || errorName.includes('abort') || errorName.includes('network')) {
    return true;
  }

  // Check error code if present (Node.js style)
  const errorCode = error.code?.toLowerCase() ?? '';
  if (errorCode && TRANSIENT_ERROR_PATTERNS.some(pattern => errorCode.includes(pattern))) {
    return true;
  }

  // Check cause chain for nested errors
  const cause = error.cause;
  if (cause instanceof Error) {
    return isTransientError(cause);
  }
  return false;
}
function shouldRetry(error) {
  return isRateLimitError(error) || isTransientError(error);
}

/**
 * Wraps any LLM provider with rate limiting and retry logic
 */
class ResilientProvider {
  stats = {
    totalRequests: 0,
    rateLimitHits: 0,
    retries: 0,
    circuitBreakerTrips: 0
  };
  constructor(provider, config = {}) {
    this.provider = provider;
    this.id = provider.id;
    this.model = provider.model;
    this.config = {
      maxRequestsPerMinute: config.maxRequestsPerMinute ?? 50,
      maxRetries: config.maxRetries ?? 4,
      baseDelayMs: config.baseDelayMs ?? 1000,
      maxDelayMs: config.maxDelayMs ?? 32000,
      enableCircuitBreaker: config.enableCircuitBreaker ?? true,
      circuitBreakerThreshold: config.circuitBreakerThreshold ?? 5,
      circuitBreakerResetMs: config.circuitBreakerResetMs ?? 60000
    };
    this.rateLimiter = new _asyncUtils.RateLimiter({
      maxRequests: this.config.maxRequestsPerMinute,
      windowMs: 60000
    });
    this.circuitBreaker = {
      failures: 0,
      lastFailure: 0,
      isOpen: false
    };
  }

  /**
   * Check and potentially reset circuit breaker
   */
  checkCircuitBreaker() {
    if (!this.config.enableCircuitBreaker) return;
    if (this.circuitBreaker.isOpen) {
      const elapsed = Date.now() - this.circuitBreaker.lastFailure;
      if (elapsed >= this.config.circuitBreakerResetMs) {
        // Half-open: allow one request through
        this.circuitBreaker.isOpen = false;
        this.circuitBreaker.failures = Math.floor(this.circuitBreaker.failures / 2);
      } else {
        throw new Error(`Circuit breaker is open. Too many failures (${this.circuitBreaker.failures}). ` + `Retry in ${Math.ceil((this.config.circuitBreakerResetMs - elapsed) / 1000)}s.`);
      }
    }
  }

  /**
   * Record a failure for circuit breaker
   */
  recordFailure(_error) {
    if (!this.config.enableCircuitBreaker) return;
    this.circuitBreaker.failures++;
    this.circuitBreaker.lastFailure = Date.now();
    if (this.circuitBreaker.failures >= this.config.circuitBreakerThreshold) {
      this.circuitBreaker.isOpen = true;
      this.stats.circuitBreakerTrips++;
    }
  }

  /**
   * Record a success to reset circuit breaker
   */
  recordSuccess() {
    if (this.config.enableCircuitBreaker && this.circuitBreaker.failures > 0) {
      this.circuitBreaker.failures = Math.max(0, this.circuitBreaker.failures - 1);
    }
  }

  /**
   * Execute a request with rate limiting and retry
   */
  async executeWithResilience(operation, _operationName) {
    this.stats.totalRequests++;

    // Check circuit breaker
    this.checkCircuitBreaker();

    // Acquire rate limit token
    await this.rateLimiter.acquire();
    try {
      const result = await (0, _asyncUtils.retry)(operation, {
        maxRetries: this.config.maxRetries,
        baseDelayMs: this.config.baseDelayMs,
        maxDelayMs: this.config.maxDelayMs,
        backoffMultiplier: 2,
        shouldRetry: error => {
          if (shouldRetry(error)) {
            this.stats.retries++;
            if (isRateLimitError(error)) {
              this.stats.rateLimitHits++;
            }
            return true;
          }
          return false;
        }
      });
      this.recordSuccess();
      return result;
    } catch (error) {
      this.recordFailure(error);
      throw error;
    }
  }

  /**
   * Generate a response with resilience
   */
  async generate(messages, tools) {
    return this.executeWithResilience(() => this.provider.generate(messages, tools), 'generate');
  }

  /**
   * Generate a streaming response with resilience
   *
   * Note: Retry logic is limited for streaming - we can only retry
   * before the stream starts, not mid-stream.
   */
  async *generateStream(messages, tools) {
    if (!this.provider.generateStream) {
      // Fall back to non-streaming
      const response = await this.generate(messages, tools);
      if (response.type === 'message') {
        yield {
          type: 'content',
          content: response.content
        };
      } else if (response.type === 'tool_calls') {
        if (response.content) {
          yield {
            type: 'content',
            content: response.content
          };
        }
        if (response.toolCalls) {
          for (const call of response.toolCalls) {
            yield {
              type: 'tool_call',
              toolCall: call
            };
          }
        }
      }
      if (response.usage) {
        yield {
          type: 'usage',
          usage: response.usage
        };
      }
      return;
    }
    this.stats.totalRequests++;

    // Check circuit breaker
    this.checkCircuitBreaker();

    // Acquire rate limit token
    await this.rateLimiter.acquire();
    let attempts = 0;
    let lastError;
    while (attempts <= this.config.maxRetries) {
      try {
        const stream = this.provider.generateStream(messages, tools);
        for await (const chunk of stream) {
          yield chunk;
        }
        this.recordSuccess();
        return;
      } catch (err) {
        lastError = err;
        attempts++;
        if (attempts <= this.config.maxRetries && shouldRetry(err)) {
          this.stats.retries++;
          if (isRateLimitError(err)) {
            this.stats.rateLimitHits++;
          }
          const delay = Math.min(this.config.baseDelayMs * Math.pow(2, attempts - 1), this.config.maxDelayMs);
          await (0, _asyncUtils.sleep)(delay);
          continue;
        }
        this.recordFailure(err);
        throw err;
      }
    }
    this.recordFailure(lastError);
    throw lastError;
  }

  /**
   * Get resilience statistics
   */
  getStats() {
    return {
      ...this.stats,
      circuitBreakerOpen: this.circuitBreaker.isOpen,
      availableTokens: this.rateLimiter.availableTokens
    };
  }

  /**
   * Reset statistics
   */
  resetStats() {
    this.stats = {
      totalRequests: 0,
      rateLimitHits: 0,
      retries: 0,
      circuitBreakerTrips: 0
    };
  }
}

/**
 * Wrap any provider with resilience features
 */
exports.ResilientProvider = ResilientProvider;
function withResilience(provider, config) {
  return new ResilientProvider(provider, config);
}

/**
 * Provider-specific recommended configurations
 */
const PROVIDER_RESILIENCE_CONFIGS = exports.PROVIDER_RESILIENCE_CONFIGS = {
  anthropic: {
    maxRequestsPerMinute: 50,
    maxRetries: 4,
    baseDelayMs: 1500,
    maxDelayMs: 40000
  },
  openai: {
    maxRequestsPerMinute: 60,
    maxRetries: 3,
    baseDelayMs: 1000,
    maxDelayMs: 30000
  },
  google: {
    maxRequestsPerMinute: 60,
    maxRetries: 3,
    baseDelayMs: 1000,
    maxDelayMs: 30000
  },
  deepseek: {
    maxRequestsPerMinute: 30,
    maxRetries: 4,
    baseDelayMs: 2000,
    maxDelayMs: 45000
  },
  xai: {
    maxRequestsPerMinute: 40,
    maxRetries: 3,
    baseDelayMs: 1500,
    maxDelayMs: 35000
  },
  ollama: {
    maxRequestsPerMinute: 100,
    maxRetries: 2,
    baseDelayMs: 500,
    maxDelayMs: 10000,
    enableCircuitBreaker: false // Local, less likely to need circuit breaker
  }
};

/**
 * Wrap a provider with resilience using provider-specific defaults
 */
function withProviderResilience(provider, providerId, overrides) {
  const defaults = PROVIDER_RESILIENCE_CONFIGS[providerId] ?? {};
  return new ResilientProvider(provider, {
    ...defaults,
    ...overrides
  });
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfYXN5bmNVdGlscyIsInJlcXVpcmUiLCJSQVRFX0xJTUlUX1BBVFRFUk5TIiwiVFJBTlNJRU5UX0VSUk9SX1BBVFRFUk5TIiwiRkFMTEJBQ0tfRUxJR0lCTEVfUEFUVEVSTlMiLCJpc0ZhbGxiYWNrRWxpZ2libGVFcnJvciIsImVycm9yIiwiRXJyb3IiLCJtZXNzYWdlIiwidG9Mb3dlckNhc2UiLCJzb21lIiwicGF0dGVybiIsImluY2x1ZGVzIiwiZXJyb3JXaXRoQ29kZSIsImNvZGUiLCJTdHJpbmciLCJ0eXBlIiwicmVhc29uIiwic3RhdHVzIiwiZ2V0RmFsbGJhY2tSZWFzb24iLCJpc1JhdGVMaW1pdEVycm9yIiwiaXNUcmFuc2llbnRFcnJvciIsImVycm9yTmFtZSIsIm5hbWUiLCJlcnJvckNvZGUiLCJjYXVzZSIsInNob3VsZFJldHJ5IiwiUmVzaWxpZW50UHJvdmlkZXIiLCJzdGF0cyIsInRvdGFsUmVxdWVzdHMiLCJyYXRlTGltaXRIaXRzIiwicmV0cmllcyIsImNpcmN1aXRCcmVha2VyVHJpcHMiLCJjb25zdHJ1Y3RvciIsInByb3ZpZGVyIiwiY29uZmlnIiwiaWQiLCJtb2RlbCIsIm1heFJlcXVlc3RzUGVyTWludXRlIiwibWF4UmV0cmllcyIsImJhc2VEZWxheU1zIiwibWF4RGVsYXlNcyIsImVuYWJsZUNpcmN1aXRCcmVha2VyIiwiY2lyY3VpdEJyZWFrZXJUaHJlc2hvbGQiLCJjaXJjdWl0QnJlYWtlclJlc2V0TXMiLCJyYXRlTGltaXRlciIsIlJhdGVMaW1pdGVyIiwibWF4UmVxdWVzdHMiLCJ3aW5kb3dNcyIsImNpcmN1aXRCcmVha2VyIiwiZmFpbHVyZXMiLCJsYXN0RmFpbHVyZSIsImlzT3BlbiIsImNoZWNrQ2lyY3VpdEJyZWFrZXIiLCJlbGFwc2VkIiwiRGF0ZSIsIm5vdyIsIk1hdGgiLCJmbG9vciIsImNlaWwiLCJyZWNvcmRGYWlsdXJlIiwiX2Vycm9yIiwicmVjb3JkU3VjY2VzcyIsIm1heCIsImV4ZWN1dGVXaXRoUmVzaWxpZW5jZSIsIm9wZXJhdGlvbiIsIl9vcGVyYXRpb25OYW1lIiwiYWNxdWlyZSIsInJlc3VsdCIsInJldHJ5IiwiYmFja29mZk11bHRpcGxpZXIiLCJnZW5lcmF0ZSIsIm1lc3NhZ2VzIiwidG9vbHMiLCJnZW5lcmF0ZVN0cmVhbSIsInJlc3BvbnNlIiwiY29udGVudCIsInRvb2xDYWxscyIsImNhbGwiLCJ0b29sQ2FsbCIsInVzYWdlIiwiYXR0ZW1wdHMiLCJsYXN0RXJyb3IiLCJzdHJlYW0iLCJjaHVuayIsImVyciIsImRlbGF5IiwibWluIiwicG93Iiwic2xlZXAiLCJnZXRTdGF0cyIsImNpcmN1aXRCcmVha2VyT3BlbiIsImF2YWlsYWJsZVRva2VucyIsInJlc2V0U3RhdHMiLCJleHBvcnRzIiwid2l0aFJlc2lsaWVuY2UiLCJQUk9WSURFUl9SRVNJTElFTkNFX0NPTkZJR1MiLCJhbnRocm9waWMiLCJvcGVuYWkiLCJnb29nbGUiLCJkZWVwc2VlayIsInhhaSIsIm9sbGFtYSIsIndpdGhQcm92aWRlclJlc2lsaWVuY2UiLCJwcm92aWRlcklkIiwib3ZlcnJpZGVzIiwiZGVmYXVsdHMiXSwic291cmNlcyI6WyJyZXNpbGllbnRQcm92aWRlci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFJlc2lsaWVudCBQcm92aWRlciBXcmFwcGVyXG4gKlxuICogQWRkcyByYXRlIGxpbWl0aW5nLCBleHBvbmVudGlhbCBiYWNrb2ZmIHJldHJ5LCBhbmQgY2lyY3VpdCBicmVha2VyXG4gKiBwYXR0ZXJucyB0byBhbnkgTExNIHByb3ZpZGVyIGZvciBtYXhpbXVtIHJlbGlhYmlsaXR5IGFuZCBwZXJmb3JtYW5jZS5cbiAqXG4gKiBQRVJGOiBQcm92aWRlci1hZ25vc3RpYyB3cmFwcGVyIHRoYXQgcHJldmVudHMgcmF0ZSBsaW1pdCBlcnJvcnMgYW5kXG4gKiBhdXRvbWF0aWNhbGx5IHJlY292ZXJzIGZyb20gdHJhbnNpZW50IGZhaWx1cmVzLlxuICovXG5cbmltcG9ydCB0eXBlIHtcbiAgTExNUHJvdmlkZXIsXG4gIENvbnZlcnNhdGlvbk1lc3NhZ2UsXG4gIFByb3ZpZGVyVG9vbERlZmluaXRpb24sXG4gIFByb3ZpZGVyUmVzcG9uc2UsXG4gIFN0cmVhbUNodW5rLFxuICBQcm92aWRlcklkLFxufSBmcm9tICcuLi9jb3JlL3R5cGVzLmpzJztcbmltcG9ydCB7IFJhdGVMaW1pdGVyLCByZXRyeSwgc2xlZXAgfSBmcm9tICcuLi91dGlscy9hc3luY1V0aWxzLmpzJztcblxuZXhwb3J0IGludGVyZmFjZSBSZXNpbGllbnRQcm92aWRlckNvbmZpZyB7XG4gIC8qKiBNYXhpbXVtIHJlcXVlc3RzIHBlciB3aW5kb3cgKGRlZmF1bHQ6IDUwKSAqL1xuICBtYXhSZXF1ZXN0c1Blck1pbnV0ZT86IG51bWJlcjtcbiAgLyoqIE1heGltdW0gcmV0cnkgYXR0ZW1wdHMgKGRlZmF1bHQ6IDQpICovXG4gIG1heFJldHJpZXM/OiBudW1iZXI7XG4gIC8qKiBCYXNlIGRlbGF5IGZvciBleHBvbmVudGlhbCBiYWNrb2ZmIGluIG1zIChkZWZhdWx0OiAxMDAwKSAqL1xuICBiYXNlRGVsYXlNcz86IG51bWJlcjtcbiAgLyoqIE1heGltdW0gZGVsYXkgYmV0d2VlbiByZXRyaWVzIGluIG1zIChkZWZhdWx0OiAzMjAwMCkgKi9cbiAgbWF4RGVsYXlNcz86IG51bWJlcjtcbiAgLyoqIEVuYWJsZSBjaXJjdWl0IGJyZWFrZXIgcGF0dGVybiAoZGVmYXVsdDogdHJ1ZSkgKi9cbiAgZW5hYmxlQ2lyY3VpdEJyZWFrZXI/OiBib29sZWFuO1xuICAvKiogTnVtYmVyIG9mIGZhaWx1cmVzIGJlZm9yZSBjaXJjdWl0IG9wZW5zIChkZWZhdWx0OiA1KSAqL1xuICBjaXJjdWl0QnJlYWtlclRocmVzaG9sZD86IG51bWJlcjtcbiAgLyoqIFRpbWUgYmVmb3JlIGNpcmN1aXQgcmVzZXRzIGluIG1zIChkZWZhdWx0OiA2MDAwMCkgKi9cbiAgY2lyY3VpdEJyZWFrZXJSZXNldE1zPzogbnVtYmVyO1xufVxuXG5pbnRlcmZhY2UgQ2lyY3VpdEJyZWFrZXJTdGF0ZSB7XG4gIGZhaWx1cmVzOiBudW1iZXI7XG4gIGxhc3RGYWlsdXJlOiBudW1iZXI7XG4gIGlzT3BlbjogYm9vbGVhbjtcbn1cblxuY29uc3QgUkFURV9MSU1JVF9QQVRURVJOUyA9IFtcbiAgJ3JhdGUgbGltaXQnLFxuICAncmF0ZV9saW1pdCcsXG4gICdyYXRlbGltaXQnLFxuICAndG9vIG1hbnkgcmVxdWVzdHMnLFxuICAnNDI5JyxcbiAgJ3F1b3RhIGV4Y2VlZGVkJyxcbiAgJ3JlcXVlc3QgbGltaXQnLFxuICAndGhyb3R0bGVkJyxcbiAgJ292ZXJsb2FkZWQnLFxuICAnY2FwYWNpdHknLFxuXTtcblxuY29uc3QgVFJBTlNJRU5UX0VSUk9SX1BBVFRFUk5TID0gW1xuICAndGltZW91dCcsXG4gICd0aW1lZCBvdXQnLFxuICAnbmV0d29yaycsXG4gICdjb25uZWN0aW9uJyxcbiAgJ2Vjb25ucmVmdXNlZCcsXG4gICdlY29ubnJlc2V0JyxcbiAgJ2Vub3Rmb3VuZCcsXG4gICdlcGlwZScsXG4gICdlY29ubmFib3J0ZWQnLFxuICAnZWhvc3R1bnJlYWNoJyxcbiAgJ2VuZXR1bnJlYWNoJyxcbiAgJ3NvY2tldCcsXG4gICd0ZW1wb3JhcmlseSB1bmF2YWlsYWJsZScsXG4gICc1MDInLFxuICAnNTAzJyxcbiAgJzUwNCcsXG4gICdiYWQgZ2F0ZXdheScsXG4gICdzZXJ2aWNlIHVuYXZhaWxhYmxlJyxcbiAgJ2dhdGV3YXkgdGltZW91dCcsXG4gICdpbnRlcm5hbCBzZXJ2ZXIgZXJyb3InLFxuICAnNTAwJyxcbiAgLy8gU3RyZWFtIGFuZCBmZXRjaCBlcnJvcnNcbiAgJ3ByZW1hdHVyZSBjbG9zZScsXG4gICdwcmVtYXR1cmUgZW5kJyxcbiAgJ3VuZXhwZWN0ZWQgZW5kJyxcbiAgJ3N0cmVhbScsXG4gICdhYm9ydGVkJyxcbiAgJ2ZldGNoZXJyb3InLFxuICAnZmV0Y2ggZXJyb3InLFxuICAnaW52YWxpZCByZXNwb25zZSBib2R5JyxcbiAgJ3Jlc3BvbnNlIGJvZHknLFxuICAnZ3VuemlwJyxcbiAgJ2RlY29tcHJlc3MnLFxuICAnemxpYicsXG4gICdjb250ZW50LWVuY29kaW5nJyxcbiAgJ2NodW5rZWQgZW5jb2RpbmcnLFxuICAndHJhbnNmZXItZW5jb2RpbmcnLFxuICAvLyBTU0wvVExTIGVycm9yc1xuICAnc3NsJyxcbiAgJ3RscycsXG4gICdjZXJ0aWZpY2F0ZScsXG4gICdjZXJ0JyxcbiAgJ2hhbmRzaGFrZScsXG5dO1xuXG5jb25zdCBGQUxMQkFDS19FTElHSUJMRV9QQVRURVJOUyA9IFtcbiAgLy8gUXVvdGEvYmlsbGluZyBlcnJvcnNcbiAgJ2luc3VmZmljaWVudF9xdW90YScsXG4gICdxdW90YSBleGNlZWRlZCcsXG4gICdleGNlZWRlZCB5b3VyIGN1cnJlbnQgcXVvdGEnLFxuICAnYmlsbGluZycsXG4gICdwYXltZW50IHJlcXVpcmVkJyxcbiAgJ2FjY291bnQgc3VzcGVuZGVkJyxcbiAgJ2FjY291bnQgZGlzYWJsZWQnLFxuICAvLyBBUEkga2V5IGVycm9yc1xuICAnYXBpIGtleSBleHBpcmVkJyxcbiAgJ2FwaV9rZXlfaW52YWxpZCcsXG4gICdpbnZhbGlkIGFwaSBrZXknLFxuICAnaW52YWxpZF9hcGlfa2V5JyxcbiAgJ2FwaSBrZXkgbm90IHZhbGlkJyxcbiAgLy8gTW9kZWwgYXZhaWxhYmlsaXR5IGVycm9yc1xuICAnbW9kZWwgbm90IGZvdW5kJyxcbiAgJ21vZGVsX25vdF9mb3VuZCcsXG4gICdkb2VzIG5vdCBleGlzdCcsXG4gICdub3QgYXZhaWxhYmxlJyxcbiAgJ2RlcHJlY2F0ZWQnLFxuICAnYWNjZXNzIGRlbmllZCcsXG4gICdwZXJtaXNzaW9uIGRlbmllZCcsXG4gICd1bmF1dGhvcml6ZWQnLFxuICAnNDAxJyxcbiAgJzQwMycsXG4gICc0MDAnLFxuICAnaW52YWxpZF9hcmd1bWVudCcsXG4gIC8vIFJlZ2lvbmFsL2FjY2VzcyByZXN0cmljdGlvbnNcbiAgJ3JlZ2lvbicsXG4gICdub3Qgc3VwcG9ydGVkIGluIHlvdXInLFxuICAnY291bnRyeScsXG4gICdyZXN0cmljdGVkJyxcbl07XG5cbi8qKlxuICogQ2hlY2sgaWYgYW4gZXJyb3Igd2FycmFudHMgdHJ5aW5nIGEgZGlmZmVyZW50IHByb3ZpZGVyIChmYWxsYmFjaykuXG4gKiBUaGVzZSBhcmUgbm9uLXRyYW5zaWVudCBlcnJvcnMgdGhhdCB3b24ndCBiZSBmaXhlZCBieSByZXRyeWluZyB0aGUgc2FtZSBwcm92aWRlci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzRmFsbGJhY2tFbGlnaWJsZUVycm9yKGVycm9yOiB1bmtub3duKTogYm9vbGVhbiB7XG4gIGlmICghKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpKSByZXR1cm4gZmFsc2U7XG4gIGNvbnN0IG1lc3NhZ2UgPSBlcnJvci5tZXNzYWdlLnRvTG93ZXJDYXNlKCk7XG5cbiAgLy8gQ2hlY2sgbWVzc2FnZSBmb3IgZmFsbGJhY2sgcGF0dGVybnNcbiAgaWYgKEZBTExCQUNLX0VMSUdJQkxFX1BBVFRFUk5TLnNvbWUocGF0dGVybiA9PiBtZXNzYWdlLmluY2x1ZGVzKHBhdHRlcm4pKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLy8gQ2hlY2sgZXJyb3IgY29kZS90eXBlL3JlYXNvbiBpZiBwcmVzZW50IChPcGVuQUkgYW5kIEdvb2dsZSBzdHlsZSBlcnJvcnMpXG4gIGNvbnN0IGVycm9yV2l0aENvZGUgPSBlcnJvciBhcyB7IGNvZGU/OiBzdHJpbmcgfCBudW1iZXI7IHR5cGU/OiBzdHJpbmc7IHJlYXNvbj86IHN0cmluZzsgc3RhdHVzPzogc3RyaW5nIH07XG4gIGNvbnN0IGNvZGUgPSBTdHJpbmcoZXJyb3JXaXRoQ29kZS5jb2RlID8/ICcnKS50b0xvd2VyQ2FzZSgpO1xuICBjb25zdCB0eXBlID0gKGVycm9yV2l0aENvZGUudHlwZSA/PyAnJykudG9Mb3dlckNhc2UoKTtcbiAgY29uc3QgcmVhc29uID0gKGVycm9yV2l0aENvZGUucmVhc29uID8/ICcnKS50b0xvd2VyQ2FzZSgpO1xuICBjb25zdCBzdGF0dXMgPSAoZXJyb3JXaXRoQ29kZS5zdGF0dXMgPz8gJycpLnRvTG93ZXJDYXNlKCk7XG5cbiAgLy8gT3BlbkFJIHN0eWxlIGVycm9yc1xuICBpZiAoY29kZSA9PT0gJ2luc3VmZmljaWVudF9xdW90YScgfHwgdHlwZSA9PT0gJ2luc3VmZmljaWVudF9xdW90YScpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAoY29kZSA9PT0gJ21vZGVsX25vdF9mb3VuZCcgfHwgdHlwZSA9PT0gJ21vZGVsX25vdF9mb3VuZCcpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAoY29kZSA9PT0gJ2ludmFsaWRfYXBpX2tleScgfHwgdHlwZSA9PT0gJ2ludmFsaWRfYXBpX2tleScpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8vIEdvb2dsZSBzdHlsZSBlcnJvcnNcbiAgaWYgKHJlYXNvbiA9PT0gJ2FwaV9rZXlfaW52YWxpZCcgfHwgc3RhdHVzID09PSAnaW52YWxpZF9hcmd1bWVudCcpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAoY29kZSA9PT0gJzQwMCcgfHwgY29kZSA9PT0gJzQwMScgfHwgY29kZSA9PT0gJzQwMycpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBHZXQgYSB1c2VyLWZyaWVuZGx5IGRlc2NyaXB0aW9uIG9mIHdoeSBmYWxsYmFjayBpcyBuZWVkZWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEZhbGxiYWNrUmVhc29uKGVycm9yOiB1bmtub3duKTogc3RyaW5nIHtcbiAgaWYgKCEoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikpIHJldHVybiAnVW5rbm93biBlcnJvcic7XG4gIGNvbnN0IG1lc3NhZ2UgPSBlcnJvci5tZXNzYWdlLnRvTG93ZXJDYXNlKCk7XG5cbiAgaWYgKG1lc3NhZ2UuaW5jbHVkZXMoJ3F1b3RhJykgfHwgbWVzc2FnZS5pbmNsdWRlcygnYmlsbGluZycpKSB7XG4gICAgcmV0dXJuICdBUEkgcXVvdGEgZXhjZWVkZWQgb3IgYmlsbGluZyBpc3N1ZSc7XG4gIH1cbiAgaWYgKG1lc3NhZ2UuaW5jbHVkZXMoJ2V4cGlyZWQnKSB8fCBtZXNzYWdlLmluY2x1ZGVzKCdhcGlfa2V5X2ludmFsaWQnKSB8fCBtZXNzYWdlLmluY2x1ZGVzKCdhcGkga2V5JykpIHtcbiAgICByZXR1cm4gJ0FQSSBrZXkgZXhwaXJlZCBvciBpbnZhbGlkJztcbiAgfVxuICBpZiAobWVzc2FnZS5pbmNsdWRlcygnbW9kZWwnKSAmJiAobWVzc2FnZS5pbmNsdWRlcygnbm90IGZvdW5kJykgfHwgbWVzc2FnZS5pbmNsdWRlcygnbm90IGV4aXN0JykpKSB7XG4gICAgcmV0dXJuICdNb2RlbCBub3QgYXZhaWxhYmxlJztcbiAgfVxuICBpZiAobWVzc2FnZS5pbmNsdWRlcygndW5hdXRob3JpemVkJykgfHwgbWVzc2FnZS5pbmNsdWRlcygnNDAxJykgfHwgbWVzc2FnZS5pbmNsdWRlcygnaW52YWxpZF9hcGlfa2V5JykpIHtcbiAgICByZXR1cm4gJ0ludmFsaWQgQVBJIGtleSc7XG4gIH1cbiAgaWYgKG1lc3NhZ2UuaW5jbHVkZXMoJzQwMycpIHx8IG1lc3NhZ2UuaW5jbHVkZXMoJ3Blcm1pc3Npb24nKSB8fCBtZXNzYWdlLmluY2x1ZGVzKCdhY2Nlc3MgZGVuaWVkJykpIHtcbiAgICByZXR1cm4gJ0FjY2VzcyBkZW5pZWQnO1xuICB9XG4gIGlmIChtZXNzYWdlLmluY2x1ZGVzKCc0MDAnKSB8fCBtZXNzYWdlLmluY2x1ZGVzKCdpbnZhbGlkX2FyZ3VtZW50JykpIHtcbiAgICByZXR1cm4gJ0ludmFsaWQgcmVxdWVzdCBvciBBUEkga2V5JztcbiAgfVxuICBpZiAobWVzc2FnZS5pbmNsdWRlcygncmVnaW9uJykgfHwgbWVzc2FnZS5pbmNsdWRlcygnY291bnRyeScpIHx8IG1lc3NhZ2UuaW5jbHVkZXMoJ3Jlc3RyaWN0ZWQnKSkge1xuICAgIHJldHVybiAnUmVnaW9uYWwgcmVzdHJpY3Rpb24nO1xuICB9XG5cbiAgcmV0dXJuICdQcm92aWRlciBlcnJvcic7XG59XG5cbmZ1bmN0aW9uIGlzUmF0ZUxpbWl0RXJyb3IoZXJyb3I6IHVua25vd24pOiBib29sZWFuIHtcbiAgaWYgKCEoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikpIHJldHVybiBmYWxzZTtcbiAgY29uc3QgbWVzc2FnZSA9IGVycm9yLm1lc3NhZ2UudG9Mb3dlckNhc2UoKTtcbiAgcmV0dXJuIFJBVEVfTElNSVRfUEFUVEVSTlMuc29tZShwYXR0ZXJuID0+IG1lc3NhZ2UuaW5jbHVkZXMocGF0dGVybikpO1xufVxuXG5mdW5jdGlvbiBpc1RyYW5zaWVudEVycm9yKGVycm9yOiB1bmtub3duKTogYm9vbGVhbiB7XG4gIGlmICghKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpKSByZXR1cm4gZmFsc2U7XG5cbiAgLy8gQ2hlY2sgbWVzc2FnZVxuICBjb25zdCBtZXNzYWdlID0gZXJyb3IubWVzc2FnZS50b0xvd2VyQ2FzZSgpO1xuICBpZiAoVFJBTlNJRU5UX0VSUk9SX1BBVFRFUk5TLnNvbWUocGF0dGVybiA9PiBtZXNzYWdlLmluY2x1ZGVzKHBhdHRlcm4pKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLy8gQ2hlY2sgZXJyb3IgbmFtZS90eXBlIChGZXRjaEVycm9yLCBBYm9ydEVycm9yLCBldGMuKVxuICBjb25zdCBlcnJvck5hbWUgPSBlcnJvci5uYW1lPy50b0xvd2VyQ2FzZSgpID8/ICcnO1xuICBpZiAoZXJyb3JOYW1lLmluY2x1ZGVzKCdmZXRjaCcpIHx8IGVycm9yTmFtZS5pbmNsdWRlcygnYWJvcnQnKSB8fCBlcnJvck5hbWUuaW5jbHVkZXMoJ25ldHdvcmsnKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLy8gQ2hlY2sgZXJyb3IgY29kZSBpZiBwcmVzZW50IChOb2RlLmpzIHN0eWxlKVxuICBjb25zdCBlcnJvckNvZGUgPSAoZXJyb3IgYXMgeyBjb2RlPzogc3RyaW5nIH0pLmNvZGU/LnRvTG93ZXJDYXNlKCkgPz8gJyc7XG4gIGlmIChlcnJvckNvZGUgJiYgVFJBTlNJRU5UX0VSUk9SX1BBVFRFUk5TLnNvbWUocGF0dGVybiA9PiBlcnJvckNvZGUuaW5jbHVkZXMocGF0dGVybikpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvLyBDaGVjayBjYXVzZSBjaGFpbiBmb3IgbmVzdGVkIGVycm9yc1xuICBjb25zdCBjYXVzZSA9IChlcnJvciBhcyB7IGNhdXNlPzogdW5rbm93biB9KS5jYXVzZTtcbiAgaWYgKGNhdXNlIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICByZXR1cm4gaXNUcmFuc2llbnRFcnJvcihjYXVzZSk7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIHNob3VsZFJldHJ5KGVycm9yOiB1bmtub3duKTogYm9vbGVhbiB7XG4gIHJldHVybiBpc1JhdGVMaW1pdEVycm9yKGVycm9yKSB8fCBpc1RyYW5zaWVudEVycm9yKGVycm9yKTtcbn1cblxuLyoqXG4gKiBXcmFwcyBhbnkgTExNIHByb3ZpZGVyIHdpdGggcmF0ZSBsaW1pdGluZyBhbmQgcmV0cnkgbG9naWNcbiAqL1xuZXhwb3J0IGNsYXNzIFJlc2lsaWVudFByb3ZpZGVyIGltcGxlbWVudHMgTExNUHJvdmlkZXIge1xuICByZWFkb25seSBpZDogUHJvdmlkZXJJZDtcbiAgcmVhZG9ubHkgbW9kZWw6IHN0cmluZztcbiAgcHJpdmF0ZSByZWFkb25seSBwcm92aWRlcjogTExNUHJvdmlkZXI7XG4gIHByaXZhdGUgcmVhZG9ubHkgcmF0ZUxpbWl0ZXI6IFJhdGVMaW1pdGVyO1xuICBwcml2YXRlIHJlYWRvbmx5IGNvbmZpZzogUmVxdWlyZWQ8UmVzaWxpZW50UHJvdmlkZXJDb25maWc+O1xuICBwcml2YXRlIHJlYWRvbmx5IGNpcmN1aXRCcmVha2VyOiBDaXJjdWl0QnJlYWtlclN0YXRlO1xuICBwcml2YXRlIHN0YXRzID0ge1xuICAgIHRvdGFsUmVxdWVzdHM6IDAsXG4gICAgcmF0ZUxpbWl0SGl0czogMCxcbiAgICByZXRyaWVzOiAwLFxuICAgIGNpcmN1aXRCcmVha2VyVHJpcHM6IDAsXG4gIH07XG5cbiAgY29uc3RydWN0b3IocHJvdmlkZXI6IExMTVByb3ZpZGVyLCBjb25maWc6IFJlc2lsaWVudFByb3ZpZGVyQ29uZmlnID0ge30pIHtcbiAgICB0aGlzLnByb3ZpZGVyID0gcHJvdmlkZXI7XG4gICAgdGhpcy5pZCA9IHByb3ZpZGVyLmlkO1xuICAgIHRoaXMubW9kZWwgPSBwcm92aWRlci5tb2RlbDtcbiAgICB0aGlzLmNvbmZpZyA9IHtcbiAgICAgIG1heFJlcXVlc3RzUGVyTWludXRlOiBjb25maWcubWF4UmVxdWVzdHNQZXJNaW51dGUgPz8gNTAsXG4gICAgICBtYXhSZXRyaWVzOiBjb25maWcubWF4UmV0cmllcyA/PyA0LFxuICAgICAgYmFzZURlbGF5TXM6IGNvbmZpZy5iYXNlRGVsYXlNcyA/PyAxMDAwLFxuICAgICAgbWF4RGVsYXlNczogY29uZmlnLm1heERlbGF5TXMgPz8gMzIwMDAsXG4gICAgICBlbmFibGVDaXJjdWl0QnJlYWtlcjogY29uZmlnLmVuYWJsZUNpcmN1aXRCcmVha2VyID8/IHRydWUsXG4gICAgICBjaXJjdWl0QnJlYWtlclRocmVzaG9sZDogY29uZmlnLmNpcmN1aXRCcmVha2VyVGhyZXNob2xkID8/IDUsXG4gICAgICBjaXJjdWl0QnJlYWtlclJlc2V0TXM6IGNvbmZpZy5jaXJjdWl0QnJlYWtlclJlc2V0TXMgPz8gNjAwMDAsXG4gICAgfTtcblxuICAgIHRoaXMucmF0ZUxpbWl0ZXIgPSBuZXcgUmF0ZUxpbWl0ZXIoe1xuICAgICAgbWF4UmVxdWVzdHM6IHRoaXMuY29uZmlnLm1heFJlcXVlc3RzUGVyTWludXRlLFxuICAgICAgd2luZG93TXM6IDYwMDAwLFxuICAgIH0pO1xuXG4gICAgdGhpcy5jaXJjdWl0QnJlYWtlciA9IHtcbiAgICAgIGZhaWx1cmVzOiAwLFxuICAgICAgbGFzdEZhaWx1cmU6IDAsXG4gICAgICBpc09wZW46IGZhbHNlLFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgYW5kIHBvdGVudGlhbGx5IHJlc2V0IGNpcmN1aXQgYnJlYWtlclxuICAgKi9cbiAgcHJpdmF0ZSBjaGVja0NpcmN1aXRCcmVha2VyKCk6IHZvaWQge1xuICAgIGlmICghdGhpcy5jb25maWcuZW5hYmxlQ2lyY3VpdEJyZWFrZXIpIHJldHVybjtcblxuICAgIGlmICh0aGlzLmNpcmN1aXRCcmVha2VyLmlzT3Blbikge1xuICAgICAgY29uc3QgZWxhcHNlZCA9IERhdGUubm93KCkgLSB0aGlzLmNpcmN1aXRCcmVha2VyLmxhc3RGYWlsdXJlO1xuICAgICAgaWYgKGVsYXBzZWQgPj0gdGhpcy5jb25maWcuY2lyY3VpdEJyZWFrZXJSZXNldE1zKSB7XG4gICAgICAgIC8vIEhhbGYtb3BlbjogYWxsb3cgb25lIHJlcXVlc3QgdGhyb3VnaFxuICAgICAgICB0aGlzLmNpcmN1aXRCcmVha2VyLmlzT3BlbiA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNpcmN1aXRCcmVha2VyLmZhaWx1cmVzID0gTWF0aC5mbG9vcih0aGlzLmNpcmN1aXRCcmVha2VyLmZhaWx1cmVzIC8gMik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgYENpcmN1aXQgYnJlYWtlciBpcyBvcGVuLiBUb28gbWFueSBmYWlsdXJlcyAoJHt0aGlzLmNpcmN1aXRCcmVha2VyLmZhaWx1cmVzfSkuIGAgK1xuICAgICAgICAgIGBSZXRyeSBpbiAke01hdGguY2VpbCgodGhpcy5jb25maWcuY2lyY3VpdEJyZWFrZXJSZXNldE1zIC0gZWxhcHNlZCkgLyAxMDAwKX1zLmBcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVjb3JkIGEgZmFpbHVyZSBmb3IgY2lyY3VpdCBicmVha2VyXG4gICAqL1xuICBwcml2YXRlIHJlY29yZEZhaWx1cmUoX2Vycm9yPzogdW5rbm93bik6IHZvaWQge1xuICAgIGlmICghdGhpcy5jb25maWcuZW5hYmxlQ2lyY3VpdEJyZWFrZXIpIHJldHVybjtcblxuICAgIHRoaXMuY2lyY3VpdEJyZWFrZXIuZmFpbHVyZXMrKztcbiAgICB0aGlzLmNpcmN1aXRCcmVha2VyLmxhc3RGYWlsdXJlID0gRGF0ZS5ub3coKTtcblxuICAgIGlmICh0aGlzLmNpcmN1aXRCcmVha2VyLmZhaWx1cmVzID49IHRoaXMuY29uZmlnLmNpcmN1aXRCcmVha2VyVGhyZXNob2xkKSB7XG4gICAgICB0aGlzLmNpcmN1aXRCcmVha2VyLmlzT3BlbiA9IHRydWU7XG4gICAgICB0aGlzLnN0YXRzLmNpcmN1aXRCcmVha2VyVHJpcHMrKztcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVjb3JkIGEgc3VjY2VzcyB0byByZXNldCBjaXJjdWl0IGJyZWFrZXJcbiAgICovXG4gIHByaXZhdGUgcmVjb3JkU3VjY2VzcygpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5jb25maWcuZW5hYmxlQ2lyY3VpdEJyZWFrZXIgJiYgdGhpcy5jaXJjdWl0QnJlYWtlci5mYWlsdXJlcyA+IDApIHtcbiAgICAgIHRoaXMuY2lyY3VpdEJyZWFrZXIuZmFpbHVyZXMgPSBNYXRoLm1heCgwLCB0aGlzLmNpcmN1aXRCcmVha2VyLmZhaWx1cmVzIC0gMSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEV4ZWN1dGUgYSByZXF1ZXN0IHdpdGggcmF0ZSBsaW1pdGluZyBhbmQgcmV0cnlcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgZXhlY3V0ZVdpdGhSZXNpbGllbmNlPFQ+KFxuICAgIG9wZXJhdGlvbjogKCkgPT4gUHJvbWlzZTxUPixcbiAgICBfb3BlcmF0aW9uTmFtZT86IHN0cmluZ1xuICApOiBQcm9taXNlPFQ+IHtcbiAgICB0aGlzLnN0YXRzLnRvdGFsUmVxdWVzdHMrKztcblxuICAgIC8vIENoZWNrIGNpcmN1aXQgYnJlYWtlclxuICAgIHRoaXMuY2hlY2tDaXJjdWl0QnJlYWtlcigpO1xuXG4gICAgLy8gQWNxdWlyZSByYXRlIGxpbWl0IHRva2VuXG4gICAgYXdhaXQgdGhpcy5yYXRlTGltaXRlci5hY3F1aXJlKCk7XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmV0cnkoXG4gICAgICAgIG9wZXJhdGlvbixcbiAgICAgICAge1xuICAgICAgICAgIG1heFJldHJpZXM6IHRoaXMuY29uZmlnLm1heFJldHJpZXMsXG4gICAgICAgICAgYmFzZURlbGF5TXM6IHRoaXMuY29uZmlnLmJhc2VEZWxheU1zLFxuICAgICAgICAgIG1heERlbGF5TXM6IHRoaXMuY29uZmlnLm1heERlbGF5TXMsXG4gICAgICAgICAgYmFja29mZk11bHRpcGxpZXI6IDIsXG4gICAgICAgICAgc2hvdWxkUmV0cnk6IChlcnJvcikgPT4ge1xuICAgICAgICAgICAgaWYgKHNob3VsZFJldHJ5KGVycm9yKSkge1xuICAgICAgICAgICAgICB0aGlzLnN0YXRzLnJldHJpZXMrKztcbiAgICAgICAgICAgICAgaWYgKGlzUmF0ZUxpbWl0RXJyb3IoZXJyb3IpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0cy5yYXRlTGltaXRIaXRzKys7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfSxcbiAgICAgICAgfVxuICAgICAgKTtcblxuICAgICAgdGhpcy5yZWNvcmRTdWNjZXNzKCk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aGlzLnJlY29yZEZhaWx1cmUoZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdlbmVyYXRlIGEgcmVzcG9uc2Ugd2l0aCByZXNpbGllbmNlXG4gICAqL1xuICBhc3luYyBnZW5lcmF0ZShcbiAgICBtZXNzYWdlczogQ29udmVyc2F0aW9uTWVzc2FnZVtdLFxuICAgIHRvb2xzOiBQcm92aWRlclRvb2xEZWZpbml0aW9uW11cbiAgKTogUHJvbWlzZTxQcm92aWRlclJlc3BvbnNlPiB7XG4gICAgcmV0dXJuIHRoaXMuZXhlY3V0ZVdpdGhSZXNpbGllbmNlKFxuICAgICAgKCkgPT4gdGhpcy5wcm92aWRlci5nZW5lcmF0ZShtZXNzYWdlcywgdG9vbHMpLFxuICAgICAgJ2dlbmVyYXRlJ1xuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJhdGUgYSBzdHJlYW1pbmcgcmVzcG9uc2Ugd2l0aCByZXNpbGllbmNlXG4gICAqXG4gICAqIE5vdGU6IFJldHJ5IGxvZ2ljIGlzIGxpbWl0ZWQgZm9yIHN0cmVhbWluZyAtIHdlIGNhbiBvbmx5IHJldHJ5XG4gICAqIGJlZm9yZSB0aGUgc3RyZWFtIHN0YXJ0cywgbm90IG1pZC1zdHJlYW0uXG4gICAqL1xuICBhc3luYyAqZ2VuZXJhdGVTdHJlYW0oXG4gICAgbWVzc2FnZXM6IENvbnZlcnNhdGlvbk1lc3NhZ2VbXSxcbiAgICB0b29sczogUHJvdmlkZXJUb29sRGVmaW5pdGlvbltdXG4gICk6IEFzeW5jSXRlcmFibGVJdGVyYXRvcjxTdHJlYW1DaHVuaz4ge1xuICAgIGlmICghdGhpcy5wcm92aWRlci5nZW5lcmF0ZVN0cmVhbSkge1xuICAgICAgLy8gRmFsbCBiYWNrIHRvIG5vbi1zdHJlYW1pbmdcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5nZW5lcmF0ZShtZXNzYWdlcywgdG9vbHMpO1xuICAgICAgaWYgKHJlc3BvbnNlLnR5cGUgPT09ICdtZXNzYWdlJykge1xuICAgICAgICB5aWVsZCB7IHR5cGU6ICdjb250ZW50JywgY29udGVudDogcmVzcG9uc2UuY29udGVudCB9O1xuICAgICAgfSBlbHNlIGlmIChyZXNwb25zZS50eXBlID09PSAndG9vbF9jYWxscycpIHtcbiAgICAgICAgaWYgKHJlc3BvbnNlLmNvbnRlbnQpIHtcbiAgICAgICAgICB5aWVsZCB7IHR5cGU6ICdjb250ZW50JywgY29udGVudDogcmVzcG9uc2UuY29udGVudCB9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXNwb25zZS50b29sQ2FsbHMpIHtcbiAgICAgICAgICBmb3IgKGNvbnN0IGNhbGwgb2YgcmVzcG9uc2UudG9vbENhbGxzKSB7XG4gICAgICAgICAgICB5aWVsZCB7IHR5cGU6ICd0b29sX2NhbGwnLCB0b29sQ2FsbDogY2FsbCB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHJlc3BvbnNlLnVzYWdlKSB7XG4gICAgICAgIHlpZWxkIHsgdHlwZTogJ3VzYWdlJywgdXNhZ2U6IHJlc3BvbnNlLnVzYWdlIH07XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5zdGF0cy50b3RhbFJlcXVlc3RzKys7XG5cbiAgICAvLyBDaGVjayBjaXJjdWl0IGJyZWFrZXJcbiAgICB0aGlzLmNoZWNrQ2lyY3VpdEJyZWFrZXIoKTtcblxuICAgIC8vIEFjcXVpcmUgcmF0ZSBsaW1pdCB0b2tlblxuICAgIGF3YWl0IHRoaXMucmF0ZUxpbWl0ZXIuYWNxdWlyZSgpO1xuXG4gICAgbGV0IGF0dGVtcHRzID0gMDtcbiAgICBsZXQgbGFzdEVycm9yOiB1bmtub3duO1xuXG4gICAgd2hpbGUgKGF0dGVtcHRzIDw9IHRoaXMuY29uZmlnLm1heFJldHJpZXMpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHN0cmVhbSA9IHRoaXMucHJvdmlkZXIuZ2VuZXJhdGVTdHJlYW0obWVzc2FnZXMsIHRvb2xzKTtcbiAgICAgICAgZm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiBzdHJlYW0pIHtcbiAgICAgICAgICB5aWVsZCBjaHVuaztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlY29yZFN1Y2Nlc3MoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGxhc3RFcnJvciA9IGVycjtcbiAgICAgICAgYXR0ZW1wdHMrKztcblxuICAgICAgICBpZiAoYXR0ZW1wdHMgPD0gdGhpcy5jb25maWcubWF4UmV0cmllcyAmJiBzaG91bGRSZXRyeShlcnIpKSB7XG4gICAgICAgICAgdGhpcy5zdGF0cy5yZXRyaWVzKys7XG4gICAgICAgICAgaWYgKGlzUmF0ZUxpbWl0RXJyb3IoZXJyKSkge1xuICAgICAgICAgICAgdGhpcy5zdGF0cy5yYXRlTGltaXRIaXRzKys7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgZGVsYXkgPSBNYXRoLm1pbihcbiAgICAgICAgICAgIHRoaXMuY29uZmlnLmJhc2VEZWxheU1zICogTWF0aC5wb3coMiwgYXR0ZW1wdHMgLSAxKSxcbiAgICAgICAgICAgIHRoaXMuY29uZmlnLm1heERlbGF5TXNcbiAgICAgICAgICApO1xuICAgICAgICAgIGF3YWl0IHNsZWVwKGRlbGF5KTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucmVjb3JkRmFpbHVyZShlcnIpO1xuICAgICAgICB0aHJvdyBlcnI7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5yZWNvcmRGYWlsdXJlKGxhc3RFcnJvcik7XG4gICAgdGhyb3cgbGFzdEVycm9yO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCByZXNpbGllbmNlIHN0YXRpc3RpY3NcbiAgICovXG4gIGdldFN0YXRzKCk6IHtcbiAgICB0b3RhbFJlcXVlc3RzOiBudW1iZXI7XG4gICAgcmF0ZUxpbWl0SGl0czogbnVtYmVyO1xuICAgIHJldHJpZXM6IG51bWJlcjtcbiAgICBjaXJjdWl0QnJlYWtlclRyaXBzOiBudW1iZXI7XG4gICAgY2lyY3VpdEJyZWFrZXJPcGVuOiBib29sZWFuO1xuICAgIGF2YWlsYWJsZVRva2VuczogbnVtYmVyO1xuICB9IHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4udGhpcy5zdGF0cyxcbiAgICAgIGNpcmN1aXRCcmVha2VyT3BlbjogdGhpcy5jaXJjdWl0QnJlYWtlci5pc09wZW4sXG4gICAgICBhdmFpbGFibGVUb2tlbnM6IHRoaXMucmF0ZUxpbWl0ZXIuYXZhaWxhYmxlVG9rZW5zLFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogUmVzZXQgc3RhdGlzdGljc1xuICAgKi9cbiAgcmVzZXRTdGF0cygpOiB2b2lkIHtcbiAgICB0aGlzLnN0YXRzID0ge1xuICAgICAgdG90YWxSZXF1ZXN0czogMCxcbiAgICAgIHJhdGVMaW1pdEhpdHM6IDAsXG4gICAgICByZXRyaWVzOiAwLFxuICAgICAgY2lyY3VpdEJyZWFrZXJUcmlwczogMCxcbiAgICB9O1xuICB9XG59XG5cbi8qKlxuICogV3JhcCBhbnkgcHJvdmlkZXIgd2l0aCByZXNpbGllbmNlIGZlYXR1cmVzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3aXRoUmVzaWxpZW5jZShcbiAgcHJvdmlkZXI6IExMTVByb3ZpZGVyLFxuICBjb25maWc/OiBSZXNpbGllbnRQcm92aWRlckNvbmZpZ1xuKTogUmVzaWxpZW50UHJvdmlkZXIge1xuICByZXR1cm4gbmV3IFJlc2lsaWVudFByb3ZpZGVyKHByb3ZpZGVyLCBjb25maWcpO1xufVxuXG4vKipcbiAqIFByb3ZpZGVyLXNwZWNpZmljIHJlY29tbWVuZGVkIGNvbmZpZ3VyYXRpb25zXG4gKi9cbmV4cG9ydCBjb25zdCBQUk9WSURFUl9SRVNJTElFTkNFX0NPTkZJR1M6IFJlY29yZDxzdHJpbmcsIFJlc2lsaWVudFByb3ZpZGVyQ29uZmlnPiA9IHtcbiAgYW50aHJvcGljOiB7XG4gICAgbWF4UmVxdWVzdHNQZXJNaW51dGU6IDUwLFxuICAgIG1heFJldHJpZXM6IDQsXG4gICAgYmFzZURlbGF5TXM6IDE1MDAsXG4gICAgbWF4RGVsYXlNczogNDAwMDAsXG4gIH0sXG4gIG9wZW5haToge1xuICAgIG1heFJlcXVlc3RzUGVyTWludXRlOiA2MCxcbiAgICBtYXhSZXRyaWVzOiAzLFxuICAgIGJhc2VEZWxheU1zOiAxMDAwLFxuICAgIG1heERlbGF5TXM6IDMwMDAwLFxuICB9LFxuICBnb29nbGU6IHtcbiAgICBtYXhSZXF1ZXN0c1Blck1pbnV0ZTogNjAsXG4gICAgbWF4UmV0cmllczogMyxcbiAgICBiYXNlRGVsYXlNczogMTAwMCxcbiAgICBtYXhEZWxheU1zOiAzMDAwMCxcbiAgfSxcbiAgZGVlcHNlZWs6IHtcbiAgICBtYXhSZXF1ZXN0c1Blck1pbnV0ZTogMzAsXG4gICAgbWF4UmV0cmllczogNCxcbiAgICBiYXNlRGVsYXlNczogMjAwMCxcbiAgICBtYXhEZWxheU1zOiA0NTAwMCxcbiAgfSxcbiAgeGFpOiB7XG4gICAgbWF4UmVxdWVzdHNQZXJNaW51dGU6IDQwLFxuICAgIG1heFJldHJpZXM6IDMsXG4gICAgYmFzZURlbGF5TXM6IDE1MDAsXG4gICAgbWF4RGVsYXlNczogMzUwMDAsXG4gIH0sXG4gIG9sbGFtYToge1xuICAgIG1heFJlcXVlc3RzUGVyTWludXRlOiAxMDAsXG4gICAgbWF4UmV0cmllczogMixcbiAgICBiYXNlRGVsYXlNczogNTAwLFxuICAgIG1heERlbGF5TXM6IDEwMDAwLFxuICAgIGVuYWJsZUNpcmN1aXRCcmVha2VyOiBmYWxzZSwgLy8gTG9jYWwsIGxlc3MgbGlrZWx5IHRvIG5lZWQgY2lyY3VpdCBicmVha2VyXG4gIH0sXG59O1xuXG4vKipcbiAqIFdyYXAgYSBwcm92aWRlciB3aXRoIHJlc2lsaWVuY2UgdXNpbmcgcHJvdmlkZXItc3BlY2lmaWMgZGVmYXVsdHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHdpdGhQcm92aWRlclJlc2lsaWVuY2UoXG4gIHByb3ZpZGVyOiBMTE1Qcm92aWRlcixcbiAgcHJvdmlkZXJJZDogc3RyaW5nLFxuICBvdmVycmlkZXM/OiBQYXJ0aWFsPFJlc2lsaWVudFByb3ZpZGVyQ29uZmlnPlxuKTogUmVzaWxpZW50UHJvdmlkZXIge1xuICBjb25zdCBkZWZhdWx0cyA9IFBST1ZJREVSX1JFU0lMSUVOQ0VfQ09ORklHU1twcm92aWRlcklkXSA/PyB7fTtcbiAgcmV0dXJuIG5ldyBSZXNpbGllbnRQcm92aWRlcihwcm92aWRlciwgeyAuLi5kZWZhdWx0cywgLi4ub3ZlcnJpZGVzIH0pO1xufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBa0JBLElB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