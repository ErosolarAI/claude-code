{"version":3,"names":["_globals","require","_nodeFs","_nodeOs","_nodePath","_unifiedOps","tmpDir","beforeEach","mkdtempSync","join","tmpdir","afterEach","rmSync","recursive","force","describe","it","unified","createUnifiedOpsTools","output","handler","tool","expect","toContain","result","args","name","description","intent","parsed","JSON","parse","String","toBe","toolDefinition"],"sources":["unifiedOps.test.ts"],"sourcesContent":["import { describe, it, expect, beforeEach, afterEach } from '@jest/globals';\nimport { mkdtempSync, rmSync } from 'node:fs';\nimport { tmpdir } from 'node:os';\nimport { join } from 'node:path';\nimport { createUnifiedOpsTools } from '../src/tools/unifiedOps.js';\n\nlet tmpDir: string;\n\nbeforeEach(() => {\n  tmpDir = mkdtempSync(join(tmpdir(), 'unified-ops-'));\n});\n\nafterEach(() => {\n  rmSync(tmpDir, { recursive: true, force: true });\n});\n\ndescribe('UnifiedOps', () => {\n  it('lists available tools', async () => {\n    const [unified] = createUnifiedOpsTools(tmpDir);\n    const output = await unified.handler({ tool: 'list' });\n    expect(output).toContain('Available tools:');\n    expect(output).toContain('Bash');\n    expect(output).toContain('GenerateTool');\n    expect(output).toContain('HumanIntegration');\n  });\n\n  it('dispatches to GenerateTool', async () => {\n    const [unified] = createUnifiedOpsTools(tmpDir);\n    const result = await unified.handler({\n      tool: 'GenerateTool',\n      args: {\n        name: 'SampleTool',\n        description: 'Demo tool',\n        intent: 'test',\n      },\n    });\n    const parsed = JSON.parse(String(result));\n    expect(parsed.name).toBe('SampleTool');\n    expect(parsed.toolDefinition?.name).toBe('SampleTool');\n  });\n});\n"],"mappings":";;AAAA,IAAAA,QAAA,GAAAC,OAAA;AACA,IAAAC,OAAA,GAAAD,OAAA;AACA,IAAAE,OAAA,GAAAF,OAAA;AACA,IAAAG,SAAA,GAAAH,OAAA;AACA,IAAAI,WAAA,GAAAJ,OAAA;AAEA,IAAIK,MAAc;AAElB,IAAAC,mBAAU,EAAC,MAAM;EACfD,MAAM,GAAG,IAAAE,mBAAW,EAAC,IAAAC,cAAI,EAAC,IAAAC,cAAM,EAAC,CAAC,EAAE,cAAc,CAAC,CAAC;AACtD,CAAC,CAAC;AAEF,IAAAC,kBAAS,EAAC,MAAM;EACd,IAAAC,cAAM,EAACN,MAAM,EAAE;IAAEO,SAAS,EAAE,IAAI;IAAEC,KAAK,EAAE;EAAK,CAAC,CAAC;AAClD,CAAC,CAAC;AAEF,IAAAC,iBAAQ,EAAC,YAAY,EAAE,MAAM;EAC3B,IAAAC,WAAE,EAAC,uBAAuB,EAAE,YAAY;IACtC,MAAM,CAACC,OAAO,CAAC,GAAG,IAAAC,iCAAqB,EAACZ,MAAM,CAAC;IAC/C,MAAMa,MAAM,GAAG,MAAMF,OAAO,CAACG,OAAO,CAAC;MAAEC,IAAI,EAAE;IAAO,CAAC,CAAC;IACtD,IAAAC,eAAM,EAACH,MAAM,CAAC,CAACI,SAAS,CAAC,kBAAkB,CAAC;IAC5C,IAAAD,eAAM,EAACH,MAAM,CAAC,CAACI,SAAS,CAAC,MAAM,CAAC;IAChC,IAAAD,eAAM,EAACH,MAAM,CAAC,CAACI,SAAS,CAAC,cAAc,CAAC;IACxC,IAAAD,eAAM,EAACH,MAAM,CAAC,CAACI,SAAS,CAAC,kBAAkB,CAAC;EAC9C,CAAC,CAAC;EAEF,IAAAP,WAAE,EAAC,4BAA4B,EAAE,YAAY;IAC3C,MAAM,CAACC,OAAO,CAAC,GAAG,IAAAC,iCAAqB,EAACZ,MAAM,CAAC;IAC/C,MAAMkB,MAAM,GAAG,MAAMP,OAAO,CAACG,OAAO,CAAC;MACnCC,IAAI,EAAE,cAAc;MACpBI,IAAI,EAAE;QACJC,IAAI,EAAE,YAAY;QAClBC,WAAW,EAAE,WAAW;QACxBC,MAAM,EAAE;MACV;IACF,CAAC,CAAC;IACF,MAAMC,MAAM,GAAGC,IAAI,CAACC,KAAK,CAACC,MAAM,CAACR,MAAM,CAAC,CAAC;IACzC,IAAAF,eAAM,EAACO,MAAM,CAACH,IAAI,CAAC,CAACO,IAAI,CAAC,YAAY,CAAC;IACtC,IAAAX,eAAM,EAACO,MAAM,CAACK,cAAc,EAAER,IAAI,CAAC,CAACO,IAAI,CAAC,YAAY,CAAC;EACxD,CAAC,CAAC;AACJ,CAAC,CAAC","ignoreList":[]}