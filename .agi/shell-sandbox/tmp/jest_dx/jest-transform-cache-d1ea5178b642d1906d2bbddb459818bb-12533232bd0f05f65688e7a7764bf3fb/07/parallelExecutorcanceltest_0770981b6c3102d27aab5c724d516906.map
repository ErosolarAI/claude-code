{"version":3,"names":["_parallelExecutor","require","describe","it","executor","ParallelExecutor","maxConcurrency","continueOnFailure","tasks","id","execute","parallelizable","Error","dependencies","result","statuses","Object","fromEntries","results","map","r","taskId","status","expect","toBe"],"sources":["parallelExecutor.cancel.test.ts"],"sourcesContent":["import { ParallelExecutor, type ParallelTask } from '../src/core/parallelExecutor.js';\n\ndescribe('ParallelExecutor cancellation on failure (core-first)', () => {\n  it('cancels remaining tasks when continueOnFailure is false', async () => {\n    const executor = new ParallelExecutor({ maxConcurrency: 2, continueOnFailure: false });\n\n    const tasks: ParallelTask<string>[] = [\n      {\n        id: 't1',\n        execute: async () => 'ok-1',\n        parallelizable: true,\n      },\n      {\n        id: 't2',\n        execute: async () => {\n          throw new Error('boom');\n        },\n        parallelizable: true,\n      },\n      {\n        id: 't3',\n        execute: async () => 'ok-3',\n        parallelizable: true,\n        dependencies: ['t2'],\n      },\n    ];\n\n    const result = await executor.execute(tasks);\n\n    const statuses = Object.fromEntries(result.results.map((r) => [r.taskId, r.status]));\n    expect(statuses['t1']).toBe('completed');\n    expect(statuses['t2']).toBe('failed');\n    expect(statuses['t3']).toBe('cancelled');\n  });\n});\n"],"mappings":";;AAAA,IAAAA,iBAAA,GAAAC,OAAA;AAEAC,QAAQ,CAAC,uDAAuD,EAAE,MAAM;EACtEC,EAAE,CAAC,yDAAyD,EAAE,YAAY;IACxE,MAAMC,QAAQ,GAAG,IAAIC,kCAAgB,CAAC;MAAEC,cAAc,EAAE,CAAC;MAAEC,iBAAiB,EAAE;IAAM,CAAC,CAAC;IAEtF,MAAMC,KAA6B,GAAG,CACpC;MACEC,EAAE,EAAE,IAAI;MACRC,OAAO,EAAE,MAAAA,CAAA,KAAY,MAAM;MAC3BC,cAAc,EAAE;IAClB,CAAC,EACD;MACEF,EAAE,EAAE,IAAI;MACRC,OAAO,EAAE,MAAAA,CAAA,KAAY;QACnB,MAAM,IAAIE,KAAK,CAAC,MAAM,CAAC;MACzB,CAAC;MACDD,cAAc,EAAE;IAClB,CAAC,EACD;MACEF,EAAE,EAAE,IAAI;MACRC,OAAO,EAAE,MAAAA,CAAA,KAAY,MAAM;MAC3BC,cAAc,EAAE,IAAI;MACpBE,YAAY,EAAE,CAAC,IAAI;IACrB,CAAC,CACF;IAED,MAAMC,MAAM,GAAG,MAAMV,QAAQ,CAACM,OAAO,CAACF,KAAK,CAAC;IAE5C,MAAMO,QAAQ,GAAGC,MAAM,CAACC,WAAW,CAACH,MAAM,CAACI,OAAO,CAACC,GAAG,CAAEC,CAAC,IAAK,CAACA,CAAC,CAACC,MAAM,EAAED,CAAC,CAACE,MAAM,CAAC,CAAC,CAAC;IACpFC,MAAM,CAACR,QAAQ,CAAC,IAAI,CAAC,CAAC,CAACS,IAAI,CAAC,WAAW,CAAC;IACxCD,MAAM,CAACR,QAAQ,CAAC,IAAI,CAAC,CAAC,CAACS,IAAI,CAAC,QAAQ,CAAC;IACrCD,MAAM,CAACR,QAAQ,CAAC,IAAI,CAAC,CAAC,CAACS,IAAI,CAAC,WAAW,CAAC;EAC1C,CAAC,CAAC;AACJ,CAAC,CAAC","ignoreList":[]}