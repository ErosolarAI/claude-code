{"version":3,"names":["_globals","require","_nodeFs","_nodePath","_nodeOs","describe","testWorkspace","join","tmpdir","beforeEach","existsSync","rmSync","recursive","force","mkdirSync","afterEach","test","file1","file2","writeFileSync","trim","searchResults","expect","toHaveLength","content1","readFileSync","content2","toContain","edited1","replace","edited2","verified1","verified2","not","srcDir","buggyFile","testFile","tsFiles","typeErrors","buggyContent","fixed","fixedContent","testDir","plan","serviceFile","toBe","testFilePath","serviceContent","testContent","api","utils","sourceFiles","apiContent","utilsContent","apiDocs","match","utilsDocs","length","toBeGreaterThan","readme","readmeContent","messyFile","content","issues","improved","packageJson","JSON","stringify","name","version","dependencies","devDependencies","pkgContent","parse","updated","error","err","toBeNull","message","fileExists","setting","toEqual","files","operations","map","filename","index","Promise","resolve","then","filepath","all","contents","forEach"],"sources":["complexWorkflow.test.ts"],"sourcesContent":["/**\n * Complex Workflow Integration Tests\n * Tests real-world multi-step workflows that exercise multiple tools\n */\n\nimport { describe, test, expect } from '@jest/globals';\nimport { readFileSync, existsSync, mkdirSync, writeFileSync, rmSync } from 'node:fs';\nimport { join } from 'node:path';\nimport { tmpdir } from 'node:os';\n\ndescribe('Complex Workflow Integration', () => {\n  const testWorkspace = join(tmpdir(), 'erosolar-test-workspace');\n\n  beforeEach(() => {\n    // Create clean test workspace\n    if (existsSync(testWorkspace)) {\n      rmSync(testWorkspace, { recursive: true, force: true });\n    }\n    mkdirSync(testWorkspace, { recursive: true });\n  });\n\n  afterEach(() => {\n    // Cleanup\n    if (existsSync(testWorkspace)) {\n      rmSync(testWorkspace, { recursive: true, force: true });\n    }\n  });\n\n  test('Multi-file code refactoring workflow', () => {\n    // Workflow: Search → Read → Edit → Verify\n    // Simulates: \"Find all instances of 'foo' and rename to 'bar'\"\n\n    // Setup: Create test files\n    const file1 = join(testWorkspace, 'file1.ts');\n    const file2 = join(testWorkspace, 'file2.ts');\n\n    writeFileSync(file1, `\nexport function foo(x: number): number {\n  return x + 1;\n}\n\nexport const fooValue = foo(42);\n`.trim());\n\n    writeFileSync(file2, `\nimport { foo } from './file1';\n\nexport function useFoo() {\n  return foo(10);\n}\n`.trim());\n\n    // Step 1: Search for 'foo'\n    const searchResults = [file1, file2]; // Simulated grep results\n    expect(searchResults).toHaveLength(2);\n\n    // Step 2: Read files\n    const content1 = readFileSync(file1, 'utf-8');\n    const content2 = readFileSync(file2, 'utf-8');\n\n    expect(content1).toContain('foo');\n    expect(content2).toContain('foo');\n\n    // Step 3: Edit files (simulated)\n    const edited1 = content1.replace(/foo/g, 'bar');\n    const edited2 = content2.replace(/foo/g, 'bar');\n\n    writeFileSync(file1, edited1);\n    writeFileSync(file2, edited2);\n\n    // Step 4: Verify changes\n    const verified1 = readFileSync(file1, 'utf-8');\n    const verified2 = readFileSync(file2, 'utf-8');\n\n    expect(verified1).not.toContain('foo');\n    expect(verified1).toContain('bar');\n    expect(verified2).not.toContain('foo');\n    expect(verified2).toContain('bar');\n  });\n\n  test('Bug investigation and fix workflow', () => {\n    // Workflow: Explore → Grep → Read → Edit → Test\n    // Simulates: \"Find and fix a type error in the codebase\"\n\n    // Setup: Create files with a bug\n    const srcDir = join(testWorkspace, 'src');\n    mkdirSync(srcDir, { recursive: true });\n\n    const buggyFile = join(srcDir, 'calculator.ts');\n    writeFileSync(buggyFile, `\nexport class Calculator {\n  add(a: number, b: number): number {\n    return a + b;\n  }\n\n  // Bug: returns string instead of number\n  multiply(a: number, b: number): string {\n    return (a * b).toString();\n  }\n}\n`.trim());\n\n    const testFile = join(srcDir, 'calculator.test.ts');\n    writeFileSync(testFile, `\nimport { Calculator } from './calculator';\n\nconst calc = new Calculator();\nconst result: number = calc.multiply(3, 4); // Type error!\n`.trim());\n\n    // Step 1: Explore - find TypeScript files\n    const tsFiles = [buggyFile, testFile]; // Simulated glob results\n    expect(tsFiles).toHaveLength(2);\n\n    // Step 2: Grep - search for type errors (simulated type check)\n    const typeErrors = ['calculator.ts:7 - Type error: Type \\'string\\' is not assignable to type \\'number\\''];\n    expect(typeErrors).toHaveLength(1);\n\n    // Step 3: Read the buggy file\n    const buggyContent = readFileSync(buggyFile, 'utf-8');\n    expect(buggyContent).toContain('multiply(a: number, b: number): string');\n\n    // Step 4: Fix the bug\n    const fixed = buggyContent.replace(\n      'multiply(a: number, b: number): string {\\n    return (a * b).toString();',\n      'multiply(a: number, b: number): number {\\n    return a * b;'\n    );\n    writeFileSync(buggyFile, fixed);\n\n    // Step 5: Verify fix\n    const fixedContent = readFileSync(buggyFile, 'utf-8');\n    expect(fixedContent).toContain('multiply(a: number, b: number): number');\n    expect(fixedContent).not.toContain('.toString()');\n  });\n\n  test('Feature implementation workflow', () => {\n    // Workflow: Plan → Read → Write → Edit → Test\n    // Simulates: \"Add a new feature with tests\"\n\n    const srcDir = join(testWorkspace, 'src');\n    const testDir = join(testWorkspace, 'test');\n    mkdirSync(srcDir, { recursive: true });\n    mkdirSync(testDir, { recursive: true });\n\n    // Step 1: Plan (simulated todo list)\n    const plan = [\n      'Create UserService class',\n      'Add getUser method',\n      'Add createUser method',\n      'Write unit tests',\n    ];\n    expect(plan).toHaveLength(4);\n\n    // Step 2: Write new file\n    const serviceFile = join(srcDir, 'UserService.ts');\n    writeFileSync(serviceFile, `\nexport interface User {\n  id: string;\n  name: string;\n  email: string;\n}\n\nexport class UserService {\n  private users: Map<string, User> = new Map();\n\n  getUser(id: string): User | undefined {\n    return this.users.get(id);\n  }\n\n  createUser(name: string, email: string): User {\n    const id = Math.random().toString(36).substr(2, 9);\n    const user: User = { id, name, email };\n    this.users.set(id, user);\n    return user;\n  }\n}\n`.trim());\n\n    expect(existsSync(serviceFile)).toBe(true);\n\n    // Step 3: Write tests\n    const testFilePath = join(testDir, 'UserService.test.ts');\n    writeFileSync(testFilePath, `\nimport { UserService } from '../src/UserService';\n\ndescribe('UserService', () => {\n  test('should create and retrieve user', () => {\n    const service = new UserService();\n    const user = service.createUser('Alice', 'alice@example.com');\n\n    expect(user.name).toBe('Alice');\n    expect(user.email).toBe('alice@example.com');\n    expect(user.id).toBeTruthy();\n\n    const retrieved = service.getUser(user.id);\n    expect(retrieved).toEqual(user);\n  });\n\n  test('should return undefined for non-existent user', () => {\n    const service = new UserService();\n    const user = service.getUser('nonexistent');\n    expect(user).toBeUndefined();\n  });\n});\n`.trim());\n\n    expect(existsSync(testFilePath)).toBe(true);\n\n    // Step 4: Read back and verify\n    const serviceContent = readFileSync(serviceFile, 'utf-8');\n    const testContent = readFileSync(testFilePath, 'utf-8');\n\n    expect(serviceContent).toContain('class UserService');\n    expect(serviceContent).toContain('getUser');\n    expect(serviceContent).toContain('createUser');\n    expect(testContent).toContain('describe(\\'UserService\\'');\n    expect(testContent).toContain('should create and retrieve user');\n  });\n\n  test('Documentation generation workflow', () => {\n    // Workflow: Explore → Read → Analyze → Write\n    // Simulates: \"Generate README from source files\"\n\n    const srcDir = join(testWorkspace, 'src');\n    mkdirSync(srcDir, { recursive: true });\n\n    // Create source files\n    const api = join(srcDir, 'api.ts');\n    writeFileSync(api, `\n/**\n * Main API client for the service\n */\nexport class ApiClient {\n  /**\n   * Fetch data from the API\n   * @param endpoint The API endpoint\n   * @returns Promise with the response data\n   */\n  async fetch(endpoint: string): Promise<any> {\n    // Implementation\n    return {};\n  }\n}\n`.trim());\n\n    const utils = join(srcDir, 'utils.ts');\n    writeFileSync(utils, `\n/**\n * Utility functions\n */\n\n/**\n * Format a date string\n * @param date The date to format\n * @returns Formatted date string\n */\nexport function formatDate(date: Date): string {\n  return date.toISOString();\n}\n`.trim());\n\n    // Step 1: Explore - find all source files\n    const sourceFiles = [api, utils];\n    expect(sourceFiles).toHaveLength(2);\n\n    // Step 2: Read and extract documentation\n    const apiContent = readFileSync(api, 'utf-8');\n    const utilsContent = readFileSync(utils, 'utf-8');\n\n    const apiDocs = apiContent.match(/\\/\\*\\*[\\s\\S]*?\\*\\//g) || [];\n    const utilsDocs = utilsContent.match(/\\/\\*\\*[\\s\\S]*?\\*\\//g) || [];\n\n    expect(apiDocs.length).toBeGreaterThan(0);\n    expect(utilsDocs.length).toBeGreaterThan(0);\n\n    // Step 3: Generate README\n    const readme = join(testWorkspace, 'README.md');\n    writeFileSync(readme, `\n# Project Documentation\n\n## API Client\n\nMain API client for the service.\n\n### Methods\n\n- \\`fetch(endpoint: string)\\` - Fetch data from the API\n\n## Utilities\n\n### Functions\n\n- \\`formatDate(date: Date)\\` - Format a date string\n\n`.trim());\n\n    // Step 4: Verify README exists and has content\n    const readmeContent = readFileSync(readme, 'utf-8');\n    expect(readmeContent).toContain('API Client');\n    expect(readmeContent).toContain('Utilities');\n    expect(readmeContent).toContain('fetch');\n    expect(readmeContent).toContain('formatDate');\n  });\n\n  test('Code quality improvement workflow', () => {\n    // Workflow: Analyze → Identify Issues → Fix → Verify\n    // Simulates: \"Find and fix code quality issues\"\n\n    const srcDir = join(testWorkspace, 'src');\n    mkdirSync(srcDir, { recursive: true });\n\n    // Create file with quality issues\n    const messyFile = join(srcDir, 'messy.ts');\n    writeFileSync(messyFile, `\nexport function processData(data: any): any {\n  // TODO: Add proper types\n  var result = [];  // Use const instead of var\n  for (var i = 0; i < data.length; i++) {  // Use for-of instead\n    if (data[i] != null) {  // Use !== instead of !=\n      result.push(data[i]);\n    }\n  }\n  return result;\n}\n`.trim());\n\n    // Step 1: Analyze - detect issues\n    const content = readFileSync(messyFile, 'utf-8');\n    const issues = [\n      'Line 1: Using \"any\" type',\n      'Line 3: Using \"var\" instead of \"const\"',\n      'Line 4: Using for loop instead of for-of',\n      'Line 5: Using != instead of !==',\n    ];\n    expect(issues.length).toBeGreaterThan(0);\n\n    // Step 2: Fix issues\n    const improved = `\nexport function processData(data: unknown[]): unknown[] {\n  const result: unknown[] = [];\n  for (const item of data) {\n    if (item !== null && item !== undefined) {\n      result.push(item);\n    }\n  }\n  return result;\n}\n`.trim();\n\n    writeFileSync(messyFile, improved);\n\n    // Step 3: Verify improvements\n    const fixedContent = readFileSync(messyFile, 'utf-8');\n    expect(fixedContent).not.toContain('any');\n    expect(fixedContent).not.toContain('var ');\n    expect(fixedContent).toContain('const');\n    expect(fixedContent).toContain('!==');\n    expect(fixedContent).toContain('for (const');\n  });\n\n  test('Dependency update workflow', () => {\n    // Workflow: Check Dependencies → Read Changelog → Update → Test\n    // Simulates: \"Update dependencies safely\"\n\n    const packageJson = join(testWorkspace, 'package.json');\n    writeFileSync(packageJson, JSON.stringify({\n      name: 'test-project',\n      version: '1.0.0',\n      dependencies: {\n        'old-lib': '^1.0.0',\n      },\n      devDependencies: {\n        'test-lib': '^2.0.0',\n      },\n    }, null, 2));\n\n    // Step 1: Read current dependencies\n    const pkgContent = JSON.parse(readFileSync(packageJson, 'utf-8'));\n    expect(pkgContent.dependencies['old-lib']).toBe('^1.0.0');\n\n    // Step 2: Update versions (simulated)\n    pkgContent.dependencies['old-lib'] = '^2.0.0';\n    pkgContent.devDependencies['test-lib'] = '^3.0.0';\n\n    writeFileSync(packageJson, JSON.stringify(pkgContent, null, 2));\n\n    // Step 3: Verify updates\n    const updated = JSON.parse(readFileSync(packageJson, 'utf-8'));\n    expect(updated.dependencies['old-lib']).toBe('^2.0.0');\n    expect(updated.devDependencies['test-lib']).toBe('^3.0.0');\n  });\n\n  test('Error recovery and retry workflow', () => {\n    // Workflow: Attempt → Fail → Analyze → Fix → Retry\n    // Simulates: \"Handle and recover from errors gracefully\"\n\n    const testFile = join(testWorkspace, 'config.json');\n\n    // Step 1: Attempt to read non-existent file\n    let content: string | null = null;\n    let error: Error | null = null;\n\n    try {\n      content = readFileSync(testFile, 'utf-8');\n    } catch (err) {\n      error = err as Error;\n    }\n\n    expect(content).toBeNull();\n    expect(error).not.toBeNull();\n    expect(error?.message).toContain('ENOENT');\n\n    // Step 2: Analyze error - file doesn't exist\n    const fileExists = existsSync(testFile);\n    expect(fileExists).toBe(false);\n\n    // Step 3: Fix - create the file\n    writeFileSync(testFile, JSON.stringify({ setting: 'value' }, null, 2));\n\n    // Step 4: Retry - should succeed now\n    content = null;\n    error = null;\n\n    try {\n      content = readFileSync(testFile, 'utf-8');\n    } catch (err) {\n      error = err as Error;\n    }\n\n    expect(content).not.toBeNull();\n    expect(error).toBeNull();\n    expect(JSON.parse(content!)).toEqual({ setting: 'value' });\n  });\n\n  test('Concurrent file operations workflow', async () => {\n    // Workflow: Multiple parallel operations\n    // Simulates: \"Process multiple files concurrently\"\n\n    const files = ['file1.txt', 'file2.txt', 'file3.txt', 'file4.txt'];\n    const operations: Promise<void>[] = files.map((filename, index) =>\n      Promise.resolve().then(() => {\n        const filepath = join(testWorkspace, filename);\n        writeFileSync(filepath, `Content for file ${index + 1}`);\n      })\n    );\n\n    // Wait for all writes to complete\n    await Promise.all(operations);\n\n    // Step 2: Read all files concurrently\n    const contents = await Promise.all(\n      files.map(filename =>\n        Promise.resolve().then(() => {\n          const filepath = join(testWorkspace, filename);\n          return readFileSync(filepath, 'utf-8');\n        })\n      )\n    );\n\n    // Step 3: Verify all files were written correctly\n    expect(contents).toHaveLength(files.length);\n    contents.forEach((content, index) => {\n      expect(content).toBe(`Content for file ${index + 1}`);\n    });\n  });\n});\n"],"mappings":"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","ignoreList":[]}