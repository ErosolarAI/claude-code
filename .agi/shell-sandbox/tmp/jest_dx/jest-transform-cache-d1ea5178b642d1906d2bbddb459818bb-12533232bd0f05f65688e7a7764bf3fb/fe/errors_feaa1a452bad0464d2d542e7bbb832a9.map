{"version":3,"names":["cov_1ocmkakmy0","actualCoverage","buildError","action","error","context","f","message","s","Error","b","String","contextDetails","formatContext","entries","Object","filter","value","undefined","length","map","key","formatContextKey","formatContextValue","join","slice","toUpperCase"],"sources":["errors.ts"],"sourcesContent":["export type ErrorContextValue = string | number | boolean | null | undefined;\n\nexport type ErrorContext = Record<string, ErrorContextValue>;\n\nexport function buildError(action: string, error: unknown, context?: ErrorContext): string {\n  const message = error instanceof Error ? error.message : String(error);\n  const contextDetails = formatContext(context);\n  return contextDetails ? `Error ${action}: ${message} (${contextDetails})` : `Error ${action}: ${message}`;\n}\n\nfunction formatContext(context?: ErrorContext): string {\n  if (!context) {\n    return '';\n  }\n  const entries = Object.entries(context).filter(([, value]) => value !== undefined && value !== null);\n  if (entries.length === 0) {\n    return '';\n  }\n  return entries\n    .map(([key, value]) => `${formatContextKey(key)} ${formatContextValue(value)}`)\n    .join(', ');\n}\n\nfunction formatContextKey(key: string): string {\n  if (!key) {\n    return key;\n  }\n  return key.slice(0, 1).toUpperCase() + key.slice(1);\n}\n\nfunction formatContextValue(value: ErrorContextValue): string {\n  if (typeof value === 'string') {\n    return value || '(empty)';\n  }\n  if (typeof value === 'number' || typeof value === 'boolean') {\n    return String(value);\n  }\n  return '(unknown)';\n}\n"],"mappings":"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","ignoreList":[]}