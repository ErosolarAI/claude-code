22b6e6fa3edf32d4ce62f2d0a8ad52cb
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.AnimationScheduler = void 0;
var _events = require("events");
var _perf_hooks = require("perf_hooks");
/**
 * AnimationScheduler - Coordinates animations, spinners, progress bars, and elapsed time
 * Provides frame-based animation updates and smooth transitions
 */

class AnimationScheduler extends _events.EventEmitter {
  animations = new Map();
  animationLoop = null;
  targetFPS = 30;
  lastFrameTime = 0;
  isRunning = false;
  disposed = false;

  // Predefined easing functions
  static Easing = {
    linear: t => t,
    easeInQuad: t => t * t,
    easeOutQuad: t => t * (2 - t),
    easeInOutQuad: t => t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t,
    easeInCubic: t => t * t * t,
    easeOutCubic: t => --t * t * t + 1,
    easeInOutCubic: t => t < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1,
    easeOutElastic: t => {
      const p = 0.3;
      return Math.pow(2, -10 * t) * Math.sin((t - p / 4) * (2 * Math.PI) / p) + 1;
    }
  };

  // Predefined spinner frames
  static SpinnerFrames = {
    dots: ['⠋', '⠙', '⠹', '⠸', '⠼', '⠴', '⠦', '⠧', '⠇', '⠏'],
    dots2: ['⣾', '⣽', '⣻', '⢿', '⡿', '⣟', '⣯', '⣷'],
    dots3: ['⠋', '⠙', '⠚', '⠞', '⠖', '⠦', '⠴', '⠲', '⠳', '⠓'],
    line: ['-', '\\', '|', '/'],
    pipe: ['┤', '┘', '┴', '└', '├', '┌', '┬', '┐'],
    simpleDots: ['.  ', '.. ', '...', '   '],
    simpleDotsScrolling: ['.  ', '.. ', '...', ' ..', '  .', '   '],
    star: ['✶', '✸', '✹', '✺', '✹', '✷'],
    hamburger: ['☱', '☲', '☴'],
    growVertical: ['▁', '▃', '▄', '▅', '▆', '▇', '▆', '▅', '▄', '▃'],
    growHorizontal: ['▏', '▎', '▍', '▌', '▋', '▊', '▉', '▊', '▋', '▌', '▍', '▎'],
    balloon: [' ', '.', 'o', 'O', '@', '*', ' '],
    noise: ['▓', '▒', '░'],
    bounce: ['⠁', '⠂', '⠄', '⠂'],
    boxBounce: ['▖', '▘', '▝', '▗'],
    circle: ['◜', '◠', '◝', '◞', '◡', '◟'],
    arc: ['◜', '◠', '◝', '◞', '◡', '◟'],
    arrow: ['←', '↖', '↑', '↗', '→', '↘', '↓', '↙'],
    bouncingBar: ['[    ]', '[=   ]', '[==  ]', '[=== ]', '[ ===]', '[  ==]', '[   =]', '[    ]', '[   =]', '[  ==]', '[ ===]', '[====]', '[=== ]', '[==  ]', '[=   ]']
  };
  constructor(targetFPS = 30) {
    super();
    this.targetFPS = targetFPS;
    this.frameInterval = 1000 / targetFPS;
  }

  /**
   * Create and register a spinner animation
   */
  createSpinner(id, message, frames = AnimationScheduler.SpinnerFrames.dots) {
    const animation = {
      id,
      type: 'spinner',
      startTime: _perf_hooks.performance.now(),
      fps: 10,
      // Spinners typically run at 10 FPS
      frameCount: frames.length,
      currentFrame: 0,
      data: {
        frames,
        message
      }
    };
    this.register(animation);
    return animation;
  }

  /**
   * Create and register a progress animation
   */
  createProgress(id, current, total, duration = 500) {
    const animation = {
      id,
      type: 'progress',
      startTime: _perf_hooks.performance.now(),
      duration,
      fps: 60,
      // Smooth progress animations at 60 FPS
      frameCount: Math.ceil(duration / 1000 * 60),
      currentFrame: 0,
      data: {
        current,
        target: current,
        total
      },
      easing: AnimationScheduler.Easing.easeOutQuad
    };
    this.register(animation);
    return animation;
  }

  /**
   * Update progress animation target
   */
  updateProgress(id, newTarget) {
    const animation = this.animations.get(id);
    if (!animation || animation.type !== 'progress') return;
    animation.data.current = this.getCurrentProgressValue(animation);
    animation.data.target = newTarget;
    animation.startTime = _perf_hooks.performance.now();
    animation.currentFrame = 0;
  }

  /**
   * Create and register an elapsed time animation
   */
  createElapsed(id, startTime = Date.now()) {
    const animation = {
      id,
      type: 'elapsed',
      startTime: _perf_hooks.performance.now(),
      fps: 1,
      // Update once per second
      frameCount: Infinity,
      currentFrame: 0,
      data: {
        startTime,
        format: this.formatElapsedTime
      }
    };
    this.register(animation);
    return animation;
  }

  /**
   * Create and register a transition animation
   */
  createTransition(id, from, to, property, duration = 300, easing) {
    const animation = {
      id,
      type: 'transition',
      startTime: _perf_hooks.performance.now(),
      duration,
      fps: 60,
      frameCount: Math.ceil(duration / 1000 * 60),
      currentFrame: 0,
      data: {
        from,
        to,
        property
      },
      easing: easing || AnimationScheduler.Easing.easeInOutQuad
    };
    this.register(animation);
    return animation;
  }

  /**
   * Register an animation
   */
  register(animation) {
    this.animations.set(animation.id, animation);

    // Start the animation loop if not running
    if (!this.isRunning && this.animations.size > 0) {
      this.start();
    }
    this.emit('animation:registered', animation);
  }

  /**
   * Unregister an animation
   */
  unregister(id) {
    const animation = this.animations.get(id);
    if (animation) {
      this.animations.delete(id);
      this.emit('animation:unregistered', animation);

      // Stop the loop if no animations remain
      if (this.animations.size === 0) {
        this.stop();
      }
    }
  }

  /**
   * Start the animation loop
   */
  start() {
    if (this.isRunning || this.disposed) return;
    this.isRunning = true;
    this.lastFrameTime = _perf_hooks.performance.now();
    this.animationLoop = setInterval(() => this.tick(), this.frameInterval);
    this.emit('scheduler:start');
  }

  /**
   * Stop the animation loop
   */
  stop() {
    if (!this.isRunning) return;
    if (this.animationLoop) {
      clearInterval(this.animationLoop);
      this.animationLoop = null;
    }
    this.isRunning = false;
    this.emit('scheduler:stop');
  }

  /**
   * Main animation tick
   */
  tick() {
    const now = _perf_hooks.performance.now();
    const deltaTime = now - this.lastFrameTime;

    // Process each animation
    for (const [, animation] of this.animations) {
      // Check if animation should update based on its FPS
      const animationInterval = 1000 / animation.fps;
      const elapsedTime = now - animation.startTime;
      const expectedFrame = Math.floor(elapsedTime / animationInterval);
      if (expectedFrame > animation.currentFrame) {
        animation.currentFrame = expectedFrame;

        // Check if animation is complete
        if (animation.duration && elapsedTime >= animation.duration && animation.frameCount !== Infinity) {
          this.completeAnimation(animation);
          continue;
        }

        // Update animation
        this.updateAnimation(animation, elapsedTime);

        // Call frame callback
        if (animation.onFrame) {
          animation.onFrame(animation);
        }
        this.emit('animation:frame', animation);
      }
    }
    this.lastFrameTime = now;
    this.emit('scheduler:tick', {
      deltaTime,
      animationCount: this.animations.size
    });
  }

  /**
   * Update animation based on type
   */
  updateAnimation(animation, elapsedTime) {
    switch (animation.type) {
      case 'spinner':
        this.updateSpinner(animation);
        break;
      case 'progress':
        this.updateProgressAnimation(animation, elapsedTime);
        break;
      case 'elapsed':
        this.updateElapsed(animation);
        break;
      case 'transition':
        this.updateTransition(animation, elapsedTime);
        break;
    }
  }

  /**
   * Update spinner animation
   */
  updateSpinner(animation) {
    const frameIndex = animation.currentFrame % animation.data.frames.length;
    this.emit('spinner:frame', {
      id: animation.id,
      frame: animation.data.frames[frameIndex],
      message: animation.data.message
    });
  }

  /**
   * Update progress animation
   */
  updateProgressAnimation(animation, elapsedTime) {
    if (!animation.duration) return;
    const progress = Math.min(elapsedTime / animation.duration, 1);
    const easedProgress = animation.easing ? animation.easing(progress) : progress;
    const {
      current,
      target,
      total
    } = animation.data;
    const newValue = current + (target - current) * easedProgress;
    const percentage = Math.round(newValue / total * 100);
    this.emit('progress:update', {
      id: animation.id,
      value: newValue,
      percentage,
      total,
      formatted: animation.data.format ? animation.data.format(newValue, total) : `${percentage}%`
    });
  }

  /**
   * Update elapsed time animation
   */
  updateElapsed(animation) {
    const elapsed = Date.now() - animation.data.startTime;
    const formatted = animation.data.format ? animation.data.format(elapsed) : this.formatElapsedTime(elapsed);
    this.emit('elapsed:update', {
      id: animation.id,
      elapsed,
      formatted
    });
  }

  /**
   * Update transition animation
   */
  updateTransition(animation, elapsedTime) {
    if (!animation.duration) return;
    const progress = Math.min(elapsedTime / animation.duration, 1);
    const easedProgress = animation.easing ? animation.easing(progress) : progress;
    const {
      from,
      to
    } = animation.data;
    let value;
    if (typeof from === 'number' && typeof to === 'number') {
      value = from + (to - from) * easedProgress;
    } else {
      // For non-numeric values, switch at 50% progress
      value = easedProgress < 0.5 ? from : to;
    }
    this.emit('transition:update', {
      id: animation.id,
      property: animation.data.property,
      value,
      progress: easedProgress
    });
  }

  /**
   * Complete an animation
   */
  completeAnimation(animation) {
    if (animation.onComplete) {
      animation.onComplete(animation);
    }
    this.emit('animation:complete', animation);
    this.unregister(animation.id);
  }

  /**
   * Get current progress value with easing
   */
  getCurrentProgressValue(animation) {
    const elapsedTime = _perf_hooks.performance.now() - animation.startTime;
    if (!animation.duration) return animation.data.target;
    const progress = Math.min(elapsedTime / animation.duration, 1);
    const easedProgress = animation.easing ? animation.easing(progress) : progress;
    const {
      current,
      target
    } = animation.data;
    return current + (target - current) * easedProgress;
  }

  /**
   * Format elapsed time
   */
  formatElapsedTime(elapsedMs) {
    const seconds = Math.floor(elapsedMs / 1000);
    const minutes = Math.floor(seconds / 60);
    const hours = Math.floor(minutes / 60);
    if (hours > 0) {
      return `${hours}h ${minutes % 60}m ${seconds % 60}s`;
    } else if (minutes > 0) {
      return `${minutes}m ${seconds % 60}s`;
    } else {
      return `${seconds}s`;
    }
  }

  /**
   * Get animation by ID
   */
  getAnimation(id) {
    return this.animations.get(id);
  }

  /**
   * Get all active animations
   */
  getActiveAnimations() {
    return Array.from(this.animations.values());
  }

  /**
   * Check if scheduler is running
   */
  isActive() {
    return this.isRunning;
  }

  /**
   * Get target FPS
   */
  getTargetFPS() {
    return this.targetFPS;
  }

  /**
   * Set target FPS
   */
  setTargetFPS(fps) {
    this.targetFPS = fps;
    this.frameInterval = 1000 / fps;

    // Restart the loop with new interval if running
    if (this.isRunning) {
      this.stop();
      this.start();
    }
  }

  /**
   * Clear all animations
   */
  clearAll() {
    for (const animation of this.animations.values()) {
      if (animation.onComplete) {
        animation.onComplete(animation);
      }
    }
    this.animations.clear();
    this.stop();
    this.emit('scheduler:cleared');
  }

  /**
   * Dispose of the scheduler
   */
  dispose() {
    this.disposed = true;
    this.clearAll();
    this.removeAllListeners();
  }

  /**
   * Check if the scheduler has been disposed
   */
  isDisposed() {
    return this.disposed;
  }
}
exports.AnimationScheduler = AnimationScheduler;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXZlbnRzIiwicmVxdWlyZSIsIl9wZXJmX2hvb2tzIiwiQW5pbWF0aW9uU2NoZWR1bGVyIiwiRXZlbnRFbWl0dGVyIiwiYW5pbWF0aW9ucyIsIk1hcCIsImFuaW1hdGlvbkxvb3AiLCJ0YXJnZXRGUFMiLCJsYXN0RnJhbWVUaW1lIiwiaXNSdW5uaW5nIiwiZGlzcG9zZWQiLCJFYXNpbmciLCJsaW5lYXIiLCJ0IiwiZWFzZUluUXVhZCIsImVhc2VPdXRRdWFkIiwiZWFzZUluT3V0UXVhZCIsImVhc2VJbkN1YmljIiwiZWFzZU91dEN1YmljIiwiZWFzZUluT3V0Q3ViaWMiLCJlYXNlT3V0RWxhc3RpYyIsInAiLCJNYXRoIiwicG93Iiwic2luIiwiUEkiLCJTcGlubmVyRnJhbWVzIiwiZG90cyIsImRvdHMyIiwiZG90czMiLCJsaW5lIiwicGlwZSIsInNpbXBsZURvdHMiLCJzaW1wbGVEb3RzU2Nyb2xsaW5nIiwic3RhciIsImhhbWJ1cmdlciIsImdyb3dWZXJ0aWNhbCIsImdyb3dIb3Jpem9udGFsIiwiYmFsbG9vbiIsIm5vaXNlIiwiYm91bmNlIiwiYm94Qm91bmNlIiwiY2lyY2xlIiwiYXJjIiwiYXJyb3ciLCJib3VuY2luZ0JhciIsImNvbnN0cnVjdG9yIiwiZnJhbWVJbnRlcnZhbCIsImNyZWF0ZVNwaW5uZXIiLCJpZCIsIm1lc3NhZ2UiLCJmcmFtZXMiLCJhbmltYXRpb24iLCJ0eXBlIiwic3RhcnRUaW1lIiwicGVyZm9ybWFuY2UiLCJub3ciLCJmcHMiLCJmcmFtZUNvdW50IiwibGVuZ3RoIiwiY3VycmVudEZyYW1lIiwiZGF0YSIsInJlZ2lzdGVyIiwiY3JlYXRlUHJvZ3Jlc3MiLCJjdXJyZW50IiwidG90YWwiLCJkdXJhdGlvbiIsImNlaWwiLCJ0YXJnZXQiLCJlYXNpbmciLCJ1cGRhdGVQcm9ncmVzcyIsIm5ld1RhcmdldCIsImdldCIsImdldEN1cnJlbnRQcm9ncmVzc1ZhbHVlIiwiY3JlYXRlRWxhcHNlZCIsIkRhdGUiLCJJbmZpbml0eSIsImZvcm1hdCIsImZvcm1hdEVsYXBzZWRUaW1lIiwiY3JlYXRlVHJhbnNpdGlvbiIsImZyb20iLCJ0byIsInByb3BlcnR5Iiwic2V0Iiwic2l6ZSIsInN0YXJ0IiwiZW1pdCIsInVucmVnaXN0ZXIiLCJkZWxldGUiLCJzdG9wIiwic2V0SW50ZXJ2YWwiLCJ0aWNrIiwiY2xlYXJJbnRlcnZhbCIsImRlbHRhVGltZSIsImFuaW1hdGlvbkludGVydmFsIiwiZWxhcHNlZFRpbWUiLCJleHBlY3RlZEZyYW1lIiwiZmxvb3IiLCJjb21wbGV0ZUFuaW1hdGlvbiIsInVwZGF0ZUFuaW1hdGlvbiIsIm9uRnJhbWUiLCJhbmltYXRpb25Db3VudCIsInVwZGF0ZVNwaW5uZXIiLCJ1cGRhdGVQcm9ncmVzc0FuaW1hdGlvbiIsInVwZGF0ZUVsYXBzZWQiLCJ1cGRhdGVUcmFuc2l0aW9uIiwiZnJhbWVJbmRleCIsImZyYW1lIiwicHJvZ3Jlc3MiLCJtaW4iLCJlYXNlZFByb2dyZXNzIiwibmV3VmFsdWUiLCJwZXJjZW50YWdlIiwicm91bmQiLCJ2YWx1ZSIsImZvcm1hdHRlZCIsImVsYXBzZWQiLCJvbkNvbXBsZXRlIiwiZWxhcHNlZE1zIiwic2Vjb25kcyIsIm1pbnV0ZXMiLCJob3VycyIsImdldEFuaW1hdGlvbiIsImdldEFjdGl2ZUFuaW1hdGlvbnMiLCJBcnJheSIsInZhbHVlcyIsImlzQWN0aXZlIiwiZ2V0VGFyZ2V0RlBTIiwic2V0VGFyZ2V0RlBTIiwiY2xlYXJBbGwiLCJjbGVhciIsImRpc3Bvc2UiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJpc0Rpc3Bvc2VkIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbIkFuaW1hdGlvblNjaGVkdWxlci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEFuaW1hdGlvblNjaGVkdWxlciAtIENvb3JkaW5hdGVzIGFuaW1hdGlvbnMsIHNwaW5uZXJzLCBwcm9ncmVzcyBiYXJzLCBhbmQgZWxhcHNlZCB0aW1lXG4gKiBQcm92aWRlcyBmcmFtZS1iYXNlZCBhbmltYXRpb24gdXBkYXRlcyBhbmQgc21vb3RoIHRyYW5zaXRpb25zXG4gKi9cblxuaW1wb3J0IHsgRXZlbnRFbWl0dGVyIH0gZnJvbSAnZXZlbnRzJztcbmltcG9ydCB7IHBlcmZvcm1hbmNlIH0gZnJvbSAncGVyZl9ob29rcyc7XG5cbmV4cG9ydCB0eXBlIEFuaW1hdGlvblR5cGUgPSAnc3Bpbm5lcicgfCAncHJvZ3Jlc3MnIHwgJ2VsYXBzZWQnIHwgJ3B1bHNlJyB8ICd0cmFuc2l0aW9uJztcblxuZXhwb3J0IGludGVyZmFjZSBBbmltYXRpb24ge1xuICBpZDogc3RyaW5nO1xuICB0eXBlOiBBbmltYXRpb25UeXBlO1xuICBzdGFydFRpbWU6IG51bWJlcjtcbiAgZHVyYXRpb24/OiBudW1iZXI7IC8vIE9wdGlvbmFsIGR1cmF0aW9uIGluIG1zIChmb3IgZmluaXRlIGFuaW1hdGlvbnMpXG4gIGZwczogbnVtYmVyOyAvLyBGcmFtZXMgcGVyIHNlY29uZFxuICBmcmFtZUNvdW50OiBudW1iZXI7XG4gIGN1cnJlbnRGcmFtZTogbnVtYmVyO1xuICBkYXRhPzogdW5rbm93bjtcbiAgZWFzaW5nPzogRWFzaW5nRnVuY3Rpb247XG4gIG9uRnJhbWU/OiAoYW5pbWF0aW9uOiBBbmltYXRpb24pID0+IHZvaWQ7XG4gIG9uQ29tcGxldGU/OiAoYW5pbWF0aW9uOiBBbmltYXRpb24pID0+IHZvaWQ7XG59XG5cbmV4cG9ydCB0eXBlIEVhc2luZ0Z1bmN0aW9uID0gKHQ6IG51bWJlcikgPT4gbnVtYmVyO1xuXG5leHBvcnQgaW50ZXJmYWNlIFByb2dyZXNzQW5pbWF0aW9uIGV4dGVuZHMgQW5pbWF0aW9uIHtcbiAgdHlwZTogJ3Byb2dyZXNzJztcbiAgZGF0YToge1xuICAgIGN1cnJlbnQ6IG51bWJlcjtcbiAgICB0YXJnZXQ6IG51bWJlcjtcbiAgICB0b3RhbDogbnVtYmVyO1xuICAgIGZvcm1hdD86ICh2YWx1ZTogbnVtYmVyLCB0b3RhbDogbnVtYmVyKSA9PiBzdHJpbmc7XG4gIH07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3Bpbm5lckFuaW1hdGlvbiBleHRlbmRzIEFuaW1hdGlvbiB7XG4gIHR5cGU6ICdzcGlubmVyJztcbiAgZGF0YToge1xuICAgIGZyYW1lczogc3RyaW5nW107XG4gICAgbWVzc2FnZT86IHN0cmluZztcbiAgfTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBFbGFwc2VkQW5pbWF0aW9uIGV4dGVuZHMgQW5pbWF0aW9uIHtcbiAgdHlwZTogJ2VsYXBzZWQnO1xuICBkYXRhOiB7XG4gICAgc3RhcnRUaW1lOiBudW1iZXI7XG4gICAgZm9ybWF0PzogKGVsYXBzZWQ6IG51bWJlcikgPT4gc3RyaW5nO1xuICB9O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRyYW5zaXRpb25BbmltYXRpb24gZXh0ZW5kcyBBbmltYXRpb24ge1xuICB0eXBlOiAndHJhbnNpdGlvbic7XG4gIGRhdGE6IHtcbiAgICBmcm9tOiB1bmtub3duO1xuICAgIHRvOiB1bmtub3duO1xuICAgIHByb3BlcnR5OiBzdHJpbmc7XG4gIH07XG59XG5cbmV4cG9ydCBjbGFzcyBBbmltYXRpb25TY2hlZHVsZXIgZXh0ZW5kcyBFdmVudEVtaXR0ZXIge1xuICBwcml2YXRlIGFuaW1hdGlvbnM6IE1hcDxzdHJpbmcsIEFuaW1hdGlvbj4gPSBuZXcgTWFwKCk7XG4gIHByaXZhdGUgYW5pbWF0aW9uTG9vcDogTm9kZUpTLlRpbWVvdXQgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSB0YXJnZXRGUFM6IG51bWJlciA9IDMwO1xuICBwcml2YXRlIGxhc3RGcmFtZVRpbWU6IG51bWJlciA9IDA7XG4gIHByaXZhdGUgZnJhbWVJbnRlcnZhbDogbnVtYmVyO1xuICBwcml2YXRlIGlzUnVubmluZzogYm9vbGVhbiA9IGZhbHNlO1xuICBwcml2YXRlIGRpc3Bvc2VkOiBib29sZWFuID0gZmFsc2U7XG5cbiAgLy8gUHJlZGVmaW5lZCBlYXNpbmcgZnVuY3Rpb25zXG4gIHN0YXRpYyByZWFkb25seSBFYXNpbmcgPSB7XG4gICAgbGluZWFyOiAodDogbnVtYmVyKSA9PiB0LFxuICAgIGVhc2VJblF1YWQ6ICh0OiBudW1iZXIpID0+IHQgKiB0LFxuICAgIGVhc2VPdXRRdWFkOiAodDogbnVtYmVyKSA9PiB0ICogKDIgLSB0KSxcbiAgICBlYXNlSW5PdXRRdWFkOiAodDogbnVtYmVyKSA9PiAodCA8IDAuNSA/IDIgKiB0ICogdCA6IC0xICsgKDQgLSAyICogdCkgKiB0KSxcbiAgICBlYXNlSW5DdWJpYzogKHQ6IG51bWJlcikgPT4gdCAqIHQgKiB0LFxuICAgIGVhc2VPdXRDdWJpYzogKHQ6IG51bWJlcikgPT4gLS10ICogdCAqIHQgKyAxLFxuICAgIGVhc2VJbk91dEN1YmljOiAodDogbnVtYmVyKSA9PlxuICAgICAgdCA8IDAuNSA/IDQgKiB0ICogdCAqIHQgOiAodCAtIDEpICogKDIgKiB0IC0gMikgKiAoMiAqIHQgLSAyKSArIDEsXG4gICAgZWFzZU91dEVsYXN0aWM6ICh0OiBudW1iZXIpID0+IHtcbiAgICAgIGNvbnN0IHAgPSAwLjM7XG4gICAgICByZXR1cm4gTWF0aC5wb3coMiwgLTEwICogdCkgKiBNYXRoLnNpbigodCAtIHAgLyA0KSAqICgyICogTWF0aC5QSSkgLyBwKSArIDE7XG4gICAgfSxcbiAgfTtcblxuICAvLyBQcmVkZWZpbmVkIHNwaW5uZXIgZnJhbWVzXG4gIHN0YXRpYyByZWFkb25seSBTcGlubmVyRnJhbWVzID0ge1xuICAgIGRvdHM6IFsn4qCLJywgJ+KgmScsICfioLknLCAn4qC4JywgJ+KgvCcsICfioLQnLCAn4qCmJywgJ+KgpycsICfioIcnLCAn4qCPJ10sXG4gICAgZG90czI6IFsn4qO+JywgJ+KjvScsICfio7snLCAn4qK/JywgJ+KhvycsICfio58nLCAn4qOvJywgJ+KjtyddLFxuICAgIGRvdHMzOiBbJ+KgiycsICfioJknLCAn4qCaJywgJ+KgnicsICfioJYnLCAn4qCmJywgJ+KgtCcsICfioLInLCAn4qCzJywgJ+KgkyddLFxuICAgIGxpbmU6IFsnLScsICdcXFxcJywgJ3wnLCAnLyddLFxuICAgIHBpcGU6IFsn4pSkJywgJ+KUmCcsICfilLQnLCAn4pSUJywgJ+KUnCcsICfilIwnLCAn4pSsJywgJ+KUkCddLFxuICAgIHNpbXBsZURvdHM6IFsnLiAgJywgJy4uICcsICcuLi4nLCAnICAgJ10sXG4gICAgc2ltcGxlRG90c1Njcm9sbGluZzogWycuICAnLCAnLi4gJywgJy4uLicsICcgLi4nLCAnICAuJywgJyAgICddLFxuICAgIHN0YXI6IFsn4py2JywgJ+KcuCcsICfinLknLCAn4py6JywgJ+KcuScsICfinLcnXSxcbiAgICBoYW1idXJnZXI6IFsn4pixJywgJ+KYsicsICfimLQnXSxcbiAgICBncm93VmVydGljYWw6IFsn4paBJywgJ+KWgycsICfiloQnLCAn4paFJywgJ+KWhicsICfilocnLCAn4paGJywgJ+KWhScsICfiloQnLCAn4paDJ10sXG4gICAgZ3Jvd0hvcml6b250YWw6IFsn4paPJywgJ+KWjicsICfilo0nLCAn4paMJywgJ+KWiycsICfiloonLCAn4paJJywgJ+KWiicsICfilosnLCAn4paMJywgJ+KWjScsICfilo4nXSxcbiAgICBiYWxsb29uOiBbJyAnLCAnLicsICdvJywgJ08nLCAnQCcsICcqJywgJyAnXSxcbiAgICBub2lzZTogWyfilpMnLCAn4paSJywgJ+KWkSddLFxuICAgIGJvdW5jZTogWyfioIEnLCAn4qCCJywgJ+KghCcsICfioIInXSxcbiAgICBib3hCb3VuY2U6IFsn4paWJywgJ+KWmCcsICfilp0nLCAn4paXJ10sXG4gICAgY2lyY2xlOiBbJ+KXnCcsICfil6AnLCAn4pedJywgJ+KXnicsICfil6EnLCAn4pefJ10sXG4gICAgYXJjOiBbJ+KXnCcsICfil6AnLCAn4pedJywgJ+KXnicsICfil6EnLCAn4pefJ10sXG4gICAgYXJyb3c6IFsn4oaQJywgJ+KGlicsICfihpEnLCAn4oaXJywgJ+KGkicsICfihpgnLCAn4oaTJywgJ+KGmSddLFxuICAgIGJvdW5jaW5nQmFyOiBbXG4gICAgICAnWyAgICBdJyxcbiAgICAgICdbPSAgIF0nLFxuICAgICAgJ1s9PSAgXScsXG4gICAgICAnWz09PSBdJyxcbiAgICAgICdbID09PV0nLFxuICAgICAgJ1sgID09XScsXG4gICAgICAnWyAgID1dJyxcbiAgICAgICdbICAgIF0nLFxuICAgICAgJ1sgICA9XScsXG4gICAgICAnWyAgPT1dJyxcbiAgICAgICdbID09PV0nLFxuICAgICAgJ1s9PT09XScsXG4gICAgICAnWz09PSBdJyxcbiAgICAgICdbPT0gIF0nLFxuICAgICAgJ1s9ICAgXScsXG4gICAgXSxcbiAgfTtcblxuICBjb25zdHJ1Y3Rvcih0YXJnZXRGUFM6IG51bWJlciA9IDMwKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLnRhcmdldEZQUyA9IHRhcmdldEZQUztcbiAgICB0aGlzLmZyYW1lSW50ZXJ2YWwgPSAxMDAwIC8gdGFyZ2V0RlBTO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhbmQgcmVnaXN0ZXIgYSBzcGlubmVyIGFuaW1hdGlvblxuICAgKi9cbiAgY3JlYXRlU3Bpbm5lcihcbiAgICBpZDogc3RyaW5nLFxuICAgIG1lc3NhZ2U/OiBzdHJpbmcsXG4gICAgZnJhbWVzOiBzdHJpbmdbXSA9IEFuaW1hdGlvblNjaGVkdWxlci5TcGlubmVyRnJhbWVzLmRvdHNcbiAgKTogU3Bpbm5lckFuaW1hdGlvbiB7XG4gICAgY29uc3QgYW5pbWF0aW9uOiBTcGlubmVyQW5pbWF0aW9uID0ge1xuICAgICAgaWQsXG4gICAgICB0eXBlOiAnc3Bpbm5lcicsXG4gICAgICBzdGFydFRpbWU6IHBlcmZvcm1hbmNlLm5vdygpLFxuICAgICAgZnBzOiAxMCwgLy8gU3Bpbm5lcnMgdHlwaWNhbGx5IHJ1biBhdCAxMCBGUFNcbiAgICAgIGZyYW1lQ291bnQ6IGZyYW1lcy5sZW5ndGgsXG4gICAgICBjdXJyZW50RnJhbWU6IDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGZyYW1lcyxcbiAgICAgICAgbWVzc2FnZSxcbiAgICAgIH0sXG4gICAgfTtcblxuICAgIHRoaXMucmVnaXN0ZXIoYW5pbWF0aW9uKTtcbiAgICByZXR1cm4gYW5pbWF0aW9uO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhbmQgcmVnaXN0ZXIgYSBwcm9ncmVzcyBhbmltYXRpb25cbiAgICovXG4gIGNyZWF0ZVByb2dyZXNzKFxuICAgIGlkOiBzdHJpbmcsXG4gICAgY3VycmVudDogbnVtYmVyLFxuICAgIHRvdGFsOiBudW1iZXIsXG4gICAgZHVyYXRpb246IG51bWJlciA9IDUwMFxuICApOiBQcm9ncmVzc0FuaW1hdGlvbiB7XG4gICAgY29uc3QgYW5pbWF0aW9uOiBQcm9ncmVzc0FuaW1hdGlvbiA9IHtcbiAgICAgIGlkLFxuICAgICAgdHlwZTogJ3Byb2dyZXNzJyxcbiAgICAgIHN0YXJ0VGltZTogcGVyZm9ybWFuY2Uubm93KCksXG4gICAgICBkdXJhdGlvbixcbiAgICAgIGZwczogNjAsIC8vIFNtb290aCBwcm9ncmVzcyBhbmltYXRpb25zIGF0IDYwIEZQU1xuICAgICAgZnJhbWVDb3VudDogTWF0aC5jZWlsKChkdXJhdGlvbiAvIDEwMDApICogNjApLFxuICAgICAgY3VycmVudEZyYW1lOiAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBjdXJyZW50LFxuICAgICAgICB0YXJnZXQ6IGN1cnJlbnQsXG4gICAgICAgIHRvdGFsLFxuICAgICAgfSxcbiAgICAgIGVhc2luZzogQW5pbWF0aW9uU2NoZWR1bGVyLkVhc2luZy5lYXNlT3V0UXVhZCxcbiAgICB9O1xuXG4gICAgdGhpcy5yZWdpc3RlcihhbmltYXRpb24pO1xuICAgIHJldHVybiBhbmltYXRpb247XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIHByb2dyZXNzIGFuaW1hdGlvbiB0YXJnZXRcbiAgICovXG4gIHVwZGF0ZVByb2dyZXNzKGlkOiBzdHJpbmcsIG5ld1RhcmdldDogbnVtYmVyKTogdm9pZCB7XG4gICAgY29uc3QgYW5pbWF0aW9uID0gdGhpcy5hbmltYXRpb25zLmdldChpZCkgYXMgUHJvZ3Jlc3NBbmltYXRpb247XG4gICAgaWYgKCFhbmltYXRpb24gfHwgYW5pbWF0aW9uLnR5cGUgIT09ICdwcm9ncmVzcycpIHJldHVybjtcblxuICAgIGFuaW1hdGlvbi5kYXRhLmN1cnJlbnQgPSB0aGlzLmdldEN1cnJlbnRQcm9ncmVzc1ZhbHVlKGFuaW1hdGlvbik7XG4gICAgYW5pbWF0aW9uLmRhdGEudGFyZ2V0ID0gbmV3VGFyZ2V0O1xuICAgIGFuaW1hdGlvbi5zdGFydFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICBhbmltYXRpb24uY3VycmVudEZyYW1lID0gMDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYW5kIHJlZ2lzdGVyIGFuIGVsYXBzZWQgdGltZSBhbmltYXRpb25cbiAgICovXG4gIGNyZWF0ZUVsYXBzZWQoaWQ6IHN0cmluZywgc3RhcnRUaW1lOiBudW1iZXIgPSBEYXRlLm5vdygpKTogRWxhcHNlZEFuaW1hdGlvbiB7XG4gICAgY29uc3QgYW5pbWF0aW9uOiBFbGFwc2VkQW5pbWF0aW9uID0ge1xuICAgICAgaWQsXG4gICAgICB0eXBlOiAnZWxhcHNlZCcsXG4gICAgICBzdGFydFRpbWU6IHBlcmZvcm1hbmNlLm5vdygpLFxuICAgICAgZnBzOiAxLCAvLyBVcGRhdGUgb25jZSBwZXIgc2Vjb25kXG4gICAgICBmcmFtZUNvdW50OiBJbmZpbml0eSxcbiAgICAgIGN1cnJlbnRGcmFtZTogMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgc3RhcnRUaW1lLFxuICAgICAgICBmb3JtYXQ6IHRoaXMuZm9ybWF0RWxhcHNlZFRpbWUsXG4gICAgICB9LFxuICAgIH07XG5cbiAgICB0aGlzLnJlZ2lzdGVyKGFuaW1hdGlvbik7XG4gICAgcmV0dXJuIGFuaW1hdGlvbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYW5kIHJlZ2lzdGVyIGEgdHJhbnNpdGlvbiBhbmltYXRpb25cbiAgICovXG4gIGNyZWF0ZVRyYW5zaXRpb24oXG4gICAgaWQ6IHN0cmluZyxcbiAgICBmcm9tOiB1bmtub3duLFxuICAgIHRvOiB1bmtub3duLFxuICAgIHByb3BlcnR5OiBzdHJpbmcsXG4gICAgZHVyYXRpb246IG51bWJlciA9IDMwMCxcbiAgICBlYXNpbmc/OiBFYXNpbmdGdW5jdGlvblxuICApOiBUcmFuc2l0aW9uQW5pbWF0aW9uIHtcbiAgICBjb25zdCBhbmltYXRpb246IFRyYW5zaXRpb25BbmltYXRpb24gPSB7XG4gICAgICBpZCxcbiAgICAgIHR5cGU6ICd0cmFuc2l0aW9uJyxcbiAgICAgIHN0YXJ0VGltZTogcGVyZm9ybWFuY2Uubm93KCksXG4gICAgICBkdXJhdGlvbixcbiAgICAgIGZwczogNjAsXG4gICAgICBmcmFtZUNvdW50OiBNYXRoLmNlaWwoKGR1cmF0aW9uIC8gMTAwMCkgKiA2MCksXG4gICAgICBjdXJyZW50RnJhbWU6IDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGZyb20sXG4gICAgICAgIHRvLFxuICAgICAgICBwcm9wZXJ0eSxcbiAgICAgIH0sXG4gICAgICBlYXNpbmc6IGVhc2luZyB8fCBBbmltYXRpb25TY2hlZHVsZXIuRWFzaW5nLmVhc2VJbk91dFF1YWQsXG4gICAgfTtcblxuICAgIHRoaXMucmVnaXN0ZXIoYW5pbWF0aW9uKTtcbiAgICByZXR1cm4gYW5pbWF0aW9uO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVyIGFuIGFuaW1hdGlvblxuICAgKi9cbiAgcmVnaXN0ZXIoYW5pbWF0aW9uOiBBbmltYXRpb24pOiB2b2lkIHtcbiAgICB0aGlzLmFuaW1hdGlvbnMuc2V0KGFuaW1hdGlvbi5pZCwgYW5pbWF0aW9uKTtcblxuICAgIC8vIFN0YXJ0IHRoZSBhbmltYXRpb24gbG9vcCBpZiBub3QgcnVubmluZ1xuICAgIGlmICghdGhpcy5pc1J1bm5pbmcgJiYgdGhpcy5hbmltYXRpb25zLnNpemUgPiAwKSB7XG4gICAgICB0aGlzLnN0YXJ0KCk7XG4gICAgfVxuXG4gICAgdGhpcy5lbWl0KCdhbmltYXRpb246cmVnaXN0ZXJlZCcsIGFuaW1hdGlvbik7XG4gIH1cblxuICAvKipcbiAgICogVW5yZWdpc3RlciBhbiBhbmltYXRpb25cbiAgICovXG4gIHVucmVnaXN0ZXIoaWQ6IHN0cmluZyk6IHZvaWQge1xuICAgIGNvbnN0IGFuaW1hdGlvbiA9IHRoaXMuYW5pbWF0aW9ucy5nZXQoaWQpO1xuICAgIGlmIChhbmltYXRpb24pIHtcbiAgICAgIHRoaXMuYW5pbWF0aW9ucy5kZWxldGUoaWQpO1xuICAgICAgdGhpcy5lbWl0KCdhbmltYXRpb246dW5yZWdpc3RlcmVkJywgYW5pbWF0aW9uKTtcblxuICAgICAgLy8gU3RvcCB0aGUgbG9vcCBpZiBubyBhbmltYXRpb25zIHJlbWFpblxuICAgICAgaWYgKHRoaXMuYW5pbWF0aW9ucy5zaXplID09PSAwKSB7XG4gICAgICAgIHRoaXMuc3RvcCgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTdGFydCB0aGUgYW5pbWF0aW9uIGxvb3BcbiAgICovXG4gIHByaXZhdGUgc3RhcnQoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuaXNSdW5uaW5nIHx8IHRoaXMuZGlzcG9zZWQpIHJldHVybjtcblxuICAgIHRoaXMuaXNSdW5uaW5nID0gdHJ1ZTtcbiAgICB0aGlzLmxhc3RGcmFtZVRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICB0aGlzLmFuaW1hdGlvbkxvb3AgPSBzZXRJbnRlcnZhbCgoKSA9PiB0aGlzLnRpY2soKSwgdGhpcy5mcmFtZUludGVydmFsKTtcbiAgICB0aGlzLmVtaXQoJ3NjaGVkdWxlcjpzdGFydCcpO1xuICB9XG5cbiAgLyoqXG4gICAqIFN0b3AgdGhlIGFuaW1hdGlvbiBsb29wXG4gICAqL1xuICBwcml2YXRlIHN0b3AoKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmlzUnVubmluZykgcmV0dXJuO1xuXG4gICAgaWYgKHRoaXMuYW5pbWF0aW9uTG9vcCkge1xuICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmFuaW1hdGlvbkxvb3ApO1xuICAgICAgdGhpcy5hbmltYXRpb25Mb29wID0gbnVsbDtcbiAgICB9XG5cbiAgICB0aGlzLmlzUnVubmluZyA9IGZhbHNlO1xuICAgIHRoaXMuZW1pdCgnc2NoZWR1bGVyOnN0b3AnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNYWluIGFuaW1hdGlvbiB0aWNrXG4gICAqL1xuICBwcml2YXRlIHRpY2soKTogdm9pZCB7XG4gICAgY29uc3Qgbm93ID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgY29uc3QgZGVsdGFUaW1lID0gbm93IC0gdGhpcy5sYXN0RnJhbWVUaW1lO1xuXG4gICAgLy8gUHJvY2VzcyBlYWNoIGFuaW1hdGlvblxuICAgIGZvciAoY29uc3QgWywgYW5pbWF0aW9uXSBvZiB0aGlzLmFuaW1hdGlvbnMpIHtcbiAgICAgIC8vIENoZWNrIGlmIGFuaW1hdGlvbiBzaG91bGQgdXBkYXRlIGJhc2VkIG9uIGl0cyBGUFNcbiAgICAgIGNvbnN0IGFuaW1hdGlvbkludGVydmFsID0gMTAwMCAvIGFuaW1hdGlvbi5mcHM7XG4gICAgICBjb25zdCBlbGFwc2VkVGltZSA9IG5vdyAtIGFuaW1hdGlvbi5zdGFydFRpbWU7XG4gICAgICBjb25zdCBleHBlY3RlZEZyYW1lID0gTWF0aC5mbG9vcihlbGFwc2VkVGltZSAvIGFuaW1hdGlvbkludGVydmFsKTtcblxuICAgICAgaWYgKGV4cGVjdGVkRnJhbWUgPiBhbmltYXRpb24uY3VycmVudEZyYW1lKSB7XG4gICAgICAgIGFuaW1hdGlvbi5jdXJyZW50RnJhbWUgPSBleHBlY3RlZEZyYW1lO1xuXG4gICAgICAgIC8vIENoZWNrIGlmIGFuaW1hdGlvbiBpcyBjb21wbGV0ZVxuICAgICAgICBpZiAoXG4gICAgICAgICAgYW5pbWF0aW9uLmR1cmF0aW9uICYmXG4gICAgICAgICAgZWxhcHNlZFRpbWUgPj0gYW5pbWF0aW9uLmR1cmF0aW9uICYmXG4gICAgICAgICAgYW5pbWF0aW9uLmZyYW1lQ291bnQgIT09IEluZmluaXR5XG4gICAgICAgICkge1xuICAgICAgICAgIHRoaXMuY29tcGxldGVBbmltYXRpb24oYW5pbWF0aW9uKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFVwZGF0ZSBhbmltYXRpb25cbiAgICAgICAgdGhpcy51cGRhdGVBbmltYXRpb24oYW5pbWF0aW9uLCBlbGFwc2VkVGltZSk7XG5cbiAgICAgICAgLy8gQ2FsbCBmcmFtZSBjYWxsYmFja1xuICAgICAgICBpZiAoYW5pbWF0aW9uLm9uRnJhbWUpIHtcbiAgICAgICAgICBhbmltYXRpb24ub25GcmFtZShhbmltYXRpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5lbWl0KCdhbmltYXRpb246ZnJhbWUnLCBhbmltYXRpb24pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMubGFzdEZyYW1lVGltZSA9IG5vdztcbiAgICB0aGlzLmVtaXQoJ3NjaGVkdWxlcjp0aWNrJywgeyBkZWx0YVRpbWUsIGFuaW1hdGlvbkNvdW50OiB0aGlzLmFuaW1hdGlvbnMuc2l6ZSB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgYW5pbWF0aW9uIGJhc2VkIG9uIHR5cGVcbiAgICovXG4gIHByaXZhdGUgdXBkYXRlQW5pbWF0aW9uKGFuaW1hdGlvbjogQW5pbWF0aW9uLCBlbGFwc2VkVGltZTogbnVtYmVyKTogdm9pZCB7XG4gICAgc3dpdGNoIChhbmltYXRpb24udHlwZSkge1xuICAgICAgY2FzZSAnc3Bpbm5lcic6XG4gICAgICAgIHRoaXMudXBkYXRlU3Bpbm5lcihhbmltYXRpb24gYXMgU3Bpbm5lckFuaW1hdGlvbik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAncHJvZ3Jlc3MnOlxuICAgICAgICB0aGlzLnVwZGF0ZVByb2dyZXNzQW5pbWF0aW9uKGFuaW1hdGlvbiBhcyBQcm9ncmVzc0FuaW1hdGlvbiwgZWxhcHNlZFRpbWUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2VsYXBzZWQnOlxuICAgICAgICB0aGlzLnVwZGF0ZUVsYXBzZWQoYW5pbWF0aW9uIGFzIEVsYXBzZWRBbmltYXRpb24pO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3RyYW5zaXRpb24nOlxuICAgICAgICB0aGlzLnVwZGF0ZVRyYW5zaXRpb24oYW5pbWF0aW9uIGFzIFRyYW5zaXRpb25BbmltYXRpb24sIGVsYXBzZWRUaW1lKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSBzcGlubmVyIGFuaW1hdGlvblxuICAgKi9cbiAgcHJpdmF0ZSB1cGRhdGVTcGlubmVyKGFuaW1hdGlvbjogU3Bpbm5lckFuaW1hdGlvbik6IHZvaWQge1xuICAgIGNvbnN0IGZyYW1lSW5kZXggPSBhbmltYXRpb24uY3VycmVudEZyYW1lICUgYW5pbWF0aW9uLmRhdGEuZnJhbWVzLmxlbmd0aDtcbiAgICB0aGlzLmVtaXQoJ3NwaW5uZXI6ZnJhbWUnLCB7XG4gICAgICBpZDogYW5pbWF0aW9uLmlkLFxuICAgICAgZnJhbWU6IGFuaW1hdGlvbi5kYXRhLmZyYW1lc1tmcmFtZUluZGV4XSxcbiAgICAgIG1lc3NhZ2U6IGFuaW1hdGlvbi5kYXRhLm1lc3NhZ2UsXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIHByb2dyZXNzIGFuaW1hdGlvblxuICAgKi9cbiAgcHJpdmF0ZSB1cGRhdGVQcm9ncmVzc0FuaW1hdGlvbihcbiAgICBhbmltYXRpb246IFByb2dyZXNzQW5pbWF0aW9uLFxuICAgIGVsYXBzZWRUaW1lOiBudW1iZXJcbiAgKTogdm9pZCB7XG4gICAgaWYgKCFhbmltYXRpb24uZHVyYXRpb24pIHJldHVybjtcblxuICAgIGNvbnN0IHByb2dyZXNzID0gTWF0aC5taW4oZWxhcHNlZFRpbWUgLyBhbmltYXRpb24uZHVyYXRpb24sIDEpO1xuICAgIGNvbnN0IGVhc2VkUHJvZ3Jlc3MgPSBhbmltYXRpb24uZWFzaW5nID8gYW5pbWF0aW9uLmVhc2luZyhwcm9ncmVzcykgOiBwcm9ncmVzcztcbiAgICBjb25zdCB7IGN1cnJlbnQsIHRhcmdldCwgdG90YWwgfSA9IGFuaW1hdGlvbi5kYXRhO1xuXG4gICAgY29uc3QgbmV3VmFsdWUgPSBjdXJyZW50ICsgKHRhcmdldCAtIGN1cnJlbnQpICogZWFzZWRQcm9ncmVzcztcbiAgICBjb25zdCBwZXJjZW50YWdlID0gTWF0aC5yb3VuZCgobmV3VmFsdWUgLyB0b3RhbCkgKiAxMDApO1xuXG4gICAgdGhpcy5lbWl0KCdwcm9ncmVzczp1cGRhdGUnLCB7XG4gICAgICBpZDogYW5pbWF0aW9uLmlkLFxuICAgICAgdmFsdWU6IG5ld1ZhbHVlLFxuICAgICAgcGVyY2VudGFnZSxcbiAgICAgIHRvdGFsLFxuICAgICAgZm9ybWF0dGVkOiBhbmltYXRpb24uZGF0YS5mb3JtYXRcbiAgICAgICAgPyBhbmltYXRpb24uZGF0YS5mb3JtYXQobmV3VmFsdWUsIHRvdGFsKVxuICAgICAgICA6IGAke3BlcmNlbnRhZ2V9JWAsXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIGVsYXBzZWQgdGltZSBhbmltYXRpb25cbiAgICovXG4gIHByaXZhdGUgdXBkYXRlRWxhcHNlZChhbmltYXRpb246IEVsYXBzZWRBbmltYXRpb24pOiB2b2lkIHtcbiAgICBjb25zdCBlbGFwc2VkID0gRGF0ZS5ub3coKSAtIGFuaW1hdGlvbi5kYXRhLnN0YXJ0VGltZTtcbiAgICBjb25zdCBmb3JtYXR0ZWQgPSBhbmltYXRpb24uZGF0YS5mb3JtYXRcbiAgICAgID8gYW5pbWF0aW9uLmRhdGEuZm9ybWF0KGVsYXBzZWQpXG4gICAgICA6IHRoaXMuZm9ybWF0RWxhcHNlZFRpbWUoZWxhcHNlZCk7XG5cbiAgICB0aGlzLmVtaXQoJ2VsYXBzZWQ6dXBkYXRlJywge1xuICAgICAgaWQ6IGFuaW1hdGlvbi5pZCxcbiAgICAgIGVsYXBzZWQsXG4gICAgICBmb3JtYXR0ZWQsXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIHRyYW5zaXRpb24gYW5pbWF0aW9uXG4gICAqL1xuICBwcml2YXRlIHVwZGF0ZVRyYW5zaXRpb24oXG4gICAgYW5pbWF0aW9uOiBUcmFuc2l0aW9uQW5pbWF0aW9uLFxuICAgIGVsYXBzZWRUaW1lOiBudW1iZXJcbiAgKTogdm9pZCB7XG4gICAgaWYgKCFhbmltYXRpb24uZHVyYXRpb24pIHJldHVybjtcblxuICAgIGNvbnN0IHByb2dyZXNzID0gTWF0aC5taW4oZWxhcHNlZFRpbWUgLyBhbmltYXRpb24uZHVyYXRpb24sIDEpO1xuICAgIGNvbnN0IGVhc2VkUHJvZ3Jlc3MgPSBhbmltYXRpb24uZWFzaW5nID8gYW5pbWF0aW9uLmVhc2luZyhwcm9ncmVzcykgOiBwcm9ncmVzcztcbiAgICBjb25zdCB7IGZyb20sIHRvIH0gPSBhbmltYXRpb24uZGF0YTtcblxuICAgIGxldCB2YWx1ZTtcbiAgICBpZiAodHlwZW9mIGZyb20gPT09ICdudW1iZXInICYmIHR5cGVvZiB0byA9PT0gJ251bWJlcicpIHtcbiAgICAgIHZhbHVlID0gZnJvbSArICh0byAtIGZyb20pICogZWFzZWRQcm9ncmVzcztcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gRm9yIG5vbi1udW1lcmljIHZhbHVlcywgc3dpdGNoIGF0IDUwJSBwcm9ncmVzc1xuICAgICAgdmFsdWUgPSBlYXNlZFByb2dyZXNzIDwgMC41ID8gZnJvbSA6IHRvO1xuICAgIH1cblxuICAgIHRoaXMuZW1pdCgndHJhbnNpdGlvbjp1cGRhdGUnLCB7XG4gICAgICBpZDogYW5pbWF0aW9uLmlkLFxuICAgICAgcHJvcGVydHk6IGFuaW1hdGlvbi5kYXRhLnByb3BlcnR5LFxuICAgICAgdmFsdWUsXG4gICAgICBwcm9ncmVzczogZWFzZWRQcm9ncmVzcyxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb21wbGV0ZSBhbiBhbmltYXRpb25cbiAgICovXG4gIHByaXZhdGUgY29tcGxldGVBbmltYXRpb24oYW5pbWF0aW9uOiBBbmltYXRpb24pOiB2b2lkIHtcbiAgICBpZiAoYW5pbWF0aW9uLm9uQ29tcGxldGUpIHtcbiAgICAgIGFuaW1hdGlvbi5vbkNvbXBsZXRlKGFuaW1hdGlvbik7XG4gICAgfVxuXG4gICAgdGhpcy5lbWl0KCdhbmltYXRpb246Y29tcGxldGUnLCBhbmltYXRpb24pO1xuICAgIHRoaXMudW5yZWdpc3RlcihhbmltYXRpb24uaWQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBjdXJyZW50IHByb2dyZXNzIHZhbHVlIHdpdGggZWFzaW5nXG4gICAqL1xuICBwcml2YXRlIGdldEN1cnJlbnRQcm9ncmVzc1ZhbHVlKGFuaW1hdGlvbjogUHJvZ3Jlc3NBbmltYXRpb24pOiBudW1iZXIge1xuICAgIGNvbnN0IGVsYXBzZWRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCkgLSBhbmltYXRpb24uc3RhcnRUaW1lO1xuICAgIGlmICghYW5pbWF0aW9uLmR1cmF0aW9uKSByZXR1cm4gYW5pbWF0aW9uLmRhdGEudGFyZ2V0O1xuXG4gICAgY29uc3QgcHJvZ3Jlc3MgPSBNYXRoLm1pbihlbGFwc2VkVGltZSAvIGFuaW1hdGlvbi5kdXJhdGlvbiwgMSk7XG4gICAgY29uc3QgZWFzZWRQcm9ncmVzcyA9IGFuaW1hdGlvbi5lYXNpbmcgPyBhbmltYXRpb24uZWFzaW5nKHByb2dyZXNzKSA6IHByb2dyZXNzO1xuICAgIGNvbnN0IHsgY3VycmVudCwgdGFyZ2V0IH0gPSBhbmltYXRpb24uZGF0YTtcblxuICAgIHJldHVybiBjdXJyZW50ICsgKHRhcmdldCAtIGN1cnJlbnQpICogZWFzZWRQcm9ncmVzcztcbiAgfVxuXG4gIC8qKlxuICAgKiBGb3JtYXQgZWxhcHNlZCB0aW1lXG4gICAqL1xuICBwcml2YXRlIGZvcm1hdEVsYXBzZWRUaW1lKGVsYXBzZWRNczogbnVtYmVyKTogc3RyaW5nIHtcbiAgICBjb25zdCBzZWNvbmRzID0gTWF0aC5mbG9vcihlbGFwc2VkTXMgLyAxMDAwKTtcbiAgICBjb25zdCBtaW51dGVzID0gTWF0aC5mbG9vcihzZWNvbmRzIC8gNjApO1xuICAgIGNvbnN0IGhvdXJzID0gTWF0aC5mbG9vcihtaW51dGVzIC8gNjApO1xuXG4gICAgaWYgKGhvdXJzID4gMCkge1xuICAgICAgcmV0dXJuIGAke2hvdXJzfWggJHttaW51dGVzICUgNjB9bSAke3NlY29uZHMgJSA2MH1zYDtcbiAgICB9IGVsc2UgaWYgKG1pbnV0ZXMgPiAwKSB7XG4gICAgICByZXR1cm4gYCR7bWludXRlc31tICR7c2Vjb25kcyAlIDYwfXNgO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gYCR7c2Vjb25kc31zYDtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0IGFuaW1hdGlvbiBieSBJRFxuICAgKi9cbiAgZ2V0QW5pbWF0aW9uKGlkOiBzdHJpbmcpOiBBbmltYXRpb24gfCB1bmRlZmluZWQge1xuICAgIHJldHVybiB0aGlzLmFuaW1hdGlvbnMuZ2V0KGlkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYWxsIGFjdGl2ZSBhbmltYXRpb25zXG4gICAqL1xuICBnZXRBY3RpdmVBbmltYXRpb25zKCk6IEFuaW1hdGlvbltdIHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLmFuaW1hdGlvbnMudmFsdWVzKCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIHNjaGVkdWxlciBpcyBydW5uaW5nXG4gICAqL1xuICBpc0FjdGl2ZSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5pc1J1bm5pbmc7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRhcmdldCBGUFNcbiAgICovXG4gIGdldFRhcmdldEZQUygpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLnRhcmdldEZQUztcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGFyZ2V0IEZQU1xuICAgKi9cbiAgc2V0VGFyZ2V0RlBTKGZwczogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy50YXJnZXRGUFMgPSBmcHM7XG4gICAgdGhpcy5mcmFtZUludGVydmFsID0gMTAwMCAvIGZwcztcblxuICAgIC8vIFJlc3RhcnQgdGhlIGxvb3Agd2l0aCBuZXcgaW50ZXJ2YWwgaWYgcnVubmluZ1xuICAgIGlmICh0aGlzLmlzUnVubmluZykge1xuICAgICAgdGhpcy5zdG9wKCk7XG4gICAgICB0aGlzLnN0YXJ0KCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENsZWFyIGFsbCBhbmltYXRpb25zXG4gICAqL1xuICBjbGVhckFsbCgpOiB2b2lkIHtcbiAgICBmb3IgKGNvbnN0IGFuaW1hdGlvbiBvZiB0aGlzLmFuaW1hdGlvbnMudmFsdWVzKCkpIHtcbiAgICAgIGlmIChhbmltYXRpb24ub25Db21wbGV0ZSkge1xuICAgICAgICBhbmltYXRpb24ub25Db21wbGV0ZShhbmltYXRpb24pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuYW5pbWF0aW9ucy5jbGVhcigpO1xuICAgIHRoaXMuc3RvcCgpO1xuICAgIHRoaXMuZW1pdCgnc2NoZWR1bGVyOmNsZWFyZWQnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEaXNwb3NlIG9mIHRoZSBzY2hlZHVsZXJcbiAgICovXG4gIGRpc3Bvc2UoKTogdm9pZCB7XG4gICAgdGhpcy5kaXNwb3NlZCA9IHRydWU7XG4gICAgdGhpcy5jbGVhckFsbCgpO1xuICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgdGhlIHNjaGVkdWxlciBoYXMgYmVlbiBkaXNwb3NlZFxuICAgKi9cbiAgaXNEaXNwb3NlZCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5kaXNwb3NlZDtcbiAgfVxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBS0EsSUFBQUEsT0FBQSxHQUFBQyxPQUFBO0FBQ0EsSUFBQUMsV0FBQSxHQUFBRCxPQUFBO0FBTkE7QUFDQTtBQUNBO0FBQ0E7O0FBMERPLE1BQU1FLGtCQUFrQixTQUFTQyxvQkFBWSxDQUFDO0VBQzNDQyxVQUFVLEdBQTJCLElBQUlDLEdBQUcsQ0FBQyxDQUFDO0VBQzlDQyxhQUFhLEdBQTBCLElBQUk7RUFDM0NDLFNBQVMsR0FBVyxFQUFFO0VBQ3RCQyxhQUFhLEdBQVcsQ0FBQztFQUV6QkMsU0FBUyxHQUFZLEtBQUs7RUFDMUJDLFFBQVEsR0FBWSxLQUFLOztFQUVqQztFQUNBLE9BQWdCQyxNQUFNLEdBQUc7SUFDdkJDLE1BQU0sRUFBR0MsQ0FBUyxJQUFLQSxDQUFDO0lBQ3hCQyxVQUFVLEVBQUdELENBQVMsSUFBS0EsQ0FBQyxHQUFHQSxDQUFDO0lBQ2hDRSxXQUFXLEVBQUdGLENBQVMsSUFBS0EsQ0FBQyxJQUFJLENBQUMsR0FBR0EsQ0FBQyxDQUFDO0lBQ3ZDRyxhQUFhLEVBQUdILENBQVMsSUFBTUEsQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLEdBQUdBLENBQUMsR0FBR0EsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBR0EsQ0FBQyxJQUFJQSxDQUFFO0lBQzFFSSxXQUFXLEVBQUdKLENBQVMsSUFBS0EsQ0FBQyxHQUFHQSxDQUFDLEdBQUdBLENBQUM7SUFDckNLLFlBQVksRUFBR0wsQ0FBUyxJQUFLLEVBQUVBLENBQUMsR0FBR0EsQ0FBQyxHQUFHQSxDQUFDLEdBQUcsQ0FBQztJQUM1Q00sY0FBYyxFQUFHTixDQUFTLElBQ3hCQSxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsR0FBR0EsQ0FBQyxHQUFHQSxDQUFDLEdBQUdBLENBQUMsR0FBRyxDQUFDQSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsR0FBR0EsQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBR0EsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUM7SUFDbkVPLGNBQWMsRUFBR1AsQ0FBUyxJQUFLO01BQzdCLE1BQU1RLENBQUMsR0FBRyxHQUFHO01BQ2IsT0FBT0MsSUFBSSxDQUFDQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxHQUFHVixDQUFDLENBQUMsR0FBR1MsSUFBSSxDQUFDRSxHQUFHLENBQUMsQ0FBQ1gsQ0FBQyxHQUFHUSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsR0FBR0MsSUFBSSxDQUFDRyxFQUFFLENBQUMsR0FBR0osQ0FBQyxDQUFDLEdBQUcsQ0FBQztJQUM3RTtFQUNGLENBQUM7O0VBRUQ7RUFDQSxPQUFnQkssYUFBYSxHQUFHO0lBQzlCQyxJQUFJLEVBQUUsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUM7SUFDeERDLEtBQUssRUFBRSxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUM7SUFDL0NDLEtBQUssRUFBRSxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQztJQUN6REMsSUFBSSxFQUFFLENBQUMsR0FBRyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDO0lBQzNCQyxJQUFJLEVBQUUsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDO0lBQzlDQyxVQUFVLEVBQUUsQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxLQUFLLENBQUM7SUFDeENDLG1CQUFtQixFQUFFLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxLQUFLLENBQUM7SUFDL0RDLElBQUksRUFBRSxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDO0lBQ3BDQyxTQUFTLEVBQUUsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQztJQUMxQkMsWUFBWSxFQUFFLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDO0lBQ2hF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