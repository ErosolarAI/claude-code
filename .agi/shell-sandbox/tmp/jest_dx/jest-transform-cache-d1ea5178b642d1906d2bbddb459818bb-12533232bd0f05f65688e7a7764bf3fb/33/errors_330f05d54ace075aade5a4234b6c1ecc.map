{"version":3,"names":["buildError","action","error","context","message","Error","String","contextDetails","formatContext","entries","Object","filter","value","undefined","length","map","key","formatContextKey","formatContextValue","join","slice","toUpperCase"],"sources":["errors.ts"],"sourcesContent":["export type ErrorContextValue = string | number | boolean | null | undefined;\n\nexport type ErrorContext = Record<string, ErrorContextValue>;\n\nexport function buildError(action: string, error: unknown, context?: ErrorContext): string {\n  const message = error instanceof Error ? error.message : String(error);\n  const contextDetails = formatContext(context);\n  return contextDetails ? `Error ${action}: ${message} (${contextDetails})` : `Error ${action}: ${message}`;\n}\n\nfunction formatContext(context?: ErrorContext): string {\n  if (!context) {\n    return '';\n  }\n  const entries = Object.entries(context).filter(([, value]) => value !== undefined && value !== null);\n  if (entries.length === 0) {\n    return '';\n  }\n  return entries\n    .map(([key, value]) => `${formatContextKey(key)} ${formatContextValue(value)}`)\n    .join(', ');\n}\n\nfunction formatContextKey(key: string): string {\n  if (!key) {\n    return key;\n  }\n  return key.slice(0, 1).toUpperCase() + key.slice(1);\n}\n\nfunction formatContextValue(value: ErrorContextValue): string {\n  if (typeof value === 'string') {\n    return value || '(empty)';\n  }\n  if (typeof value === 'number' || typeof value === 'boolean') {\n    return String(value);\n  }\n  return '(unknown)';\n}\n"],"mappings":";;;;;;AAIO,SAASA,UAAUA,CAACC,MAAc,EAAEC,KAAc,EAAEC,OAAsB,EAAU;EACzF,MAAMC,OAAO,GAAGF,KAAK,YAAYG,KAAK,GAAGH,KAAK,CAACE,OAAO,GAAGE,MAAM,CAACJ,KAAK,CAAC;EACtE,MAAMK,cAAc,GAAGC,aAAa,CAACL,OAAO,CAAC;EAC7C,OAAOI,cAAc,GAAG,SAASN,MAAM,KAAKG,OAAO,KAAKG,cAAc,GAAG,GAAG,SAASN,MAAM,KAAKG,OAAO,EAAE;AAC3G;AAEA,SAASI,aAAaA,CAACL,OAAsB,EAAU;EACrD,IAAI,CAACA,OAAO,EAAE;IACZ,OAAO,EAAE;EACX;EACA,MAAMM,OAAO,GAAGC,MAAM,CAACD,OAAO,CAACN,OAAO,CAAC,CAACQ,MAAM,CAAC,CAAC,GAAGC,KAAK,CAAC,KAAKA,KAAK,KAAKC,SAAS,IAAID,KAAK,KAAK,IAAI,CAAC;EACpG,IAAIH,OAAO,CAACK,MAAM,KAAK,CAAC,EAAE;IACxB,OAAO,EAAE;EACX;EACA,OAAOL,OAAO,CACXM,GAAG,CAAC,CAAC,CAACC,GAAG,EAAEJ,KAAK,CAAC,KAAK,GAAGK,gBAAgB,CAACD,GAAG,CAAC,IAAIE,kBAAkB,CAACN,KAAK,CAAC,EAAE,CAAC,CAC9EO,IAAI,CAAC,IAAI,CAAC;AACf;AAEA,SAASF,gBAAgBA,CAACD,GAAW,EAAU;EAC7C,IAAI,CAACA,GAAG,EAAE;IACR,OAAOA,GAAG;EACZ;EACA,OAAOA,GAAG,CAACI,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,GAAGL,GAAG,CAACI,KAAK,CAAC,CAAC,CAAC;AACrD;AAEA,SAASF,kBAAkBA,CAACN,KAAwB,EAAU;EAC5D,IAAI,OAAOA,KAAK,KAAK,QAAQ,EAAE;IAC7B,OAAOA,KAAK,IAAI,SAAS;EAC3B;EACA,IAAI,OAAOA,KAAK,KAAK,QAAQ,IAAI,OAAOA,KAAK,KAAK,SAAS,EAAE;IAC3D,OAAON,MAAM,CAACM,KAAK,CAAC;EACtB;EACA,OAAO,WAAW;AACpB","ignoreList":[]}