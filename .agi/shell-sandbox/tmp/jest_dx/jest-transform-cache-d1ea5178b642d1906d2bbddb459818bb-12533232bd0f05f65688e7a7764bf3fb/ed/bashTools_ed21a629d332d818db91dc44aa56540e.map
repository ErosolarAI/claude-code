{"version":3,"names":["cov_167wc969nr","actualCoverage","spawn","mkdir","join","reportToolProgress","validateBashCommand","analyzeBashFlow","buildError","verifiedSuccess","verifiedFailure","analyzeOutput","OutputPatterns","createCommandCheck","createErrorFixer","logDebug","ANSI_RESET","s","ANSI_RED","ANSI_GREEN","ANSI_YELLOW","ANSI_BLUE","ANSI_CYAN","ANSI_DIM","ANSI_BOLD","ANSI_RED_BOLD","ANSI_GREEN_BOLD","ANSI_YELLOW_BOLD","BackgroundShell","process","outputBuffer","errorBuffer","lastReadPosition","isRunning","exitCode","constructor","id","command","workingDir","f","start","cwd","stdio","stdout","on","data","push","toString","stderr","code","b","getNewOutput","filter","allOutput","newOutput","substring","length","allError","lines","split","line","test","status","kill","setTimeout","killed","BackgroundShellManager","shells","Map","nextId","createShell","shellId","shell","set","getShell","get","killShell","delete","listShells","Array","from","keys","shellManager","execWithStreaming","options","MAX_BUFFER_BYTES","Promise","resolve","reject","stdoutBytes","stderrBytes","stdoutTruncated","stderrTruncated","lineCount","child","env","timeoutId","timeout","processLine","isStderr","trimmedLine","slice","current","message","appendChunk","chunks","isStdout","byteLength","used","available","subarray","consumed","stdoutBuffer","text","pop","trim","stderrBuffer","buildOutput","truncated","output","limitKb","Math","round","notice","clearTimeout","stdoutText","stderrText","error","findGuiLauncher","_command","errorFixerCache","getErrorFixer","fixer","getSmartTimeout","cmd","toLowerCase","sandboxCache","ensureSandboxPaths","pending","createSandboxPaths","root","home","cache","config","tmp","all","map","dir","recursive","buildSandboxEnv","envPreference","preserveHome","Boolean","paths","AGI_SANDBOX_ROOT","AGI_SANDBOX_HOME","AGI_SANDBOX_TMP","createBashTools","name","description","parameters","type","properties","run_in_background","required","handler","args","runInBackground","userTimeout","replace","interactiveCommands","flowWarnings","warning","suffix","suggestion","validation","valid","warnings","guiBlocked","startTime","Date","now","durationMs","combinedOutput","commandLower","patterns","startsWith","git","npm","analysis","commandCheck","errorFixer","aiErrors","aiGuidance","formatForAI","suggestions","firstError","suggestedFixes","unshift","isFailure","check","passed","details","matchedPattern","isSuccess","execError","combinedError","bash_id","additionalProperties","bashId","filterStr","RegExp","undefined","parts","shell_id","success"],"sources":["bashTools.ts"],"sourcesContent":["import { spawn, ChildProcess } from 'node:child_process';\nimport { mkdir } from 'node:fs/promises';\nimport { join } from 'node:path';\nimport type { ToolDefinition } from '../core/toolRuntime.js';\nimport { reportToolProgress } from '../core/toolRuntime.js';\nimport { validateBashCommand, SmartFixer } from '../core/errors/safetyValidator.js';\nimport { toStructuredError } from '../core/errors/errorTypes.js';\nimport { analyzeBashFlow } from '../core/bashCommandGuidance.js';\nimport { buildError } from '../core/errors.js';\nimport {\n  verifiedSuccess,\n  verifiedFailure,\n  analyzeOutput,\n  OutputPatterns,\n  createCommandCheck,\n} from '../core/resultVerification.js';\nimport { createErrorFixer, type AIErrorFixer } from '../core/aiErrorFixer.js';\nimport { logDebug } from '../utils/debugLogger.js';\n\n// ANSI color codes for enhanced output\nconst ANSI_RESET = '\\x1b[0m';\nconst ANSI_RED = '\\x1b[31m';\nconst ANSI_GREEN = '\\x1b[32m';\nconst ANSI_YELLOW = '\\x1b[33m';\nconst ANSI_BLUE = '\\x1b[34m';\nconst ANSI_CYAN = '\\x1b[36m';\nconst ANSI_DIM = '\\x1b[2m';\nconst ANSI_BOLD = '\\x1b[1m';\nconst ANSI_RED_BOLD = '\\x1b[1;31m';\nconst ANSI_GREEN_BOLD = '\\x1b[1;32m';\nconst ANSI_YELLOW_BOLD = '\\x1b[1;33m';\n\n// ============================================================================\n// Background Shell Manager (consolidated from backgroundBashTools.ts)\n// ============================================================================\n\nclass BackgroundShell {\n  private process?: ChildProcess;\n  private outputBuffer: string[] = [];\n  private errorBuffer: string[] = [];\n  private lastReadPosition = 0;\n  private isRunning = false;\n  private exitCode?: number;\n\n  constructor(\n    public readonly id: string,\n    private command: string,\n    private workingDir: string\n  ) {}\n\n  start(): void {\n    this.process = spawn('bash', ['-c', this.command], {\n      cwd: this.workingDir,\n      stdio: ['ignore', 'pipe', 'pipe'],\n    });\n\n    this.isRunning = true;\n\n    this.process.stdout?.on('data', (data) => {\n      this.outputBuffer.push(data.toString());\n    });\n\n    this.process.stderr?.on('data', (data) => {\n      this.errorBuffer.push(data.toString());\n    });\n\n    this.process.on('exit', (code) => {\n      this.exitCode = code ?? 0;\n      this.isRunning = false;\n    });\n  }\n\n  getNewOutput(filter?: RegExp): { stdout: string; stderr: string; status: string } {\n    const allOutput = this.outputBuffer.join('');\n    const newOutput = allOutput.substring(this.lastReadPosition);\n    this.lastReadPosition = allOutput.length;\n\n    const allError = this.errorBuffer.join('');\n\n    let stdout = newOutput;\n    if (filter) {\n      const lines = newOutput.split('\\n');\n      stdout = lines.filter(line => filter.test(line)).join('\\n');\n    }\n\n    return {\n      stdout,\n      stderr: allError,\n      status: this.isRunning ? 'running' : `exited with code ${this.exitCode}`,\n    };\n  }\n\n  kill(): void {\n    if (this.process) {\n      this.process.kill('SIGTERM');\n      setTimeout(() => {\n        if (this.process && !this.process.killed) {\n          this.process.kill('SIGKILL');\n        }\n      }, 5000);\n    }\n  }\n}\n\nclass BackgroundShellManager {\n  private shells = new Map<string, BackgroundShell>();\n  private nextId = 1;\n\n  createShell(command: string, workingDir: string): string {\n    const shellId = `shell_${this.nextId++}`;\n    const shell = new BackgroundShell(shellId, command, workingDir);\n    this.shells.set(shellId, shell);\n    shell.start();\n    return shellId;\n  }\n\n  getShell(shellId: string): BackgroundShell | undefined {\n    return this.shells.get(shellId);\n  }\n\n  killShell(shellId: string): boolean {\n    const shell = this.shells.get(shellId);\n    if (shell) {\n      shell.kill();\n      this.shells.delete(shellId);\n      return true;\n    }\n    return false;\n  }\n\n  listShells(): string[] {\n    return Array.from(this.shells.keys());\n  }\n}\n\n// Global shell manager instance\nconst shellManager = new BackgroundShellManager();\n\n// ============================================================================\n// Streaming Execution\n// ============================================================================\n\nasync function execWithStreaming(\n  command: string,\n  options: { cwd: string; timeout: number; env: NodeJS.ProcessEnv }\n): Promise<{ stdout: string; stderr: string; exitCode: number }> {\n  const MAX_BUFFER_BYTES = 1_000_000; // ~1MB per stream to prevent OOM on chatty commands\n  return new Promise((resolve, reject) => {\n    const stdout: string[] = [];\n    const stderr: string[] = [];\n    let stdoutBytes = 0;\n    let stderrBytes = 0;\n    let stdoutTruncated = false;\n    let stderrTruncated = false;\n    let lineCount = 0;\n    let killed = false;\n\n    const child = spawn('bash', ['-c', command], {\n      cwd: options.cwd,\n      env: options.env,\n      stdio: ['ignore', 'pipe', 'pipe'],\n    });\n\n    const timeoutId = setTimeout(() => {\n      killed = true;\n      child.kill('SIGTERM');\n      setTimeout(() => child.kill('SIGKILL'), 1000);\n    }, options.timeout);\n\n    const processLine = (line: string, isStderr: boolean) => {\n      lineCount++;\n      const trimmedLine = line.slice(0, 80);\n      reportToolProgress({\n        current: lineCount,\n        message: isStderr ? `stderr: ${trimmedLine}` : trimmedLine,\n      });\n    };\n\n    const appendChunk = (chunks: string[], data: Buffer, isStdout: boolean): void => {\n      const byteLength = data.length;\n      const used = isStdout ? stdoutBytes : stderrBytes;\n      const available = MAX_BUFFER_BYTES - used;\n      if (available <= 0) {\n        if (isStdout) stdoutTruncated = true;\n        else stderrTruncated = true;\n        return;\n      }\n\n      const slice = byteLength > available ? data.subarray(0, available) : data;\n      chunks.push(slice.toString());\n      const consumed = slice.length; // Buffer length in bytes\n      if (isStdout) {\n        stdoutBytes += consumed;\n        if (byteLength > available) stdoutTruncated = true;\n      } else {\n        stderrBytes += consumed;\n        if (byteLength > available) stderrTruncated = true;\n      }\n    };\n\n    let stdoutBuffer = '';\n    child.stdout?.on('data', (data: Buffer) => {\n      const text = data.toString();\n      appendChunk(stdout, data, true);\n      stdoutBuffer += text;\n      if (stdoutBuffer.length > 4096) {\n        stdoutBuffer = stdoutBuffer.slice(-2048);\n      }\n      const lines = stdoutBuffer.split('\\n');\n      stdoutBuffer = lines.pop() || '';\n      for (const line of lines) {\n        if (line.trim()) processLine(line, false);\n      }\n    });\n\n    let stderrBuffer = '';\n    child.stderr?.on('data', (data: Buffer) => {\n      const text = data.toString();\n      appendChunk(stderr, data, false);\n      stderrBuffer += text;\n      if (stderrBuffer.length > 4096) {\n        stderrBuffer = stderrBuffer.slice(-2048);\n      }\n      const lines = stderrBuffer.split('\\n');\n      stderrBuffer = lines.pop() || '';\n      for (const line of lines) {\n        if (line.trim()) processLine(line, true);\n      }\n    });\n\n    const buildOutput = (chunks: string[], truncated: boolean): string => {\n      const output = chunks.join('');\n      if (!truncated) return output;\n      const limitKb = Math.round(MAX_BUFFER_BYTES / 1024);\n      const notice = `\\n[output truncated after ${limitKb}KB to protect memory; rerun with narrower command to see full output]`;\n      return output ? `${output}${notice}` : notice.trim();\n    };\n\n    child.on('close', (code) => {\n      clearTimeout(timeoutId);\n      if (stdoutBuffer.trim()) processLine(stdoutBuffer, false);\n      if (stderrBuffer.trim()) processLine(stderrBuffer, true);\n\n      const stdoutText = buildOutput(stdout, stdoutTruncated);\n      const stderrText = buildOutput(stderr, stderrTruncated);\n\n      if (killed) {\n        reject({ killed: true, stdout: stdoutText, stderr: stderrText, code });\n      } else {\n        resolve({ stdout: stdoutText, stderr: stderrText, exitCode: code ?? 0 });\n      }\n    });\n\n    child.on('error', (error) => {\n      clearTimeout(timeoutId);\n      reject(error);\n    });\n  });\n}\n\n// ============================================================================\n// Utility Functions\n// ============================================================================\n\n// Keep the shell responsive while long commands run\nfunction findGuiLauncher(_command: string): string | null {\n  return null;\n}\n\nconst errorFixerCache = new Map<string, AIErrorFixer>();\nfunction getErrorFixer(workingDir: string): AIErrorFixer {\n  let fixer = errorFixerCache.get(workingDir);\n  if (!fixer) {\n    fixer = createErrorFixer({ workingDir });\n    errorFixerCache.set(workingDir, fixer);\n  }\n  return fixer;\n}\n\n/**\n * Smart timeout detection based on command type\n */\nfunction getSmartTimeout(command: string): number {\n  const cmd = command.toLowerCase().trim();\n\n  // All commands get 24 hours - effectively infinite timeout\n  return 24 * 60 * 60 * 1000;\n}\n\n// ============================================================================\n// Sandbox Environment\n// ============================================================================\n\ninterface SandboxPaths {\n  root: string;\n  home: string;\n  cache: string;\n  config: string;\n  data: string;\n  tmp: string;\n}\n\nconst sandboxCache = new Map<string, Promise<SandboxPaths>>();\n\nasync function ensureSandboxPaths(workingDir: string): Promise<SandboxPaths> {\n  let pending = sandboxCache.get(workingDir);\n  if (!pending) {\n    pending = createSandboxPaths(workingDir);\n    sandboxCache.set(workingDir, pending);\n  }\n  return pending;\n}\n\nasync function createSandboxPaths(workingDir: string): Promise<SandboxPaths> {\n  const root = join(workingDir, '.agi', 'shell-sandbox');\n  const home = join(root, 'home');\n  const cache = join(root, 'cache');\n  const config = join(root, 'config');\n  const data = join(root, 'data');\n  const tmp = join(root, 'tmp');\n  await Promise.all([home, cache, config, data, tmp].map((dir) => mkdir(dir, { recursive: true })));\n  return { root, home, cache, config, data, tmp };\n}\n\nexport async function buildSandboxEnv(\n  workingDir: string,\n  options?: { preserveHome?: boolean }\n): Promise<NodeJS.ProcessEnv> {\n  const envPreference = process.env['AGI_PRESERVE_HOME'];\n  const preserveHome = envPreference === '1' ? true : envPreference === '0' ? false : Boolean(options?.preserveHome);\n  const paths = await ensureSandboxPaths(workingDir);\n\n  const env: NodeJS.ProcessEnv = {\n    ...process.env,\n    AGI_SANDBOX_ROOT: paths.root,\n    AGI_SANDBOX_HOME: paths.home,\n    AGI_SANDBOX_TMP: paths.tmp,\n  };\n\n  if (!preserveHome) env['HOME'] = paths.home;\n  env['XDG_CACHE_HOME'] = paths.cache;\n  env['XDG_CONFIG_HOME'] = paths.config;\n  env['XDG_DATA_HOME'] = paths.data;\n  env['TMPDIR'] = paths.tmp;\n  env['TMP'] = paths.tmp;\n  env['TEMP'] = paths.tmp;\n\n  return env;\n}\n\n// ============================================================================\n// Main Tool Factory\n// ============================================================================\n\nexport function createBashTools(workingDir: string): ToolDefinition[] {\n  return [\n    // Main bash execution tool\n    {\n      name: 'execute_bash',\n      description: 'Execute a bash command. Commands auto-timeout based on type. Use run_in_background: true for servers/watchers.',\n      parameters: {\n        type: 'object',\n        properties: {\n          command: { type: 'string', description: 'The bash command to execute' },\n          timeout: { type: 'number', description: 'Timeout in milliseconds (smart defaults apply)' },\n          run_in_background: { type: 'boolean', description: 'Run in background for long-running processes' },\n        },\n        required: ['command'],\n      },\n      handler: async (args) => {\n        let command = args['command'] as string;\n        const runInBackground = args['run_in_background'] === true;\n        const userTimeout = args['timeout'] as number | undefined;\n        const timeout = userTimeout ?? getSmartTimeout(command);\n\n        // Strip sudo and password-requiring commands to avoid interactive prompts\n        if (/^\\s*sudo\\s+/i.test(command)) {\n          command = command.replace(/^\\s*sudo\\s+/i, '');\n          logDebug('[Bash] Stripped sudo prefix to avoid password prompt');\n        }\n        // Block commands that typically require passwords or interactive input\n        const interactiveCommands = /\\b(passwd|su\\s|login|ssh\\s(?!-o)|sftp|ftp|mysql\\s+-p|psql\\s+-W)\\b/i;\n        if (interactiveCommands.test(command)) {\n          return 'Skipped: Command requires interactive authentication. Use non-interactive alternatives.';\n        }\n\n        // Flow guidance (debug only - don't pollute chat)\n        const flowWarnings = analyzeBashFlow(command);\n        for (const warning of flowWarnings) {\n          const suffix = warning.suggestion ? ` â€” ${warning.suggestion}` : '';\n          logDebug(`[Bash Flow] ${warning.message}${suffix}`);\n        }\n\n        // Safety validation (informational only in fully authorized security environment)\n        const validation = validateBashCommand(command);\n        if (!validation.valid) {\n          // In fully authorized security environment, log warnings but allow execution\n          logDebug(`[Bash Safety] Command validation failed but proceeding in authorized environment: ${validation.error?.message || 'Unknown error'}`);\n          // Continue execution - all operations pre-authorized\n        }\n\n        // Safety warnings (debug only - don't pollute chat)\n        if (validation.warnings.length > 0) {\n          for (const warning of validation.warnings) {\n            logDebug(`[Bash Safety] WARNING (authorized environment - proceeding): ${warning}`);\n          }\n        }\n\n        // GUI blocking check (disabled for red team ops in authorized environment)\n        const guiBlocked = findGuiLauncher(command);\n        if (guiBlocked) {\n          logDebug(`[Bash Safety] GUI launcher detected but proceeding in authorized environment: ${guiBlocked}`);\n          // Continue execution - all operations pre-authorized\n        }\n\n        // Background execution\n        if (runInBackground) {\n          const shellId = shellManager.createShell(command, workingDir);\n          return `Background shell started: ${shellId}\\n\\nUse BashOutput with bash_id=\"${shellId}\" to monitor.\\nUse KillShell with shell_id=\"${shellId}\" to terminate.`;\n        }\n\n        // Foreground execution\n        const startTime = Date.now();\n        try {\n          const env = await buildSandboxEnv(workingDir);\n          const { stdout, stderr, exitCode } = await execWithStreaming(command, { cwd: workingDir, timeout, env });\n          const durationMs = Date.now() - startTime;\n          const combinedOutput = [stdout, stderr].filter(Boolean).join('\\n');\n\n          const commandLower = command.toLowerCase().trim();\n          let patterns = OutputPatterns.command;\n          if (commandLower.startsWith('git ') || commandLower === 'git') patterns = OutputPatterns.git;\n          else if (commandLower.startsWith('npm ') || commandLower.startsWith('npx ')) patterns = OutputPatterns.npm;\n\n          const analysis = analyzeOutput(combinedOutput, patterns, exitCode);\n          const commandCheck = createCommandCheck('Command execution', exitCode, combinedOutput);\n\n          if (exitCode !== 0) {\n            const errorFixer = getErrorFixer(workingDir);\n            const aiErrors = errorFixer.analyzeOutput(combinedOutput, command);\n            const aiGuidance = aiErrors.length > 0 ? errorFixer.formatForAI(aiErrors) : '';\n            const suggestions = ['Review the error message', 'Fix the issue and retry'];\n            const firstError = aiErrors[0];\n            if (firstError?.suggestedFixes[0]) {\n              suggestions.unshift(`AI Suggestion: ${firstError.suggestedFixes[0].description}`);\n            }\n\n            return verifiedFailure(\n              `Command failed with exit code ${exitCode}`,\n              `Command: ${command}\\n\\nOutput:\\n${combinedOutput || '(none)'}${aiGuidance}`,\n              suggestions,\n              [commandCheck],\n              durationMs\n            );\n          }\n\n          if (analysis.isFailure) {\n            return verifiedFailure(\n              `Command completed with exit code 0 but output indicates failure`,\n              `Command: ${command}\\n\\n${ANSI_RED_BOLD}Output:${ANSI_RESET}\\n${combinedOutput || '(no output)'}`,\n              ['Review the error message in the output', 'Fix the underlying issue and retry'],\n              [commandCheck, { check: 'Output analysis', passed: false, details: `Failure pattern: ${analysis.matchedPattern}` }],\n              durationMs\n            );\n          }\n\n          return verifiedSuccess(\n            combinedOutput.trim() ? `Command executed successfully` : `Command executed successfully (no output)`,\n            `Command: ${command}${combinedOutput.trim() ? `\\n\\n${ANSI_GREEN_BOLD}Output:${ANSI_RESET}\\n${combinedOutput}` : ''}`,\n            [commandCheck, ...(analysis.isSuccess ? [{ check: 'Output analysis', passed: true, details: `Success pattern matched` }] : [])],\n            durationMs\n          );\n        } catch (error: unknown) {\n          const execError = error as { code?: number; stdout?: string; stderr?: string; message?: string; killed?: boolean };\n          const durationMs = Date.now() - startTime;\n          const exitCode = execError.code ?? 1;\n          const combinedError = [execError.stdout, execError.stderr, execError.message].filter(Boolean).join('\\n');\n\n          if (execError.killed) {\n            return verifiedFailure(\n              `Command timed out after ${timeout}ms`,\n              `Command: ${command}\\n\\nPartial output:\\n${combinedError || '(none)'}`,\n              ['Increase timeout if command legitimately needs more time', 'Check if command is hanging'],\n              [{ check: 'Timeout', passed: false, details: `Exceeded ${timeout}ms` }],\n              durationMs\n            );\n          }\n\n          const errorFixer = getErrorFixer(workingDir);\n          const aiErrors = errorFixer.analyzeOutput(combinedError, command);\n          const aiGuidance = aiErrors.length > 0 ? errorFixer.formatForAI(aiErrors) : '';\n          const suggestions = ['Review the error message', 'Fix the issue and retry'];\n          const firstError = aiErrors[0];\n          if (firstError?.suggestedFixes[0]) {\n            suggestions.unshift(`AI Suggestion: ${firstError.suggestedFixes[0].description}`);\n          }\n\n          return verifiedFailure(\n            `Command failed with exit code ${exitCode}`,\n            `Command: ${command}\\n\\nError output:\\n${combinedError || '(none)'}${aiGuidance}`,\n            suggestions,\n            [createCommandCheck('Command execution', exitCode, combinedError)],\n            durationMs\n          );\n        }\n      },\n    },\n\n    // Background shell output retrieval\n    {\n      name: 'BashOutput',\n      description: 'Retrieve output from a running or completed background bash shell.',\n      parameters: {\n        type: 'object',\n        properties: {\n          bash_id: { type: 'string', description: 'The ID of the background shell' },\n          filter: { type: 'string', description: 'Optional regex to filter output lines' },\n        },\n        required: ['bash_id'],\n        additionalProperties: false,\n      },\n      handler: async (args) => {\n        const bashId = args['bash_id'];\n        const filterStr = args['filter'];\n\n        if (typeof bashId !== 'string' || !bashId.trim()) {\n          return 'Error: bash_id must be a non-empty string.';\n        }\n\n        try {\n          const shell = shellManager.getShell(bashId);\n          if (!shell) {\n            const available = shellManager.listShells();\n            return `Error: Shell \"${bashId}\" not found.\\n\\nAvailable: ${available.length > 0 ? available.join(', ') : 'none'}`;\n          }\n\n          const filter = filterStr && typeof filterStr === 'string' ? new RegExp(filterStr) : undefined;\n          const { stdout, stderr, status } = shell.getNewOutput(filter);\n\n          const parts: string[] = [`Shell: ${bashId}`, `Status: ${status}`];\n          if (stdout) { parts.push('\\n=== New Output ==='); parts.push(stdout); }\n          if (stderr) { parts.push('\\n=== Errors ==='); parts.push(stderr); }\n          if (!stdout && !stderr) parts.push('\\n(No new output)');\n\n          return parts.join('\\n');\n        } catch (error: unknown) {\n          return buildError('retrieving shell output', error, { bash_id: bashId });\n        }\n      },\n    },\n\n    // Kill background shell\n    {\n      name: 'KillShell',\n      description: 'Kill a running background bash shell by its ID.',\n      parameters: {\n        type: 'object',\n        properties: {\n          shell_id: { type: 'string', description: 'The ID of the background shell to kill' },\n        },\n        required: ['shell_id'],\n        additionalProperties: false,\n      },\n      handler: async (args) => {\n        const shellId = args['shell_id'];\n\n        if (typeof shellId !== 'string' || !shellId.trim()) {\n          return 'Error: shell_id must be a non-empty string.';\n        }\n\n        try {\n          const success = shellManager.killShell(shellId);\n          if (success) {\n            return `Shell \"${shellId}\" has been terminated.`;\n          } else {\n            const available = shellManager.listShells();\n            return `Error: Shell \"${shellId}\" not found.\\n\\nAvailable: ${available.length > 0 ? available.join(', ') : 'none'}`;\n          }\n        } catch (error: unknown) {\n          return buildError('killing shell', error, { shell_id: shellId });\n        }\n      },\n    },\n  ];\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}