47e1c332dd492eaac22d0ae3e969c1d2
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.UnifiedUIRenderer = void 0;
exports.createBanner = createBanner;
exports.createSecurityBanner = createSecurityBanner;
exports.createSecuritySpinner = createSecuritySpinner;
exports.formatAuditProgress = formatAuditProgress;
exports.formatProgress = formatProgress;
exports.formatSecureToolsSummary = formatSecureToolsSummary;
exports.formatSecurityFinding = formatSecurityFinding;
exports.formatSecurityStatus = formatSecurityStatus;
exports.formatSecuritySummary = formatSecuritySummary;
var readline = _interopRequireWildcard(require("node:readline"));
var _nodeEvents = require("node:events");
var _nodeOs = require("node:os");
var _chalk = _interopRequireDefault(require("chalk"));
var _theme = require("./theme.js");
var _outputMode = require("./outputMode.js");
var _animatedStatus = require("./animatedStatus.js");
var _uiConstants = require("./uiConstants.js");
var _richText = require("./richText.js");
var _inputProtection = require("../core/inputProtection.js");
function _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }
function _interopRequireWildcard(e, t) { if ("function" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function (e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || "object" != typeof e && "function" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (const t in e) "default" !== t && {}.hasOwnProperty.call(e, t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, t)) && (i.get || i.set) ? o(f, t, i) : f[t] = e[t]); return f; })(e, t); }
/**
 * UnifiedUIRenderer - Claude Code style minimalist terminal UI.
 *
 * Goals:
 * - Single event pipeline for everything (prompt â†’ thought â†’ tool/build/test â†’ response).
 * - Pinned status/meta only (never in scrollback).
 * - Scrollback only shows events; no duplicate status like "Working on your request" or "Ready for prompts".
 * - Streaming: first chunk sets a one-line banner; remainder streams naturally (optional).
 * - Collapsible-like summaries: we format a compact heading with an ellipsis indicator, but avoid ctrl+o hints.
 */

// UI helper methods for security components
function createBanner(title, subtitle) {
  const lines = [];
  lines.push(_chalk.default.cyan('â•”' + 'â•'.repeat(68) + 'â•—'));
  lines.push(_chalk.default.cyan('â•‘ ') + _chalk.default.cyan.bold(title.padEnd(66)) + _chalk.default.cyan(' â•‘'));
  if (subtitle) {
    lines.push(_chalk.default.cyan('â•‘ ') + _chalk.default.white(subtitle.padEnd(66)) + _chalk.default.cyan(' â•‘'));
  }
  lines.push(_chalk.default.cyan('â•š' + 'â•'.repeat(68) + 'â•'));
  return lines.join('\n');
}
function formatProgress(phase, step, totalSteps) {
  const percentage = Math.round(step / totalSteps * 100);
  const progressBar = 'â–ˆ'.repeat(Math.floor(percentage / 5)) + 'â–‘'.repeat(20 - Math.floor(percentage / 5));
  return `${_chalk.default.cyan('â ‹')} ${_chalk.default.white(phase)}: [${_chalk.default.green(progressBar)}] ${percentage}% (${step}/${totalSteps})`;
}

// Apple Security UI compatibility methods (replaces AppleSecurityUI.ts)
function createSecurityBanner(title, subtitle) {
  const width = 70;
  const lines = [];
  lines.push(_chalk.default.cyan('â•'.repeat(width)));
  lines.push(`${_chalk.default.cyan('ðŸ›¡ï¸')} ${_chalk.default.cyan.bold(title.toUpperCase())}`);
  if (subtitle) {
    lines.push(_chalk.default.gray(`  ${subtitle}`));
  }
  lines.push(_chalk.default.cyan('â•'.repeat(width)));
  return lines.join('\n');
}
function createSecuritySpinner(message) {
  return `${_chalk.default.cyan('â ‹')} ${_chalk.default.white(message)}`;
}
function formatSecurityFinding(finding) {
  const severityColors = {
    critical: _chalk.default.redBright,
    high: _chalk.default.red,
    medium: _chalk.default.yellow,
    low: _chalk.default.blue,
    info: _chalk.default.gray
  };
  const severityIcons = {
    critical: _chalk.default.redBright('âš '),
    high: _chalk.default.red('â–²'),
    medium: _chalk.default.yellow('â–²'),
    low: _chalk.default.blue('â–¼'),
    info: _chalk.default.gray('â„¹')
  };
  const color = severityColors[finding.severity] || _chalk.default.white;
  const icon = severityIcons[finding.severity] || _chalk.default.gray('â„¹');
  const lines = [];
  lines.push(`${icon} ${color.bold(finding.name || finding.type || 'Finding')}`);
  lines.push(`  ${_chalk.default.gray('Description:')} ${_chalk.default.white(finding.description || 'No description')}`);
  if (finding.evidence) {
    lines.push(`  ${_chalk.default.gray('Evidence:')} ${_chalk.default.white(finding.evidence)}`);
  }
  if (finding.remediation) {
    lines.push(`  ${_chalk.default.gray('Remediation:')} ${_chalk.default.green(finding.remediation)}`);
  }
  return lines.join('\n');
}
function formatSecuritySummary(results) {
  const lines = [];
  lines.push(_chalk.default.cyan('â•'.repeat(70)));
  lines.push(`${_chalk.default.cyan('ðŸ›¡ï¸')} ${_chalk.default.cyan.bold('SECURITY AUDIT SUMMARY')}`);
  lines.push(_chalk.default.cyan('â•'.repeat(70)));
  lines.push(`  ${_chalk.default.gray('Campaign:')} ${_chalk.default.white(results.campaign || 'Unknown')}`);
  lines.push(`  ${_chalk.default.gray('Start Time:')} ${_chalk.default.white(results.startTime || 'Unknown')}`);
  if (results.endTime) {
    lines.push(`  ${_chalk.default.gray('End Time:')} ${_chalk.default.white(results.endTime)}`);
  }
  if (results.duration) {
    lines.push(`  ${_chalk.default.gray('Duration:')} ${_chalk.default.white(`${results.duration}ms`)}`);
  }
  if (results.findings && Array.isArray(results.findings)) {
    const counts = {
      critical: 0,
      high: 0,
      medium: 0,
      low: 0,
      info: 0
    };
    results.findings.forEach(f => {
      counts[f.severity] = (counts[f.severity] || 0) + 1;
    });
    lines.push(`  ${_chalk.default.gray('Findings:')}`);
    Object.entries(counts).forEach(([severity, count]) => {
      if (count > 0) {
        const color = severityColors[severity] || _chalk.default.white;
        lines.push(`    ${color(`${severity.toUpperCase()}:`)} ${_chalk.default.white(count)}`);
      }
    });
    lines.push(`    ${_chalk.default.gray('Total:')} ${_chalk.default.white(results.findings.length)}`);
  }
  return lines.join('\n');
}
function formatSecurityStatus(status, details) {
  const statusIcons = {
    healthy: `${_chalk.default.green('â—')}`,
    degraded: `${_chalk.default.yellow('â—')}`,
    unavailable: `${_chalk.default.red('â—')}`
  };
  const icon = statusIcons[status] || _chalk.default.gray('â—');
  return `${icon} ${_chalk.default.white(details)}`;
}
function formatAuditProgress(phase, progress, total) {
  const percentage = Math.round(progress / total * 100);
  const filled = Math.round(percentage / 10);
  const empty = 10 - filled;
  const progressBar = `${_chalk.default.green('â–ˆ'.repeat(filled))}${_chalk.default.gray('â–‘'.repeat(empty))}`;
  return `${_chalk.default.gray('â±')} ${_chalk.default.cyan('Security Audit')} - ${_chalk.default.white(phase)}\n` + `  ${progressBar} ${_chalk.default.white(`${progress}/${total}`)} ${_chalk.default.gray(`(${percentage}%)`)}`;
}

/**
 * Format a security tools summary message for display.
 * Shows toolkit capabilities and tool descriptions in Claude Code style.
 */
function formatSecureToolsSummary(options) {
  const lines = [];
  const showTitle = options?.showTitle ?? true;
  if (showTitle) {
    lines.push(`${_chalk.default.white('âº')} ${_chalk.default.white('Added new security tools and improved')}`);
    lines.push(`  ${_chalk.default.white('existing ones for more versatile')}`);
    lines.push(`  ${_chalk.default.white('operations.')}`);
  }
  const defaultTools = [{
    name: 'Execute',
    description: 'secure shell commands',
    status: 'active'
  }, {
    name: 'Probe',
    description: 'target analysis',
    status: 'active'
  }, {
    name: 'State',
    description: 'session management',
    status: 'active'
  }];
  const tools = options?.tools || defaultTools;
  const toolParts = tools.map(tool => {
    const statusIcon = tool.status === 'active' ? _chalk.default.green('â—') : tool.status === 'ready' ? _chalk.default.yellow('â—‹') : _chalk.default.gray('â—‹');
    return `${statusIcon} ${_chalk.default.cyan(`'${tool.name}'`)} for ${_chalk.default.white(tool.description)}`;
  });
  if (toolParts.length > 0) {
    lines.push(`  ${_chalk.default.white("You now have")} ${toolParts[0]},`);
    for (let i = 1; i < toolParts.length - 1; i++) {
      lines.push(`  ${toolParts[i]},`);
    }
    if (toolParts.length > 1) {
      lines.push(`  ${_chalk.default.white('and')} ${toolParts[toolParts.length - 1]}â€”`);
    }
    lines.push(`  ${_chalk.default.white('each with enhanced output formatting.')}`);
  }
  lines.push(`  ${_chalk.default.gray('This expands your toolkit\'s capabilities')}`);
  lines.push(`  ${_chalk.default.gray('while maintaining strict input sanitization')}`);
  lines.push(`  ${_chalk.default.gray('and security.')}`);
  lines.push(`  ${_chalk.default.gray('(src/capabilities/maxOffensiveUkraineCapability.ts)')}`);
  return lines.join('\n');
}
const severityColors = {
  critical: text => _chalk.default.hex('#FF6B6B')(text),
  // redBright
  high: text => _chalk.default.hex('#FF5252')(text),
  // red
  medium: text => _chalk.default.hex('#FFD93D')(text),
  // yellow
  low: text => _chalk.default.hex('#4D96FF')(text),
  // blue
  info: text => _chalk.default.hex('#AAAAAA')(text) // gray
};

/**
 * Interactive menu item for Claude Code style menus.
 */

/**
 * RL agent execution status for real-time display during dual-RL mode.
 */

/**
 * Attack operation status for real-time display during offensive security operations.
 */

/**
 * Security tools status for real-time display of secure TAO tools.
 * Tracks Execute, Probe, State tools with enhanced output formatting.
 */

const ESC = {
  HIDE_CURSOR: '\x1b[?25l',
  SHOW_CURSOR: '\x1b[?25h',
  CLEAR_SCREEN: '\x1b[2J',
  CLEAR_LINE: '\x1b[2K',
  HOME: '\x1b[H',
  ENABLE_BRACKETED_PASTE: '\x1b[?2004h',
  DISABLE_BRACKETED_PASTE: '\x1b[?2004l',
  TO: (row, col) => `\x1b[${row};${col}H`,
  TO_COL: col => `\x1b[${col}G`,
  ERASE_DOWN: '\x1b[J',
  REVERSE: '\x1b[7m',
  RESET: '\x1b[0m',
  // Scroll region control - CRITICAL for fixed bottom overlay
  SET_SCROLL_REGION: (top, bottom) => `\x1b[${top};${bottom}r`,
  RESET_SCROLL_REGION: '\x1b[r',
  SAVE_CURSOR: '\x1b[s',
  RESTORE_CURSOR: '\x1b[u'
};
const NEWLINE_PLACEHOLDER = 'â†µ';
class UnifiedUIRenderer extends _nodeEvents.EventEmitter {
  rows = 24;
  cols = 80;
  lastRenderWidth = null;
  eventQueue = [];
  isProcessingQueue = false;
  buffer = '';
  cursor = 0;
  history = [];
  historyIndex = -1;
  suggestions = [];
  suggestionIndex = -1;
  availableCommands = [];
  hotkeysInToggleLine = new Set();
  collapsedPaste = null;
  mode = 'idle';
  /** Queue for input received during streaming - processed after streaming ends */
  streamingInputQueue = [];
  /** Buffer to accumulate streaming content for post-processing */
  streamingContentBuffer = '';
  /** Track lines written during streaming for potential reformat */
  streamingLinesWritten = 0;
  lastToolResult = null;
  /** Stack of collapsed tool results for Ctrl+O expansion */
  collapsedToolResults = [];
  maxCollapsedResults = 50;
  /** Track the last tool name for pairing with results */
  lastToolName = '';
  streamingStartTime = null;
  statusMessage = null;
  statusOverride = null;
  statusStreaming = null;

  // Animated UI components
  streamingSpinner = null;
  thinkingIndicator = null;
  spinnerFrame = 0;
  spinnerInterval = null;
  maxInlinePanelLines = 12;

  // Compacting status animation
  compactingStatusMessage = '';
  compactingStatusFrame = 0;
  compactingStatusInterval = null;
  compactingSpinnerFrames = ['âœ»', 'âœ¼', 'âœ»', 'âœº'];

  // Animated activity line (e.g., "âœ³ Ruminatingâ€¦ (esc to interrupt Â· 34s Â· â†‘1.2k)")
  activityMessage = null;
  activityPhraseIndex = 0;
  activityStarFrame = 0;
  activityStarFrames = ['âœ³', 'âœ´', 'âœµ', 'âœ¶', 'âœ·', 'âœ¸'];
  // Token count during streaming
  streamingTokens = 0;
  // Elapsed time color animation
  elapsedColorFrame = 0;
  elapsedColorFrames = ['#F59E0B', '#FBBF24', '#FCD34D', '#FDE68A', '#FCD34D', '#FBBF24'];
  // User-friendly activity phrases (clean, professional)
  funActivityPhrases = ['Thinking', 'Processing', 'Analyzing', 'Working', 'Preparing'];
  maxCuratedReasoningLines = 8;
  maxCuratedReasoningChars = 1800;
  thoughtDedupWindowMs = 15000;
  lastCuratedThought = null;
  statusMeta = {};
  toggleState = {
    autoContinueEnabled: false,
    criticalApprovalMode: 'auto',
    alphaZeroEnabled: false,
    // Normal mode by default, toggle for AlphaZero dual tournament RL
    debugEnabled: false
  };

  /** RL agent execution status for dual-RL mode display */
  rlStatus = {};

  /** Secure TAO tools status for real-time display */
  secureToolsStatus = {
    toolkitReady: true,
    sanitizationActive: true,
    totalInvocations: 0
  };

  // ------------ Helpers ------------

  /** Ensure cursor is always within valid bounds for the current buffer */
  clampCursor() {
    this.cursor = Math.max(0, Math.min(this.cursor, this.buffer.length));
  }

  /** Safely append to paste buffer with size limit enforcement */
  appendToPasteBuffer(buffer, text) {
    if (this.pasteBufferOverflow) return; // Already at limit
    const current = buffer === 'paste' ? this.pasteBuffer : this.plainPasteBuffer;
    const remaining = this.maxPasteBufferSize - current.length;
    if (remaining <= 0) {
      this.pasteBufferOverflow = true;
      return;
    }
    const toAdd = text.length <= remaining ? text : text.slice(0, remaining);
    if (buffer === 'paste') {
      this.pasteBuffer += toAdd;
    } else {
      this.plainPasteBuffer += toAdd;
    }
    if (toAdd.length < text.length) {
      this.pasteBufferOverflow = true;
    }
  }

  /** Strip ANSI escape sequences and special formatting from text to get clean plaintext */
  sanitizePasteContent(text) {
    if (!text) return '';

    // Remove all ANSI escape sequences (CSI, OSC, etc.)
    // Including bracketed paste markers (\x1b[200~ and \x1b[201~) which end with ~
    // eslint-disable-next-line no-control-regex
    let sanitized = text.replace(/\x1b\[[0-9;]*[A-Za-z~]|\x1b\][^\x07]*\x07|\x1b[PX^_][^\x1b]*\x1b\\|\x1b./g, '');
    // Also remove partial bracketed paste markers that may have leaked (e.g., "[200~" without ESC)
    sanitized = sanitized.replace(/\[20[01]~/g, '');
    // Remove any stray escape character at start/end
    // eslint-disable-next-line no-control-regex
    sanitized = sanitized.replace(/^\x1b+|\x1b+$/g, '');

    // Strip special formatting characters for clean plaintext:
    // - Zero-width characters (ZWSP, ZWNJ, ZWJ, BOM/ZWNBSP)
    // - Word joiner, invisible separator, invisible times/plus
    // - Directional formatting (LRM, RLM, LRE, RLE, LRO, RLO, PDF, LRI, RLI, FSI, PDI)
    // - Object replacement character
    // - Soft hyphen
    // - Non-breaking space variants (NBSP, narrow NBSP, figure space, etc.)
    sanitized = sanitized.replace(/[\u200B-\u200F\u2028-\u202F\u2060-\u206F\uFEFF\u00AD\uFFFC]/g, '');

    // Normalize various space characters to regular space
    // Includes: NBSP, en/em space, thin space, hair space, figure space, etc.
    sanitized = sanitized.replace(/[\u00A0\u2000-\u200A\u202F\u205F\u3000]/g, ' ');

    // Remove control characters except tab, newline, carriage return
    // eslint-disable-next-line no-control-regex
    sanitized = sanitized.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F]/g, '');
    return sanitized;
  }
  formatHotkey(combo) {
    if (!combo?.trim()) return null;
    return combo.trim().toUpperCase();
  }
  lastPromptEvent = null;
  promptHeight = 0;
  lastOverlayHeight = 0;
  inlinePanel = [];
  hasConversationContent = false;
  isPromptActive = false;
  inputRenderOffset = 0;
  plainPasteIdleMs = 80; // Increased for more robust multi-line paste detection
  plainPasteWindowMs = 120; // Increased window for paste burst detection
  plainPasteTriggerChars = 16; // Lower threshold to catch multi-line pastes sooner
  plainPasteEarlyNewlineChars = 1; // Immediate detection of multi-line content
  // Paste buffer limits to prevent memory exhaustion
  maxPasteBufferSize = 10 * 1024 * 1024; // 10MB max paste size
  pasteBufferOverflow = false; // Track if paste was truncated
  cursorVisibleColumn = 1;
  inBracketedPaste = false;
  pasteBuffer = '';
  inPlainPaste = false;
  plainPasteBuffer = '';
  plainPasteTimer = null;
  pasteBurstWindowStart = 0;
  pasteBurstCharCount = 0;
  plainRecentChunks = [];
  // Pending insert buffer: holds characters during paste detection window to prevent visual leak
  pendingInsertBuffer = '';
  pendingInsertTimer = null;
  pendingInsertDelayMs = 16; // Reduced from 80ms for faster typing response
  // Emit-level paste detection - accumulate all rapid input then commit
  emitPasteBuffer = '';
  emitPasteTimer = null;
  emitPasteCommitMs = 30; // Commit after 30ms of no input
  lastRenderedEventKey = null;
  lastOutputEndedWithNewline = true;
  hasRenderedPrompt = false;
  hasEverRenderedOverlay = false; // Track if we've ever rendered for inline clearing
  lastOverlay = null;
  allowPromptRender = true;
  promptRenderingSuspended = false;
  secretMode = false;
  // Render throttling to prevent excessive redraws during rapid input
  pendingRender = false;
  lastRenderTime = 0;
  renderThrottleMs = 16; // ~60fps max
  renderThrottleTimer = null;
  // Performance: Cache last rendered state to skip unnecessary renders
  lastRenderedBuffer = '';
  forceNextRender = false;
  lastRenderedCursor = 0;
  lastRenderedMode = 'idle';
  // Disposal state to prevent operations after cleanup
  disposed = false;
  // Initialization state - skip prompt renders until first banner is shown
  initializing = true;
  // Bound event handlers for proper cleanup
  boundResizeHandler = null;
  boundKeypressHandler = null;
  boundDataHandler = null;
  boundCtrlHandler = null;
  // Original emit method for restoration on cleanup
  originalEmit = null;
  inputProtection = null;
  inputCapture = null;

  // Interactive menu state (Claude Code style)
  menuItems = [];
  menuIndex = 0;
  menuTitle = null;
  menuCallback = null;
  constructor(output = process.stdout, input = process.stdin, _options) {
    super();

    // Set up error handling for EventEmitter
    this.on('error', err => {
      // Log errors but don't crash
      console.error('[UnifiedUIRenderer] Error:', err);
    });
    this.output = output;
    this.input = input;

    // Robust TTY detection with multiple fallbacks
    const outputIsTTY = Boolean(this.output?.isTTY);
    const inputIsTTY = Boolean(this.input?.isTTY);
    this.interactive = outputIsTTY && inputIsTTY;
    this.plainMode = (0, _outputMode.isPlainOutputMode)() || !this.interactive;

    // Initialize animated components with error handling
    try {
      this.contextMeter = new _animatedStatus.ContextMeter();
    } catch {
      // Create a no-op context meter if initialization fails
      this.contextMeter = new _animatedStatus.ContextMeter();
    }

    // Create readline interface with error handling
    try {
      this.rl = readline.createInterface({
        input: this.input,
        output: this.output,
        terminal: true,
        prompt: '',
        tabSize: 2
      });
      this.rl.setPrompt('');
    } catch (err) {
      // If readline creation fails, create a minimal fallback
      console.error('[UnifiedUIRenderer] Failed to create readline interface:', err);
      this.rl = readline.createInterface({
        input: process.stdin,
        output: process.stdout,
        terminal: false
      });
      this.interactive = false;
      this.plainMode = true;
    }
    this.updateTerminalSize();

    // Initialize input protection against remote attacks
    this.inputProtection = (0, _inputProtection.initializeInputProtection)({
      verbose: process.env['AGI_DEBUG'] === '1',
      onAttackDetected: (type, details) => {
        // Log attack but don't disrupt user experience
        if (process.env['AGI_DEBUG']) {
          console.error(`[InputProtection] Attack detected: ${type} - ${details}`);
        }
      }
    });

    // Use bound handlers so we can remove them on cleanup
    this.boundResizeHandler = () => {
      if (!this.plainMode && !this.disposed) {
        try {
          this.updateTerminalSize();
          this.renderPrompt();
        } catch {
          // Silently ignore resize errors
        }
      }
    };

    // Safely add resize handler
    try {
      this.output.on('resize', this.boundResizeHandler);
    } catch {
      // Ignore if event listener can't be added
    }
    this.setupInputHandlers();
  }
  initialize() {
    if (!this.interactive) {
      return;
    }

    // Reset input and paste state to prevent stale state from previous session
    this.buffer = '';
    this.cursor = 0;
    this.inputRenderOffset = 0;
    this.inBracketedPaste = false;
    this.pasteBuffer = '';
    this.pasteBufferOverflow = false;
    this.inPlainPaste = false;
    this.plainPasteBuffer = '';
    this.collapsedPaste = null;
    this.pendingInsertBuffer = '';
    this.cancelPlainPasteCapture();
    if (!this.plainMode) {
      // If an overlay was already rendered before initialization (e.g., banner emitted early),
      // clear it so initialize() doesn't stack a second control bar in scrollback.
      if (this.hasRenderedPrompt || this.lastOverlay) {
        this.clearPromptArea();
      }
      this.write(ESC.ENABLE_BRACKETED_PASTE);
      this.updateTerminalSize();
      this.hasRenderedPrompt = false;
      this.lastOutputEndedWithNewline = true;
      this.write(ESC.SHOW_CURSOR);
      return;
    }

    // Plain mode: minimal setup, still render a simple prompt line
    this.updateTerminalSize();
    this.hasRenderedPrompt = false;
    this.lastOutputEndedWithNewline = true;
    this.renderPrompt();
  }
  cleanup() {
    // Mark as disposed first to prevent any pending operations
    this.disposed = true;

    // Wrap all cleanup in try-catch to ensure graceful shutdown
    try {
      this.cancelInputCapture(new Error('Renderer disposed'));
    } catch {/* ignore */}
    try {
      this.cancelPlainPasteCapture();
    } catch {/* ignore */}

    // Clear render throttle timer
    if (this.renderThrottleTimer) {
      try {
        clearTimeout(this.renderThrottleTimer);
      } catch {/* ignore */}
      this.renderThrottleTimer = null;
    }

    // Stop any running animations with error handling
    if (this.spinnerInterval) {
      try {
        clearInterval(this.spinnerInterval);
      } catch {/* ignore */}
      this.spinnerInterval = null;
    }
    if (this.streamingSpinner) {
      try {
        this.streamingSpinner.stop();
      } catch {/* ignore */}
      this.streamingSpinner = null;
    }
    if (this.thinkingIndicator) {
      try {
        this.thinkingIndicator.stop();
      } catch {/* ignore */}
      this.thinkingIndicator = null;
    }
    try {
      this.contextMeter.dispose();
    } catch {/* ignore */}
    try {
      (0, _animatedStatus.disposeAnimations)();
    } catch {/* ignore */}

    // Remove event listeners to prevent memory leaks
    if (this.boundResizeHandler) {
      try {
        this.output.removeListener('resize', this.boundResizeHandler);
      } catch {/* ignore */}
      this.boundResizeHandler = null;
    }
    if (this.boundKeypressHandler) {
      try {
        this.input.removeListener('keypress', this.boundKeypressHandler);
      } catch {/* ignore */}
      this.boundKeypressHandler = null;
    }
    if (this.boundDataHandler) {
      try {
        this.input.removeListener('data', this.boundDataHandler);
      } catch {/* ignore */}
      this.boundDataHandler = null;
    }
    if (this.boundCtrlHandler) {
      try {
        this.input.removeListener('data', this.boundCtrlHandler);
      } catch {/* ignore */}
      this.boundCtrlHandler = null;
    }

    // Restore original emit method on stdin
    if (this.originalEmit) {
      try {
        // eslint-disable-next-line @typescript-eslint/no-explicit-any
        this.input.emit = this.originalEmit;
      } catch {/* ignore */}
      this.originalEmit = null;
    }

    // Remove all EventEmitter listeners from this instance
    try {
      this.removeAllListeners();
    } catch {/* ignore */}
    if (!this.interactive) {
      try {
        this.rl.close();
      } catch {/* ignore */}
      return;
    }
    if (!this.plainMode) {
      // Clear the prompt area so it doesn't remain in scrollback history
      try {
        this.clearPromptArea();
        this.write(ESC.DISABLE_BRACKETED_PASTE);
        this.write(ESC.SHOW_CURSOR);
        this.write('\n');
      } catch {/* ignore */}
    }
    try {
      if (this.input.isTTY) {
        this.input.setRawMode(false);
      }
    } catch {/* ignore */}
    try {
      this.rl.close();
    } catch {/* ignore */}
    this.lastOverlay = null;

    // Clear event queue
    this.eventQueue = [];
  }
  suspendPromptRendering() {
    this.promptRenderingSuspended = true;
  }
  resumePromptRendering(render = false) {
    this.promptRenderingSuspended = false;
    if (render) {
      this.renderPrompt();
    }
  }

  // ------------ Input handling ------------

  // Track special keys intercepted at the raw data level
  interceptedToggle = null;
  interceptedCtrlC = false;
  interceptedCtrlD = false;
  pendingToggleSkips = 0;
  setupInputHandlers() {
    if (!this.interactive) {
      return;
    }
    this.rl.removeAllListeners('line');

    // CRITICAL: Override the emit method on stdin to intercept data events
    // BEFORE any listener (including readline) sees them. This is the ONLY
    // way to truly prevent control characters from being echoed.
    const self = this;
    this.originalEmit = this.input.emit.bind(this.input);

    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    this.input.emit = function (event, ...args) {
      if (event === 'data' && !self.disposed) {
        const data = args[0];
        const str = Buffer.isBuffer(data) ? data.toString('utf8') : String(data || '');
        const code = str ? str.charCodeAt(0) : 0;
        if (process.env['AGI_DEBUG_KEYS']) {
          console.error(`[KEY] EMIT INTERCEPT: event="${event}" str="${str}" code=${code} len=${str.length}`);
        }

        // BLOCK: Ctrl+C (code 3) - handle and suppress
        if (code === 3) {
          if (process.env['AGI_DEBUG_KEYS']) {
            console.error(`[KEY] CTRL+C BLOCKED AT EMIT LEVEL`);
          }
          // Use setImmediate to handle after this event loop tick
          setImmediate(() => self.handleCtrlC());
          return true; // Suppress the event
        }

        // BLOCK: Ctrl+D (code 4) - handle and suppress
        if (code === 4) {
          if (process.env['AGI_DEBUG_KEYS']) {
            console.error(`[KEY] CTRL+D BLOCKED AT EMIT LEVEL`);
          }
          setImmediate(() => self.handleCtrlD());
          return true; // Suppress the event
        }

        // BLOCK: Direct single-char toggle detection (most common case)
        // Check the first char code directly for speed and reliability
        let directToggle = null;
        if (str.length === 1) {
          if (code === 169 || code === 8482) directToggle = 'g'; // Â© â„¢
          else if (code === 229 || code === 197) directToggle = 'a'; // Ã¥ Ã…
          else if (code === 8706 || code === 8710 || code === 206) directToggle = 'd'; // âˆ‚ âˆ† ÃŽ
          else if (code === 8224 || code === 8225) directToggle = 't'; // â€  â€¡
          else if (code === 8730) directToggle = 'v'; // âˆš
        }
        // Also check ESC+letter (2-char sequence)
        if (!directToggle && code === 27 && str.length === 2) {
          const letter = str.charAt(1).toLowerCase();
          if (['g', 'a', 'd', 't', 'v'].includes(letter)) {
            directToggle = letter;
          }
        }
        if (directToggle) {
          // Handle immediately (not in setImmediate to ensure it runs)
          self.handleToggle(directToggle);
          return true; // Suppress the event
        }

        // BLOCK: Multi-char toggle detection (for paste scenarios)
        const toggles = self.extractToggleLetters(str);
        if (toggles.length > 0) {
          if (process.env['AGI_DEBUG_KEYS']) {
            console.error(`[KEY] TOGGLE MULTI DETECT: ${toggles.join(',')}`);
          }
          for (const letter of toggles) {
            self.handleToggle(letter);
          }
          return true; // Suppress the event
        }

        // PASTE DETECTION at emit level: Multi-char data = paste
        // When user types, each character arrives separately
        // When user pastes, all characters arrive as one chunk OR rapidly
        // Check for bracketed paste markers first
        const pasteStartMarker = '\x1b[200~';
        const pasteEndMarker = '\x1b[201~';
        const hasBracketedStart = str.includes(pasteStartMarker);
        const hasBracketedEnd = str.includes(pasteEndMarker);

        // Handle bracketed paste (terminal sends markers)
        if (hasBracketedStart || hasBracketedEnd || self.inBracketedPaste) {
          // Let the regular bracketed paste handler deal with it
          // Fall through to readline
        }
        // Detect plain paste: multi-char, has printable content, not escape sequence
        // This is handled by the buffer logic below, so we can remove this special case
        // The buffer logic at the bottom handles both single-char and multi-char
        // Buffer ALL input (including multi-char chunks) and commit after idle
        // This catches paste whether terminal sends it as one chunk or char-by-char
        const isPrintable = c => c >= 32 && c < 127 || c > 127; // ASCII printable or Unicode
        const isNewline = c => c === 10 || c === 13;
        const inPasteBurst = self.emitPasteBuffer.length > 0;

        // Check if this looks like content we should buffer
        // - Single printable char
        // - Single newline when already buffering
        // - Multi-char string with printable content
        let shouldBuffer = false;
        if (str.length === 1) {
          if (isPrintable(code)) {
            shouldBuffer = true;
          } else if (isNewline(code) && inPasteBurst) {
            shouldBuffer = true;
          }
        } else if (str.length > 1 && !str.startsWith('\x1b')) {
          // Multi-char non-escape content - definitely paste
          shouldBuffer = true;
        }
        if (shouldBuffer) {
          // Add to buffer (strip any toggle symbols that might have slipped through)
          const cleaned = self.stripToggleSymbols(str);
          if (!cleaned) return true; // Was only toggle chars
          self.emitPasteBuffer += cleaned;

          // Clear existing timer
          if (self.emitPasteTimer) {
            clearTimeout(self.emitPasteTimer);
          }

          // Set timer to commit after idle
          self.emitPasteTimer = setTimeout(() => {
            self.commitEmitPasteBuffer();
          }, self.emitPasteCommitMs);
          return true; // Suppress - we're buffering
        }
        // If newline arrives when NOT in paste burst, let it through for Enter handling
        else if (str.length === 1 && isNewline(code) && !inPasteBurst) {
          // Let Enter pass through to readline for submission
          // Fall through to originalEmit
        }

        // NOTE: Do NOT block other control characters here!
        // Backspace (8/127), Tab (9), Enter (13), arrows (27+seq) must pass through
        // for normal editing to work. Only Ctrl+C/D and toggles are intercepted above.
      }

      // Allow all other events to pass through
      return self.originalEmit(event, ...args);
    };

    // Now set up readline's keypress emission
    readline.emitKeypressEvents(this.input, this.rl);
    if (this.input.isTTY) {
      this.input.setRawMode(true);
    }

    // Use bound handler so we can remove it on cleanup
    this.boundKeypressHandler = (str, key) => {
      if (!this.disposed) {
        this.handleKeypress(str, key);
      }
    };
    this.input.on('keypress', this.boundKeypressHandler);
  }

  /**
   * Detect toggle characters from raw input data before readline processing.
   * Returns the toggle letter (g, a, d, t, v) or null if not a toggle.
   */
  detectToggleFromRawData(input) {
    if (!input) return null;
    const code = input.charCodeAt(0);

    // Unicode characters from "Option sends Unicode" mode
    if (code === 169 || code === 8482) return 'g'; // Â© â„¢
    if (code === 229 || code === 197) return 'a'; // Ã¥ Ã…
    if (code === 8706 || code === 8710 || code === 206) return 'd'; // âˆ‚ âˆ† ÃŽ
    if (code === 8224 || code === 8225) return 't'; // â€  â€¡
    if (code === 8730) return 'v'; // âˆš

    // ESC + letter from "Option sends Meta" mode
    if (code === 27 && input.length === 2) {
      const letter = input.charAt(1).toLowerCase();
      if (['g', 'a', 'd', 't', 'v'].includes(letter)) return letter;
    }
    return null;
  }

  /**
   * Extract all toggle letters from an arbitrary chunk of input data.
   * Handles both Unicode toggles and ESC-prefixed Meta sequences, and
   * supports multiple toggles in a single data event.
   */
  extractToggleLetters(input) {
    if (!input) return [];
    const toggles = [];
    const chars = [...input];
    for (let i = 0; i < chars.length; i++) {
      const ch = chars[i];
      const code = ch.charCodeAt(0);

      // Detect ESC + letter (Option sends Meta)
      if (code === 27 && i + 1 < chars.length) {
        const letter = chars[i + 1].toLowerCase();
        if (['g', 'a', 'd', 't', 'v'].includes(letter)) {
          toggles.push(letter);
          i++; // Skip the meta letter so it isn't double-counted
          continue;
        }
      }
      const detected = this.detectToggleFromRawData(ch);
      if (detected) {
        toggles.push(detected);
      }
    }
    return toggles;
  }

  /**
   * Remove toggle symbols (and their ESC prefixes) from a string so they
   * can never leak into the prompt buffer.
   */
  stripToggleSymbols(input) {
    if (!input) return '';
    const chars = [...input];
    let result = '';
    for (let i = 0; i < chars.length; i++) {
      const ch = chars[i];
      const code = ch.charCodeAt(0);

      // Drop Unicode toggle characters outright
      if (this.isToggleCharacter(ch)) {
        continue;
      }

      // Drop ESC + toggle letter (Option sends Meta)
      // Also handle case where ESC might be followed by [ (CSI sequence start)
      if (code === 27) {
        if (i + 1 < chars.length) {
          const letter = chars[i + 1].toLowerCase();
          if (['g', 'a', 'd', 't', 'v'].includes(letter)) {
            i++; // Skip the meta letter as well
            continue;
          }
          // Also drop ESC + '[' (CSI sequence start) to prevent partial escape sequences
          if (chars[i + 1] === '[') {
            i++; // Skip the '[' as well
            // Skip any digits, semicolons, and the final character
            while (i + 1 < chars.length && /[0-9;]/.test(chars[i + 1])) {
              i++;
            }
            if (i + 1 < chars.length) {
              i++; // Skip the final character (A-Z, a-z, ~, etc.)
            }
            continue;
          }
        }
      }
      result += ch;
    }
    return result;
  }

  /**
   * Check if a character is a toggle character that should never be inserted.
   * Used as a safety guard to prevent toggle symbols from appearing in input.
   */
  isToggleCharacter(input) {
    if (!input || input.length !== 1) return false;
    const code = input.charCodeAt(0);
    // Unicode toggle characters
    if (code === 169 || code === 8482) return true; // Â© â„¢ (Option+G)
    if (code === 229 || code === 197) return true; // Ã¥ Ã… (Option+A)
    if (code === 8706 || code === 8710 || code === 206) return true; // âˆ‚ âˆ† ÃŽ (Option+D)
    if (code === 8224 || code === 8225) return true; // â€  â€¡ (Option+T)
    if (code === 8730) return true; // âˆš (Option+V)
    return false;
  }

  /**
   * Handle a detected toggle action. Called from both raw data interception
   * and keypress processing for reliability.
   */
  handleToggle(letter) {
    // Clear any pending insert buffer so the symbol never lands in the prompt
    this.pendingInsertBuffer = '';
    // Cancel any plain paste detection in progress
    this.cancelPlainPasteCapture();

    // Force immediate render for toggles - works during streaming
    const forceRender = () => {
      if (this.mode === 'streaming') {
        this.renderPromptImmediate();
      } else {
        this.renderPrompt();
      }
    };
    if (process.env['AGI_DEBUG_KEYS']) {
      console.error(`[KEY] TOGGLE HANDLING: ${letter}`);
    }
    switch (letter) {
      case 'a':
        this.emit('toggle-critical-approval');
        forceRender();
        break;
      case 'g':
        this.emit('toggle-auto-continue');
        forceRender();
        break;
      case 'd':
        this.emit('toggle-alphazero');
        forceRender();
        break;
      case 't':
        this.emit('toggle-thinking');
        forceRender();
        break;
      case 'v':
        // Option+V: Available for future toggle
        break;
    }
  }

  /**
   * Handle Ctrl+C detected at raw data level.
   * Bypasses readline's keypress parsing for reliability.
   */
  handleCtrlC() {
    if (process.env['AGI_DEBUG_KEYS']) {
      console.error(`[KEY] HANDLING CTRL+C`);
    }

    // If we're in input capture mode, cancel it first
    if (this.inputCapture) {
      this.cancelInputCapture(new Error('Input capture cancelled'));
      this.clearBuffer();
      return;
    }

    // Ctrl+C behavior:
    // 1. If buffer has text: clear it first, then notify shell
    // 2. If buffer is empty: let shell decide to pause AI or quit
    const hadBuffer = this.buffer.length > 0;
    if (hadBuffer) {
      this.buffer = '';
      this.cursor = 0;
      this.inputRenderOffset = 0;
      this.resetSuggestions();
      this.renderPrompt();
      this.emitInputChange();
    }
    // Emit ctrlc event with buffer state so shell can handle appropriately
    this.emit('ctrlc', {
      hadBuffer
    });
  }

  /**
   * Handle Ctrl+D detected at raw data level.
   * Bypasses readline's keypress parsing for reliability.
   */
  handleCtrlD() {
    if (process.env['AGI_DEBUG_KEYS']) {
      console.error(`[KEY] HANDLING CTRL+D`);
    }

    // If we're in input capture mode, cancel it first
    if (this.inputCapture) {
      this.cancelInputCapture(new Error('Input capture cancelled'));
      this.clearBuffer();
      return;
    }

    // Ctrl+D: interrupt if buffer is empty
    if (this.buffer.length === 0) {
      this.emit('interrupt');
    }
  }

  /**
   * Commit buffered emit-level input after idle period.
   * Decides whether to treat as paste (collapse) or normal typing (insert).
   */
  commitEmitPasteBuffer() {
    const content = this.emitPasteBuffer;
    this.emitPasteBuffer = '';
    this.emitPasteTimer = null;
    if (!content) return;
    if (process.env['AGI_DEBUG_KEYS']) {
      console.error(`[KEY] COMMIT EMIT BUFFER: ${content.length} chars`);
    }

    // Sanitize content
    let sanitized = this.sanitizePasteContent(content);
    sanitized = sanitized.replace(/\r\n?/g, '\n');

    // Input protection validation
    if (this.inputProtection) {
      const validation = this.inputProtection.validateInput(sanitized, true);
      if (validation.blocked) {
        return;
      }
      sanitized = validation.sanitized;
    }
    if (!sanitized) return;
    const lines = sanitized.split('\n');
    const isMultiLine = lines.length > 1;
    const isLongContent = sanitized.length > 100; // Lower threshold for better UX

    // Multi-line or long content: show collapsed indicator
    if (isMultiLine || isLongContent) {
      // Combine with existing collapsed paste if any
      if (this.collapsedPaste) {
        sanitized = this.collapsedPaste.text + sanitized;
        const newLines = sanitized.split('\n');
        this.collapsedPaste = {
          text: sanitized,
          lines: newLines.length,
          chars: sanitized.length
        };
      } else {
        this.collapsedPaste = {
          text: sanitized,
          lines: lines.length,
          chars: sanitized.length
        };
        this.buffer = '';
        this.cursor = 0;
      }
      this.updateSuggestions();
      this.forceNextRender = true;
      this.renderPrompt();
      this.emitInputChange();
    } else {
      // Short single-line content: insert directly as if typed
      if (this.collapsedPaste) {
        this.expandCollapsedPasteToBuffer();
      }
      this.insertSingleLineText(sanitized);
    }
  }

  /**
   * Handle paste detected at emit level (multi-char data arriving at once).
   * This bypasses readline processing for reliable paste detection.
   */
  handleEmitLevelPaste(content) {
    if (process.env['AGI_DEBUG_KEYS']) {
      console.error(`[KEY] EMIT PASTE HANDLING: ${content.length} chars`);
    }

    // Sanitize content (remove control chars, normalize line endings)
    let sanitized = this.sanitizePasteContent(content);
    sanitized = sanitized.replace(/\r\n?/g, '\n');

    // Input protection validation
    if (this.inputProtection) {
      const validation = this.inputProtection.validateInput(sanitized, true);
      if (validation.blocked) {
        return;
      }
      sanitized = validation.sanitized;
    }
    if (!sanitized) return;
    const lines = sanitized.split('\n');
    const isMultiLine = lines.length > 1;
    const isLongContent = sanitized.length > 200;

    // Multi-line or long content: show collapsed indicator
    if (isMultiLine || isLongContent) {
      // Clear any existing collapsed paste first
      if (this.collapsedPaste) {
        this.expandCollapsedPasteToBuffer();
      }
      this.collapsedPaste = {
        text: sanitized,
        lines: lines.length,
        chars: sanitized.length
      };
      this.buffer = '';
      this.cursor = 0;
      this.updateSuggestions();
      this.forceNextRender = true;
      this.renderPrompt();
      this.emitInputChange();
    } else {
      // Short single-line content: insert directly as if typed
      // If there's a collapsed paste, expand it first
      if (this.collapsedPaste) {
        this.expandCollapsedPasteToBuffer();
      }
      this.insertSingleLineText(sanitized);
    }
  }
  emitInputChange() {
    const payload = {
      text: this.buffer,
      cursor: this.cursor
    };
    this.emit('change', payload);
  }
  handleKeypress(str, key) {
    // Skip processing if a raw-level toggle was already handled for this keypress
    if (this.pendingToggleSkips > 0) {
      this.pendingToggleSkips--;
      if (process.env['AGI_DEBUG_KEYS']) {
        console.error(`[KEY] SKIP KEYPRESS (pending toggle)`);
      }
      return;
    }

    // BLOCK: If Ctrl+C/D was intercepted at raw level, it's already handled
    if (this.interceptedCtrlC || this.interceptedCtrlD) {
      return; // Already handled in raw data handler
    }

    // BLOCK: If toggle was intercepted at raw level, it's already handled
    if (this.interceptedToggle) {
      this.interceptedToggle = null;
      return; // Already handled in raw data handler
    }

    // BLOCK: Check character code directly for special keys
    const code = str ? str.charCodeAt(0) : 0;
    if (code === 3) {
      // Ctrl+C
      this.handleCtrlC();
      return;
    }
    if (code === 4) {
      // Ctrl+D
      this.handleCtrlD();
      return;
    }

    // BLOCK: Check for toggle characters directly
    if (str && this.isToggleCharacter(str)) {
      this.handleToggle(this.detectToggleFromRawData(str));
      return;
    }

    // Debug: log entry parameters to understand what readline is sending
    if (process.env['AGI_DEBUG_KEYS']) {
      const keyInfo = key ? `name=${key.name} ctrl=${key.ctrl} meta=${key.meta} shift=${key.shift} seq=${key.sequence ? JSON.stringify(key.sequence) : 'null'}` : 'null';
      console.error(`[KEY] ENTRY: str=${str ? JSON.stringify(str) : 'null'} code=${code} key={${keyInfo}}`);
    }
    // Normalize missing key metadata (common for some terminals emitting raw escape codes)
    const normalizedKey = key ?? this.parseEscapeSequence(str);
    const keyForPaste = normalizedKey ?? (str ? {
      sequence: str
    } : key);

    // CRITICAL: Handle Ctrl+C and Ctrl+D FIRST - must ALWAYS work to quit/interrupt
    // This is checked before ANY other processing to ensure it can never be blocked
    if (normalizedKey?.ctrl && (normalizedKey.name === 'c' || normalizedKey.name === 'd')) {
      // If we're in input capture mode, cancel it first
      if (this.inputCapture) {
        this.cancelInputCapture(new Error('Input capture cancelled'));
        this.clearBuffer();
        return;
      }
      if (normalizedKey.name === 'c') {
        // Ctrl+C behavior:
        // 1. If buffer has text: clear it first, then notify shell
        // 2. If buffer is empty: let shell decide to pause AI or quit
        const hadBuffer = this.buffer.length > 0;
        if (hadBuffer) {
          this.buffer = '';
          this.cursor = 0;
          this.inputRenderOffset = 0;
          this.resetSuggestions();
          this.renderPrompt();
          this.emitInputChange();
        }
        // Emit ctrlc event with buffer state so shell can handle appropriately
        this.emit('ctrlc', {
          hadBuffer
        });
        return;
      }
      if (normalizedKey.name === 'd') {
        // Ctrl+D: interrupt if buffer is empty
        if (this.buffer.length === 0) {
          this.emit('interrupt');
        }
        return;
      }
    }

    // Handle macOS Option+key toggles BEFORE any paste detection
    // Check multiple sources: str, key.sequence, and key.meta+key.name
    // This is a fallback - primary detection happens in the raw 'data' event handler

    // Check str first
    let toggleLetter = this.detectToggleFromRawData(str);

    // Also check key.sequence if str didn't match (readline may transform the input)
    if (!toggleLetter && key?.sequence) {
      toggleLetter = this.detectToggleFromRawData(key.sequence);
      if (toggleLetter && process.env['AGI_DEBUG_KEYS']) {
        console.error(`[KEY] TOGGLE DETECTED via key.sequence: ${toggleLetter}`);
      }
    }
    if (toggleLetter) {
      if (process.env['AGI_DEBUG_KEYS']) {
        console.error(`[KEY] TOGGLE DETECTED (keypress fallback): ${toggleLetter}`);
      }
      this.handleToggle(toggleLetter);
      return;
    }

    // Also check meta+key pattern if str/sequence didn't match
    if (normalizedKey?.meta && normalizedKey.name) {
      const metaLetter = normalizedKey.name.toLowerCase();
      if (['g', 'a', 'd', 't', 'v'].includes(metaLetter)) {
        if (process.env['AGI_DEBUG_KEYS']) {
          console.error(`[KEY] TOGGLE DETECTED (meta key): ${metaLetter}`);
        }
        this.handleToggle(metaLetter);
        return;
      }
    }
    if (this.handleBracketedPaste(str, keyForPaste)) {
      return;
    }
    if (this.handlePlainPaste(str, keyForPaste)) {
      return;
    }
    if (!normalizedKey) {
      return;
    }

    // inputCapture Ctrl+C/D is handled at the top of handleKeypress

    // Detect Ctrl+Shift combinations (fallback for non-macOS or configured terminals)
    const isCtrlShift = letter => {
      const lowerLetter = letter.toLowerCase();
      const upperLetter = letter.toUpperCase();

      // Pattern 1: Standard readline shift flag + ctrl
      if (normalizedKey.ctrl && normalizedKey.shift && normalizedKey.name?.toLowerCase() === lowerLetter) {
        return true;
      }

      // Pattern 2: Some terminals send uppercase name with ctrl
      if (normalizedKey.ctrl && normalizedKey.name === upperLetter) {
        return true;
      }

      // Pattern 3: Meta/Alt + letter (iTerm2 with "Option sends Meta")
      if (normalizedKey.meta && normalizedKey.name?.toLowerCase() === lowerLetter) {
        return true;
      }

      // Pattern 4: Raw escape sequence check for xterm-style modifiers
      const seq = str || normalizedKey.sequence;
      // eslint-disable-next-line no-control-regex
      if (seq && /^\x1b\[[0-9]+;6[~A-Z]?$/.test(seq)) {
        return true;
      }

      // Pattern 5: ESC + letter (Option sends ESC prefix in some configs)
      if (seq && seq === `\x1b${lowerLetter}`) {
        return true;
      }
      return false;
    };
    const handleCtrlShiftToggle = letter => {
      // Ensure no buffered chars leak into the prompt
      this.pendingInsertBuffer = '';
      if (letter === 'a') {
        this.emit('toggle-critical-approval');
      } else if (letter === 'g') {
        this.emit('toggle-auto-continue');
      } else if (letter === 'd') {
        this.emit('toggle-alphazero');
      } else if (letter === 't') {
        this.emit('toggle-thinking');
      }
      // Force immediate render during streaming to ensure toggle state is visible
      if (this.mode === 'streaming') {
        this.renderPromptImmediate();
      } else {
        this.renderPrompt();
      }
    };
    if (isCtrlShift('a')) {
      handleCtrlShiftToggle('a');
      return;
    }
    if (isCtrlShift('g')) {
      handleCtrlShiftToggle('g');
      return;
    }
    if (isCtrlShift('d')) {
      handleCtrlShiftToggle('d');
      return;
    }
    if (isCtrlShift('t')) {
      handleCtrlShiftToggle('t');
      return;
    }
    if (normalizedKey.ctrl && normalizedKey.name?.toLowerCase() === 'r') {
      this.emit('resume');
      return;
    }

    // Ctrl+C and Ctrl+D are handled at the top of handleKeypress for guaranteed execution

    if (key.ctrl && key.name === 'u') {
      this.clearBuffer();
      return;
    }

    // Ctrl+L: Clear screen while preserving input
    if (key.ctrl && key.name === 'l') {
      if (this.collapsedPaste) {
        this.expandCollapsedPasteToBuffer();
        return;
      }
      // Clear screen and redraw
      this.output.write('\x1b[2J\x1b[H'); // Clear screen, move to top
      this.hasConversationContent = false;
      this.clearCollapsedResults();
      this.renderPrompt();
      return;
    }

    // Ctrl+O: Expand last tool result
    if (key.ctrl && key.name === 'o') {
      this.emit('expand-tool-result');
      return;
    }

    // Ctrl+A: Move cursor to start of line
    if (key.ctrl && key.name === 'a') {
      if (this.cursor !== 0) {
        this.cursor = 0;
        this.inputRenderOffset = 0;
        this.renderPrompt();
        this.emitInputChange();
      }
      return;
    }

    // Ctrl+E: Move cursor to end of line
    if (key.ctrl && key.name === 'e') {
      if (this.cursor !== this.buffer.length) {
        this.cursor = this.buffer.length;
        this.ensureCursorVisible();
        this.renderPrompt();
        this.emitInputChange();
      }
      return;
    }

    // Ctrl+W: Delete word backward
    if (key.ctrl && key.name === 'w') {
      if (this.cursor > 0) {
        // Find start of previous word
        let pos = this.cursor;
        // Skip trailing spaces
        while (pos > 0 && this.buffer[pos - 1] === ' ') pos--;
        // Skip word characters
        while (pos > 0 && this.buffer[pos - 1] !== ' ') pos--;
        this.buffer = this.buffer.slice(0, pos) + this.buffer.slice(this.cursor);
        this.cursor = pos;
        this.updateSuggestions();
        this.renderPrompt();
        this.emitInputChange();
      }
      return;
    }

    // Ctrl+K: Delete from cursor to end of line
    if (key.ctrl && key.name === 'k') {
      if (this.cursor < this.buffer.length) {
        this.buffer = this.buffer.slice(0, this.cursor);
        this.updateSuggestions();
        this.renderPrompt();
        this.emitInputChange();
      }
      return;
    }

    // Home: Move cursor to start
    if (key.name === 'home') {
      if (this.cursor !== 0) {
        this.cursor = 0;
        this.inputRenderOffset = 0;
        this.renderPrompt();
        this.emitInputChange();
      }
      return;
    }

    // End: Move cursor to end
    if (key.name === 'end') {
      if (this.cursor !== this.buffer.length) {
        this.cursor = this.buffer.length;
        this.ensureCursorVisible();
        this.renderPrompt();
        this.emitInputChange();
      }
      return;
    }

    // Alt+Left: Move cursor back one word
    if (key.meta && key.name === 'left') {
      if (this.cursor > 0) {
        let pos = this.cursor;
        // Skip spaces
        while (pos > 0 && this.buffer[pos - 1] === ' ') pos--;
        // Skip word characters
        while (pos > 0 && this.buffer[pos - 1] !== ' ') pos--;
        this.cursor = pos;
        this.ensureCursorVisible();
        this.renderPrompt();
        this.emitInputChange();
      }
      return;
    }

    // Alt+Right: Move cursor forward one word
    if (key.meta && key.name === 'right') {
      if (this.cursor < this.buffer.length) {
        let pos = this.cursor;
        // Skip current word
        while (pos < this.buffer.length && this.buffer[pos] !== ' ') pos++;
        // Skip spaces
        while (pos < this.buffer.length && this.buffer[pos] === ' ') pos++;
        this.cursor = pos;
        this.ensureCursorVisible();
        this.renderPrompt();
        this.emitInputChange();
      }
      return;
    }

    // Alt+Backspace: Delete word backward (alternative to Ctrl+W)
    if (key.meta && key.name === 'backspace') {
      if (this.collapsedPaste) {
        // If there's a collapsed paste, delete it completely
        this.collapsedPaste = null;
        this.renderPrompt();
        this.emitInputChange();
        return;
      }
      if (this.cursor > 0) {
        let pos = this.cursor;
        while (pos > 0 && this.buffer[pos - 1] === ' ') pos--;
        while (pos > 0 && this.buffer[pos - 1] !== ' ') pos--;
        this.buffer = this.buffer.slice(0, pos) + this.buffer.slice(this.cursor);
        this.cursor = pos;
        this.updateSuggestions();
        this.renderPrompt();
        this.emitInputChange();
      }
      return;
    }
    if (key.name === 'return' || key.name === 'enter') {
      // During streaming, queue the input for processing after AI completes
      if (this.mode === 'streaming') {
        const queuedInput = this.streamingInputQueue.join('').trim();
        if (queuedInput) {
          this.emit('queue', queuedInput);
          this.streamingInputQueue = [];
        }
        return;
      }
      // If there's a collapsed paste, expand and submit in one action
      if (this.collapsedPaste) {
        this.expandCollapsedPasteToBuffer();
        return;
      }
      // If a slash command suggestion is highlighted, pressing Enter submits it immediately
      if (this.applySuggestion(true)) return;
      // Fallback: if buffer starts with '/' and suggestions exist, use the selected/first one
      if (this.buffer.startsWith('/') && this.suggestions.length > 0) {
        const safeIndex = this.suggestionIndex >= 0 && this.suggestionIndex < this.suggestions.length ? this.suggestionIndex : 0;
        this.buffer = this.suggestions[safeIndex]?.command ?? this.buffer;
      }
      this.submitText(this.buffer);
      return;
    }
    if (normalizedKey.name === 'backspace') {
      // Reset any paste detection state to ensure clean render
      this.resetPlainPasteBurst();
      this.cancelPlainPasteCapture();
      if (this.collapsedPaste) {
        this.collapsedPaste = null;
        this.forceNextRender = true;
        this.renderPrompt();
        this.emitInputChange();
        return;
      }
      if (this.cursor > 0) {
        this.buffer = this.buffer.slice(0, this.cursor - 1) + this.buffer.slice(this.cursor);
        this.cursor--;
        this.updateSuggestions();
        this.forceNextRender = true;
        this.renderPrompt();
        this.emitInputChange();
      }
      return;
    }
    if (normalizedKey.name === 'delete') {
      // Reset any paste detection state to ensure clean render
      this.resetPlainPasteBurst();
      this.cancelPlainPasteCapture();
      if (this.collapsedPaste) {
        // If there's a collapsed paste, delete it completely (similar to backspace)
        this.collapsedPaste = null;
        this.forceNextRender = true;
        this.renderPrompt();
        this.emitInputChange();
        return;
      }
      if (this.cursor < this.buffer.length) {
        this.buffer = this.buffer.slice(0, this.cursor) + this.buffer.slice(this.cursor + 1);
        this.updateSuggestions();
        this.forceNextRender = true;
        this.renderPrompt();
        this.emitInputChange();
      }
      return;
    }

    // Menu navigation (Claude Code style) - intercepts keys when menu is active
    if (this.isMenuActive()) {
      if (normalizedKey.name === 'up') {
        this.navigateMenu(-1);
        return;
      }
      if (normalizedKey.name === 'down') {
        this.navigateMenu(1);
        return;
      }
      if (normalizedKey.name === 'return') {
        this.selectMenuItem();
        return;
      }
      if (normalizedKey.name === 'escape') {
        this.closeMenu();
        return;
      }
      // Other keys close menu without selection
      if (str && !normalizedKey.ctrl && !normalizedKey.meta) {
        this.closeMenu();
        // Don't return - let the key be processed normally
      }
    }
    if (normalizedKey.name === 'left') {
      // Reset paste state to ensure clean render
      this.resetPlainPasteBurst();
      // If there's a collapsed paste, expand it first
      if (this.collapsedPaste) {
        this.expandCollapsedPasteToBuffer();
      }
      if (this.cursor > 0) {
        this.cursor--;
        this.ensureCursorVisible();
        this.forceNextRender = true;
        this.renderPrompt();
        this.emitInputChange();
      }
      return;
    }
    if (normalizedKey.name === 'right') {
      // Reset paste state to ensure clean render
      this.resetPlainPasteBurst();
      // If there's a collapsed paste, expand it first
      if (this.collapsedPaste) {
        this.expandCollapsedPasteToBuffer();
      }
      if (this.cursor < this.buffer.length) {
        this.cursor++;
        this.ensureCursorVisible();
        this.forceNextRender = true;
        this.renderPrompt();
        this.emitInputChange();
      }
      return;
    }
    if (normalizedKey.name === 'up') {
      if (this.navigateSuggestions(-1)) {
        return;
      }
      if (this.history.length > 0) {
        if (this.historyIndex === -1) {
          this.historyIndex = this.history.length - 1;
        } else if (this.historyIndex > 0) {
          this.historyIndex--;
        }
        // Validate index is within bounds before accessing
        if (this.historyIndex >= 0 && this.historyIndex < this.history.length) {
          this.buffer = this.history[this.historyIndex] ?? '';
        } else {
          this.historyIndex = -1;
          this.buffer = '';
        }
        this.cursor = this.buffer.length;
        this.inputRenderOffset = 0; // Reset render offset for new buffer
        this.updateSuggestions();
        this.renderPrompt();
        this.emitInputChange();
      }
      return;
    }
    if (normalizedKey.name === 'down') {
      if (this.navigateSuggestions(1)) {
        return;
      }
      if (this.historyIndex !== -1) {
        this.historyIndex++;
        if (this.historyIndex >= this.history.length) {
          this.historyIndex = -1;
          this.buffer = '';
        } else if (this.historyIndex >= 0) {
          this.buffer = this.history[this.historyIndex] ?? '';
        } else {
          // Safety: invalid state, reset
          this.historyIndex = -1;
          this.buffer = '';
        }
        this.cursor = this.buffer.length;
        this.inputRenderOffset = 0; // Reset render offset for new buffer
        this.updateSuggestions();
        this.renderPrompt();
        this.emitInputChange();
      }
      return;
    }
    if (normalizedKey.name === 'tab') {
      if (this.applySuggestion(false)) return;
      return;
    }
    if (str && !normalizedKey.ctrl && !normalizedKey.meta) {
      // SAFETY: Final guard to prevent toggle characters from ever being inserted
      // This should never trigger if earlier detection works, but acts as a safety net
      if (this.isToggleCharacter(str)) {
        if (process.env['AGI_DEBUG_KEYS']) {
          console.error(`[KEY] BLOCKED toggle character from insertion: "${str}" code=${str.charCodeAt(0)}`);
        }
        return;
      }

      // Queue text input during streaming - process after AI completes
      if (this.mode === 'streaming') {
        this.streamingInputQueue.push(str);
        return;
      }
      // Debug: trace why toggle didn't catch this character
      if (process.env['AGI_DEBUG_KEYS']) {
        const code = str.charCodeAt(0);
        console.error(`[KEY] QUEUE INSERT: str="${str}" code=${code}`);
      }
      // Defer insertion to allow paste detection window to catch rapid input
      this.queuePendingInsert(str);
    }
  }

  /**
   * Ensure horizontal cursor position stays within the visible input window.
   * Prevents jumps when using left/right arrows on long lines.
   */
  ensureCursorVisible() {
    const maxWidth = Math.max(10, this.safeWidth() - 12); // margin for prompt/toggles and padding
    // If cursor is left of current window, shift window left
    if (this.cursor < this.inputRenderOffset) {
      this.inputRenderOffset = this.cursor;
      return;
    }
    // If cursor is beyond visible window, shift window right
    if (this.cursor - this.inputRenderOffset >= maxWidth) {
      this.inputRenderOffset = this.cursor - maxWidth + 1;
    }
  }

  /**
   * Parse raw escape sequences when readline doesn't populate key metadata.
   * Prevents control codes (e.g., ^[[200~) from leaking into the buffer.
   */
  parseEscapeSequence(sequence) {
    if (!sequence) return null;
    const map = {
      '\x1b[A': {
        name: 'up',
        sequence
      },
      '\x1b[B': {
        name: 'down',
        sequence
      },
      '\x1b[C': {
        name: 'right',
        sequence
      },
      '\x1b[D': {
        name: 'left',
        sequence
      },
      '\x1b[H': {
        name: 'home',
        sequence
      },
      '\x1b[F': {
        name: 'end',
        sequence
      },
      '\x1b[200~': {
        name: 'paste-start',
        sequence
      },
      '\x1b[201~': {
        name: 'paste-end',
        sequence
      }
    };
    return map[sequence] ?? null;
  }

  /**
   * Queue characters for deferred insertion. This prevents visual "leak" of
   * pasted content by holding characters until we're confident it's not a paste.
   */
  queuePendingInsert(text) {
    // If toggle characters slipped through, handle them here and strip them before insertion
    const toggles = this.extractToggleLetters(text);
    if (toggles.length > 0) {
      for (const letter of toggles) {
        this.handleToggle(letter);
      }
      text = this.stripToggleSymbols(text);
      if (!text) {
        if (process.env['AGI_DEBUG_KEYS']) {
          console.error('[KEY] QUEUE INSERT DROPPED: toggle-only input');
        }
        return;
      }
    }

    // Fast-path: single printable ASCII character with no pending buffer = immediate insert
    // This makes normal typing feel instant while still detecting multi-char pastes
    // BUT: skip fast path if burst activity suggests incoming paste
    const now = Date.now();
    const burstActive = this.pasteBurstWindowStart > 0 && now - this.pasteBurstWindowStart <= this.plainPasteWindowMs;
    if (text.length === 1 && this.pendingInsertBuffer === '' && !this.inPlainPaste && !this.inBracketedPaste && !burstActive && text.charCodeAt(0) >= 32 && text.charCodeAt(0) < 127) {
      this.insertText(text);
      return;
    }
    this.pendingInsertBuffer += text;

    // Clear any existing timer
    if (this.pendingInsertTimer) {
      clearTimeout(this.pendingInsertTimer);
      this.pendingInsertTimer = null;
    }

    // Schedule commit after delay - if paste detection triggers first, it will consume the buffer
    this.pendingInsertTimer = setTimeout(() => {
      this.commitPendingInsert();
    }, this.pendingInsertDelayMs);
  }

  /**
   * Commit pending characters as normal input (not a paste).
   * If we reach here, paste detection didn't trigger, so this is normal typing.
   */
  commitPendingInsert() {
    if (this.pendingInsertTimer) {
      clearTimeout(this.pendingInsertTimer);
      this.pendingInsertTimer = null;
    }
    if (this.pendingInsertBuffer && !this.inPlainPaste && !this.inBracketedPaste) {
      // Reset burst state BEFORE inserting so render isn't suppressed
      // If paste detection didn't trigger, this is just fast typing, not a paste
      this.resetPlainPasteBurst();
      this.plainRecentChunks = [];
      this.insertText(this.pendingInsertBuffer);
    }
    this.pendingInsertBuffer = '';
  }

  /**
   * Consume pending insert buffer into paste detection (prevents visual leak).
   */
  consumePendingInsertForPaste() {
    if (this.pendingInsertTimer) {
      clearTimeout(this.pendingInsertTimer);
      this.pendingInsertTimer = null;
    }
    const consumed = this.pendingInsertBuffer;
    this.pendingInsertBuffer = '';
    return consumed;
  }
  handleBracketedPaste(str, key) {
    const sequence = key?.sequence || str;
    if (sequence === ESC.ENABLE_BRACKETED_PASTE || sequence === ESC.DISABLE_BRACKETED_PASTE) {
      return true;
    }

    // Handle case where paste markers might be embedded in the string
    const pasteStartMarker = '\x1b[200~';
    const pasteEndMarker = '\x1b[201~';

    // Check if str contains paste start marker (handles chunked arrival)
    if (typeof str === 'string' && str.includes(pasteStartMarker)) {
      this.inBracketedPaste = true;
      this.pasteBufferOverflow = false;
      // Consume and sanitize pending buffer to prevent partial escape sequences leaking
      const pending = this.sanitizePasteContent(this.consumePendingInsertForPaste());
      // Extract content after the start marker (discard any content before it - likely partial escapes)
      const startIdx = str.indexOf(pasteStartMarker);
      let content = str.slice(startIdx + pasteStartMarker.length);
      // Check if end marker is also in this chunk
      if (content.includes(pasteEndMarker)) {
        const endIdx = content.indexOf(pasteEndMarker);
        content = content.slice(0, endIdx);
        this.pasteBuffer = pending + content;
        this.commitPasteBuffer();
        return true;
      }
      this.pasteBuffer = pending + content;
      this.cancelPlainPasteCapture();
      return true;
    }
    if (sequence === pasteStartMarker) {
      this.inBracketedPaste = true;
      this.pasteBufferOverflow = false; // Reset overflow flag for new paste
      // Consume and sanitize any pending insert buffer to prevent partial escapes leaking
      const pending = this.sanitizePasteContent(this.consumePendingInsertForPaste());
      this.pasteBuffer = pending;
      this.cancelPlainPasteCapture();
      return true;
    }
    if (!this.inBracketedPaste) {
      return false;
    }

    // Check if str contains paste end marker
    if (typeof str === 'string' && str.includes(pasteEndMarker)) {
      const endIdx = str.indexOf(pasteEndMarker);
      const contentBefore = str.slice(0, endIdx);
      if (contentBefore) {
        this.appendToPasteBuffer('paste', contentBefore);
      }
      this.commitPasteBuffer();
      return true;
    }
    if (sequence === pasteEndMarker) {
      this.commitPasteBuffer();
      return true;
    }
    if (key?.name === 'return' || key?.name === 'enter') {
      this.appendToPasteBuffer('paste', '\n');
      return true;
    }
    if (key?.name === 'backspace') {
      this.pasteBuffer = this.pasteBuffer.slice(0, -1);
      return true;
    }
    if (typeof str === 'string' && str.length > 0) {
      this.appendToPasteBuffer('paste', str);
      return true;
    }
    if (typeof sequence === 'string' && sequence.length > 0) {
      this.appendToPasteBuffer('paste', sequence);
      return true;
    }
    return true;
  }
  commitPasteBuffer() {
    if (!this.inBracketedPaste) return;
    // Sanitize to remove any injected escape sequences, then normalize line endings
    let sanitized = this.sanitizePasteContent(this.pasteBuffer);

    // Input protection validation against remote paste attacks
    if (this.inputProtection) {
      const validation = this.inputProtection.validateInput(sanitized, true);
      if (validation.blocked) {
        // Paste blocked - reset state and abort
        this.inBracketedPaste = false;
        this.pasteBuffer = '';
        this.pasteBufferOverflow = false;
        return;
      }
      sanitized = validation.sanitized;
    }
    const content = sanitized.replace(/\r\n?/g, '\n');
    if (content) {
      const lines = content.split('\n');
      const wasTruncated = this.pasteBufferOverflow;
      if (lines.length > 1 || content.length > 200) {
        this.collapsedPaste = {
          text: content,
          lines: lines.length,
          chars: content.length + (wasTruncated ? '+' : 0) // Indicate truncation
        };
        this.buffer = '';
        this.cursor = 0;
        this.updateSuggestions();
        this.renderPrompt();
        this.emitInputChange();
      } else {
        this.insertText(content);
      }
    }
    this.inBracketedPaste = false;
    this.pasteBuffer = '';
    this.pasteBufferOverflow = false;
    this.cancelPlainPasteCapture();
  }
  handlePlainPaste(str, key) {
    // Fallback paste capture when bracketed paste isn't supported
    if (this.inBracketedPaste || key?.ctrl || key?.meta) {
      this.resetPlainPasteBurst();
      this.pruneRecentPlainChunks();
      return false;
    }

    // Don't treat escape sequences (arrow keys, etc.) as paste
    // Escape sequences start with \x1b (ESC) and are used for cursor movement, etc.
    if (typeof str === 'string' && str.startsWith('\x1b')) {
      this.resetPlainPasteBurst();
      this.pruneRecentPlainChunks();
      return false;
    }
    const sequence = key?.sequence ?? '';
    const chunk = typeof str === 'string' && str.length > 0 ? str : sequence;
    if (!chunk) {
      this.resetPlainPasteBurst();
      this.pruneRecentPlainChunks();
      return false;
    }
    const now = Date.now();
    this.trackPlainPasteBurst(chunk.length, now);
    if (!this.inPlainPaste) {
      this.recordRecentPlainChunk(chunk, now);
    }
    const chunkMultiple = chunk.length > 1;
    const hasNewline = /[\r\n]/.test(chunk);
    const burstActive = this.pasteBurstWindowStart > 0 && now - this.pasteBurstWindowStart <= this.plainPasteWindowMs;
    const burstTrigger = burstActive && this.pasteBurstCharCount >= this.plainPasteTriggerChars;
    const hasRecentNonNewline = this.plainRecentChunks.some(entry => !/^[\r\n]+$/.test(entry.text));
    const earlyNewlineTrigger = hasNewline && burstActive && hasRecentNonNewline && this.pasteBurstCharCount >= this.plainPasteEarlyNewlineChars;
    const newlineTrigger = hasNewline && (this.inPlainPaste || chunkMultiple || burstTrigger || earlyNewlineTrigger);
    const looksLikePaste = this.inPlainPaste || chunkMultiple || burstTrigger || newlineTrigger;
    if (!looksLikePaste) {
      this.pruneRecentPlainChunks();
      return false;
    }
    let chunkAlreadyCaptured = false;
    if (!this.inPlainPaste) {
      this.inPlainPaste = true;
      this.pasteBufferOverflow = false; // Reset overflow flag for new paste
      // Consume pending insert buffer first - this is the primary source now
      const pending = this.consumePendingInsertForPaste();
      const reclaimed = this.reclaimRecentPlainChunks();
      // Combine pending buffer with any reclaimed chunks
      const combined = pending + reclaimed;
      if (combined.length > 0) {
        // Remove any chars that leaked into buffer (legacy reclaim path)
        if (reclaimed.length > 0) {
          const removeCount = Math.min(this.buffer.length, reclaimed.length);
          const suffix = this.buffer.slice(-removeCount);
          if (removeCount > 0 && suffix === reclaimed.slice(-removeCount)) {
            this.buffer = this.buffer.slice(0, this.buffer.length - removeCount);
            this.cursor = Math.max(0, this.buffer.length);
            this.clampCursor(); // Ensure cursor is valid
          }
        }
        this.plainPasteBuffer = combined.slice(0, this.maxPasteBufferSize);
        if (combined.length > this.maxPasteBufferSize) {
          this.pasteBufferOverflow = true;
        }
        chunkAlreadyCaptured = combined.endsWith(chunk);
      } else {
        this.plainPasteBuffer = '';
      }
    }
    if (!chunkAlreadyCaptured) {
      this.appendToPasteBuffer('plainPaste', chunk);
    }
    this.schedulePlainPasteCommit();
    return true;
  }
  trackPlainPasteBurst(length, now) {
    if (!this.pasteBurstWindowStart || now - this.pasteBurstWindowStart > this.plainPasteWindowMs) {
      this.pasteBurstWindowStart = now;
      this.pasteBurstCharCount = 0;
    }
    this.pasteBurstCharCount += length;
  }
  resetPlainPasteBurst() {
    this.pasteBurstWindowStart = 0;
    this.pasteBurstCharCount = 0;
  }
  cancelPlainPasteCapture() {
    if (this.plainPasteTimer) {
      clearTimeout(this.plainPasteTimer);
      this.plainPasteTimer = null;
    }
    // Also cancel pending insert buffer
    if (this.pendingInsertTimer) {
      clearTimeout(this.pendingInsertTimer);
      this.pendingInsertTimer = null;
    }
    this.pendingInsertBuffer = '';
    this.inPlainPaste = false;
    this.plainPasteBuffer = '';
    this.plainRecentChunks = [];
    this.resetPlainPasteBurst();
  }
  recordRecentPlainChunk(text, at) {
    const windowStart = at - this.plainPasteWindowMs;
    this.plainRecentChunks.push({
      text,
      at
    });
    this.plainRecentChunks = this.plainRecentChunks.filter(entry => entry.at >= windowStart);
  }
  pruneRecentPlainChunks() {
    if (!this.plainRecentChunks.length) return;
    const now = Date.now();
    const windowStart = now - this.plainPasteWindowMs;
    this.plainRecentChunks = this.plainRecentChunks.filter(entry => entry.at >= windowStart);
  }
  reclaimRecentPlainChunks() {
    if (!this.plainRecentChunks.length) return '';
    const combined = this.plainRecentChunks.map(entry => entry.text).join('');
    this.plainRecentChunks = [];
    return combined;
  }
  schedulePlainPasteCommit() {
    if (this.plainPasteTimer) {
      clearTimeout(this.plainPasteTimer);
    }
    this.plainPasteTimer = setTimeout(() => {
      this.finalizePlainPaste();
    }, this.plainPasteIdleMs);
  }
  finalizePlainPaste() {
    if (!this.inPlainPaste) return;

    // Sanitize to remove any injected escape sequences, then normalize line endings
    let sanitized = this.sanitizePasteContent(this.plainPasteBuffer);

    // Input protection validation against remote paste attacks
    if (this.inputProtection) {
      const validation = this.inputProtection.validateInput(sanitized, true);
      if (validation.blocked) {
        // Paste blocked - reset state and abort
        this.inPlainPaste = false;
        this.plainPasteBuffer = '';
        this.plainRecentChunks = [];
        this.resetPlainPasteBurst();
        this.pasteBufferOverflow = false;
        return;
      }
      sanitized = validation.sanitized;
    }
    const content = sanitized.replace(/\r\n?/g, '\n');
    const wasTruncated = this.pasteBufferOverflow;
    this.inPlainPaste = false;
    this.plainPasteBuffer = '';
    this.plainRecentChunks = [];
    this.resetPlainPasteBurst();
    this.pasteBufferOverflow = false;
    if (this.plainPasteTimer) {
      clearTimeout(this.plainPasteTimer);
      this.plainPasteTimer = null;
    }
    if (!content) return;
    const lines = content.split('\n');
    if (lines.length > 1 || content.length > 200) {
      this.collapsedPaste = {
        text: content,
        lines: lines.length,
        chars: content.length + (wasTruncated ? '+' : 0)
      };
      this.buffer = '';
      this.cursor = 0;
      this.updateSuggestions();
      this.renderPrompt();
      this.emitInputChange();
      return;
    }
    this.insertText(content);
  }
  insertText(text) {
    if (!text) return;

    // SAFETY NET: Filter out any toggle or control characters that slipped through
    // This should never happen if earlier detection works, but acts as final guard
    const filtered = [...text].filter(c => {
      const code = c.charCodeAt(0);
      // Block ALL control characters (0-31) and DEL (127)
      // This includes Ctrl+C (3), Ctrl+D (4), ESC (27), etc.
      if (code < 32 || code === 127) return false;
      // Block toggle characters (Option+G/A/D/T/V Unicode)
      if (this.isToggleCharacter(c)) return false;
      return true;
    }).join('');
    if (!filtered) {
      if (process.env['AGI_DEBUG_KEYS']) {
        console.error(`[KEY] INSERT TEXT BLOCKED: all chars filtered from "${text}"`);
      }
      return;
    }
    text = filtered;

    // Debug: trace what's being inserted
    if (process.env['AGI_DEBUG_KEYS']) {
      const code = text.charCodeAt(0);
      console.error(`[KEY] INSERT TEXT: "${text}" code=${code}`);
    }

    // Don't insert during paste operations - content goes to paste buffer
    if (this.inBracketedPaste || this.inPlainPaste) {
      return;
    }

    // Input protection validation against remote attacks
    if (this.inputProtection) {
      const validation = this.inputProtection.validateInput(text, false);
      if (validation.blocked) {
        // Input blocked - silently drop to prevent attack
        return;
      }
      if (validation.sanitized !== text) {
        // Use sanitized version
        text = validation.sanitized;
        if (!text) return;
      }
    }
    // If there's a collapsed paste and user types, expand to buffer first then insert at cursor
    if (this.collapsedPaste) {
      this.expandCollapsedPasteToBuffer();
    }
    // Sanitize input to remove special formatting characters
    const sanitized = this.sanitizePasteContent(text);
    if (!sanitized) return;

    // Handle multi-line text by collapsing to single line for normal input
    const hasNewlines = sanitized.includes('\n');
    if (hasNewlines) {
      // For multi-line text in normal insertion, collapse to single line with spaces
      const collapsed = sanitized.replace(/\r\n|\r|\n/g, ' ');
      this.insertSingleLineText(collapsed);
    } else {
      this.insertSingleLineText(sanitized);
    }
  }
  insertSingleLineText(text) {
    if (!text) return;
    // Ensure cursor is valid before slicing
    this.clampCursor();
    this.buffer = this.buffer.slice(0, this.cursor) + text + this.buffer.slice(this.cursor);
    this.cursor += text.length;
    this.clampCursor(); // Ensure cursor remains valid after modification
    this.updateSuggestions();
    // Suppress render during paste detection to prevent visual leak
    const inEmitPaste = this.emitPasteBuffer.length > 0 || this.emitPasteTimer !== null;
    if (!this.inPlainPaste && !this.inBracketedPaste && !inEmitPaste) {
      this.renderPrompt();
    }
    this.emitInputChange();
  }
  submitText(text) {
    const isBufferSource = text === this.buffer;

    // If there's a collapsed paste, submit that instead of the buffer text
    // This handles edge cases where submitText is called programmatically
    if (this.collapsedPaste) {
      this.expandCollapsedPaste();
      return;
    }

    // Ensure any deferred input has been committed before submission
    this.commitPendingInsert();
    if (isBufferSource) {
      text = this.buffer;
    }
    if (this.inputCapture) {
      const shouldTrim = this.inputCapture.options.trim;
      const normalizedCapture = shouldTrim ? text.trim() : text;
      if (!this.inputCapture.options.allowEmpty && !normalizedCapture) {
        this.renderPrompt();
        return;
      }
      const resolver = this.inputCapture;
      this.inputCapture = null;
      this.buffer = '';
      this.cursor = 0;
      this.inputRenderOffset = 0;
      this.resetSuggestions();
      this.renderPrompt();
      this.emitInputChange();
      resolver.resolve(normalizedCapture);
      return;
    }
    let normalized = text.trim();
    if (!normalized) {
      this.renderPrompt();
      return;
    }

    // Final prompt validation before submission to AI
    if (this.inputProtection) {
      const validation = this.inputProtection.validatePromptSubmission(normalized);
      if (validation.blocked) {
        // Prompt blocked - don't submit
        this.buffer = '';
        this.cursor = 0;
        this.renderPrompt();
        return;
      }
      normalized = validation.sanitized;
    }

    // Don't add secrets or slash commands to history/scrollback
    if (!this.secretMode && !normalized.startsWith('/')) {
      this.history.push(normalized);
      this.historyIndex = -1;
      this.displayUserPrompt(normalized);
    } else if (!this.secretMode) {
      // Still track slash commands in history for convenience
      this.history.push(normalized);
      this.historyIndex = -1;
    }
    if (this.mode === 'streaming') {
      this.emit('queue', normalized);
    } else {
      this.emit('submit', normalized);
    }
    this.buffer = '';
    this.cursor = 0;
    this.resetSuggestions();
    this.renderPrompt();
    this.emitInputChange();
  }
  updateSuggestions() {
    if (!this.buffer.startsWith('/')) {
      this.resetSuggestions();
      return;
    }
    const firstSpace = this.buffer.indexOf(' ');
    const hasArgText = firstSpace >= 0 && /\S/.test(this.buffer.slice(firstSpace + 1));
    // Hide slash suggestions when the user is editing arguments
    if (firstSpace >= 0 && this.cursor > firstSpace && hasArgText) {
      this.resetSuggestions();
      return;
    }
    const cursorSlice = this.buffer.slice(0, this.cursor);
    const commandSlice = firstSpace >= 0 ? cursorSlice.slice(0, firstSpace) : cursorSlice;
    const fallbackSlice = firstSpace >= 0 ? this.buffer.slice(0, firstSpace) : this.buffer;
    const partial = (commandSlice.trimEnd() || fallbackSlice.trimEnd() || '/').toLowerCase();
    const previous = this.suggestions[this.suggestionIndex]?.command;
    this.suggestions = this.availableCommands.filter(cmd => cmd.command.toLowerCase().startsWith(partial)).slice(0, 5);
    if (this.suggestions.length === 0) {
      this.resetSuggestions();
      return;
    }
    if (previous) {
      const idx = this.suggestions.findIndex(s => s.command === previous);
      this.suggestionIndex = idx >= 0 ? idx : 0;
    } else {
      this.suggestionIndex = 0;
    }
  }
  setAvailableCommands(commands) {
    this.availableCommands = commands;
    this.updateSuggestions();
  }
  applySuggestion(submit) {
    if (!this.buffer.startsWith('/') || this.suggestions.length === 0) {
      return false;
    }
    // Ensure suggestionIndex is valid, default to first item
    const safeIndex = this.suggestionIndex >= 0 && this.suggestionIndex < this.suggestions.length ? this.suggestionIndex : 0;
    const selected = this.suggestions[safeIndex];
    if (!selected) {
      return false;
    }
    if (submit) {
      this.submitText(selected.command);
    } else {
      this.buffer = `${selected.command} `;
      this.cursor = this.buffer.length;
      this.resetSuggestions();
      this.renderPrompt();
      this.emitInputChange();
    }
    return true;
  }
  resetSuggestions() {
    this.suggestions = [];
    this.suggestionIndex = -1;
  }
  navigateSuggestions(direction) {
    if (!this.buffer.startsWith('/') || this.suggestions.length === 0) {
      // Reset index if suggestions were cleared but index wasn't
      if (this.suggestionIndex !== -1 && this.suggestions.length === 0) {
        this.suggestionIndex = -1;
      }
      return false;
    }
    // Ensure current index is valid before computing next
    const currentIndex = this.suggestionIndex >= 0 && this.suggestionIndex < this.suggestions.length ? this.suggestionIndex : -1;
    const next = currentIndex + direction;
    const clamped = Math.max(0, Math.min(this.suggestions.length - 1, next));
    if (clamped === this.suggestionIndex && this.suggestionIndex >= 0) {
      return true;
    }
    this.suggestionIndex = clamped;
    this.renderPrompt();
    return true;
  }

  // ------------ Event queue ------------

  /** Track last added event to prevent duplicates */
  lastAddedEventSignature = '';
  addEvent(type, content) {
    if (!content) return;
    const normalized = this.normalizeEventType(type);
    if (!normalized) return;

    // Deduplicate events at the source to prevent duplicate display
    // Skip deduplication for prompts (user input should always show)
    if (normalized !== 'prompt') {
      const signature = `${normalized}:${content}`;
      if (signature === this.lastAddedEventSignature) {
        return; // Skip duplicate event
      }
      this.lastAddedEventSignature = signature;
    }
    if (normalized === 'prompt' || normalized === 'response' || normalized === 'thought' || normalized === 'stream' || normalized === 'tool' || normalized === 'tool-result' || normalized === 'build' || normalized === 'test') {
      this.hasConversationContent = true;
    }
    if (normalized === 'tool-result') {
      this.lastToolResult = content;
    }
    if (this.plainMode) {
      const formatted = this.formatContent({
        type: normalized,
        rawType: type,
        content,
        timestamp: Date.now()
      });
      if (formatted) {
        const text = formatted.endsWith('\n') ? formatted : `${formatted}\n`;
        this.output.write(text);
        this.lastOutputEndedWithNewline = text.endsWith('\n');
      }
      return;
    }
    const event = {
      type: normalized,
      rawType: type,
      content,
      timestamp: Date.now()
    };

    // Priority queue: prompt events are inserted at the front to ensure immediate display
    // This guarantees user input is echoed before any async processing responses
    if (normalized === 'prompt') {
      // Find the first non-prompt event and insert before it
      // This maintains prompt order while giving them priority over other events
      const insertIndex = this.eventQueue.findIndex(e => e.type !== 'prompt');
      if (insertIndex === -1) {
        this.eventQueue.push(event);
      } else {
        this.eventQueue.splice(insertIndex, 0, event);
      }
    } else {
      this.eventQueue.push(event);
    }
    if (!this.isProcessingQueue) {
      queueMicrotask(() => {
        if (!this.isProcessingQueue) {
          void this.processQueue();
        }
      });
    }
  }

  /**
   * Re-render the prompt/control bar immediately.
   * This keeps the chat box pinned during long streaming runs instead of waiting
   * for the event queue to drain before the prompt reappears.
   */
  renderPromptOverlay(immediate = false) {
    if (this.plainMode || this.disposed || !this.output.isTTY || this.promptRenderingSuspended) {
      return;
    }
    this.allowPromptRender = true;
    if (immediate) {
      this.renderPromptImmediate();
      return;
    }
    this.renderPrompt();
  }
  async processQueue() {
    if (this.isProcessingQueue || this.disposed) return;
    this.isProcessingQueue = true;
    try {
      while (this.eventQueue.length > 0 && !this.disposed) {
        const event = this.eventQueue.shift();
        if (!event) continue;
        const coalesced = this.coalesceAdjacentTextEvents(event);
        try {
          await this.renderEvent(coalesced);
        } catch (error) {
          // Never allow a rendering failure to stall the event queue
          if (this.disposed) break; // Don't try to write after disposal
          const message = error instanceof Error ? error.message : typeof error === 'string' ? error : 'Unknown renderer error';
          this.output.write(`\n[renderer] ${message}\n`);
        }

        // Check disposed before continuing
        if (this.disposed) break;

        // Note: For prompt events, the overlay is already rendered in renderEvent()
        // via renderPromptOverlay(true). No need to render again here.
        if (event.type === 'prompt') {
          // Ensure prompt rendering is allowed for subsequent events
          if (this.output.isTTY) {
            this.allowPromptRender = true;
          }
          // No delay for prompt events - render immediately
        } else {
          await this.delay(1);
        }
      }
      // ALWAYS render prompt after queue completes to keep bottom UI persistent
      // This ensures status/toggles stay pinned and responses are fully rendered
      if (this.output.isTTY && !this.disposed) {
        this.allowPromptRender = true;
        this.renderPrompt();
      }
    } finally {
      this.isProcessingQueue = false;
    }
  }

  /**
   * Merge adjacent response/thought events into a single block so continuous
   * chat text renders with one bullet instead of one per chunk.
   */
  coalesceAdjacentTextEvents(event) {
    const isMergeable = target => Boolean(target && !target.isCompacted && (target.type === 'response' && target.rawType === 'response' || target.type === 'thought' && target.rawType === 'thought'));
    if (!isMergeable(event)) {
      return event;
    }
    while (this.eventQueue.length > 0 && isMergeable(this.eventQueue[0])) {
      const next = this.eventQueue.shift();
      const needsSeparator = event.content.length > 0 && !event.content.endsWith('\n') && !next.content.startsWith('\n');
      event.content = needsSeparator ? `${event.content}\n${next.content}` : `${event.content}${next.content}`;
    }
    return event;
  }

  /**
   * Flush pending renderer events.
   * Useful for startup flows (e.g., welcome banner) to guarantee the scrollback is hydrated
   * before continuing with additional UI updates.
   */
  async flushEvents(timeoutMs = 250) {
    // Kick off processing if idle
    if (!this.plainMode && !this.isProcessingQueue && this.eventQueue.length > 0) {
      void this.processQueue();
    }
    const start = Date.now();
    while ((this.isProcessingQueue || this.eventQueue.length > 0) && Date.now() - start < timeoutMs) {
      await this.delay(5);
    }
    if (!this.plainMode && this.output.isTTY) {
      this.allowPromptRender = true;
      this.renderPrompt();
    }
  }
  async renderEvent(event) {
    // Clear initialization flag when first banner is displayed
    // This allows prompt rendering to begin after the welcome banner
    if (event.rawType === 'banner' && this.initializing) {
      this.initializing = false;
    }
    if (this.plainMode) {
      const formattedPlain = this.formatContent(event);
      if (formattedPlain) {
        const text = formattedPlain.endsWith('\n') ? formattedPlain : `${formattedPlain}\n`;
        this.output.write(text);
        this.lastOutputEndedWithNewline = text.endsWith('\n');
      }
      return;
    }
    const formatted = this.formatContent(event);
    if (!formatted) return;

    // Deduplicate streaming and response content to prevent duplicates
    const signature = `${event.rawType}:${event.content}`;
    if ((event.type === 'stream' || event.type === 'response') && signature === this.lastRenderedEventKey) {
      return;
    }
    if (event.type !== 'prompt') {
      this.lastRenderedEventKey = signature;
    }

    // Clear the prompt area before writing new content
    if (this.promptHeight > 0 || this.lastOverlay) {
      this.clearPromptArea();
    }
    this.isPromptActive = false;
    if (event.type !== 'stream' && !this.lastOutputEndedWithNewline && formatted.trim()) {
      // Keep scrollback ordering predictable when previous output ended mid-line
      this.output.write('\n');
      this.lastOutputEndedWithNewline = true;
    }
    this.output.write(formatted);
    this.lastOutputEndedWithNewline = formatted.endsWith('\n');

    // Immediately restore the prompt overlay so the chat box stays pinned during streaming
    if (this.output.isTTY && this.interactive && !this.disposed) {
      this.renderPromptOverlay(true);
    }
  }
  normalizeEventType(type) {
    switch (type) {
      case 'prompt':
        return 'prompt';
      case 'thought':
        return 'thought';
      case 'stream':
      case 'streaming':
        return 'stream';
      case 'tool':
      case 'tool-call':
        return 'tool';
      case 'tool-result':
        return 'tool-result';
      case 'build':
        return 'build';
      case 'test':
        return 'test';
      case 'response':
      case 'banner':
      case 'raw':
        return 'response';
      case 'error':
        return 'response';
      default:
        return null;
    }
  }
  formatContent(event) {
    // Compacted blocks already have separator and formatting
    if (event.isCompacted) {
      return event.content;
    }
    if (event.rawType === 'banner') {
      // Banners display without bullet prefix
      const lines = event.content.split('\n').map(line => line.trimEnd());
      return `${lines.join('\n')}\n`;
    }

    // Compact, user-friendly formatting
    switch (event.type) {
      case 'prompt':
        // User prompt - just the text (prompt box handles styling)
        return `${_theme.theme.primary('>')} ${event.content}\n`;
      case 'thought':
        {
          // Programmatic filter: reject content that looks like internal/garbage output
          if (this.isGarbageOutput(event.content)) {
            return '';
          }
          const curated = this.curateReasoningContent(event.content);
          if (!curated || this.isGarbageOutput(curated)) {
            return '';
          }
          if (!this.shouldRenderThought(curated)) {
            return '';
          }
          this.lastCuratedThought = {
            text: curated.replace(/\s+/g, ' ').trim().toLowerCase(),
            at: Date.now()
          };
          return this.formatThinkingBlock(curated);
        }
      case 'tool':
        {
          // Compact tool display: âš¡ToolName â†’ result
          const content = event.content.replace(/^[âºâš™â—‹]\s*/, '');
          return this.formatCompactToolCall(content);
        }
      case 'tool-result':
        {
          // Inline result: â””â”€ summary
          return this.formatCompactToolResult(event.content);
        }
      case 'build':
        return this.wrapBulletText(event.content, {
          label: 'build',
          labelColor: _theme.theme.warning
        });
      case 'test':
        return this.wrapBulletText(event.content, {
          label: 'test',
          labelColor: _theme.theme.info
        });
      case 'stream':
        {
          // Streaming content is the model's response - pass through directly
          // IMPORTANT: Don't filter streaming chunks with isGarbageOutput because:
          // 1. Chunks arrive character-by-character or in small pieces
          // 2. Small chunks like "." or ":" are valid parts of sentences
          // 3. Filtering would break the streaming display
          // Only filter completely empty content
          if (!event.content) {
            return '';
          }
          // Accumulate streaming content for potential post-processing
          this.streamingContentBuffer += event.content;
          // Track newlines for line counting
          const newlines = (event.content.match(/\n/g) || []).length;
          this.streamingLinesWritten += newlines;
          return event.content;
        }
      case 'response':
      default:
        {
          // Programmatic filter: reject content that looks like internal/garbage output
          if (this.isGarbageOutput(event.content)) {
            return '';
          }
          // Clean response without excessive bullets, wrapped for readability
          const isError = event.rawType === 'error';
          return this.wrapBulletText(event.content, isError ? {
            label: 'error',
            labelColor: _theme.theme.error
          } : undefined);
        }
    }
  }

  /**
   * Programmatic garbage detection - checks if content looks like internal/system output
   * that shouldn't be shown to users. Uses structural checks, not pattern matching.
   */
  isGarbageOutput(content) {
    if (!content || content.trim().length === 0) return true;
    const trimmed = content.trim();

    // Very short content checks - catch leaked punctuation fragments like "." or ":"
    if (trimmed.length <= 3) {
      // Single punctuation marks or very short punctuation sequences are garbage
      if (/^[.,:;!?*#\-_=+|\\/<>(){}[\]`'"~^@&%$]+$/.test(trimmed)) {
        return true;
      }
    }

    // Check if content is just punctuation on multiple lines (leaked reasoning)
    const lines = content.split('\n');
    const punctOnlyLines = lines.filter(line => {
      const lineTrimmed = line.trim();
      return lineTrimmed.length > 0 && /^[.,:;!?*#\-_=+|\\/<>(){}[\]`'"~^@&%$\s]+$/.test(lineTrimmed);
    });
    // If ALL non-empty lines are just punctuation, it's garbage
    const nonEmptyLines = lines.filter(l => l.trim().length > 0);
    if (nonEmptyLines.length > 0 && punctOnlyLines.length === nonEmptyLines.length) {
      return true;
    }

    // Structural check: content starting with < that isn't valid markdown/code
    if (content.startsWith('<') && !content.startsWith('<http') && !content.startsWith('<!')) {
      return true;
    }

    // Structural check: contains "to=functions." or "to=tools." (internal routing)
    if (content.includes('to=functions.') || content.includes('to=tools.')) {
      return true;
    }

    // Structural check: looks like internal instruction (quoted system text)
    if (content.startsWith('"') && content.includes('block') && content.includes('tool')) {
      return true;
    }

    // Structural check: very short content that's just timing info
    if (content.length < 30 && /elapsed|seconds?|ms\b/i.test(content)) {
      return true;
    }

    // Structural check: mostly punctuation/symbols - leaked reasoning fragments
    const meaningfulLines = lines.filter(line => {
      const lineTrimmed = line.trim();
      if (!lineTrimmed) return false;
      // Line must have at least 30% alphanumeric content
      const alphaNum = (lineTrimmed.match(/[a-zA-Z0-9]/g) || []).length;
      return lineTrimmed.length > 0 && alphaNum / lineTrimmed.length >= 0.3;
    });
    // If less than 30% of lines are meaningful, it's garbage
    if (lines.length > 3 && meaningfulLines.length / lines.length < 0.3) {
      return true;
    }

    // Structural check: gibberish - high ratio of non-word characters
    const alphaCount = (content.match(/[a-zA-Z]/g) || []).length;
    const totalCount = content.replace(/\s/g, '').length;
    if (totalCount > 20 && alphaCount / totalCount < 0.4) {
      return true; // Less than 40% letters = likely garbage
    }
    return false;
  }

  /**
   * Sanitize tool result content to remove leaked reasoning/thinking output.
   * This filters out fragments that look like internal model output.
   */
  sanitizeToolResultContent(content) {
    if (!content) return '';

    // Split into lines and filter out garbage lines
    const lines = content.split('\n');
    const cleanLines = [];
    for (const line of lines) {
      const trimmed = line.trim();

      // Skip empty lines at start
      if (cleanLines.length === 0 && !trimmed) continue;

      // Skip lines that look like leaked reasoning fragments
      // Common patterns: single punctuation, markdown artifacts, emoji fragments
      if (/^[)\]}>*`'"]+$/.test(trimmed)) continue;
      if (/^[*_]{2,}$/.test(trimmed)) continue; // Just ** or __
      if (/^[|â”‚â”ƒ]+$/.test(trimmed)) continue; // Just vertical bars
      if (/^[â”€â”â•]+$/.test(trimmed)) continue; // Just horizontal lines
      if (/^\.{2,}$/.test(trimmed)) continue; // Just dots
      if (/^[\sï¸]+$/.test(trimmed)) continue; // Just whitespace/emoji modifiers
      if (/^[:\s]+$/.test(trimmed)) continue; // Just colons/whitespace
      if (/^[,\s]+$/.test(trimmed)) continue; // Just commas/whitespace

      // Skip markdown bold/italic fragments that leaked
      if (/^\*{1,2}[^*]*\*{0,2}$/.test(trimmed) && trimmed.length < 10 && !/\w{3,}/.test(trimmed)) continue;

      // Skip lines that are just short fragments with high punctuation ratio
      const alphaInLine = (trimmed.match(/[a-zA-Z0-9]/g) || []).length;
      if (trimmed.length > 0 && trimmed.length < 20 && alphaInLine / trimmed.length < 0.3) continue;

      // Skip very short lines that are just punctuation or single chars (except numbers)
      if (trimmed.length <= 2 && !/^\d+$/.test(trimmed) && !/^[a-zA-Z]{2}$/.test(trimmed)) {
        // Allow specific short patterns like "OK", "0", "1" etc.
        if (!/^(?:ok|no|yes|\d+)$/i.test(trimmed)) continue;
      }

      // Skip lines that look like stray parentheses or brackets from reasoning
      if (/^[()[\]{}]+$/.test(trimmed)) continue;

      // Skip lines that look like markdown code fence artifacts
      if (/^```\s*$/.test(trimmed)) continue;
      cleanLines.push(line);
    }

    // Trim trailing empty lines
    while (cleanLines.length > 0 && !cleanLines[cleanLines.length - 1]?.trim()) {
      cleanLines.pop();
    }
    return cleanLines.join('\n').trim();
  }
  curateReasoningContent(content) {
    const normalized = content.replace(/\r\n/g, '\n').replace(/\r/g, '\n').trim();
    if (!normalized) return null;
    const limited = normalized.length > this.maxCuratedReasoningChars ? normalized.slice(0, this.maxCuratedReasoningChars) : normalized;
    const maxSegments = this.maxCuratedReasoningLines * 3;
    const segments = limited.split('\n').flatMap(line => line.split(/(?<=[.?!])\s+/)).map(line => line.replace(/^[â€¢*âºâ—‹\-\u2022]+\s*/, '').trim()).filter(Boolean);
    if (segments.length === 0) {
      return null;
    }
    const seen = new Set();
    const deduped = [];
    for (const segment of segments) {
      const normalizedSegment = segment.replace(/\s+/g, ' ');
      const key = normalizedSegment.toLowerCase();
      if (seen.has(key)) {
        continue;
      }
      seen.add(key);
      deduped.push(normalizedSegment);
      if (deduped.length >= maxSegments) {
        break;
      }
    }
    if (deduped.length === 0) {
      return null;
    }
    const prioritized = this.prioritizeReasoningSegments(deduped);
    if (prioritized.length === 0) {
      return null;
    }
    const limitedSelection = prioritized.slice(0, this.maxCuratedReasoningLines);
    const bulleted = limitedSelection.map(line => this.ensureReasoningBullet(line));
    return bulleted.join('\n');
  }
  ensureReasoningBullet(line) {
    if (/^([â€¢*âºâ—‹-]|\d+[.)])\s/.test(line)) {
      return line;
    }
    return `â€¢ ${line}`;
  }
  looksStructuredThought(line) {
    return /^(\d+[.)]\s|step\s*\d+|plan\b|next\b|then\b|goal\b)/i.test(line) || /^[-*â€¢]\s/.test(line) || line.includes('->') || line.includes('â†’') || line.includes(': ') || /\b(test|verify|validate|check|build|run|deploy|diff|lint|type ?check|fix|bug|issue|risk|mitigate|investigate)\b/i.test(line);
  }
  prioritizeReasoningSegments(segments) {
    if (!segments.length) {
      return [];
    }
    const scored = segments.map((text, index) => ({
      text,
      index,
      score: this.reasoningSignalScore(text)
    }));
    const hasSignal = scored.some(item => item.score > 0);
    if (!hasSignal) {
      return segments;
    }
    scored.sort((a, b) => {
      if (b.score !== a.score) return b.score - a.score;
      return a.index - b.index;
    });
    return scored.map(item => item.text);
  }
  reasoningSignalScore(line) {
    let score = 0;
    const lower = line.toLowerCase();
    if (this.looksStructuredThought(line)) {
      score += 3;
    }
    const actionKeywords = ['tool', 'command', 'script', 'context', 'summar', 'risk', 'issue', 'investigate', 'root cause', 'remediat', 'mitigat', 'fix', 'patch', 'test', 'verify', 'validate', 'check', 'build', 'deploy', 'run', 'diff', 'lint', 'typecheck', 'benchmark'];
    if (actionKeywords.some(keyword => lower.includes(keyword))) {
      score += 2;
    }
    if (/[#:â†’]|->/.test(line)) {
      score += 1;
    }
    if (/^(i('| a)m|i will|let me|starting|now|ok|sure)\b/i.test(line)) {
      score -= 1;
    }
    if (line.length > 120) {
      score -= 1;
    }
    return score;
  }
  shouldRenderThought(content) {
    const normalized = content.replace(/\s+/g, ' ').trim().toLowerCase();
    if (!normalized) {
      return false;
    }
    const now = Date.now();
    if (this.lastCuratedThought && this.lastCuratedThought.text === normalized) {
      if (now - this.lastCuratedThought.at < this.thoughtDedupWindowMs) {
        return false;
      }
    }
    return true;
  }

  /**
   * Format text in Claude Code style: âº prefix with wrapped continuation lines
   * Example:
   *   âº The AI ran tools but gave no response. Need to fix
   *     the response handling. Let me check where the AI's
   *     text response should be displayed:
   */
  formatClaudeCodeBlock(content) {
    const bullet = 'âº';
    const maxWidth = Math.max(24, Math.min(this.safeWidth() - 4, 110)); // Responsive to terminal width
    const lines = content.split('\n');
    const result = [];
    for (let lineIdx = 0; lineIdx < lines.length; lineIdx++) {
      const line = lines[lineIdx];
      if (!line.trim()) {
        result.push('');
        continue;
      }

      // Word-wrap each line
      const words = line.split(/(\s+)/);
      let currentLine = '';
      for (const word of words) {
        if ((currentLine + word).length > maxWidth && currentLine.trim()) {
          // First line of this paragraph gets âº, rest get indent
          const prefix = result.length === 0 && lineIdx === 0 ? `${bullet} ` : '  ';
          result.push(`${prefix}${currentLine.trimEnd()}`);
          currentLine = word.trimStart();
        } else {
          currentLine += word;
        }
      }
      if (currentLine.trim()) {
        const prefix = result.length === 0 && lineIdx === 0 ? `${bullet} ` : '  ';
        result.push(`${prefix}${currentLine.trimEnd()}`);
      }
    }
    return result.join('\n') + '\n';
  }

  /**
   * Format a tool call in Claude Code style:
   *   âº [Search] pattern: "foo", path: "src",
   *              output_mode: "content", head_limit: 30
   */
  formatToolCall(content) {
    const bullet = 'âº';
    // Parse tool name and arguments
    const match = content.match(/^(\w+)\((.*)\)$/s);
    if (!match) {
      // Simple format without args
      const nameMatch = content.match(/^(\w+)/);
      if (nameMatch) {
        return `${bullet} ${_theme.theme.toolColors.default(`[${nameMatch[1]}]`)}\n`;
      }
      return `${bullet} ${content}\n`;
    }
    const toolName = match[1];
    const argsStr = match[2];
    const maxWidth = Math.min(this.cols - 4, 56);

    // Format: âº [ToolName] args...
    const prefix = `${bullet} ${_theme.theme.toolColors.default(`[${toolName}]`)} `;
    const prefixLen = toolName.length + 5; // "âº [ToolName] " visible length
    const indent = ' '.repeat(prefixLen + 4); // Extra indent for wrapped args

    // Parse and format arguments
    const args = this.parseToolArgs(argsStr);
    if (args.length === 0) {
      return `${prefix.trimEnd()}\n`;
    }
    const lines = [];
    let currentLine = prefix;
    for (let i = 0; i < args.length; i++) {
      const arg = args[i];
      const argText = `${_theme.theme.ui.muted(arg.key + ':')} ${this.formatArgValue(arg.key, arg.value)}`;
      const separator = i < args.length - 1 ? ', ' : '';

      // Check if this arg fits on current line
      const testLine = currentLine + argText + separator;
      if (this.stripAnsi(testLine).length > maxWidth && currentLine !== prefix) {
        lines.push(currentLine.trimEnd());
        currentLine = indent + argText + separator;
      } else {
        currentLine += argText + separator;
      }
    }
    if (currentLine.trim()) {
      lines.push(currentLine.trimEnd());
    }
    return lines.join('\n') + '\n';
  }

  /**
   * Parse tool arguments from string like: key: "value", key2: value2
   */
  parseToolArgs(argsStr) {
    const args = [];
    // Simple regex to extract key: value pairs
    const regex = /(\w+):\s*("(?:[^"\\]|\\.)*"|[^,)]+)/g;
    let match;
    while ((match = regex.exec(argsStr)) !== null) {
      args.push({
        key: match[1],
        value: match[2].trim()
      });
    }
    return args;
  }

  /**
   * Format an argument value (truncate long strings)
   */
  formatArgValue(key, value) {
    // Remove surrounding quotes if present
    const isQuoted = value.startsWith('"') && value.endsWith('"');
    const inner = isQuoted ? value.slice(1, -1) : value;
    const lowerKey = key.toLowerCase();
    const shouldPreserve = lowerKey.includes('path') || lowerKey === 'file' || lowerKey === 'pattern' || lowerKey === 'query' || lowerKey === 'command' || lowerKey === 'cmd';

    // Truncate long values when not explicitly preserving
    const maxLen = 40;
    const truncated = shouldPreserve || inner.length <= maxLen ? inner : inner.slice(0, maxLen - 3) + '...';
    return isQuoted ? `"${truncated}"` : truncated;
  }

  /**
   * Format a tool result in Claude Code style:
   *   âŽ¿  Found 12 lines (ctrl+o to expand)
   */
  formatToolResult(content) {
    // Check if this is a summary line (e.g., "Found X lines")
    const summaryMatch = content.match(/^(Found \d+ (?:lines?|files?|matches?)|Read \d+ lines?|Wrote \d+ lines?|Edited|Created|Deleted)/i);
    if (summaryMatch) {
      return `  ${_theme.theme.ui.muted('âŽ¿')}  ${content} ${_theme.theme.ui.muted('(ctrl+o to expand)')}\n`;
    }

    // For other results, show truncated preview
    const lines = content.split('\n');
    if (lines.length > 3) {
      const preview = lines.slice(0, 2).join('\n');
      return `  ${_theme.theme.ui.muted('âŽ¿')}  ${preview}\n  ${_theme.theme.ui.muted(`... ${lines.length - 2} more lines (ctrl+o to expand)`)}\n`;
    }
    return `  ${_theme.theme.ui.muted('âŽ¿')}  ${content}\n`;
  }

  /**
   * Format a compact tool call: âº [Read] file.ts
   */
  formatCompactToolCall(content) {
    const bullet = 'âº';
    // Parse tool name and args
    const match = content.match(/^(\w+)\s*(?:\((.*)\))?$/s);
    if (!match) {
      return `${bullet} ${content}\n`;
    }
    const toolName = match[1];
    const argsStr = match[2]?.trim() || '';

    // Track tool name for pairing with result
    this.lastToolName = toolName;

    // Get tool-specific color (bash=orange, read=cyan, write=green, etc.)
    const toolColor = (0, _theme.getToolColor)(toolName);
    const coloredToolName = toolColor(`[${toolName}]`);

    // If no args, just show tool name
    if (!argsStr) {
      return `${bullet} ${coloredToolName}\n`;
    }
    const maxWidth = this.cols - 8; // Leave room for margins

    // Parse individual params
    const params = this.parseToolParams(argsStr);
    if (params.length === 0) {
      return `${bullet} ${coloredToolName} ${argsStr}\n`;
    }

    // Format params with proper wrapping
    return this.formatToolParamsColored(toolName, params, maxWidth, toolColor);
  }

  /**
   * Parse tool params from args string
   */
  parseToolParams(argsStr) {
    const params = [];
    // Match key: "value" or key: value patterns
    const regex = /(\w+):\s*("(?:[^"\\]|\\.)*"|[^,\n]+)/g;
    let match;
    while ((match = regex.exec(argsStr)) !== null) {
      params.push({
        key: match[1],
        value: match[2].trim()
      });
    }
    return params;
  }

  /**
   * Format tool params in Claude Code style with wrapping (default green color)
   */
  formatToolParams(toolName, params, maxWidth) {
    return this.formatToolParamsColored(toolName, params, maxWidth, _theme.theme.toolColors.default);
  }

  /**
   * Format tool params with custom tool color
   */
  formatToolParamsColored(toolName, params, maxWidth, toolColor) {
    const bullet = 'âº';
    const lines = [];
    const indent = '        '; // 8 spaces for continuation

    let currentLine = `${bullet} ${toolColor(`[${toolName}]`)} `;
    let firstParam = true;
    for (const param of params) {
      const coloredValue = this.colorParamValue(param.key, param.value);
      const paramText = `${param.key}: ${coloredValue}`;
      const paramStr = firstParam ? paramText : `, ${paramText}`;

      // Check if adding this param would exceed width
      const testLine = currentLine + paramStr;
      const plainLength = this.visibleLength(testLine);
      if (plainLength > maxWidth && !firstParam) {
        // Start new line
        lines.push(currentLine);
        currentLine = indent + paramText;
      } else {
        currentLine += paramStr;
      }
      firstParam = false;
    }
    lines.push(currentLine);
    return lines.join('\n') + '\n';
  }

  /**
   * Color critical parameter values (paths, commands) for readability.
  */
  colorParamValue(key, value) {
    const lowerKey = key.toLowerCase();
    if (lowerKey.includes('path') || lowerKey === 'file' || lowerKey === 'pattern' || lowerKey === 'query') {
      return _theme.theme.warning(value);
    }
    if (lowerKey === 'command' || lowerKey === 'cmd') {
      return _theme.theme.toolColors.default(value);
    }
    return value;
  }

  /**
   * Extract a short summary from tool args
   */
  extractToolSummary(toolName, argsStr) {
    const tool = toolName.toLowerCase();

    // Extract path/file for file operations
    if (['read', 'write', 'edit', 'glob', 'grep', 'search'].includes(tool)) {
      const pathMatch = argsStr.match(/(?:path|file_path|pattern):\s*"([^"]+)"/);
      if (pathMatch) {
        const path = pathMatch[1];
        return _theme.theme.file?.path ? _theme.theme.file.path(path) : _theme.theme.ui.muted(path);
      }
    }

    // Extract command for bash
    if (tool === 'bash') {
      const cmdMatch = argsStr.match(/command:\s*"([^"]+)"/);
      if (cmdMatch) {
        const cmd = cmdMatch[1];
        return _theme.theme.ui.muted(cmd);
      }
    }
    return null;
  }

  /**
   * Format a compact tool result: âŽ¿  Found X lines (ctrl+o to expand)
   * For edits, show a small inline diff preview
   */
  formatCompactToolResult(content) {
    // Sanitize content first - filter out garbage/reasoning output that leaked through
    const sanitized = this.sanitizeToolResultContent(content);
    if (!sanitized || this.isGarbageOutput(sanitized)) {
      return ''; // Don't render garbage tool results
    }

    // Special handling for edit results - show inline diff
    if (this.lastToolName?.toLowerCase() === 'edit') {
      return this.formatEditResultWithDiff(sanitized);
    }

    // Parse common result patterns for summary
    const lineMatch = sanitized.match(/(\d+)\s*lines?/i);
    const fileMatch = sanitized.match(/(\d+)\s*(?:files?|matches?)/i);
    const readMatch = sanitized.match(/read.*?(\d+)\s*lines?/i);

    // Check if content contains a file path or command that should be preserved
    const hasPath = /(?:^|\s)(?:\/[\w./-]+|[\w./-]+\/[\w./-]+)/.test(sanitized);
    const hasCommand = /^\s*\$\s+.+|command:/i.test(sanitized);
    const isPathOrDir = /^(?:File|Directory|Path):\s*/i.test(sanitized);
    let summary;
    let preserveFull = false;
    if (readMatch) {
      summary = `Read ${readMatch[1]} lines`;
    } else if (lineMatch) {
      summary = `Found ${lineMatch[1]} line${lineMatch[1] === '1' ? '' : 's'}`;
    } else if (fileMatch) {
      summary = `Found ${fileMatch[1]} file${fileMatch[1] === '1' ? '' : 's'}`;
    } else if (sanitized.match(/^(success|ok|done|completed|written|edited|created)/i)) {
      summary = 'âœ“';
    } else if (isPathOrDir || hasPath || hasCommand) {
      // Preserve full content for paths, directories, and commands
      // Only show first line if multi-line
      const firstLine = sanitized.split('\n')[0] || sanitized;
      summary = firstLine;
      preserveFull = true;
    } else {
      // Extract meaningful summary from content
      let summaryText = sanitized;

      // Handle "Summary:" prefix from web search/extract results
      const summaryMatch = sanitized.match(/^Summary:\s*(.+)/i);
      if (summaryMatch) {
        summaryText = summaryMatch[1];
      }

      // For multi-line content, use first meaningful line
      const firstLine = summaryText.split('\n')[0]?.trim() || summaryText;

      // Try to end at a sentence boundary for readability (up to 120 chars)
      const maxLen = 120;
      if (firstLine.length > maxLen) {
        // Look for sentence end within limit
        const sentenceEnd = firstLine.slice(0, maxLen).search(/[.!?;]\s|[.!?;]$/);
        if (sentenceEnd > 30) {
          summary = firstLine.slice(0, sentenceEnd + 1);
        } else {
          // No good sentence break, truncate at word boundary
          const truncated = firstLine.slice(0, maxLen);
          const lastSpace = truncated.lastIndexOf(' ');
          summary = lastSpace > 60 ? truncated.slice(0, lastSpace) + 'â€¦' : truncated + 'â€¦';
        }
      } else {
        summary = firstLine;
      }
    }

    // Store collapsed result for Ctrl+O expansion (use sanitized content)
    this.collapsedToolResults.push({
      toolName: this.lastToolName || 'tool',
      content: sanitized,
      summary,
      timestamp: Date.now()
    });

    // Trim to max size
    if (this.collapsedToolResults.length > this.maxCollapsedResults) {
      this.collapsedToolResults.shift();
    }
    const coloredSummary = this.colorResultSummary(summary);
    // Only show expand hint if content is actually collapsed (multi-line or was truncated)
    const hasMoreContent = sanitized.includes('\n') || summary.endsWith('â€¦') || !preserveFull && sanitized.length > summary.length;
    const expandHint = hasMoreContent ? ` ${_theme.theme.ui.muted('(ctrl+o to expand)')}` : '';
    return `  ${_theme.theme.ui.muted('âŽ¿')}  ${coloredSummary}${expandHint}\n`;
  }
  colorResultSummary(summary) {
    if (!summary) return summary;
    const lower = summary.toLowerCase();
    if (lower.includes('fail') || lower.includes('error')) {
      return _theme.theme.error(summary);
    }
    if (summary.startsWith('âœ“') || lower.includes('updated') || lower.includes('created') || lower.includes('written')) {
      return _theme.theme.success(summary);
    }
    return _theme.theme.info(summary);
  }

  /**
   * Format edit result with inline diff preview
   * Shows: âŽ¿ âœ“ Updated (filename) - removed X, added Y chars
   *        â”‚ - old content...
   *        â”‚ + new content...
   */
  formatEditResultWithDiff(content) {
    const lines = [];
    const indent = '  ';

    // Extract file path from content
    const fileMatch = content.match(/(?:file[_\s]*path|updated|edited).*?([\/\w.\-]+\.\w+)/i);
    const fileName = fileMatch ? fileMatch[1].split('/').pop() : 'file';

    // Try to extract old/new content from edit result
    const oldMatch = content.match(/old[_\s]*string[:\s]*["']?([^"'\n]+)["']?/i);
    const newMatch = content.match(/new[_\s]*string[:\s]*["']?([^"'\n]+)["']?/i);

    // Calculate diff stats
    const oldLen = oldMatch?.[1]?.length || 0;
    const newLen = newMatch?.[1]?.length || 0;
    const diffStat = oldLen || newLen ? _theme.theme.ui.muted(` (${_theme.theme.error(`-${oldLen}`)} ${_theme.theme.success(`+${newLen}`)} chars)`) : '';

    // Main summary line
    lines.push(`${indent}${_theme.theme.ui.muted('âŽ¿')}  ${_theme.theme.success('âœ“')} ${_theme.theme.success(`Updated`)} ${_theme.theme.file?.path ? _theme.theme.file.path(`(${fileName})`) : _theme.theme.warning(`(${fileName})`)}${diffStat}`);

    // Show mini diff if we have old/new content
    if (oldMatch?.[1] || newMatch?.[1]) {
      const maxDiffLen = 60;
      if (oldMatch?.[1]) {
        const oldPreview = oldMatch[1].length > maxDiffLen ? oldMatch[1].slice(0, maxDiffLen) + 'â€¦' : oldMatch[1];
        lines.push(`${indent}${_theme.theme.ui.muted('â”‚')} ${_theme.theme.error('- ' + oldPreview)}`);
      }
      if (newMatch?.[1]) {
        const newPreview = newMatch[1].length > maxDiffLen ? newMatch[1].slice(0, maxDiffLen) + 'â€¦' : newMatch[1];
        lines.push(`${indent}${_theme.theme.ui.muted('â”‚')} ${_theme.theme.success('+ ' + newPreview)}`);
      }
    }

    // Store for expansion
    this.collapsedToolResults.push({
      toolName: 'edit',
      content,
      summary: `Updated ${fileName}`,
      timestamp: Date.now()
    });
    if (this.collapsedToolResults.length > this.maxCollapsedResults) {
      this.collapsedToolResults.shift();
    }
    const expandHint = content.length > 100 ? ` ${_theme.theme.ui.muted('(ctrl+o to expand)')}` : '';
    return lines.join('\n') + expandHint + '\n';
  }

  /**
   * Format a compact response with bullet on first line
   */
  formatCompactResponse(content) {
    return this.wrapBulletText(content);
  }

  /**
   * Wrap text with a single bullet on the first line and tidy indentation for readability.
   * Prevents awkward mid-word terminal wrapping by handling the layout ourselves.
   * Supports full markdown formatting: headers, lists, code blocks, inline styles.
   */
  wrapBulletText(content, options = {}) {
    const bullet = 'âº';
    let cleaned = content.replace(/^[âºâ€¢â—‹]\s*/, '').trimEnd();
    if (!cleaned.trim()) {
      return '';
    }

    // Normalize content: add spaces after headers, fix common formatting issues
    // Fix headers without space: ##HEADING -> ## HEADING (including emoji)
    cleaned = cleaned.replace(/^(#{1,6})([A-ZðŸš€âš”ï¸ðŸŽ¯ðŸ”ðŸ“¦âœ…âŒâš¡ðŸ’€ðŸ”¥ðŸ›¡ï¸ðŸ’£ðŸŽ–ï¸â­])/gm, '$1 $2');
    // Fix numbered headers: ###1 Elite -> ### 1. Elite
    cleaned = cleaned.replace(/^(#{1,6})(\d+)\s+/gm, '$1 $2. ');
    // Fix dash lists without space: -RSA2048 -> - RSA2048
    cleaned = cleaned.replace(/^-([A-Z])/gm, '- $1');
    // Fix numbered lists without space: 1.Item -> 1. Item
    cleaned = cleaned.replace(/^(\d+\.)([A-Z])/gm, '$1 $2');
    // Add line breaks before headers that are joined to previous text
    cleaned = cleaned.replace(/([.!?)])(\s*)(#{1,6}\s)/g, '$1\n\n$3');
    // Add line breaks between sections (text followed immediately by ##)
    cleaned = cleaned.replace(/([a-z])(\s*)(#{2,6}\s)/gi, '$1\n\n$3');
    // Add line breaks between emoji bullets and next section
    cleaned = cleaned.replace(/([\u2705\u274C\u2714\u2718\u26A0\uD83C-\uDBFF\uDC00-\uDFFF]+)\s*(#{1,6})/g, '$1\n\n$2');
    // Fix code blocks that run together: bash# -> bash\n#
    cleaned = cleaned.replace(/(bash|sh|python|javascript|typescript)#/gi, '$1\n```\n#');
    // Add newlines before code block markers
    cleaned = cleaned.replace(/([^\n])```(\w+)?/g, '$1\n```$2');
    // Fix tables that run together
    cleaned = cleaned.replace(/(\w+)\s+([-â”€]{3,})\s+(\w+)/g, '$1\n$2\n$3');

    // Reserve a little margin to reduce terminal wrap jitter
    const availableWidth = this.safeWidth();
    const maxWidth = Math.max(20, Math.min(options.maxWidth ?? availableWidth - 2, availableWidth));
    const labelText = options.label ? `${options.labelColor ? options.labelColor(options.label) : options.label}${_theme.theme.ui.muted(' Â· ')}` : '';
    const bulletPrefix = `${bullet} ${labelText}`;
    const indent = ' '.repeat(this.visibleLength(`${bullet} `));
    const lines = cleaned.split('\n');
    const result = [];
    let firstNonEmpty = true;
    let inCodeBlock = false;
    let codeBlockLang = '';
    const codeBlockBuffer = [];
    for (const rawLine of lines) {
      const trimmedLine = rawLine.trim();

      // Handle code block fences
      if (trimmedLine.startsWith('```')) {
        if (!inCodeBlock) {
          // Start code block
          inCodeBlock = true;
          codeBlockLang = trimmedLine.slice(3).trim().toUpperCase() || 'CODE';
          continue;
        } else {
          // End code block - render it
          inCodeBlock = false;
          const codeIndent = firstNonEmpty ? bulletPrefix : indent;
          if (firstNonEmpty) {
            result.push(`${bulletPrefix}${_theme.theme.ui.muted(`â”€â”€â”€ ${codeBlockLang} â”€â”€â”€`)}`);
            firstNonEmpty = false;
          } else {
            result.push(`${indent}${_theme.theme.ui.muted(`â”€â”€â”€ ${codeBlockLang} â”€â”€â”€`)}`);
          }
          for (const codeLine of codeBlockBuffer) {
            result.push(`${indent}${_theme.theme.ui.muted('â”‚')} ${_theme.theme.ui.code(codeLine)}`);
          }
          codeBlockBuffer.length = 0;
          codeBlockLang = '';
          continue;
        }
      }
      if (inCodeBlock) {
        codeBlockBuffer.push(rawLine);
        continue;
      }

      // Handle empty lines
      if (!trimmedLine) {
        result.push(''); // Preserve intentional spacing between paragraphs
        continue;
      }

      // Handle markdown headers (# ## ### etc.) - also handle ##HEADING without space
      const headerMatch = trimmedLine.match(/^(#{1,6})\s*(.+)$/);
      if (headerMatch && headerMatch[2] && !headerMatch[2].startsWith('#')) {
        const level = headerMatch[1]?.length ?? 1;
        const headerText = headerMatch[2]?.trim() ?? '';
        // Skip if it's just hashes or if content is too short
        if (headerText.length > 0) {
          // Add blank line before headers for better visual separation
          if (result.length > 0 && result[result.length - 1] !== '') {
            result.push('');
          }
          const formattedHeader = this.formatMarkdownHeader(headerText, level, maxWidth, firstNonEmpty ? bulletPrefix : indent);
          result.push(formattedHeader);
          firstNonEmpty = false;
          continue;
        }
      }

      // Handle dividers (--- or ***)
      if (/^[-*_]{3,}$/.test(trimmedLine)) {
        const dividerWidth = Math.min(maxWidth - indent.length, 50);
        result.push(`${indent}${_theme.theme.ui.muted('â”€'.repeat(dividerWidth))}`);
        continue;
      }

      // Handle markdown tables (lines starting with |)
      if (trimmedLine.startsWith('|') || /^[-|:]+$/.test(trimmedLine)) {
        // Table line - render with fixed width font styling
        const tablePrefix = firstNonEmpty ? bulletPrefix : indent;
        result.push(`${tablePrefix}${_theme.theme.ui.muted(trimmedLine)}`);
        firstNonEmpty = false;
        continue;
      }

      // Handle list items (- or * or numbered) - also handle -Item without space
      const listMatch = trimmedLine.match(/^(\*|-|â€¢|\d+\.)\s*(.+)$/);
      if (listMatch && listMatch[2]) {
        const listContent = listMatch[2].trim();
        const formattedList = (0, _richText.formatInlineText)(listContent);
        const listBullet = _theme.theme.secondary('  â€¢ ');
        const listIndent = '    ';
        if (firstNonEmpty) {
          result.push(bulletPrefix.trimEnd());
          firstNonEmpty = false;
        }

        // Wrap list item content
        const words = formattedList.split(/\s+/);
        let current = '';
        let isFirstListLine = true;
        for (const word of words) {
          const candidate = current ? `${current} ${word}` : word;
          const prefixLen = this.visibleLength(isFirstListLine ? listBullet : listIndent);
          if (prefixLen + this.visibleLength(candidate) > maxWidth - 2 && current) {
            result.push(`${isFirstListLine ? listBullet : listIndent}${current}`);
            current = word;
            isFirstListLine = false;
          } else {
            current = candidate;
          }
        }
        if (current) {
          result.push(`${isFirstListLine ? listBullet : listIndent}${current}`);
        }
        continue;
      }

      // Regular paragraph - apply markdown formatting
      const formattedLine = (0, _richText.formatInlineText)(trimmedLine);
      const words = formattedLine.split(/\s+/);
      let current = '';
      for (const word of words) {
        const candidate = current ? `${current} ${word}` : word;
        const prefixLength = this.visibleLength(firstNonEmpty ? bulletPrefix : indent);
        if (prefixLength + this.visibleLength(candidate) > maxWidth && current) {
          result.push(`${firstNonEmpty ? bulletPrefix : indent}${current}`);
          current = word;
          firstNonEmpty = false;
        } else {
          current = candidate;
        }
      }
      if (current) {
        result.push(`${firstNonEmpty ? bulletPrefix : indent}${current}`);
        firstNonEmpty = false;
      }
    }
    return result.join('\n') + '\n';
  }

  /**
   * Format a markdown header with Claude Code style visual hierarchy.
   */
  formatMarkdownHeader(text, level, maxWidth, prefix) {
    const formattedText = (0, _richText.formatInlineText)(text);
    switch (level) {
      case 1:
        {
          // H1: Bold cyan with decorative borders
          const headerWidth = Math.min(maxWidth - 4, this.visibleLength(formattedText) + 4);
          const topBorder = _theme.theme.primary('â•'.repeat(headerWidth));
          const headerLine = _theme.theme.primary.bold(`â—† ${formattedText}`);
          return `${prefix}${topBorder}\n  ${headerLine}\n  ${topBorder}`;
        }
      case 2:
        {
          // H2: Bold with underline accent
          const headerLine = _theme.theme.info.bold(`â–¸ ${formattedText}`);
          const underline = _theme.theme.info('â”€'.repeat(Math.min(maxWidth - 4, this.visibleLength(formattedText) + 2)));
          return `${prefix}${headerLine}\n  ${underline}`;
        }
      case 3:
        {
          // H3: Bold with bullet prefix
          return `${prefix}${_theme.theme.secondary.bold(`â—‡ ${formattedText}`)}`;
        }
      case 4:
        {
          // H4: Dimmer bold
          return `${prefix}${_theme.theme.ui.muted('â–¹')} ${_theme.theme.bold(formattedText)}`;
        }
      default:
        {
          // H5+: Simple bold
          return `${prefix}${_theme.theme.bold(formattedText)}`;
        }
    }
  }

  /**
   * Format thinking block with enhanced visual design.
   * Uses a distinct visual style to clearly separate thinking from responses.
   *
   * In plain output mode we keep it simple and inline with the rest of the
   * stream so transcripts remain easy to scan.
   */
  formatThinkingBlock(content) {
    if (!content.trim()) return '';

    // Detect thought type for better labeling
    const lower = content.toLowerCase();
    let label = 'thinking';
    let labelColor = _theme.theme.secondary ?? _theme.theme.ui.muted;

    // Detect initial acknowledgement
    if (lower.includes('acknowledge') || lower.includes('understand') || lower.includes("user wants") || lower.includes("user is asking") || lower.includes("the request") || lower.includes("i'll help")) {
      label = 'understood';
      labelColor = _theme.theme.success ?? _theme.theme.info;
    }
    // Detect planning thoughts
    else if (lower.includes('plan') || lower.includes('steps') || lower.includes('first') || lower.includes('then') || lower.includes('approach') || lower.includes('strategy')) {
      label = 'planning';
      labelColor = _theme.theme.info ?? _theme.theme.primary;
    }
    // Detect analysis/reasoning
    else if (lower.includes('analyzing') || lower.includes('examining') || lower.includes('looking at') || lower.includes('reviewing')) {
      label = 'analyzing';
      labelColor = _theme.theme.warning ?? _theme.theme.secondary;
    }
    const normalized = content.replace(/\s+/g, ' ').trim();
    return this.wrapBulletText(normalized, {
      label,
      labelColor
    });
  }
  wrapTextToWidth(text, width) {
    if (!text.trim()) return [''];
    const lines = [];
    const words = text.trim().split(/\s+/);
    let current = '';
    for (const word of words) {
      const candidate = current ? `${current} ${word}` : word;
      if (this.visibleLength(candidate) > width && current) {
        lines.push(current);
        current = word;
      } else {
        current = candidate;
      }
    }
    if (current) {
      lines.push(current);
    }
    return lines;
  }

  /**
   * Format streaming elapsed time in Claude Code style: 3m 30s
   */
  formatStreamingElapsed() {
    if (!this.streamingStartTime) return null;
    const elapsed = Math.floor((Date.now() - this.streamingStartTime) / 1000);
    if (elapsed < 5) return null; // Don't show for very short durations
    const mins = Math.floor(elapsed / 60);
    const secs = elapsed % 60;
    if (mins > 0) {
      return `${mins}m ${secs}s`;
    }
    return `${secs}s`;
  }

  /**
   * Format a compact conversation block (Claude Code style)
   * Shows a visual separator with "history" label and ctrl+o hint
   */
  formatCompactBlock(content, label = 'history') {
    const maxWidth = Math.min(this.cols, 80);
    const labelText = ` ${label} `;
    const padding = Math.max(0, maxWidth - labelText.length);
    const leftPad = Math.floor(padding / 2);
    const rightPad = Math.ceil(padding / 2);

    // Claude Code style: â•â• history â•â•â•â•â•â•â•â•â•â•â•â•â•
    const separator = _theme.theme.ui.muted('â•'.repeat(leftPad) + labelText + 'â•'.repeat(rightPad));
    return `\n${separator}\n${content}\n`;
  }

  /**
   * Add a compact conversation block to the event queue
   * This displays a collapsed view with expansion hint (Claude Code style)
   */
  addCompactBlock(content, label = 'history') {
    const formattedContent = this.formatCompactBlock(content, label);
    this.eventQueue.push({
      type: 'response',
      rawType: 'response',
      content: formattedContent,
      timestamp: Date.now(),
      isCompacted: true
    });
    if (!this.isProcessingQueue) {
      void this.processQueue();
    }
  }

  /**
   * Expand the most recent tool result inline (Ctrl+O support).
   * Pops from the collapsed results stack and displays full content.
   */
  expandLastToolResult() {
    // First try the new stack, fallback to old lastToolResult
    const collapsed = this.collapsedToolResults.pop();
    if (!collapsed && !this.lastToolResult) {
      return false;
    }
    const content = collapsed?.content || this.lastToolResult || '';
    const toolName = collapsed?.toolName || 'result';

    // Determine if this is structured output that shouldn't be word-wrapped
    const isStructured = this.isStructuredToolOutput(toolName, content);
    let rendered;
    if (isStructured) {
      // Preserve structured output (grep, bash, code output) - just indent, don't wrap
      rendered = this.formatStructuredToolOutput(toolName, content);
    } else {
      // Format prose/text with tool name label and word wrapping
      const label = `${toolName}`;
      rendered = this.wrapBulletText(content, {
        label,
        labelColor: _theme.theme.info
      });
    }
    this.eventQueue.push({
      type: 'response',
      rawType: 'response',
      content: rendered,
      timestamp: Date.now(),
      isCompacted: false
    });

    // Clear lastToolResult if we used the stack
    if (collapsed) {
      this.lastToolResult = null;
    }
    if (!this.isProcessingQueue) {
      void this.processQueue();
    }
    return true;
  }

  /**
   * Check if tool output is structured (code, grep, file listings) that shouldn't be word-wrapped.
   */
  isStructuredToolOutput(toolName, content) {
    const tool = toolName.toLowerCase();
    // Tools that produce structured output
    if (['bash', 'grep', 'read', 'glob', 'execute_bash', 'search', 'find'].includes(tool)) {
      return true;
    }
    // Content patterns that indicate structured output
    // - File paths with colons (grep output): src/file.ts:123:
    // - Line numbers: "   1â†’" or "  42:"
    // - Code-like patterns
    if (/^\s*[\w./]+:\d+[:\s]/.test(content)) return true; // grep-style output
    if (/^\s*\d+[â†’:â”‚|]\s/.test(content)) return true; // line-numbered output
    if (/^[â”‚â”œâ””â”€â”Œâ”â”˜â”¬â”´â”¼â•­â•®â•¯â•°]+/.test(content)) return true; // box drawing
    if (/^\s*[$>]\s+\w+/.test(content)) return true; // command prompt output
    return false;
  }

  /**
   * Format structured tool output preserving line structure.
   */
  formatStructuredToolOutput(toolName, content) {
    const lines = content.split('\n');
    const header = `âº ${_theme.theme.info(toolName)}${_theme.theme.ui.muted(' Â· expanded')}\n`;
    const indent = '  ';
    const maxWidth = this.safeWidth() - 4;
    const formattedLines = lines.map(line => {
      // Truncate overly long lines instead of wrapping (preserves structure)
      if (line.length > maxWidth) {
        return indent + line.slice(0, maxWidth - 1) + 'â€¦';
      }
      return indent + line;
    });
    return header + formattedLines.join('\n') + '\n';
  }

  /**
   * Get count of expandable collapsed results
   */
  getCollapsedResultCount() {
    return this.collapsedToolResults.length;
  }

  /**
   * Clear all collapsed results (e.g., on new conversation)
   */
  clearCollapsedResults() {
    this.collapsedToolResults = [];
    this.lastToolResult = null;
  }

  // ------------ Status / mode ------------

  setMode(mode) {
    const wasStreaming = this.mode === 'streaming';
    this.mode = mode;

    // Track streaming start time for elapsed display
    if (mode === 'streaming' && !wasStreaming) {
      this.streamingStartTime = Date.now();
      this.streamingTokens = 0; // Reset token count
      this.streamingContentBuffer = ''; // Reset streaming buffer
      this.streamingLinesWritten = 0;
      this.streamingInputQueue = []; // Clear any stale queued input
      // Clear inline panel when entering streaming mode to prevent stale menus
      if (this.inlinePanel.length > 0) {
        this.inlinePanel = [];
      }
      this.startSpinnerAnimation();
    } else if (mode === 'idle' && wasStreaming) {
      this.streamingStartTime = null;
      this.stopSpinnerAnimation();
    }
    if (wasStreaming && mode === 'idle') {
      // IMPORTANT: Clear the overlay BEFORE writing newline to prevent duplicate boxes
      // The old overlay would otherwise scroll into scrollback history
      if (!this.plainMode && this.lastOverlay) {
        this.clearPromptArea();
      }
      if (!this.lastOutputEndedWithNewline) {
        // Finish streaming on a fresh line so the next prompt/event doesn't collide
        this.write('\n');
        this.lastOutputEndedWithNewline = true;
      }

      // Clear the buffer after processing
      this.streamingContentBuffer = '';
      this.streamingLinesWritten = 0;
      // Clear any remaining queued input (user didn't press Enter to queue it)
      this.streamingInputQueue = [];
    }
    if (!this.plainMode) {
      // Always render prompt to keep bottom UI persistent (rich mode only)
      this.renderPrompt();
    }
  }

  /**
   * Start the animated spinner for streaming status
   */
  startSpinnerAnimation() {
    if (this.spinnerInterval) return; // Already running
    this.spinnerFrame = 0;
    this.activityStarFrame = 0;
    this.elapsedColorFrame = 0;
    this.spinnerInterval = setInterval(() => {
      this.spinnerFrame = (this.spinnerFrame + 1) % _theme.spinnerFrames.braille.length;
      this.activityStarFrame = (this.activityStarFrame + 1) % this.activityStarFrames.length;
      // Update elapsed time color animation (slower cycle)
      if (this.spinnerFrame % 3 === 0) {
        this.elapsedColorFrame = (this.elapsedColorFrame + 1) % this.elapsedColorFrames.length;
      }
      // Re-render to show updated spinner/star frame
      if (!this.plainMode && this.mode === 'streaming') {
        this.renderPrompt();
      }
    }, 120); // ~8 FPS - reduced from 80ms to minimize flickering while keeping animation smooth
  }

  /**
   * Stop the animated spinner
   */
  stopSpinnerAnimation() {
    if (this.spinnerInterval) {
      clearInterval(this.spinnerInterval);
      this.spinnerInterval = null;
    }
    this.spinnerFrame = 0;
    this.activityStarFrame = 0;
    this.activityMessage = null;
    this.elapsedColorFrame = 0;
  }

  /**
   * Set the activity message displayed with animated star
   * Example: "Ruminatingâ€¦" shows as "âœ³ Ruminatingâ€¦ (esc to interrupt Â· 34s Â· â†‘1.2k)"
   */
  setActivity(message) {
    this.activityMessage = message;
    if (!this.plainMode) {
      this.renderPrompt();
    }
  }

  /**
   * Update the token count displayed in the activity line
   */
  updateStreamingTokens(tokens) {
    this.streamingTokens = tokens;
  }

  /**
   * Format token count as compact string (e.g., 1.2k, 24k, 128k)
   */
  formatTokenCount(tokens) {
    if (tokens < 1000) return String(tokens);
    if (tokens < 10000) return `${(tokens / 1000).toFixed(1)}k`;
    return `${Math.round(tokens / 1000)}k`;
  }
  getMode() {
    return this.mode;
  }
  updateStatus(message) {
    this.updateStatusBundle({
      main: message,
      override: null,
      streaming: null
    });
  }
  updateStatusBundle(status, options = {}) {
    const prevStreaming = this.statusStreaming;
    let changed = false;
    let mainChanged = false;
    let overrideChanged = false;
    if (status.main !== undefined && status.main !== this.statusMessage) {
      this.statusMessage = status.main;
      changed = true;
      mainChanged = true;
    }
    if (status.override !== undefined && status.override !== this.statusOverride) {
      this.statusOverride = status.override;
      changed = true;
      overrideChanged = true;
    }
    const streamingChanged = status.streaming !== undefined && status.streaming !== prevStreaming;
    if (status.streaming !== undefined) {
      if (streamingChanged) {
        changed = true;
      }
      this.statusStreaming = status.streaming;
    }
    const streamingIntroduce = streamingChanged && prevStreaming === null && status.streaming !== null && this.mode === 'streaming';
    const streamingCleared = streamingChanged && status.streaming === null && this.mode === 'streaming';
    const onlyStreamingChanged = streamingChanged && !mainChanged && !overrideChanged;
    const skipStreamingRender = onlyStreamingChanged && this.mode === 'streaming' && !streamingIntroduce && !streamingCleared;
    const shouldRender = options.render !== false && changed && !skipStreamingRender;
    if (shouldRender) {
      this.renderPrompt();
    }
  }
  updateStatusMeta(meta, options = {}) {
    const next = {
      ...this.statusMeta,
      ...meta
    };
    const changed = JSON.stringify(next) !== JSON.stringify(this.statusMeta);
    this.statusMeta = next;
    const shouldRender = options.render !== false && changed;
    if (shouldRender) {
      this.renderPrompt();
    }
  }
  updateModeToggles(state) {
    this.toggleState = {
      ...this.toggleState,
      ...state
    };
    if (!state.thinkingHotkey && !state.criticalApprovalHotkey && !state.autoContinueHotkey && !state.alphaZeroHotkey && !state.debugHotkey) {
      this.hotkeysInToggleLine.clear();
    }
    // Force next render to show updated toggle state
    this.forceNextRender = true;
    this.renderPromptImmediate();
  }

  /**
   * Update RL agent execution status for display in the UI.
   * Called during dual-RL mode to show active agent, module/step progress, and win statistics.
   */
  updateRLStatus(status) {
    const next = {
      ...this.rlStatus,
      ...status
    };
    const changed = JSON.stringify(next) !== JSON.stringify(this.rlStatus);
    this.rlStatus = next;
    if (changed) {
      this.renderPrompt();
    }
  }

  /**
   * Clear RL agent status (e.g., when RL run completes).
   */
  clearRLStatus() {
    this.rlStatus = {};
    this.renderPrompt();
  }

  /**
   * Get current RL status for external access.
   */
  getRLStatus() {
    return this.rlStatus;
  }

  /**
   * Update secure TAO tools status for display in the UI.
   * Tracks Execute, Probe, State tools with enhanced output formatting.
   */
  updateSecureToolsStatus(status) {
    const next = {
      ...this.secureToolsStatus,
      ...status
    };
    const changed = JSON.stringify(next) !== JSON.stringify(this.secureToolsStatus);
    this.secureToolsStatus = next;
    if (changed) {
      this.renderPrompt();
    }
  }

  /**
   * Record a secure tool invocation for tracking.
   */
  recordSecureToolInvocation(tool, details) {
    const invocations = (this.secureToolsStatus.totalInvocations || 0) + 1;
    const updates = {
      lastToolUsed: tool,
      totalInvocations: invocations
    };
    if (tool === 'Execute' && details) {
      updates.execute = {
        active: true,
        lastCommand: details.command,
        lastExitCode: details.exitCode,
        execCount: (this.secureToolsStatus.execute?.execCount || 0) + 1
      };
    } else if (tool === 'Probe' && details) {
      updates.probe = {
        active: true,
        lastTarget: details.target,
        servicesFound: details.services,
        probeCount: (this.secureToolsStatus.probe?.probeCount || 0) + 1
      };
    } else if (tool === 'State' && details) {
      updates.state = {
        active: true,
        lastAction: details.action,
        keysStored: details.keysCount,
        persistent: true
      };
    }
    this.updateSecureToolsStatus(updates);
  }

  /**
   * Get current secure tools status for external access.
   */
  getSecureToolsStatus() {
    return this.secureToolsStatus;
  }
  setInlinePanel(lines) {
    const normalized = (lines ?? []).map(line => line.replace(/\s+$/g, ''));
    const hasContent = normalized.some(line => line.trim().length > 0);
    if (!hasContent) {
      if (this.inlinePanel.length) {
        this.inlinePanel = [];
        this.renderPrompt();
      }
      return;
    }
    const limited = this.limitInlinePanel(normalized);
    if (JSON.stringify(limited) === JSON.stringify(this.inlinePanel)) {
      return;
    }
    this.inlinePanel = limited;
    this.renderPrompt();
  }
  supportsInlinePanel() {
    return this.interactive && !this.plainMode;
  }
  clearInlinePanel() {
    if (!this.inlinePanel.length) return;
    this.inlinePanel = [];
    this.renderPrompt();
  }

  /**
   * Show an interactive menu with arrow key navigation (Claude Code style).
   * Menu is displayed in the inline panel area and intercepts arrow/enter keys.
   * @param items - Menu items to display
   * @param options - Menu options (title, initialIndex)
   * @param callback - Called when user selects an item (or null if cancelled)
   */
  setMenu(items, options = {}, callback) {
    if (!this.supportsInlinePanel()) {
      // Non-interactive mode - just call callback with first item or null
      callback(items[0] ?? null);
      return;
    }
    this.menuItems = items;
    this.menuIndex = options.initialIndex ?? items.findIndex(i => i.isActive) ?? 0;
    if (this.menuIndex < 0) this.menuIndex = 0;
    this.menuTitle = options.title ?? null;
    this.menuCallback = callback;
    this.renderMenuPanel();
  }

  /**
   * Close the active menu without selecting anything.
   */
  closeMenu() {
    if (!this.isMenuActive()) return;
    const callback = this.menuCallback;
    this.menuItems = [];
    this.menuIndex = 0;
    this.menuTitle = null;
    this.menuCallback = null;
    this.clearInlinePanel();
    callback?.(null);
  }

  /**
   * Check if an interactive menu is currently active.
   */
  isMenuActive() {
    return this.menuItems.length > 0 && this.menuCallback !== null;
  }

  /**
   * Render the menu to the inline panel.
   */
  renderMenuPanel() {
    if (!this.isMenuActive()) return;
    const lines = [];

    // Title
    if (this.menuTitle) {
      lines.push(_chalk.default.bold.hex('#8B5CF6')(this.menuTitle));
      lines.push('');
    }

    // Menu items with selection indicator
    for (let i = 0; i < this.menuItems.length; i++) {
      const item = this.menuItems[i];
      const isSelected = i === this.menuIndex;
      const isDisabled = item.disabled;
      const isActive = item.isActive;
      let line = '';

      // Selection indicator
      if (isSelected) {
        line += _chalk.default.hex('#22D3EE')('â¯ ');
      } else {
        line += '  ';
      }

      // Label with styling
      if (isDisabled) {
        line += _chalk.default.dim(item.label);
      } else if (isSelected) {
        line += _chalk.default.bold.hex('#22D3EE')(item.label);
      } else if (isActive) {
        line += _chalk.default.hex('#34D399')(item.label);
      } else {
        line += _chalk.default.white(item.label);
      }

      // Active indicator
      if (isActive) {
        line += _chalk.default.dim(' (current)');
      }

      // Description
      if (item.description) {
        const desc = isDisabled ? _chalk.default.dim(item.description) : _chalk.default.dim(` - ${item.description}`);
        line += desc;
      }
      lines.push(line);
    }

    // Hint
    lines.push('');
    lines.push(_chalk.default.dim('â†‘â†“ navigate â€¢ enter select â€¢ esc cancel'));
    this.setInlinePanel(lines);
  }

  /**
   * Navigate menu selection.
   * @returns true if menu consumed the navigation
   */
  navigateMenu(direction) {
    if (!this.isMenuActive()) return false;

    // Find next non-disabled item
    let newIndex = this.menuIndex;
    let attempts = 0;
    const maxAttempts = this.menuItems.length;
    do {
      newIndex = (newIndex + direction + this.menuItems.length) % this.menuItems.length;
      attempts++;
    } while (this.menuItems[newIndex]?.disabled && attempts < maxAttempts);
    if (newIndex !== this.menuIndex) {
      this.menuIndex = newIndex;
      this.renderMenuPanel();
    }
    return true;
  }

  /**
   * Select the currently highlighted menu item.
   * @returns true if menu consumed the selection
   */
  selectMenuItem() {
    if (!this.isMenuActive()) return false;
    const item = this.menuItems[this.menuIndex];
    if (!item || item.disabled) return true; // Consume but don't select

    const callback = this.menuCallback;
    this.menuItems = [];
    this.menuIndex = 0;
    this.menuTitle = null;
    this.menuCallback = null;
    this.clearInlinePanel();
    callback?.(item);
    return true;
  }
  limitInlinePanel(lines) {
    const maxLines = Math.max(4, Math.min(this.maxInlinePanelLines, Math.max(2, this.rows - 8)));
    if (lines.length <= maxLines) {
      return lines;
    }
    const overflow = lines.length - maxLines;
    const indicator = _theme.theme.ui.muted(`â€¦ ${overflow} more lines`);
    const tailCount = Math.max(1, maxLines - 1);
    const tail = lines.slice(-tailCount);
    return [indicator, ...tail];
  }

  // ------------ Prompt rendering ------------

  renderPrompt() {
    // Don't render if disposed or still initializing (before banner shown)
    if (this.disposed || this.initializing) return;

    // Throttle renders to prevent excessive redraws during rapid input
    const now = Date.now();
    if (now - this.lastRenderTime < this.renderThrottleMs) {
      if (!this.pendingRender) {
        this.pendingRender = true;
        // Track the timer for cleanup
        this.renderThrottleTimer = setTimeout(() => {
          this.renderThrottleTimer = null;
          this.pendingRender = false;
          if (!this.disposed) {
            this.renderPromptImmediate();
          }
        }, this.renderThrottleMs);
      }
      return;
    }
    this.renderPromptImmediate();
  }
  renderPromptImmediate() {
    // Don't render if disposed or still initializing (before banner shown)
    if (this.disposed || this.initializing) return;

    // Performance optimization: Skip render if nothing changed (during idle mode only)
    // During streaming mode, we need to update animations and status
    if (!this.forceNextRender && this.mode === 'idle' && this.buffer === this.lastRenderedBuffer && this.cursor === this.lastRenderedCursor && this.mode === this.lastRenderedMode && this.lastOverlay !== null) {
      // Content unchanged, skip expensive re-render
      return;
    }
    this.forceNextRender = false;

    // Suppress render during paste burst to prevent visual leak
    // Only allow render if we have a collapsed paste to show
    const now = Date.now();
    const burstActive = this.pasteBurstWindowStart > 0 && now - this.pasteBurstWindowStart <= this.plainPasteWindowMs;
    const inEmitPaste = this.emitPasteBuffer.length > 0 || this.emitPasteTimer !== null;
    if ((burstActive || this.inPlainPaste || this.inBracketedPaste || inEmitPaste) && !this.collapsedPaste) {
      return;
    }
    this.lastRenderTime = Date.now();
    this.lastRenderedBuffer = this.buffer;
    this.lastRenderedCursor = this.cursor;
    this.lastRenderedMode = this.mode;
    if (!this.interactive) {
      this.isPromptActive = false;
      return;
    }
    if (this.promptRenderingSuspended) {
      this.isPromptActive = false;
      return;
    }
    if (this.plainMode) {
      const line = `> ${this.buffer}`;
      if (!this.isPromptActive && !this.lastOutputEndedWithNewline) {
        this.write('\n');
        this.lastOutputEndedWithNewline = true;
      }
      this.write(`\r${ESC.CLEAR_LINE}${line}`);
      this.cursorVisibleColumn = line.length + 1;
      this.hasRenderedPrompt = true;
      this.isPromptActive = true;
      this.lastOutputEndedWithNewline = false; // prompt ends mid-line by design
      this.promptHeight = 1;
      return;
    }
    if (!this.allowPromptRender) {
      return;
    }

    // Rich inline mode: prompt flows naturally with content
    this.updateTerminalSize();
    const maxWidth = this.safeWidth();
    this.lastRenderWidth = maxWidth;
    const overlay = this.buildOverlayLines();
    if (!overlay.lines.length) {
      return;
    }
    const renderedLines = overlay.lines.map(line => this.truncateLine(line, maxWidth));
    if (!renderedLines.length) {
      return;
    }
    const promptIndex = Math.max(0, Math.min(overlay.promptIndex, renderedLines.length - 1));
    const height = renderedLines.length;

    // Batch all ANSI operations into a single write to prevent flickering
    // This eliminates the visual jitter caused by multiple sequential terminal writes
    const buffer = [];

    // Hide cursor during render to prevent visual artifacts
    buffer.push('\x1b[?25l');

    // Clear previous prompt and handle height changes
    // IMPORTANT: Only clear if we have valid overlay state to avoid cursor position bugs
    // that cause separator lines to accumulate in scrollback
    if (this.hasEverRenderedOverlay && this.lastOverlayHeight > 0 && this.lastOverlay !== null) {
      // Move up from prompt row to top of overlay
      const linesToTop = this.lastOverlay.promptIndex;
      if (linesToTop > 0) {
        buffer.push(`\x1b[${linesToTop}A`);
      }

      // Clear exactly the old overlay lines using atomic escape sequence batch
      const clearHeight = this.lastOverlayHeight;
      for (let i = 0; i < clearHeight; i++) {
        buffer.push('\r');
        buffer.push(ESC.CLEAR_LINE);
        if (i < clearHeight - 1) {
          buffer.push('\x1b[B');
        }
      }

      // Clear anything below the old overlay (handles edge cases)
      buffer.push('\x1b[J');

      // After clearing, cursor is at last cleared line
      // Move back up to the top where new overlay should start
      const moveBackUp = clearHeight - 1;
      if (moveBackUp > 0) {
        buffer.push(`\x1b[${moveBackUp}A`);
      }
    } else if (this.hasEverRenderedOverlay) {
      // Overlay was cleared but we're re-rendering - ensure clean slate
      // Use erase-to-end-of-screen from current position
      buffer.push('\r');
      buffer.push('\x1b[J');
    }

    // Write prompt lines (no trailing newline on last line)
    for (let i = 0; i < renderedLines.length; i++) {
      buffer.push('\r');
      buffer.push(ESC.CLEAR_LINE);
      buffer.push(renderedLines[i] || '');
      if (i < renderedLines.length - 1) {
        buffer.push('\n');
      }
    }

    // If old overlay was taller, clear any remaining stale lines below
    // and use CSI J (erase from cursor to end of screen) to clean up
    if (this.lastOverlayHeight > height) {
      buffer.push('\n'); // Move to line below last content
      buffer.push('\x1b[J'); // Clear from cursor to end of screen
      buffer.push('\x1b[A'); // Move back up to last content line
    }

    // Position cursor at prompt input line
    const promptCol = Math.min(Math.max(1, 3 + this.cursor), this.cols || 80);
    // Cursor is now at the last line. Move up to the prompt row.
    const linesToMoveUp = height - 1 - promptIndex;
    if (linesToMoveUp > 0) {
      buffer.push(`\x1b[${linesToMoveUp}A`);
    }
    buffer.push(`\x1b[${promptCol}G`);

    // Show cursor again after positioning
    buffer.push('\x1b[?25h');

    // Single atomic write to prevent flickering
    this.write(buffer.join(''));
    this.cursorVisibleColumn = promptCol;
    this.hasRenderedPrompt = true;
    this.hasEverRenderedOverlay = true;
    this.isPromptActive = true;
    this.lastOverlayHeight = height;
    this.lastOverlay = {
      lines: renderedLines,
      promptIndex
    };
    this.lastOutputEndedWithNewline = false;
    this.promptHeight = height;
  }
  buildOverlayLines() {
    const lines = [];
    const maxWidth = this.safeWidth();
    // Simple horizontal divider - clean and reliable
    const divider = _theme.theme.ui.muted('â”€'.repeat(maxWidth));
    const fallbackActivity = (() => {
      const raw = this.statusStreaming || this.statusOverride || this.statusMessage;
      if (!raw) return null;
      const cleaned = this.stripAnsi(raw).replace(/^[âºâ€¢]\s*/, '').trim();
      return cleaned || null;
    })();

    // Activity line (only when streaming) - shows: â— Workingâ€¦ (esc to interrupt Â· 34s)
    if (this.mode === 'streaming' && (this.activityMessage || fallbackActivity)) {
      // Clean spinner animation using braille dots + shimmer accent for a richer feel
      const spinnerChars = _theme.spinnerFrames.braille;
      const spinnerChar = spinnerChars[this.spinnerFrame % spinnerChars.length] ?? 'â ‹';
      const starChar = this.activityStarFrames[this.activityStarFrame % this.activityStarFrames.length] ?? 'âœ¶';
      const spinnerDecorated = `${_theme.theme.info(spinnerChar)}${_theme.theme.accent ? _theme.theme.accent(starChar) : starChar}`;
      const elapsed = this.formatStreamingElapsed();
      const genericActivities = ['Streaming', 'Thinking', 'Processing'];
      let displayActivity = this.activityMessage || fallbackActivity || '';
      if (genericActivities.includes(displayActivity) && fallbackActivity) {
        displayActivity = fallbackActivity;
      }
      if (!displayActivity.trim()) {
        displayActivity = fallbackActivity || 'Working';
      }
      const needsEllipsis = !displayActivity.trimEnd().endsWith('â€¦') && !displayActivity.trimEnd().endsWith('...');
      // Format: â ‹ Workingâ€¦ (esc to interrupt Â· 1m 19s Â· â†‘1.2k tokens)
      // Build parts with animated elapsed time color
      const elapsedColor = _chalk.default.hex(this.elapsedColorFrames[this.elapsedColorFrame % this.elapsedColorFrames.length] ?? '#F59E0B');
      const parts = ['esc to interrupt'];
      if (elapsed) parts.push(elapsedColor(elapsed));
      if (this.streamingTokens > 0) {
        parts.push(`â†‘${this.formatTokenCount(this.streamingTokens)} tokens`);
      }
      const prefix = `${spinnerDecorated} `;
      const activityText = `${displayActivity.trim()}${needsEllipsis ? 'â€¦' : ''}`;
      const suffix = ` ${_theme.theme.ui.muted('(')}${parts.join(_theme.theme.ui.muted(' Â· '))}${_theme.theme.ui.muted(')')}`;

      // Build the full activity line with animated color for elapsed time
      const activityLine = `${prefix}${activityText}${suffix}`;

      // Always show full text - wrap to multiple lines if needed
      const indent = ' '.repeat(this.visibleLength(prefix));
      const wrapped = this.wrapOverlayLine(activityLine, maxWidth, indent);
      lines.push(...wrapped);
    }

    // Top divider
    lines.push(divider);

    // Input prompt line
    const promptIndex = lines.length;
    const inputLine = this.buildInputLine();
    // Handle multi-line input by splitting on newlines
    // Filter out empty lines to prevent duplicate divider appearance from leading/trailing newlines
    const inputLines = inputLine.split('\n').filter((line, idx, arr) => {
      // Keep non-empty lines, but preserve single empty line if it's intentional (e.g., between content)
      // Only filter leading/trailing empty lines
      if (line.trim() === '') {
        // Filter if it's the first line (leading empty) or last line (trailing empty)
        if (idx === 0 || idx === arr.length - 1) return false;
      }
      return true;
    });
    // Ensure at least one line for the prompt
    if (inputLines.length === 0) {
      inputLines.push(_theme.theme.primary('> '));
    }
    for (const line of inputLines) {
      lines.push(this.truncateLine(line, maxWidth));
    }

    // Bottom divider
    lines.push(divider);

    // Inline panel (pinned scroll box for live output/menus)
    if (this.inlinePanel.length > 0) {
      for (const panelLine of this.inlinePanel) {
        lines.push(this.truncateLine(`  ${panelLine}`, maxWidth));
      }
      // Separate inline content from suggestions/toggles
      lines.push(divider);
    }

    // Slash command suggestions
    if (this.suggestions.length > 0) {
      for (let index = 0; index < this.suggestions.length; index++) {
        const suggestion = this.suggestions[index];
        const isActive = index === this.suggestionIndex;
        const marker = isActive ? _theme.theme.primary('â–¸') : _theme.theme.ui.muted(' ');
        const cmdText = isActive ? _theme.theme.primary(suggestion.command) : _theme.theme.ui.muted(suggestion.command);
        const descText = isActive ? suggestion.description : _theme.theme.ui.muted(suggestion.description);
        lines.push(this.truncateLine(`  ${marker} ${cmdText} â€” ${descText}`, maxWidth));
      }
    }

    // Compact status line: model Â· context% Â· profile Â· dir
    const compactStatus = this.buildCompactStatusLine();
    if (compactStatus) {
      lines.push(this.truncateLine(`  ${compactStatus}`, maxWidth));
    }

    // Mode toggles (compact single line when possible)
    const toggleLine = this.buildToggleLine();
    if (toggleLine) {
      lines.push(this.truncateLine(`  ${toggleLine}`, maxWidth));
    }
    return {
      lines,
      promptIndex
    };
  }

  /**
   * Build a single compact status line with all essential info
   * Format: deepseek-reasoner Â· â–‘â–‘â–‘â–‘â–‘â–‘ 5% Â· agi-code Â· ~/GitHub
   */
  buildCompactStatusLine() {
    const parts = [];

    // Model (compact: just model name, not provider/model)
    const model = this.statusMeta.model || this.statusMeta.provider;
    if (model) {
      parts.push(_theme.theme.info(model));
    }

    // Context meter (compact mini bar)
    if (this.statusMeta.contextPercent !== undefined) {
      const used = (0, _uiConstants.clampPercentage)(this.statusMeta.contextPercent);
      const barWidth = 5;
      const filled = Math.round(used / 100 * barWidth);
      const empty = Math.max(0, barWidth - filled);
      const barColor = (0, _uiConstants.getContextColor)(used, {
        error: _theme.theme.error,
        warning: _theme.theme.warning,
        info: _theme.theme.info,
        success: _theme.theme.success
      });
      const bar = barColor('â–ˆ'.repeat(filled)) + _theme.theme.ui.muted('â–‘'.repeat(empty));
      parts.push(`${bar} ${barColor(`${used}%`)}`);
    }

    // Profile (if set)
    if (this.statusMeta.profile) {
      parts.push(_theme.theme.secondary(this.statusMeta.profile));
    }

    // Directory (abbreviated)
    const workspace = this.statusMeta.workspace || this.statusMeta.directory;
    if (workspace) {
      parts.push(_theme.theme.ui.muted(this.abbreviatePath(workspace)));
    }
    return parts.length > 0 ? parts.join(_theme.theme.ui.muted(' Â· ')) : null;
  }
  buildChromeLines() {
    const maxWidth = this.safeWidth();
    const statusLines = this.buildStatusBlock(maxWidth);
    const metaLines = this.buildMetaBlock(maxWidth);
    return [...statusLines, ...metaLines];
  }
  abbreviatePath(pathValue) {
    const home = (0, _nodeOs.homedir)();
    if (home && pathValue.startsWith(home)) {
      return pathValue.replace(home, '~');
    }
    return pathValue;
  }
  buildStatusBlock(maxWidth) {
    const segments = [];

    // Skip status label when streaming - the activity line already shows the animated status
    // This prevents duplicate "Thinking..." displays
    if (this.mode !== 'streaming') {
      const statusLabel = this.composeStatusLabel();
      if (statusLabel) {
        segments.push(`${_theme.theme.ui.muted('status')} ${this.applyTone(statusLabel.text, statusLabel.tone)}`);
      }
    }
    if (this.statusMeta.sessionTime) {
      segments.push(`${_theme.theme.ui.muted('runtime')} ${_theme.theme.ui.muted(this.statusMeta.sessionTime)}`);
    }
    if (this.statusMeta.contextPercent !== undefined) {
      // Use animated context meter for smooth color transitions
      this.contextMeter.update(this.statusMeta.contextPercent);
      segments.push(this.contextMeter.render());
    }
    return segments.length > 0 ? this.wrapSegments(segments, maxWidth) : [];
  }
  buildMetaBlock(maxWidth) {
    const segments = [];
    if (this.statusMeta.profile) {
      segments.push(this.formatMetaSegment('profile', this.statusMeta.profile, 'info'));
    }
    const model = this.statusMeta.provider && this.statusMeta.model ? `${this.statusMeta.provider} / ${this.statusMeta.model}` : this.statusMeta.model || this.statusMeta.provider;
    if (model) {
      segments.push(this.formatMetaSegment('model', model, 'info'));
    }
    const workspace = this.statusMeta.workspace || this.statusMeta.directory;
    if (workspace) {
      segments.push(this.formatMetaSegment('dir', this.abbreviatePath(workspace), 'muted'));
    }
    if (this.statusMeta.writes) {
      segments.push(this.formatMetaSegment('writes', this.statusMeta.writes, 'muted'));
    }
    if (this.statusMeta.toolSummary) {
      segments.push(this.formatMetaSegment('tools', this.statusMeta.toolSummary, 'muted'));
    }
    if (this.statusMeta.sessionLabel) {
      segments.push(this.formatMetaSegment('session', this.statusMeta.sessionLabel, 'muted'));
    }
    if (this.statusMeta.version) {
      segments.push(this.formatMetaSegment('build', `v${this.statusMeta.version}`, 'muted'));
    }

    // Add RL agent status when dual-RL mode is active
    const rlSegments = this.buildRLStatusSegments();
    if (rlSegments.length > 0) {
      segments.push(...rlSegments);
    }

    // Add secure TAO tools status
    const secureToolsSegments = this.buildSecureToolsSegments();
    if (secureToolsSegments.length > 0) {
      segments.push(...secureToolsSegments);
    }
    if (segments.length === 0) {
      return [];
    }
    return this.wrapSegments(segments, maxWidth);
  }

  /**
   * Build RL agent status segments for display during dual-RL execution.
   * Shows: tournament scoreboard, active agent, module/step progress, and scores.
   */
  buildRLStatusSegments() {
    const segments = [];
    const rl = this.rlStatus;

    // Only show RL status when there's meaningful data
    if (!rl.activeVariant && !rl.wins && !rl.currentModule) {
      return segments;
    }

    // Tournament scoreboard (always show when wins exist)
    if (rl.wins && (rl.wins.primary > 0 || rl.wins.refiner > 0 || rl.wins.ties > 0)) {
      const totalGames = rl.wins.primary + rl.wins.refiner + rl.wins.ties;
      const leader = rl.wins.primary > rl.wins.refiner ? 'primary' : rl.wins.refiner > rl.wins.primary ? 'refiner' : 'tie';

      // Scoreboard with colors based on leader
      const pColor = leader === 'primary' ? _theme.theme.success : _theme.theme.info;
      const rColor = leader === 'refiner' ? _theme.theme.success : _theme.theme.warning;
      const pScore = pColor(`${rl.wins.primary}`);
      const rScore = rColor(`${rl.wins.refiner}`);

      // Trophy for leader
      const trophy = leader === 'primary' ? _theme.theme.info('ðŸ†') : leader === 'refiner' ? _theme.theme.warning('ðŸ†') : 'âš–ï¸';

      // Win streak indicator
      const streakText = rl.streak && rl.streak > 1 ? _theme.theme.ui.muted(` ðŸ”¥${rl.streak}`) : '';
      segments.push(`${trophy}${pScore}${_theme.theme.ui.muted(':')}${rScore}${streakText}`);

      // Progress bar showing relative wins
      if (totalGames > 0) {
        const barWidth = 8;
        const pBars = Math.round(rl.wins.primary / totalGames * barWidth);
        const rBars = Math.round(rl.wins.refiner / totalGames * barWidth);
        const tBars = Math.max(0, barWidth - pBars - rBars);
        const bar = _theme.theme.info('â–ˆ'.repeat(pBars)) + _theme.theme.ui.muted('â–‘'.repeat(tBars)) + _theme.theme.warning('â–ˆ'.repeat(rBars));
        segments.push(`[${bar}]`);
      }
    }

    // Active variant indicator
    if (rl.activeVariant) {
      const isParallel = rl.parallelExecution;
      if (isParallel) {
        // Both running in parallel
        segments.push(`${_theme.theme.info('âš¡P')} ${_theme.theme.ui.muted('âˆ¥')} ${_theme.theme.warning('âš¡R')}`);
      } else {
        const variantIcon = rl.activeVariant === 'primary' ? 'â–¶' : 'â–·';
        const variantLabel = rl.activeVariant === 'primary' ? 'P' : 'R';
        const variantColor = rl.activeVariant === 'primary' ? _theme.theme.info : _theme.theme.warning;
        segments.push(`${variantIcon}${variantColor(variantLabel)}`);
      }
    }

    // Last winner indicator
    if (rl.lastWinner && rl.lastWinner !== 'tie') {
      const winnerIcon = rl.lastWinner === 'primary' ? _theme.theme.info('âœ“P') : _theme.theme.warning('âœ“R');
      segments.push(winnerIcon);
    } else if (rl.lastWinner === 'tie') {
      segments.push(_theme.theme.ui.muted('â‰ˆ'));
    }

    // Current module/step (compact)
    if (rl.currentModule || rl.currentStep) {
      const stepText = rl.currentStep || rl.currentModule || '';
      if (stepText) {
        segments.push(_theme.theme.ui.muted(this.truncateMiddle(stepText, 15)));
      }
    }

    // Progress indicator (steps completed / total)
    if (typeof rl.stepsCompleted === 'number' && typeof rl.totalSteps === 'number' && rl.totalSteps > 0) {
      const pct = Math.round(rl.stepsCompleted / rl.totalSteps * 100);
      segments.push(_theme.theme.ui.muted(`${pct}%`));
    }

    // Current reward scores (compact, only during active comparison)
    if (rl.scores && (typeof rl.scores.primary === 'number' || typeof rl.scores.refiner === 'number')) {
      const pScore = typeof rl.scores.primary === 'number' ? rl.scores.primary.toFixed(2) : '-';
      const rScore = typeof rl.scores.refiner === 'number' ? rl.scores.refiner.toFixed(2) : '-';
      const pVal = rl.scores.primary ?? 0;
      const rVal = rl.scores.refiner ?? 0;
      const pDisplay = pVal > rVal ? _theme.theme.success(pScore) : _theme.theme.info(pScore);
      const rDisplay = rVal > pVal ? _theme.theme.success(rScore) : _theme.theme.warning(rScore);
      segments.push(`${pDisplay}${_theme.theme.ui.muted('/')}${rDisplay}`);
    }

    // Human accuracy indicator (relative ranking quality)
    if (rl.accuracy && (typeof rl.accuracy.primary === 'number' || typeof rl.accuracy.refiner === 'number')) {
      const pAcc = rl.accuracy.primary !== undefined ? Math.round(rl.accuracy.primary * 100) : null;
      const rAcc = rl.accuracy.refiner !== undefined ? Math.round(rl.accuracy.refiner * 100) : null;
      const pDisplay = pAcc !== null ? _theme.theme.info(`P${pAcc}%`) : null;
      const rDisplay = rAcc !== null ? _theme.theme.warning(`R${rAcc}%`) : null;
      const parts = [pDisplay, rDisplay].filter(Boolean).join(_theme.theme.ui.muted('|'));
      if (parts) {
        segments.push(parts);
      }
    }
    return segments;
  }

  /**
   * Build secure TAO tools status segments for display.
   * Shows: toolkit status, tool invocation counts, and last tool used.
   */
  buildSecureToolsSegments() {
    const segments = [];
    const st = this.secureToolsStatus;

    // Only show status when tools have been used
    if (!st.totalInvocations && !st.lastToolUsed) {
      // Show toolkit ready indicator even when no invocations
      if (st.toolkitReady) {
        segments.push(_theme.theme.success('ðŸ”’') + _theme.theme.ui.muted(' TAO'));
      }
      return segments;
    }

    // Security indicator with sanitization status
    const secIcon = st.sanitizationActive ? _theme.theme.success('ðŸ”’') : _theme.theme.warning('âš ');
    segments.push(secIcon);

    // Tool status indicators (compact format)
    const toolIndicators = [];
    if (st.execute?.active) {
      const execIcon = st.execute.lastExitCode === 0 ? _theme.theme.success('âœ“') : _theme.theme.error('âœ—');
      const execCount = st.execute.execCount || 0;
      toolIndicators.push(`${_theme.theme.info('Ex')}${execIcon}${execCount > 1 ? _theme.theme.ui.muted(`Ã—${execCount}`) : ''}`);
    }
    if (st.probe?.active) {
      const svcCount = st.probe.servicesFound || 0;
      toolIndicators.push(`${_chalk.default.cyan('Pr')}${_theme.theme.success('âœ“')}${svcCount > 0 ? _theme.theme.ui.muted(`[${svcCount}]`) : ''}`);
    }
    if (st.state?.active) {
      const stateIcon = st.state.persistent ? _theme.theme.success('ðŸ’¾') : _theme.theme.info('ðŸ“');
      const keysCount = st.state.keysStored || 0;
      toolIndicators.push(`${stateIcon}${keysCount > 0 ? _theme.theme.ui.muted(`${keysCount}k`) : ''}`);
    }
    if (toolIndicators.length > 0) {
      segments.push(toolIndicators.join(_theme.theme.ui.muted('Â·')));
    }

    // Total invocations counter
    if (st.totalInvocations && st.totalInvocations > 0) {
      segments.push(_theme.theme.ui.muted(`Î£${st.totalInvocations}`));
    }

    // Last tool used indicator
    if (st.lastToolUsed) {
      const toolColors = {
        Execute: _theme.theme.info,
        Probe: s => _chalk.default.cyan(s),
        State: _theme.theme.success,
        Transform: _theme.theme.warning,
        TaoOps: s => _chalk.default.magenta(s)
      };
      const color = toolColors[st.lastToolUsed] || _theme.theme.ui.muted;
      segments.push(color(`â†’${st.lastToolUsed.slice(0, 2)}`));
    }
    return segments;
  }

  /**
   * Truncate a string in the middle, showing start and end with ellipsis.
   */
  truncateMiddle(text, maxLen) {
    if (text.length <= maxLen) return text;
    const keepLen = Math.floor((maxLen - 3) / 2);
    return `${text.slice(0, keepLen)}...${text.slice(-keepLen)}`;
  }
  composeStatusLabel() {
    const statuses = [this.statusStreaming, this.statusOverride, this.statusMessage].filter((value, index, arr) => Boolean(value) && arr.indexOf(value) === index);
    const text = statuses.length > 0 ? statuses.join(' / ') : 'Ready for prompts';
    if (!text.trim()) {
      return null;
    }
    const normalized = text.toLowerCase();
    const tone = normalized.includes('ready') ? 'success' : 'info';
    return {
      text,
      tone
    };
  }
  formatMetaSegment(label, value, tone) {
    const colorizer = tone === 'success' ? _theme.theme.success : tone === 'warn' ? _theme.theme.warning : tone === 'error' ? _theme.theme.error : tone === 'muted' ? _theme.theme.ui.muted : _theme.theme.info;
    return `${_theme.theme.ui.muted(label)} ${colorizer(value)}`;
  }
  applyTone(text, tone) {
    switch (tone) {
      case 'success':
        return _theme.theme.success(text);
      case 'warn':
        return _theme.theme.warning(text);
      case 'error':
        return _theme.theme.error(text);
      case 'info':
      default:
        return _theme.theme.info(text);
    }
  }
  wrapSegments(segments, maxWidth) {
    const lines = [];
    const separator = _theme.theme.ui.muted('  |  ');
    let current = '';
    for (const segment of segments) {
      const normalized = segment.trim();
      if (!normalized) continue;
      if (!current) {
        current = this.truncateLine(normalized, maxWidth);
        continue;
      }
      const candidate = `${current}${separator}${normalized}`;
      if (this.visibleLength(candidate) <= maxWidth) {
        current = candidate;
      } else {
        lines.push(this.truncateLine(current, maxWidth));
        current = this.truncateLine(normalized, maxWidth);
      }
    }
    if (current) {
      lines.push(this.truncateLine(current, maxWidth));
    }
    return lines;
  }
  buildControlLines() {
    const lines = [];
    const toggleLine = this.buildToggleLine();
    if (toggleLine) {
      lines.push(`${_theme.theme.ui.muted('modes')} ${_theme.theme.ui.muted('â€º')} ${toggleLine}`);
    }
    const shortcutLine = this.buildShortcutLine();
    if (shortcutLine) {
      lines.push(`${_theme.theme.ui.muted('keys')}  ${shortcutLine}`);
    }
    return lines;
  }
  buildToggleLine() {
    const toggles = [];
    const addToggle = (label, on, hotkey, value) => {
      toggles.push({
        label,
        on,
        hotkey: this.formatHotkey(hotkey),
        value
      });
    };

    // AlphaZero mode: toggle between Normal and AlphaZero dual tournament RL
    const alphaZeroActive = this.toggleState.alphaZeroEnabled ?? false;
    addToggle('Mode', true, this.toggleState.alphaZeroHotkey, alphaZeroActive ? 'AlphaZero' : 'Normal');
    const approvalMode = this.toggleState.criticalApprovalMode || 'auto';
    const approvalActive = approvalMode !== 'auto';
    addToggle('Approvals', approvalActive, this.toggleState.criticalApprovalHotkey, approvalMode === 'auto' ? 'auto' : 'ask');
    const autoContinueActive = this.toggleState.autoContinueEnabled ?? false;
    addToggle('Auto', autoContinueActive, this.toggleState.autoContinueHotkey, autoContinueActive ? 'on' : 'off');
    const thinkingLabelRaw = (this.toggleState.thinkingModeLabel || 'balanced').trim();
    const thinkingLabel = thinkingLabelRaw.toLowerCase() === 'extended' ? 'deep' : thinkingLabelRaw || 'balanced';
    const thinkingActive = thinkingLabel.length > 0;
    addToggle('Thinking', thinkingActive, this.toggleState.thinkingHotkey, thinkingLabel);
    const buildLine = includeHotkeys => {
      return toggles.map(toggle => {
        const stateText = toggle.on ? _theme.theme.success(toggle.value || 'on') : _theme.theme.ui.muted(toggle.value || 'off');
        const hotkeyText = includeHotkeys && toggle.hotkey ? _theme.theme.ui.muted(` [${toggle.hotkey}]`) : '';
        return `${_theme.theme.ui.muted(`${toggle.label}:`)} ${stateText}${hotkeyText}`;
      }).join(_theme.theme.ui.muted('  '));
    };
    const maxWidth = this.safeWidth();
    let line = buildLine(true);

    // Record which hotkeys are actually shown so the shortcut line can avoid duplicates
    this.hotkeysInToggleLine = new Set(toggles.map(toggle => toggle.hotkey ? toggle.hotkey : null).filter(key => Boolean(key)));

    // If the line is too wide, drop hotkey hints to preserve all toggle labels
    if (this.visibleLength(line) > maxWidth) {
      this.hotkeysInToggleLine.clear();
      line = buildLine(false);
    }
    return line.trim() ? line : null;
  }
  buildShortcutLine() {
    const parts = [];
    const addHotkey = (label, combo) => {
      const normalized = this.formatHotkey(combo);
      if (!normalized) return;
      if (this.hotkeysInToggleLine.has(normalized)) {
        return;
      }
      parts.push(`${_theme.theme.info(normalized)} ${_theme.theme.ui.muted(label)}`);
    };

    // Core controls
    addHotkey('interrupt', 'Ctrl+C');
    addHotkey('clear input', 'Ctrl+U');

    // Feature toggles (only if hotkeys are defined)
    addHotkey('auto', this.toggleState.autoContinueHotkey);
    addHotkey('thinking', this.toggleState.thinkingHotkey);
    addHotkey('mode', this.toggleState.alphaZeroHotkey);
    if (parts.length === 0) {
      return null;
    }
    return parts.join(_theme.theme.ui.muted('   '));
  }
  buildInputLine() {
    if (this.collapsedPaste) {
      // Clean paste indicator - just show the summary, no action hints
      const linesText = this.collapsedPaste.lines === 1 ? '1 line' : `${this.collapsedPaste.lines} lines`;
      const charsText = typeof this.collapsedPaste.chars === 'number' ? `${this.collapsedPaste.chars} chars` : `${this.collapsedPaste.chars}`;
      const summary = _theme.theme.success(`[ðŸ“‹ ${linesText}, ${charsText}]`);
      return this.truncateLine(`${_theme.theme.primary('> ')}${summary}`, this.safeWidth());
    }

    // While detecting paste (or in burst detection phase), suppress buffer display
    const now = Date.now();
    const burstActive = this.pasteBurstWindowStart > 0 && now - this.pasteBurstWindowStart <= this.plainPasteWindowMs;
    if (this.inPlainPaste || this.inBracketedPaste || burstActive) {
      const chars = this.plainPasteBuffer.length || this.pasteBuffer.length || this.pendingInsertBuffer.length || 0;
      if (chars > 0) {
        const indicator = _theme.theme.ui.muted(`[ðŸ“‹ pasting... ${chars} chars]`);
        return this.truncateLine(`${_theme.theme.primary('> ')}${indicator}`, this.safeWidth());
      }
      // Even if no chars yet, show empty prompt during burst to prevent flicker
      if (burstActive) {
        return this.truncateLine(`${_theme.theme.primary('> ')}`, this.safeWidth());
      }
    }

    // Claude Code uses simple '>' prompt
    const prompt = _theme.theme.primary('> ');
    const promptWidth = this.visibleLength(prompt);
    const maxWidth = this.safeWidth();
    const continuationIndent = '  '; // 2 spaces for continuation lines
    const continuationWidth = continuationIndent.length;

    // Handle multi-line input - split buffer on newlines first
    // In secret mode, mask all characters with bullets
    const rawBuffer = this.buffer.replace(/\r/g, '\n');
    const normalized = this.secretMode ? 'â€¢'.repeat(rawBuffer.length) : rawBuffer;
    const bufferLines = normalized.split('\n');

    // Wrap each logical line to fit terminal width, expanding vertically
    const result = [];
    let totalChars = 0;
    let cursorLine = 0;
    let cursorCol = 0;
    let foundCursor = false;
    for (let lineIndex = 0; lineIndex < bufferLines.length; lineIndex++) {
      const line = bufferLines[lineIndex] ?? '';
      const isFirstLogicalLine = lineIndex === 0;
      const lineStartChar = totalChars;

      // Determine available width for this line
      const firstLineWidth = maxWidth - promptWidth;
      const contLineWidth = maxWidth - continuationWidth;

      // Wrap this logical line into display lines
      let remaining = line;
      let isFirstDisplayLine = true;
      while (remaining.length > 0 || isFirstDisplayLine) {
        const availableWidth = isFirstLogicalLine && isFirstDisplayLine ? firstLineWidth : contLineWidth;
        const chunk = remaining.slice(0, availableWidth);
        remaining = remaining.slice(availableWidth);

        // Build the display line
        let displayLine;
        if (isFirstLogicalLine && isFirstDisplayLine) {
          displayLine = `${prompt}${chunk}`;
        } else {
          displayLine = `${continuationIndent}${chunk}`;
        }

        // Track cursor position
        if (!foundCursor) {
          const chunkStart = lineStartChar + (line.length - remaining.length - chunk.length);
          const chunkEnd = chunkStart + chunk.length;
          if (this.cursor >= chunkStart && this.cursor <= chunkEnd) {
            cursorLine = result.length;
            const offsetInChunk = this.cursor - chunkStart;
            cursorCol = (isFirstLogicalLine && isFirstDisplayLine ? promptWidth : continuationWidth) + offsetInChunk;
            foundCursor = true;
          }
        }
        result.push(displayLine);
        isFirstDisplayLine = false;

        // If nothing left and this was an empty line, we already added it
        if (remaining.length === 0 && chunk.length === 0) break;
      }
      totalChars += line.length + 1; // +1 for the newline separator
    }

    // Handle cursor at very end
    if (!foundCursor) {
      cursorLine = Math.max(0, result.length - 1);
      const lastLine = result[cursorLine] ?? '';
      cursorCol = this.visibleLength(lastLine);
    }

    // Add cursor highlight to the appropriate position
    if (result.length > 0) {
      const targetLine = result[cursorLine] ?? '';
      const visiblePart = this.stripAnsi(targetLine);
      const cursorPos = Math.min(cursorCol, visiblePart.length);

      // Rebuild the line with cursor highlight
      const before = visiblePart.slice(0, cursorPos);
      const at = visiblePart.charAt(cursorPos) || ' ';
      const after = visiblePart.slice(cursorPos + 1);

      // Preserve the prompt/indent styling
      const prefix = cursorLine === 0 ? prompt : continuationIndent;
      const textPart = cursorLine === 0 ? before.slice(promptWidth) : before.slice(continuationWidth);
      result[cursorLine] = `${prefix}${textPart}${ESC.REVERSE}${at}${ESC.RESET}${after}`;
    }

    // Store cursor column for terminal positioning
    this.cursorVisibleColumn = cursorCol + 1;
    return result.join('\n');
  }
  buildInputWindow(available) {
    if (available <= 0) {
      return {
        text: '',
        cursor: 0
      };
    }
    if (this.collapsedPaste) {
      return {
        text: '',
        cursor: 0
      };
    }
    const normalized = this.buffer.replace(/\r/g, '\n');
    const cursorIndex = Math.min(this.cursor, normalized.length);
    let offset = this.inputRenderOffset;
    if (cursorIndex < offset) {
      offset = cursorIndex;
    }
    const overflow = cursorIndex - offset - available + 1;
    if (overflow > 0) {
      offset += overflow;
    }
    const maxOffset = Math.max(0, normalized.length - available);
    if (offset > maxOffset) {
      offset = maxOffset;
    }
    this.inputRenderOffset = offset;
    const window = normalized.slice(offset, offset + available);
    const display = window.split('').map(char => char === '\n' ? NEWLINE_PLACEHOLDER : char).join('');
    const cursorInWindow = Math.min(display.length, Math.max(0, cursorIndex - offset));
    const before = display.slice(0, cursorInWindow);
    const at = display.charAt(cursorInWindow) || ' ';
    const after = display.slice(cursorInWindow + 1);
    return {
      text: `${before}${ESC.REVERSE}${at}${ESC.RESET}${after}`,
      cursor: cursorInWindow
    };
  }

  /**
   * Expand collapsed paste into the buffer without submitting (Ctrl+L).
   * Allows user to edit the pasted content before submission.
   */
  expandCollapsedPasteToBuffer() {
    if (!this.collapsedPaste) return;
    const text = this.collapsedPaste.text;
    this.collapsedPaste = null;
    // Put the pasted content into the buffer for editing
    this.buffer = text;
    this.cursor = text.length;
    this.updateSuggestions();
    this.renderPrompt();
    this.emitInputChange();
  }

  /**
   * Expand collapsed paste and submit immediately.
   * Useful for programmatic submissions when a paste chip is active.
   */
  expandCollapsedPaste() {
    if (!this.collapsedPaste) return;
    const text = this.collapsedPaste.text;
    this.collapsedPaste = null;
    // Clear the buffer first to avoid any visual duplication
    this.buffer = '';
    this.cursor = 0;
    this.updateSuggestions();
    this.renderPrompt();
    this.emitInputChange();
    // Submit the paste content (displayUserPrompt is called within submitText for non-slash commands)
    this.submitText(text);
  }
  captureInput(options = {}) {
    if (this.inputCapture) {
      return Promise.reject(new Error('Input capture already in progress'));
    }
    if (options.resetBuffer) {
      this.buffer = '';
      this.cursor = 0;
      this.inputRenderOffset = 0;
      this.resetSuggestions();
      this.renderPrompt();
      this.emitInputChange();
    }
    return new Promise((resolve, reject) => {
      this.inputCapture = {
        resolve,
        reject,
        options: {
          trim: options.trim !== false,
          allowEmpty: options.allowEmpty ?? false
        }
      };
    });
  }
  cancelInputCapture(reason) {
    if (!this.inputCapture) {
      return;
    }
    const capture = this.inputCapture;
    this.inputCapture = null;
    capture.reject?.(reason ?? new Error('Input capture cancelled'));
  }

  // ------------ Helpers ------------

  wrapOverlayLine(text, width, indent) {
    const words = text.split(/(\s+)/);
    const lines = [];
    let current = '';
    for (const word of words) {
      const next = current + word;
      if (this.visibleLength(next) > width && current.trim()) {
        // Don't truncate - just push the line as-is (it fits within width)
        lines.push(current.trimEnd());
        current = indent + word.trimStart();
      } else {
        current = next;
      }
    }
    if (current.trim()) {
      lines.push(current.trimEnd());
    }

    // If no lines were produced, return the original text without truncation
    return lines.length ? lines : [text];
  }
  safeWidth() {
    const cols = this.output.isTTY ? this.cols || 80 : 80;
    return Math.max(1, cols - 1);
  }
  visibleLength(value) {
    if (!value) return 0;
    return this.stripAnsi(value).length;
  }
  stripAnsi(value) {
    if (!value) return '';
    // eslint-disable-next-line no-control-regex
    return value.replace(/\u001B\[[0-?]*[ -/]*[@-~]/g, '');
  }
  truncateLine(value, width) {
    if (!value) return '';
    const limit = Math.max(1, width);
    // eslint-disable-next-line no-control-regex
    const tokens = value.split(/(\x1b\[[0-9;]*m)/u);
    let visible = 0;
    let truncated = false;
    let result = '';
    for (const token of tokens) {
      if (!token) continue;
      // eslint-disable-next-line no-control-regex
      if (/^\x1b\[[0-9;]*m$/u.test(token)) {
        result += token;
        continue;
      }
      if (visible >= limit) {
        truncated = true;
        continue;
      }
      const remaining = limit - visible;
      if (token.length <= remaining) {
        result += token;
        visible += token.length;
      } else {
        const sliceLength = Math.max(0, remaining - 1);
        if (sliceLength > 0) {
          result += token.slice(0, sliceLength);
          visible += sliceLength;
        }
        result += 'â€¦';
        truncated = true;
        break;
      }
    }
    if (truncated && !result.endsWith(ESC.RESET)) {
      result += ESC.RESET;
    }
    return result;
  }
  getBuffer() {
    return this.buffer;
  }
  getCursor() {
    return this.cursor;
  }
  setBuffer(text, cursorPos) {
    this.buffer = text;
    // Validate cursor position to prevent out-of-bounds issues
    const requestedCursor = cursorPos ?? text.length;
    this.cursor = Math.max(0, Math.min(requestedCursor, text.length));
    this.inputRenderOffset = 0;
    this.updateSuggestions();
    this.renderPrompt();
    this.emitInputChange();
  }
  setSecretMode(enabled) {
    this.secretMode = enabled;
    this.renderPrompt();
  }
  clearBuffer() {
    this.cancelPlainPasteCapture();
    this.buffer = '';
    this.cursor = 0;
    this.inputRenderOffset = 0;
    this.suggestions = [];
    this.suggestionIndex = -1;
    this.renderPrompt();
    this.emitInputChange();
  }
  setModeStatus(status) {
    this.updateStatus(status);
  }

  /**
   * Show a compacting status with animated spinner (Claude Code style)
   * Uses âœ» character with animation to indicate context compaction in progress
   */
  showCompactingStatus(message) {
    this.statusMessage = message;
    if (!this.spinnerInterval) {
      this.spinnerInterval = setInterval(() => {
        this.spinnerFrame++;
        // Cycle activity phrase every ~4 seconds (50 frames at 80ms)
        if (this.spinnerFrame % 50 === 0) {
          this.activityPhraseIndex++;
        }
        this.renderPrompt();
      }, 80);
    }
    this.renderPrompt();
  }

  /**
   * Hide the compacting status and stop spinner animation
   */
  hideCompactingStatus() {
    if (this.spinnerInterval) {
      clearInterval(this.spinnerInterval);
      this.spinnerInterval = null;
    }
    this.statusMessage = null;
    this.renderPrompt();
  }
  emitPrompt(content) {
    this.pushPromptEvent(content);
  }

  /**
   * Display user prompt immediately in scrollback (Claude Code style)
   * Writes synchronously to ensure it appears ONCE in scrollback before status updates.
   * The prompt input area will then float below this and all subsequent events.
   */
  displayUserPrompt(text) {
    const normalized = text?.trim();
    if (!normalized) return;

    // Prevent duplicate prompt display within 1.5 seconds
    const now = Date.now();
    if (this.lastPromptEvent && this.lastPromptEvent.text === normalized && now - this.lastPromptEvent.at < 1500) {
      return;
    }
    this.lastPromptEvent = {
      text: normalized,
      at: now
    };

    // Add to event queue instead of writing directly to ensure proper rendering
    this.addEvent('prompt', normalized);
  }
  render() {
    this.renderPrompt();
  }
  delay(ms) {
    return new Promise(resolve => setTimeout(resolve, ms));
  }

  // ------------ Low-level helpers ------------

  write(data) {
    this.output.write(data);
  }
  pushPromptEvent(text) {
    const normalized = text?.trim();
    if (!normalized) {
      return;
    }
    const now = Date.now();
    if (this.lastPromptEvent && this.lastPromptEvent.text === normalized && now - this.lastPromptEvent.at < 1500) {
      return;
    }
    this.lastPromptEvent = {
      text: normalized,
      at: now
    };
    this.addEvent('prompt', normalized);
  }
  clearPromptArea() {
    const height = this.lastOverlay?.lines.length ?? this.promptHeight ?? 0;
    if (height === 0) return;

    // Use batched atomic write to prevent visual glitches from non-atomic escape sequences
    const buffer = [];

    // Hide cursor during clearing to prevent visual artifacts
    buffer.push('\x1b[?25l');

    // Cursor is at prompt row. Move up to top of overlay first.
    if (this.lastOverlay) {
      const linesToTop = this.lastOverlay.promptIndex;
      if (linesToTop > 0) {
        buffer.push(`\x1b[${linesToTop}A`);
      }
    }

    // Now at top, clear each line downward
    for (let i = 0; i < height; i++) {
      buffer.push('\r');
      buffer.push(ESC.CLEAR_LINE);
      if (i < height - 1) {
        buffer.push('\x1b[B');
      }
    }

    // Move back to top (where content should continue from)
    if (height > 1) {
      buffer.push(`\x1b[${height - 1}A`);
    }
    buffer.push('\r');

    // Show cursor again
    buffer.push('\x1b[?25h');

    // Single atomic write
    this.write(buffer.join(''));
    this.lastOverlay = null;
    this.promptHeight = 0;
    this.lastOverlayHeight = 0;
    this.isPromptActive = false;
  }
  updateTerminalSize() {
    if (this.output.isTTY) {
      this.rows = this.output.rows || 24;
      this.cols = this.output.columns || 80;
    }
  }
}
exports.UnifiedUIRenderer = UnifiedUIRenderer;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZWFkbGluZSIsIl9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIiwicmVxdWlyZSIsIl9ub2RlRXZlbnRzIiwiX25vZGVPcyIsIl9jaGFsayIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJfdGhlbWUiLCJfb3V0cHV0TW9kZSIsIl9hbmltYXRlZFN0YXR1cyIsIl91aUNvbnN0YW50cyIsIl9yaWNoVGV4dCIsIl9pbnB1dFByb3RlY3Rpb24iLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJ0IiwiV2Vha01hcCIsInIiLCJuIiwibyIsImkiLCJmIiwiX19wcm90b19fIiwiaGFzIiwiZ2V0Iiwic2V0IiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJjcmVhdGVCYW5uZXIiLCJ0aXRsZSIsInN1YnRpdGxlIiwibGluZXMiLCJwdXNoIiwiY2hhbGsiLCJjeWFuIiwicmVwZWF0IiwiYm9sZCIsInBhZEVuZCIsIndoaXRlIiwiam9pbiIsImZvcm1hdFByb2dyZXNzIiwicGhhc2UiLCJzdGVwIiwidG90YWxTdGVwcyIsInBlcmNlbnRhZ2UiLCJNYXRoIiwicm91bmQiLCJwcm9ncmVzc0JhciIsImZsb29yIiwiZ3JlZW4iLCJjcmVhdGVTZWN1cml0eUJhbm5lciIsIndpZHRoIiwidG9VcHBlckNhc2UiLCJncmF5IiwiY3JlYXRlU2VjdXJpdHlTcGlubmVyIiwibWVzc2FnZSIsImZvcm1hdFNlY3VyaXR5RmluZGluZyIsImZpbmRpbmciLCJzZXZlcml0eUNvbG9ycyIsImNyaXRpY2FsIiwicmVkQnJpZ2h0IiwiaGlnaCIsInJlZCIsIm1lZGl1bSIsInllbGxvdyIsImxvdyIsImJsdWUiLCJpbmZvIiwic2V2ZXJpdHlJY29ucyIsImNvbG9yIiwic2V2ZXJpdHkiLCJpY29uIiwibmFtZSIsInR5cGUiLCJkZXNjcmlwdGlvbiIsImV2aWRlbmNlIiwicmVtZWRpYXRpb24iLCJmb3JtYXRTZWN1cml0eVN1bW1hcnkiLCJyZXN1bHRzIiwiY2FtcGFpZ24iLCJzdGFydFRpbWUiLCJlbmRUaW1lIiwiZHVyYXRpb24iLCJmaW5kaW5ncyIsIkFycmF5IiwiaXNBcnJheSIsImNvdW50cyIsImZvckVhY2giLCJlbnRyaWVzIiwiY291bnQiLCJsZW5ndGgiLCJmb3JtYXRTZWN1cml0eVN0YXR1cyIsInN0YXR1cyIsImRldGFpbHMiLCJzdGF0dXNJY29ucyIsImhlYWx0aHkiLCJkZWdyYWRlZCIsInVuYXZhaWxhYmxlIiwiZm9ybWF0QXVkaXRQcm9ncmVzcyIsInByb2dyZXNzIiwidG90YWwiLCJmaWxsZWQiLCJlbXB0eSIsImZvcm1hdFNlY3VyZVRvb2xzU3VtbWFyeSIsIm9wdGlvbnMiLCJzaG93VGl0bGUiLCJkZWZhdWx0VG9vbHMiLCJ0b29scyIsInRvb2xQYXJ0cyIsIm1hcCIsInRvb2wiLCJzdGF0dXNJY29uIiwidGV4dCIsImhleCIsIkVTQyIsIkhJREVfQ1VSU09SIiwiU0hPV19DVVJTT1IiLCJDTEVBUl9TQ1JFRU4iLCJDTEVBUl9MSU5FIiwiSE9NRSIsIkVOQUJMRV9CUkFDS0VURURfUEFTVEUiLCJESVNBQkxFX0JSQUNLRVRFRF9QQVNURSIsIlRPIiwicm93IiwiY29sIiwiVE9fQ09MIiwiRVJBU0VfRE9XTiIsIlJFVkVSU0UiLCJSRVNFVCIsIlNFVF9TQ1JPTExfUkVHSU9OIiwidG9wIiwiYm90dG9tIiwiUkVTRVRfU0NST0xMX1JFR0lPTiIsIlNBVkVfQ1VSU09SIiwiUkVTVE9SRV9DVVJTT1IiLCJORVdMSU5FX1BMQUNFSE9MREVSIiwiVW5pZmllZFVJUmVuZGVyZXIiLCJFdmVudEVtaXR0ZXIiLCJyb3dzIiwiY29scyIsImxhc3RSZW5kZXJXaWR0aCIsImV2ZW50UXVldWUiLCJpc1Byb2Nlc3NpbmdRdWV1ZSIsImJ1ZmZlciIsImN1cnNvciIsImhpc3RvcnkiLCJoaXN0b3J5SW5kZXgiLCJzdWdnZXN0aW9ucyIsInN1Z2dlc3Rpb25JbmRleCIsImF2YWlsYWJsZUNvbW1hbmRzIiwiaG90a2V5c0luVG9nZ2xlTGluZSIsIlNldCIsImNvbGxhcHNlZFBhc3RlIiwibW9kZSIsInN0cmVhbWluZ0lucHV0UXVldWUiLCJzdHJlYW1pbmdDb250ZW50QnVmZmVyIiwic3RyZWFtaW5nTGluZXNXcml0dGVuIiwibGFzdFRvb2xSZXN1bHQiLCJjb2xsYXBzZWRUb29sUmVzdWx0cyIsIm1heENvbGxhcHNlZFJlc3VsdHMiLCJsYXN0VG9vbE5hbWUiLCJzdHJlYW1pbmdTdGFydFRpbWUiLCJzdGF0dXNNZXNzYWdlIiwic3RhdHVzT3ZlcnJpZGUiLCJzdGF0dXNTdHJlYW1pbmciLCJzdHJlYW1pbmdTcGlubmVyIiwidGhpbmtpbmdJbmRpY2F0b3IiLCJzcGlubmVyRnJhbWUiLCJzcGlubmVySW50ZXJ2YWwiLCJtYXhJbmxpbmVQYW5lbExpbmVzIiwiY29tcGFjdGluZ1N0YXR1c01lc3NhZ2UiLCJjb21wYWN0aW5nU3RhdHVzRnJhbWUiLCJjb21wYWN0aW5nU3RhdHVzSW50ZXJ2YWwiLCJjb21wYWN0aW5nU3Bpbm5lckZyYW1lcyIsImFjdGl2aXR5TWVzc2FnZSIsImFjdGl2aXR5UGhyYXNlSW5kZXgiLCJhY3Rpdml0eVN0YXJGcmFtZSIsImFjdGl2aXR5U3RhckZyYW1lcyIsInN0cmVhbWluZ1Rva2VucyIsImVsYXBzZWRDb2xvckZyYW1lIiwiZWxhcHNlZENvbG9yRnJhbWVzIiwiZnVuQWN0aXZpdHlQaHJhc2VzIiwibWF4Q3VyYXRlZFJlYXNvbmluZ0xpbmVzIiwibWF4Q3VyYXRlZFJlYXNvbmluZ0NoYXJzIiwidGhvdWdodERlZHVwV2luZG93TXMiLCJsYXN0Q3VyYXRlZFRob3VnaHQiLCJzdGF0dXNNZXRhIiwidG9nZ2xlU3RhdGUiLCJhdXRvQ29udGludWVFbmFibGVkIiwiY3JpdGljYWxBcHByb3ZhbE1vZGUiLCJhbHBoYVplcm9FbmFibGVkIiwiZGVidWdFbmFibGVkIiwicmxTdGF0dXMiLCJzZWN1cmVUb29sc1N0YXR1cyIsInRvb2xraXRSZWFkeSIsInNhbml0aXphdGlvbkFjdGl2ZSIsInRvdGFsSW52b2NhdGlvbnMiLCJjbGFtcEN1cnNvciIsIm1heCIsIm1pbiIsImFwcGVuZFRvUGFzdGVCdWZmZXIiLCJwYXN0ZUJ1ZmZlck92ZXJmbG93IiwiY3VycmVudCIsInBhc3RlQnVmZmVyIiwicGxhaW5QYXN0ZUJ1ZmZlciIsInJlbWFpbmluZyIsIm1heFBhc3RlQnVmZmVyU2l6ZSIsInRvQWRkIiwic2xpY2UiLCJzYW5pdGl6ZVBhc3RlQ29udGVudCIsInNhbml0aXplZCIsInJlcGxhY2UiLCJmb3JtYXRIb3RrZXkiLCJjb21ibyIsInRyaW0iLCJsYXN0UHJvbXB0RXZlbnQiLCJwcm9tcHRIZWlnaHQiLCJsYXN0T3ZlcmxheUhlaWdodCIsImlubGluZVBhbmVsIiwiaGFzQ29udmVyc2F0aW9uQ29udGVudCIsImlzUHJvbXB0QWN0aXZlIiwiaW5wdXRSZW5kZXJPZmZzZXQiLCJwbGFpblBhc3RlSWRsZU1zIiwicGxhaW5QYXN0ZVdpbmRvd01zIiwicGxhaW5QYXN0ZVRyaWdnZXJDaGFycyIsInBsYWluUGFzdGVFYXJseU5ld2xpbmVDaGFycyIsImN1cnNvclZpc2libGVDb2x1bW4iLCJpbkJyYWNrZXRlZFBhc3RlIiwiaW5QbGFpblBhc3RlIiwicGxhaW5QYXN0ZVRpbWVyIiwicGFzdGVCdXJzdFdpbmRvd1N0YXJ0IiwicGFzdGVCdXJzdENoYXJDb3VudCIsInBsYWluUmVjZW50Q2h1bmtzIiwicGVuZGluZ0luc2VydEJ1ZmZlciIsInBlbmRpbmdJbnNlcnRUaW1lciIsInBlbmRpbmdJbnNlcnREZWxheU1zIiwiZW1pdFBhc3RlQnVmZmVyIiwiZW1pdFBhc3RlVGltZXIiLCJlbWl0UGFzdGVDb21taXRNcyIsImxhc3RSZW5kZXJlZEV2ZW50S2V5IiwibGFzdE91dHB1dEVuZGVkV2l0aE5ld2xpbmUiLCJoYXNSZW5kZXJlZFByb21wdCIsImhhc0V2ZXJSZW5kZXJlZE92ZXJsYXkiLCJsYXN0T3ZlcmxheSIsImFsbG93UHJvbXB0UmVuZGVyIiwicHJvbXB0UmVuZGVyaW5nU3VzcGVuZGVkIiwic2VjcmV0TW9kZSIsInBlbmRpbmdSZW5kZXIiLCJsYXN0UmVuZGVyVGltZSIsInJlbmRlclRocm90dGxlTXMiLCJyZW5kZXJUaHJvdHRsZVRpbWVyIiwibGFzdFJlbmRlcmVkQnVmZmVyIiwiZm9yY2VOZXh0UmVuZGVyIiwibGFzdFJlbmRlcmVkQ3Vyc29yIiwibGFzdFJlbmRlcmVkTW9kZSIsImRpc3Bvc2VkIiwiaW5pdGlhbGl6aW5nIiwiYm91bmRSZXNpemVIYW5kbGVyIiwiYm91bmRLZXlwcmVzc0hhbmRsZXIiLCJib3VuZERhdGFIYW5kbGVyIiwiYm91bmRDdHJsSGFuZGxlciIsIm9yaWdpbmFsRW1pdCIsImlucHV0UHJvdGVjdGlvbiIsImlucHV0Q2FwdHVyZSIsIm1lbnVJdGVtcyIsIm1lbnVJbmRleCIsIm1lbnVUaXRsZSIsIm1lbnVDYWxsYmFjayIsImNvbnN0cnVjdG9yIiwib3V0cHV0IiwicHJvY2VzcyIsInN0ZG91dCIsImlucHV0Iiwic3RkaW4iLCJfb3B0aW9ucyIsIm9uIiwiZXJyIiwiY29uc29sZSIsImVycm9yIiwib3V0cHV0SXNUVFkiLCJCb29sZWFuIiwiaXNUVFkiLCJpbnB1dElzVFRZIiwiaW50ZXJhY3RpdmUiLCJwbGFpbk1vZGUiLCJpc1BsYWluT3V0cHV0TW9kZSIsImNvbnRleHRNZXRlciIsIkNvbnRleHRNZXRlciIsInJsIiwiY3JlYXRlSW50ZXJmYWNlIiwidGVybWluYWwiLCJwcm9tcHQiLCJ0YWJTaXplIiwic2V0UHJvbXB0IiwidXBkYXRlVGVybWluYWxTaXplIiwiaW5pdGlhbGl6ZUlucHV0UHJvdGVjdGlvbiIsInZlcmJvc2UiLCJlbnYiLCJvbkF0dGFja0RldGVjdGVkIiwicmVuZGVyUHJvbXB0Iiwic2V0dXBJbnB1dEhhbmRsZXJzIiwiaW5pdGlhbGl6ZSIsImNhbmNlbFBsYWluUGFzdGVDYXB0dXJlIiwiY2xlYXJQcm9tcHRBcmVhIiwid3JpdGUiLCJjbGVhbnVwIiwiY2FuY2VsSW5wdXRDYXB0dXJlIiwiRXJyb3IiLCJjbGVhclRpbWVvdXQiLCJjbGVhckludGVydmFsIiwic3RvcCIsImRpc3Bvc2UiLCJkaXNwb3NlQW5pbWF0aW9ucyIsInJlbW92ZUxpc3RlbmVyIiwiZW1pdCIsInJlbW92ZUFsbExpc3RlbmVycyIsImNsb3NlIiwic2V0UmF3TW9kZSIsInN1c3BlbmRQcm9tcHRSZW5kZXJpbmciLCJyZXN1bWVQcm9tcHRSZW5kZXJpbmciLCJyZW5kZXIiLCJpbnRlcmNlcHRlZFRvZ2dsZSIsImludGVyY2VwdGVkQ3RybEMiLCJpbnRlcmNlcHRlZEN0cmxEIiwicGVuZGluZ1RvZ2dsZVNraXBzIiwic2VsZiIsImJpbmQiLCJldmVudCIsImFyZ3MiLCJkYXRhIiwic3RyIiwiQnVmZmVyIiwiaXNCdWZmZXIiLCJ0b1N0cmluZyIsIlN0cmluZyIsImNvZGUiLCJjaGFyQ29kZUF0Iiwic2V0SW1tZWRpYXRlIiwiaGFuZGxlQ3RybEMiLCJoYW5kbGVDdHJsRCIsImRpcmVjdFRvZ2dsZSIsImxldHRlciIsImNoYXJBdCIsInRvTG93ZXJDYXNlIiwiaW5jbHVkZXMiLCJoYW5kbGVUb2dnbGUiLCJ0b2dnbGVzIiwiZXh0cmFjdFRvZ2dsZUxldHRlcnMiLCJwYXN0ZVN0YXJ0TWFya2VyIiwicGFzdGVFbmRNYXJrZXIiLCJoYXNCcmFja2V0ZWRTdGFydCIsImhhc0JyYWNrZXRlZEVuZCIsImlzUHJpbnRhYmxlIiwiYyIsImlzTmV3bGluZSIsImluUGFzdGVCdXJzdCIsInNob3VsZEJ1ZmZlciIsInN0YXJ0c1dpdGgiLCJjbGVhbmVkIiwic3RyaXBUb2dnbGVTeW1ib2xzIiwic2V0VGltZW91dCIsImNvbW1pdEVtaXRQYXN0ZUJ1ZmZlciIsImVtaXRLZXlwcmVzc0V2ZW50cyIsImtleSIsImhhbmRsZUtleXByZXNzIiwiZGV0ZWN0VG9nZ2xlRnJvbVJhd0RhdGEiLCJjaGFycyIsImNoIiwiZGV0ZWN0ZWQiLCJyZXN1bHQiLCJpc1RvZ2dsZUNoYXJhY3RlciIsInRlc3QiLCJmb3JjZVJlbmRlciIsInJlbmRlclByb21wdEltbWVkaWF0ZSIsImNsZWFyQnVmZmVyIiwiaGFkQnVmZmVyIiwicmVzZXRTdWdnZXN0aW9ucyIsImVtaXRJbnB1dENoYW5nZSIsImNvbnRlbnQiLCJ2YWxpZGF0aW9uIiwidmFsaWRhdGVJbnB1dCIsImJsb2NrZWQiLCJzcGxpdCIsImlzTXVsdGlMaW5lIiwiaXNMb25nQ29udGVudCIsIm5ld0xpbmVzIiwidXBkYXRlU3VnZ2VzdGlvbnMiLCJleHBhbmRDb2xsYXBzZWRQYXN0ZVRvQnVmZmVyIiwiaW5zZXJ0U2luZ2xlTGluZVRleHQiLCJoYW5kbGVFbWl0TGV2ZWxQYXN0ZSIsInBheWxvYWQiLCJrZXlJbmZvIiwiY3RybCIsIm1ldGEiLCJzaGlmdCIsInNlcXVlbmNlIiwiSlNPTiIsInN0cmluZ2lmeSIsIm5vcm1hbGl6ZWRLZXkiLCJwYXJzZUVzY2FwZVNlcXVlbmNlIiwia2V5Rm9yUGFzdGUiLCJ0b2dnbGVMZXR0ZXIiLCJtZXRhTGV0dGVyIiwiaGFuZGxlQnJhY2tldGVkUGFzdGUiLCJoYW5kbGVQbGFpblBhc3RlIiwiaXNDdHJsU2hpZnQiLCJsb3dlckxldHRlciIsInVwcGVyTGV0dGVyIiwic2VxIiwiaGFuZGxlQ3RybFNoaWZ0VG9nZ2xlIiwiY2xlYXJDb2xsYXBzZWRSZXN1bHRzIiwiZW5zdXJlQ3Vyc29yVmlzaWJsZSIsInBvcyIsInF1ZXVlZElucHV0IiwiYXBwbHlTdWdnZXN0aW9uIiwic2FmZUluZGV4IiwiY29tbWFuZCIsInN1Ym1pdFRleHQiLCJyZXNldFBsYWluUGFzdGVCdXJzdCIsImlzTWVudUFjdGl2ZSIsIm5hdmlnYXRlTWVudSIsInNlbGVjdE1lbnVJdGVtIiwiY2xvc2VNZW51IiwibmF2aWdhdGVTdWdnZXN0aW9ucyIsInF1ZXVlUGVuZGluZ0luc2VydCIsIm1heFdpZHRoIiwic2FmZVdpZHRoIiwibm93IiwiRGF0ZSIsImJ1cnN0QWN0aXZlIiwiaW5zZXJ0VGV4dCIsImNvbW1pdFBlbmRpbmdJbnNlcnQiLCJjb25zdW1lUGVuZGluZ0luc2VydEZvclBhc3RlIiwiY29uc3VtZWQiLCJwZW5kaW5nIiwic3RhcnRJZHgiLCJpbmRleE9mIiwiZW5kSWR4IiwiY29tbWl0UGFzdGVCdWZmZXIiLCJjb250ZW50QmVmb3JlIiwid2FzVHJ1bmNhdGVkIiwicHJ1bmVSZWNlbnRQbGFpbkNodW5rcyIsImNodW5rIiwidHJhY2tQbGFpblBhc3RlQnVyc3QiLCJyZWNvcmRSZWNlbnRQbGFpbkNodW5rIiwiY2h1bmtNdWx0aXBsZSIsImhhc05ld2xpbmUiLCJidXJzdFRyaWdnZXIiLCJoYXNSZWNlbnROb25OZXdsaW5lIiwic29tZSIsImVudHJ5IiwiZWFybHlOZXdsaW5lVHJpZ2dlciIsIm5ld2xpbmVUcmlnZ2VyIiwibG9va3NMaWtlUGFzdGUiLCJjaHVua0FscmVhZHlDYXB0dXJlZCIsInJlY2xhaW1lZCIsInJlY2xhaW1SZWNlbnRQbGFpbkNodW5rcyIsImNvbWJpbmVkIiwicmVtb3ZlQ291bnQiLCJzdWZmaXgiLCJlbmRzV2l0aCIsInNjaGVkdWxlUGxhaW5QYXN0ZUNvbW1pdCIsImF0Iiwid2luZG93U3RhcnQiLCJmaWx0ZXIiLCJmaW5hbGl6ZVBsYWluUGFzdGUiLCJmaWx0ZXJlZCIsImhhc05ld2xpbmVzIiwiY29sbGFwc2VkIiwiaW5FbWl0UGFzdGUiLCJpc0J1ZmZlclNvdXJjZSIsImV4cGFuZENvbGxhcHNlZFBhc3RlIiwic2hvdWxkVHJpbSIsIm5vcm1hbGl6ZWRDYXB0dXJlIiwiYWxsb3dFbXB0eSIsInJlc29sdmVyIiwicmVzb2x2ZSIsIm5vcm1hbGl6ZWQiLCJ2YWxpZGF0ZVByb21wdFN1Ym1pc3Npb24iLCJkaXNwbGF5VXNlclByb21wdCIsImZpcnN0U3BhY2UiLCJoYXNBcmdUZXh0IiwiY3Vyc29yU2xpY2UiLCJjb21tYW5kU2xpY2UiLCJmYWxsYmFja1NsaWNlIiwicGFydGlhbCIsInRyaW1FbmQiLCJwcmV2aW91cyIsImNtZCIsImlkeCIsImZpbmRJbmRleCIsInMiLCJzZXRBdmFpbGFibGVDb21tYW5kcyIsImNvbW1hbmRzIiwic3VibWl0Iiwic2VsZWN0ZWQiLCJkaXJlY3Rpb24iLCJjdXJyZW50SW5kZXgiLCJuZXh0IiwiY2xhbXBlZCIsImxhc3RBZGRlZEV2ZW50U2lnbmF0dXJlIiwiYWRkRXZlbnQiLCJub3JtYWxpemVFdmVudFR5cGUiLCJzaWduYXR1cmUiLCJmb3JtYXR0ZWQiLCJmb3JtYXRDb250ZW50IiwicmF3VHlwZSIsInRpbWVzdGFtcCIsImluc2VydEluZGV4Iiwic3BsaWNlIiwicXVldWVNaWNyb3Rhc2siLCJwcm9jZXNzUXVldWUiLCJyZW5kZXJQcm9tcHRPdmVybGF5IiwiaW1tZWRpYXRlIiwiY29hbGVzY2VkIiwiY29hbGVzY2VBZGphY2VudFRleHRFdmVudHMiLCJyZW5kZXJFdmVudCIsImRlbGF5IiwiaXNNZXJnZWFibGUiLCJ0YXJnZXQiLCJpc0NvbXBhY3RlZCIsIm5lZWRzU2VwYXJhdG9yIiwiZmx1c2hFdmVudHMiLCJ0aW1lb3V0TXMiLCJzdGFydCIsImZvcm1hdHRlZFBsYWluIiwibGluZSIsInRoZW1lIiwicHJpbWFyeSIsImlzR2FyYmFnZU91dHB1dCIsImN1cmF0ZWQiLCJjdXJhdGVSZWFzb25pbmdDb250ZW50Iiwic2hvdWxkUmVuZGVyVGhvdWdodCIsImZvcm1hdFRoaW5raW5nQmxvY2siLCJmb3JtYXRDb21wYWN0VG9vbENhbGwiLCJmb3JtYXRDb21wYWN0VG9vbFJlc3VsdCIsIndyYXBCdWxsZXRUZXh0IiwibGFiZWwiLCJsYWJlbENvbG9yIiwid2FybmluZyIsIm5ld2xpbmVzIiwibWF0Y2giLCJpc0Vycm9yIiwidW5kZWZpbmVkIiwidHJpbW1lZCIsInB1bmN0T25seUxpbmVzIiwibGluZVRyaW1tZWQiLCJub25FbXB0eUxpbmVzIiwibCIsIm1lYW5pbmdmdWxMaW5lcyIsImFscGhhTnVtIiwiYWxwaGFDb3VudCIsInRvdGFsQ291bnQiLCJzYW5pdGl6ZVRvb2xSZXN1bHRDb250ZW50IiwiY2xlYW5MaW5lcyIsImFscGhhSW5MaW5lIiwicG9wIiwibGltaXRlZCIsIm1heFNlZ21lbnRzIiwic2VnbWVudHMiLCJmbGF0TWFwIiwic2VlbiIsImRlZHVwZWQiLCJzZWdtZW50Iiwibm9ybWFsaXplZFNlZ21lbnQiLCJhZGQiLCJwcmlvcml0aXplZCIsInByaW9yaXRpemVSZWFzb25pbmdTZWdtZW50cyIsImxpbWl0ZWRTZWxlY3Rpb24iLCJidWxsZXRlZCIsImVuc3VyZVJlYXNvbmluZ0J1bGxldCIsImxvb2tzU3RydWN0dXJlZFRob3VnaHQiLCJzY29yZWQiLCJpbmRleCIsInNjb3JlIiwicmVhc29uaW5nU2lnbmFsU2NvcmUiLCJoYXNTaWduYWwiLCJpdGVtIiwic29ydCIsImEiLCJiIiwibG93ZXIiLCJhY3Rpb25LZXl3b3JkcyIsImtleXdvcmQiLCJmb3JtYXRDbGF1ZGVDb2RlQmxvY2siLCJidWxsZXQiLCJsaW5lSWR4Iiwid29yZHMiLCJjdXJyZW50TGluZSIsIndvcmQiLCJwcmVmaXgiLCJ0cmltU3RhcnQiLCJmb3JtYXRUb29sQ2FsbCIsIm5hbWVNYXRjaCIsInRvb2xDb2xvcnMiLCJ0b29sTmFtZSIsImFyZ3NTdHIiLCJwcmVmaXhMZW4iLCJpbmRlbnQiLCJwYXJzZVRvb2xBcmdzIiwiYXJnIiwiYXJnVGV4dCIsInVpIiwibXV0ZWQiLCJmb3JtYXRBcmdWYWx1ZSIsInZhbHVlIiwic2VwYXJhdG9yIiwidGVzdExpbmUiLCJzdHJpcEFuc2kiLCJyZWdleCIsImV4ZWMiLCJpc1F1b3RlZCIsImlubmVyIiwibG93ZXJLZXkiLCJzaG91bGRQcmVzZXJ2ZSIsIm1heExlbiIsInRydW5jYXRlZCIsImZvcm1hdFRvb2xSZXN1bHQiLCJzdW1tYXJ5TWF0Y2giLCJwcmV2aWV3IiwidG9vbENvbG9yIiwiZ2V0VG9vbENvbG9yIiwiY29sb3JlZFRvb2xOYW1lIiwicGFyYW1zIiwicGFyc2VUb29sUGFyYW1zIiwiZm9ybWF0VG9vbFBhcmFtc0NvbG9yZWQiLCJmb3JtYXRUb29sUGFyYW1zIiwiZmlyc3RQYXJhbSIsInBhcmFtIiwiY29sb3JlZFZhbHVlIiwiY29sb3JQYXJhbVZhbHVlIiwicGFyYW1UZXh0IiwicGFyYW1TdHIiLCJwbGFpbkxlbmd0aCIsInZpc2libGVMZW5ndGgiLCJleHRyYWN0VG9vbFN1bW1hcnkiLCJwYXRoTWF0Y2giLCJwYXRoIiwiZmlsZSIsImNtZE1hdGNoIiwiZm9ybWF0RWRpdFJlc3VsdFdpdGhEaWZmIiwibGluZU1hdGNoIiwiZmlsZU1hdGNoIiwicmVhZE1hdGNoIiwiaGFzUGF0aCIsImhhc0NvbW1hbmQiLCJpc1BhdGhPckRpciIsInN1bW1hcnkiLCJwcmVzZXJ2ZUZ1bGwiLCJmaXJzdExpbmUiLCJzdW1tYXJ5VGV4dCIsInNlbnRlbmNlRW5kIiwic2VhcmNoIiwibGFzdFNwYWNlIiwibGFzdEluZGV4T2YiLCJjb2xvcmVkU3VtbWFyeSIsImNvbG9yUmVzdWx0U3VtbWFyeSIsImhhc01vcmVDb250ZW50IiwiZXhwYW5kSGludCIsInN1Y2Nlc3MiLCJmaWxlTmFtZSIsIm9sZE1hdGNoIiwibmV3TWF0Y2giLCJvbGRMZW4iLCJuZXdMZW4iLCJkaWZmU3RhdCIsIm1heERpZmZMZW4iLCJvbGRQcmV2aWV3IiwibmV3UHJldmlldyIsImZvcm1hdENvbXBhY3RSZXNwb25zZSIsImF2YWlsYWJsZVdpZHRoIiwibGFiZWxUZXh0IiwiYnVsbGV0UHJlZml4IiwiZmlyc3ROb25FbXB0eSIsImluQ29kZUJsb2NrIiwiY29kZUJsb2NrTGFuZyIsImNvZGVCbG9ja0J1ZmZlciIsInJhd0xpbmUiLCJ0cmltbWVkTGluZSIsImNvZGVJbmRlbnQiLCJjb2RlTGluZSIsImhlYWRlck1hdGNoIiwibGV2ZWwiLCJoZWFkZXJUZXh0IiwiZm9ybWF0dGVkSGVhZGVyIiwiZm9ybWF0TWFya2Rvd25IZWFkZXIiLCJkaXZpZGVyV2lkdGgiLCJ0YWJsZVByZWZpeCIsImxpc3RNYXRjaCIsImxpc3RDb250ZW50IiwiZm9ybWF0dGVkTGlzdCIsImZvcm1hdElubGluZVRleHQiLCJsaXN0QnVsbGV0Iiwic2Vjb25kYXJ5IiwibGlzdEluZGVudCIsImlzRmlyc3RMaXN0TGluZSIsImNhbmRpZGF0ZSIsImZvcm1hdHRlZExpbmUiLCJwcmVmaXhMZW5ndGgiLCJmb3JtYXR0ZWRUZXh0IiwiaGVhZGVyV2lkdGgiLCJ0b3BCb3JkZXIiLCJoZWFkZXJMaW5lIiwidW5kZXJsaW5lIiwid3JhcFRleHRUb1dpZHRoIiwiZm9ybWF0U3RyZWFtaW5nRWxhcHNlZCIsImVsYXBzZWQiLCJtaW5zIiwic2VjcyIsImZvcm1hdENvbXBhY3RCbG9jayIsInBhZGRpbmciLCJsZWZ0UGFkIiwicmlnaHRQYWQiLCJjZWlsIiwiYWRkQ29tcGFjdEJsb2NrIiwiZm9ybWF0dGVkQ29udGVudCIsImV4cGFuZExhc3RUb29sUmVzdWx0IiwiaXNTdHJ1Y3R1cmVkIiwiaXNTdHJ1Y3R1cmVkVG9vbE91dHB1dCIsInJlbmRlcmVkIiwiZm9ybWF0U3RydWN0dXJlZFRvb2xPdXRwdXQiLCJoZWFkZXIiLCJmb3JtYXR0ZWRMaW5lcyIsImdldENvbGxhcHNlZFJlc3VsdENvdW50Iiwic2V0TW9kZSIsIndhc1N0cmVhbWluZyIsInN0YXJ0U3Bpbm5lckFuaW1hdGlvbiIsInN0b3BTcGlubmVyQW5pbWF0aW9uIiwic2V0SW50ZXJ2YWwiLCJzcGlubmVyRnJhbWVzIiwiYnJhaWxsZSIsInNldEFjdGl2aXR5IiwidXBkYXRlU3RyZWFtaW5nVG9rZW5zIiwidG9rZW5zIiwiZm9ybWF0VG9rZW5Db3VudCIsInRvRml4ZWQiLCJnZXRNb2RlIiwidXBkYXRlU3RhdHVzIiwidXBkYXRlU3RhdHVzQnVuZGxlIiwibWFpbiIsIm92ZXJyaWRlIiwic3RyZWFtaW5nIiwicHJldlN0cmVhbWluZyIsImNoYW5nZWQiLCJtYWluQ2hhbmdlZCIsIm92ZXJyaWRlQ2hhbmdlZCIsInN0cmVhbWluZ0NoYW5nZWQiLCJzdHJlYW1pbmdJbnRyb2R1Y2UiLCJzdHJlYW1pbmdDbGVhcmVkIiwib25seVN0cmVhbWluZ0NoYW5nZWQiLCJza2lwU3RyZWFtaW5nUmVuZGVyIiwic2hvdWxkUmVuZGVyIiwidXBkYXRlU3RhdHVzTWV0YSIsInVwZGF0ZU1vZGVUb2dnbGVzIiwic3RhdGUiLCJ0aGlua2luZ0hvdGtleSIsImNyaXRpY2FsQXBwcm92YWxIb3RrZXkiLCJhdXRvQ29udGludWVIb3RrZXkiLCJhbHBoYVplcm9Ib3RrZXkiLCJkZWJ1Z0hvdGtleSIsImNsZWFyIiwidXBkYXRlUkxTdGF0dXMiLCJjbGVhclJMU3RhdHVzIiwiZ2V0UkxTdGF0dXMiLCJ1cGRhdGVTZWN1cmVUb29sc1N0YXR1cyIsInJlY29yZFNlY3VyZVRvb2xJbnZvY2F0aW9uIiwiaW52b2NhdGlvbnMiLCJ1cGRhdGVzIiwibGFzdFRvb2xVc2VkIiwiZXhlY3V0ZSIsImFjdGl2ZSIsImxhc3RDb21tYW5kIiwibGFzdEV4aXRDb2RlIiwiZXhpdENvZGUiLCJleGVjQ291bnQiLCJwcm9iZSIsImxhc3RUYXJnZXQiLCJzZXJ2aWNlc0ZvdW5kIiwic2VydmljZXMiLCJwcm9iZUNvdW50IiwibGFzdEFjdGlvbiIsImFjdGlvbiIsImtleXNTdG9yZWQiLCJrZXlzQ291bnQiLCJwZXJzaXN0ZW50IiwiZ2V0U2VjdXJlVG9vbHNTdGF0dXMiLCJzZXRJbmxpbmVQYW5lbCIsImhhc0NvbnRlbnQiLCJsaW1pdElubGluZVBhbmVsIiwic3VwcG9ydHNJbmxpbmVQYW5lbCIsImNsZWFySW5saW5lUGFuZWwiLCJzZXRNZW51IiwiaXRlbXMiLCJjYWxsYmFjayIsImluaXRpYWxJbmRleCIsImlzQWN0aXZlIiwicmVuZGVyTWVudVBhbmVsIiwiaXNTZWxlY3RlZCIsImlzRGlzYWJsZWQiLCJkaXNhYmxlZCIsImRpbSIsImRlc2MiLCJuZXdJbmRleCIsImF0dGVtcHRzIiwibWF4QXR0ZW1wdHMiLCJtYXhMaW5lcyIsIm92ZXJmbG93IiwiaW5kaWNhdG9yIiwidGFpbENvdW50IiwidGFpbCIsIm92ZXJsYXkiLCJidWlsZE92ZXJsYXlMaW5lcyIsInJlbmRlcmVkTGluZXMiLCJ0cnVuY2F0ZUxpbmUiLCJwcm9tcHRJbmRleCIsImhlaWdodCIsImxpbmVzVG9Ub3AiLCJjbGVhckhlaWdodCIsIm1vdmVCYWNrVXAiLCJwcm9tcHRDb2wiLCJsaW5lc1RvTW92ZVVwIiwiZGl2aWRlciIsImZhbGxiYWNrQWN0aXZpdHkiLCJyYXciLCJzcGlubmVyQ2hhcnMiLCJzcGlubmVyQ2hhciIsInN0YXJDaGFyIiwic3Bpbm5lckRlY29yYXRlZCIsImFjY2VudCIsImdlbmVyaWNBY3Rpdml0aWVzIiwiZGlzcGxheUFjdGl2aXR5IiwibmVlZHNFbGxpcHNpcyIsImVsYXBzZWRDb2xvciIsInBhcnRzIiwiYWN0aXZpdHlUZXh0IiwiYWN0aXZpdHlMaW5lIiwid3JhcHBlZCIsIndyYXBPdmVybGF5TGluZSIsImlucHV0TGluZSIsImJ1aWxkSW5wdXRMaW5lIiwiaW5wdXRMaW5lcyIsImFyciIsInBhbmVsTGluZSIsInN1Z2dlc3Rpb24iLCJtYXJrZXIiLCJjbWRUZXh0IiwiZGVzY1RleHQiLCJjb21wYWN0U3RhdHVzIiwiYnVpbGRDb21wYWN0U3RhdHVzTGluZSIsInRvZ2dsZUxpbmUiLCJidWlsZFRvZ2dsZUxpbmUiLCJtb2RlbCIsInByb3ZpZGVyIiwiY29udGV4dFBlcmNlbnQiLCJ1c2VkIiwiY2xhbXBQZXJjZW50YWdlIiwiYmFyV2lkdGgiLCJiYXJDb2xvciIsImdldENvbnRleHRDb2xvciIsImJhciIsInByb2ZpbGUiLCJ3b3Jrc3BhY2UiLCJkaXJlY3RvcnkiLCJhYmJyZXZpYXRlUGF0aCIsImJ1aWxkQ2hyb21lTGluZXMiLCJzdGF0dXNMaW5lcyIsImJ1aWxkU3RhdHVzQmxvY2siLCJtZXRhTGluZXMiLCJidWlsZE1ldGFCbG9jayIsInBhdGhWYWx1ZSIsImhvbWUiLCJob21lZGlyIiwic3RhdHVzTGFiZWwiLCJjb21wb3NlU3RhdHVzTGFiZWwiLCJhcHBseVRvbmUiLCJ0b25lIiwic2Vzc2lvblRpbWUiLCJ1cGRhdGUiLCJ3cmFwU2VnbWVudHMiLCJmb3JtYXRNZXRhU2VnbWVudCIsIndyaXRlcyIsInRvb2xTdW1tYXJ5Iiwic2Vzc2lvbkxhYmVsIiwidmVyc2lvbiIsInJsU2VnbWVudHMiLCJidWlsZFJMU3RhdHVzU2VnbWVudHMiLCJzZWN1cmVUb29sc1NlZ21lbnRzIiwiYnVpbGRTZWN1cmVUb29sc1NlZ21lbnRzIiwiYWN0aXZlVmFyaWFudCIsIndpbnMiLCJjdXJyZW50TW9kdWxlIiwicmVmaW5lciIsInRpZXMiLCJ0b3RhbEdhbWVzIiwibGVhZGVyIiwicENvbG9yIiwickNvbG9yIiwicFNjb3JlIiwiclNjb3JlIiwidHJvcGh5Iiwic3RyZWFrVGV4dCIsInN0cmVhayIsInBCYXJzIiwickJhcnMiLCJ0QmFycyIsImlzUGFyYWxsZWwiLCJwYXJhbGxlbEV4ZWN1dGlvbiIsInZhcmlhbnRJY29uIiwidmFyaWFudExhYmVsIiwidmFyaWFudENvbG9yIiwibGFzdFdpbm5lciIsIndpbm5lckljb24iLCJjdXJyZW50U3RlcCIsInN0ZXBUZXh0IiwidHJ1bmNhdGVNaWRkbGUiLCJzdGVwc0NvbXBsZXRlZCIsInBjdCIsInNjb3JlcyIsInBWYWwiLCJyVmFsIiwicERpc3BsYXkiLCJyRGlzcGxheSIsImFjY3VyYWN5IiwicEFjYyIsInJBY2MiLCJzdCIsInNlY0ljb24iLCJ0b29sSW5kaWNhdG9ycyIsImV4ZWNJY29uIiwic3ZjQ291bnQiLCJzdGF0ZUljb24iLCJFeGVjdXRlIiwiUHJvYmUiLCJTdGF0ZSIsIlRyYW5zZm9ybSIsIlRhb09wcyIsIm1hZ2VudGEiLCJrZWVwTGVuIiwic3RhdHVzZXMiLCJjb2xvcml6ZXIiLCJidWlsZENvbnRyb2xMaW5lcyIsInNob3J0Y3V0TGluZSIsImJ1aWxkU2hvcnRjdXRMaW5lIiwiYWRkVG9nZ2xlIiwiaG90a2V5IiwiYWxwaGFaZXJvQWN0aXZlIiwiYXBwcm92YWxNb2RlIiwiYXBwcm92YWxBY3RpdmUiLCJhdXRvQ29udGludWVBY3RpdmUiLCJ0aGlua2luZ0xhYmVsUmF3IiwidGhpbmtpbmdNb2RlTGFiZWwiLCJ0aGlua2luZ0xhYmVsIiwidGhpbmtpbmdBY3RpdmUiLCJidWlsZExpbmUiLCJpbmNsdWRlSG90a2V5cyIsInRvZ2dsZSIsInN0YXRlVGV4dCIsImhvdGtleVRleHQiLCJhZGRIb3RrZXkiLCJsaW5lc1RleHQiLCJjaGFyc1RleHQiLCJwcm9tcHRXaWR0aCIsImNvbnRpbnVhdGlvbkluZGVudCIsImNvbnRpbnVhdGlvbldpZHRoIiwicmF3QnVmZmVyIiwiYnVmZmVyTGluZXMiLCJ0b3RhbENoYXJzIiwiY3Vyc29yTGluZSIsImN1cnNvckNvbCIsImZvdW5kQ3Vyc29yIiwibGluZUluZGV4IiwiaXNGaXJzdExvZ2ljYWxMaW5lIiwibGluZVN0YXJ0Q2hhciIsImZpcnN0TGluZVdpZHRoIiwiY29udExpbmVXaWR0aCIsImlzRmlyc3REaXNwbGF5TGluZSIsImRpc3BsYXlMaW5lIiwiY2h1bmtTdGFydCIsImNodW5rRW5kIiwib2Zmc2V0SW5DaHVuayIsImxhc3RMaW5lIiwidGFyZ2V0TGluZSIsInZpc2libGVQYXJ0IiwiY3Vyc29yUG9zIiwiYmVmb3JlIiwiYWZ0ZXIiLCJ0ZXh0UGFydCIsImJ1aWxkSW5wdXRXaW5kb3ciLCJhdmFpbGFibGUiLCJjdXJzb3JJbmRleCIsIm9mZnNldCIsIm1heE9mZnNldCIsIndpbmRvdyIsImRpc3BsYXkiLCJjaGFyIiwiY3Vyc29ySW5XaW5kb3ciLCJjYXB0dXJlSW5wdXQiLCJQcm9taXNlIiwicmVqZWN0IiwicmVzZXRCdWZmZXIiLCJyZWFzb24iLCJjYXB0dXJlIiwibGltaXQiLCJ2aXNpYmxlIiwidG9rZW4iLCJzbGljZUxlbmd0aCIsImdldEJ1ZmZlciIsImdldEN1cnNvciIsInNldEJ1ZmZlciIsInJlcXVlc3RlZEN1cnNvciIsInNldFNlY3JldE1vZGUiLCJlbmFibGVkIiwic2V0TW9kZVN0YXR1cyIsInNob3dDb21wYWN0aW5nU3RhdHVzIiwiaGlkZUNvbXBhY3RpbmdTdGF0dXMiLCJlbWl0UHJvbXB0IiwicHVzaFByb21wdEV2ZW50IiwibXMiLCJjb2x1bW5zIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbIlVuaWZpZWRVSVJlbmRlcmVyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVW5pZmllZFVJUmVuZGVyZXIgLSBDbGF1ZGUgQ29kZSBzdHlsZSBtaW5pbWFsaXN0IHRlcm1pbmFsIFVJLlxuICpcbiAqIEdvYWxzOlxuICogLSBTaW5nbGUgZXZlbnQgcGlwZWxpbmUgZm9yIGV2ZXJ5dGhpbmcgKHByb21wdCDihpIgdGhvdWdodCDihpIgdG9vbC9idWlsZC90ZXN0IOKGkiByZXNwb25zZSkuXG4gKiAtIFBpbm5lZCBzdGF0dXMvbWV0YSBvbmx5IChuZXZlciBpbiBzY3JvbGxiYWNrKS5cbiAqIC0gU2Nyb2xsYmFjayBvbmx5IHNob3dzIGV2ZW50czsgbm8gZHVwbGljYXRlIHN0YXR1cyBsaWtlIFwiV29ya2luZyBvbiB5b3VyIHJlcXVlc3RcIiBvciBcIlJlYWR5IGZvciBwcm9tcHRzXCIuXG4gKiAtIFN0cmVhbWluZzogZmlyc3QgY2h1bmsgc2V0cyBhIG9uZS1saW5lIGJhbm5lcjsgcmVtYWluZGVyIHN0cmVhbXMgbmF0dXJhbGx5IChvcHRpb25hbCkuXG4gKiAtIENvbGxhcHNpYmxlLWxpa2Ugc3VtbWFyaWVzOiB3ZSBmb3JtYXQgYSBjb21wYWN0IGhlYWRpbmcgd2l0aCBhbiBlbGxpcHNpcyBpbmRpY2F0b3IsIGJ1dCBhdm9pZCBjdHJsK28gaGludHMuXG4gKi9cblxuaW1wb3J0ICogYXMgcmVhZGxpbmUgZnJvbSAnbm9kZTpyZWFkbGluZSc7XG5pbXBvcnQgeyBFdmVudEVtaXR0ZXIgfSBmcm9tICdub2RlOmV2ZW50cyc7XG5pbXBvcnQgeyBob21lZGlyIH0gZnJvbSAnbm9kZTpvcyc7XG5pbXBvcnQgY2hhbGsgZnJvbSAnY2hhbGsnO1xuaW1wb3J0IHsgdGhlbWUsIHNwaW5uZXJGcmFtZXMsIGdldFRvb2xDb2xvciB9IGZyb20gJy4vdGhlbWUuanMnO1xuaW1wb3J0IHsgaXNQbGFpbk91dHB1dE1vZGUgfSBmcm9tICcuL291dHB1dE1vZGUuanMnO1xuaW1wb3J0IHsgQW5pbWF0ZWRTcGlubmVyLCBUaGlua2luZ0luZGljYXRvciwgQ29udGV4dE1ldGVyLCBkaXNwb3NlQW5pbWF0aW9ucyB9IGZyb20gJy4vYW5pbWF0ZWRTdGF0dXMuanMnO1xuaW1wb3J0IHtcbiAgY2xhbXBQZXJjZW50YWdlLFxuICBnZXRDb250ZXh0Q29sb3IsXG59IGZyb20gJy4vdWlDb25zdGFudHMuanMnO1xuaW1wb3J0IHsgZm9ybWF0SW5saW5lVGV4dCB9IGZyb20gJy4vcmljaFRleHQuanMnO1xuaW1wb3J0IHsgaW5pdGlhbGl6ZUlucHV0UHJvdGVjdGlvbiwgZ2V0SW5wdXRQcm90ZWN0aW9uLCB0eXBlIElucHV0UHJvdGVjdGlvbiB9IGZyb20gJy4uL2NvcmUvaW5wdXRQcm90ZWN0aW9uLmpzJztcblxuLy8gVUkgaGVscGVyIG1ldGhvZHMgZm9yIHNlY3VyaXR5IGNvbXBvbmVudHNcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVCYW5uZXIodGl0bGU6IHN0cmluZywgc3VidGl0bGU/OiBzdHJpbmcpOiBzdHJpbmcge1xuICBjb25zdCBsaW5lczogc3RyaW5nW10gPSBbXTtcbiAgbGluZXMucHVzaChjaGFsay5jeWFuKCfilZQnICsgJ+KVkCcucmVwZWF0KDY4KSArICfilZcnKSk7XG4gIGxpbmVzLnB1c2goY2hhbGsuY3lhbign4pWRICcpICsgY2hhbGsuY3lhbi5ib2xkKHRpdGxlLnBhZEVuZCg2NikpICsgY2hhbGsuY3lhbignIOKVkScpKTtcbiAgaWYgKHN1YnRpdGxlKSB7XG4gICAgbGluZXMucHVzaChjaGFsay5jeWFuKCfilZEgJykgKyBjaGFsay53aGl0ZShzdWJ0aXRsZS5wYWRFbmQoNjYpKSArIGNoYWxrLmN5YW4oJyDilZEnKSk7XG4gIH1cbiAgbGluZXMucHVzaChjaGFsay5jeWFuKCfilZonICsgJ+KVkCcucmVwZWF0KDY4KSArICfilZ0nKSk7XG4gIHJldHVybiBsaW5lcy5qb2luKCdcXG4nKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdFByb2dyZXNzKHBoYXNlOiBzdHJpbmcsIHN0ZXA6IG51bWJlciwgdG90YWxTdGVwczogbnVtYmVyKTogc3RyaW5nIHtcbiAgY29uc3QgcGVyY2VudGFnZSA9IE1hdGgucm91bmQoKHN0ZXAgLyB0b3RhbFN0ZXBzKSAqIDEwMCk7XG4gIGNvbnN0IHByb2dyZXNzQmFyID0gJ+KWiCcucmVwZWF0KE1hdGguZmxvb3IocGVyY2VudGFnZSAvIDUpKSArICfilpEnLnJlcGVhdCgyMCAtIE1hdGguZmxvb3IocGVyY2VudGFnZSAvIDUpKTtcbiAgcmV0dXJuIGAke2NoYWxrLmN5YW4oJ+KgiycpfSAke2NoYWxrLndoaXRlKHBoYXNlKX06IFske2NoYWxrLmdyZWVuKHByb2dyZXNzQmFyKX1dICR7cGVyY2VudGFnZX0lICgke3N0ZXB9LyR7dG90YWxTdGVwc30pYDtcbn1cblxuLy8gQXBwbGUgU2VjdXJpdHkgVUkgY29tcGF0aWJpbGl0eSBtZXRob2RzIChyZXBsYWNlcyBBcHBsZVNlY3VyaXR5VUkudHMpXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU2VjdXJpdHlCYW5uZXIodGl0bGU6IHN0cmluZywgc3VidGl0bGU/OiBzdHJpbmcpOiBzdHJpbmcge1xuICBjb25zdCB3aWR0aCA9IDcwO1xuICBjb25zdCBsaW5lczogc3RyaW5nW10gPSBbXTtcbiAgbGluZXMucHVzaChjaGFsay5jeWFuKCfilZAnLnJlcGVhdCh3aWR0aCkpKTtcbiAgbGluZXMucHVzaChgJHtjaGFsay5jeWFuKCfwn5uh77iPJyl9ICR7Y2hhbGsuY3lhbi5ib2xkKHRpdGxlLnRvVXBwZXJDYXNlKCkpfWApO1xuICBpZiAoc3VidGl0bGUpIHtcbiAgICBsaW5lcy5wdXNoKGNoYWxrLmdyYXkoYCAgJHtzdWJ0aXRsZX1gKSk7XG4gIH1cbiAgbGluZXMucHVzaChjaGFsay5jeWFuKCfilZAnLnJlcGVhdCh3aWR0aCkpKTtcbiAgcmV0dXJuIGxpbmVzLmpvaW4oJ1xcbicpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU2VjdXJpdHlTcGlubmVyKG1lc3NhZ2U6IHN0cmluZyk6IHN0cmluZyB7XG4gIHJldHVybiBgJHtjaGFsay5jeWFuKCfioIsnKX0gJHtjaGFsay53aGl0ZShtZXNzYWdlKX1gO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0U2VjdXJpdHlGaW5kaW5nKGZpbmRpbmc6IGFueSk6IHN0cmluZyB7XG4gIGNvbnN0IHNldmVyaXR5Q29sb3JzID0ge1xuICAgIGNyaXRpY2FsOiBjaGFsay5yZWRCcmlnaHQsXG4gICAgaGlnaDogY2hhbGsucmVkLFxuICAgIG1lZGl1bTogY2hhbGsueWVsbG93LFxuICAgIGxvdzogY2hhbGsuYmx1ZSxcbiAgICBpbmZvOiBjaGFsay5ncmF5XG4gIH07XG4gIFxuICBjb25zdCBzZXZlcml0eUljb25zID0ge1xuICAgIGNyaXRpY2FsOiBjaGFsay5yZWRCcmlnaHQoJ+KaoCcpLFxuICAgIGhpZ2g6IGNoYWxrLnJlZCgn4payJyksXG4gICAgbWVkaXVtOiBjaGFsay55ZWxsb3coJ+KWsicpLFxuICAgIGxvdzogY2hhbGsuYmx1ZSgn4pa8JyksXG4gICAgaW5mbzogY2hhbGsuZ3JheSgn4oS5JylcbiAgfTtcbiAgXG4gIGNvbnN0IGNvbG9yID0gc2V2ZXJpdHlDb2xvcnNbZmluZGluZy5zZXZlcml0eV0gfHwgY2hhbGsud2hpdGU7XG4gIGNvbnN0IGljb24gPSBzZXZlcml0eUljb25zW2ZpbmRpbmcuc2V2ZXJpdHldIHx8IGNoYWxrLmdyYXkoJ+KEuScpO1xuICBcbiAgY29uc3QgbGluZXM6IHN0cmluZ1tdID0gW107XG4gIGxpbmVzLnB1c2goYCR7aWNvbn0gJHtjb2xvci5ib2xkKGZpbmRpbmcubmFtZSB8fCBmaW5kaW5nLnR5cGUgfHwgJ0ZpbmRpbmcnKX1gKTtcbiAgbGluZXMucHVzaChgICAke2NoYWxrLmdyYXkoJ0Rlc2NyaXB0aW9uOicpfSAke2NoYWxrLndoaXRlKGZpbmRpbmcuZGVzY3JpcHRpb24gfHwgJ05vIGRlc2NyaXB0aW9uJyl9YCk7XG4gIGlmIChmaW5kaW5nLmV2aWRlbmNlKSB7XG4gICAgbGluZXMucHVzaChgICAke2NoYWxrLmdyYXkoJ0V2aWRlbmNlOicpfSAke2NoYWxrLndoaXRlKGZpbmRpbmcuZXZpZGVuY2UpfWApO1xuICB9XG4gIGlmIChmaW5kaW5nLnJlbWVkaWF0aW9uKSB7XG4gICAgbGluZXMucHVzaChgICAke2NoYWxrLmdyYXkoJ1JlbWVkaWF0aW9uOicpfSAke2NoYWxrLmdyZWVuKGZpbmRpbmcucmVtZWRpYXRpb24pfWApO1xuICB9XG4gIHJldHVybiBsaW5lcy5qb2luKCdcXG4nKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdFNlY3VyaXR5U3VtbWFyeShyZXN1bHRzOiBhbnkpOiBzdHJpbmcge1xuICBjb25zdCBsaW5lczogc3RyaW5nW10gPSBbXTtcbiAgbGluZXMucHVzaChjaGFsay5jeWFuKCfilZAnLnJlcGVhdCg3MCkpKTtcbiAgbGluZXMucHVzaChgJHtjaGFsay5jeWFuKCfwn5uh77iPJyl9ICR7Y2hhbGsuY3lhbi5ib2xkKCdTRUNVUklUWSBBVURJVCBTVU1NQVJZJyl9YCk7XG4gIGxpbmVzLnB1c2goY2hhbGsuY3lhbign4pWQJy5yZXBlYXQoNzApKSk7XG4gIFxuICBsaW5lcy5wdXNoKGAgICR7Y2hhbGsuZ3JheSgnQ2FtcGFpZ246Jyl9ICR7Y2hhbGsud2hpdGUocmVzdWx0cy5jYW1wYWlnbiB8fCAnVW5rbm93bicpfWApO1xuICBsaW5lcy5wdXNoKGAgICR7Y2hhbGsuZ3JheSgnU3RhcnQgVGltZTonKX0gJHtjaGFsay53aGl0ZShyZXN1bHRzLnN0YXJ0VGltZSB8fCAnVW5rbm93bicpfWApO1xuICBpZiAocmVzdWx0cy5lbmRUaW1lKSB7XG4gICAgbGluZXMucHVzaChgICAke2NoYWxrLmdyYXkoJ0VuZCBUaW1lOicpfSAke2NoYWxrLndoaXRlKHJlc3VsdHMuZW5kVGltZSl9YCk7XG4gIH1cbiAgaWYgKHJlc3VsdHMuZHVyYXRpb24pIHtcbiAgICBsaW5lcy5wdXNoKGAgICR7Y2hhbGsuZ3JheSgnRHVyYXRpb246Jyl9ICR7Y2hhbGsud2hpdGUoYCR7cmVzdWx0cy5kdXJhdGlvbn1tc2ApfWApO1xuICB9XG4gIFxuICBpZiAocmVzdWx0cy5maW5kaW5ncyAmJiBBcnJheS5pc0FycmF5KHJlc3VsdHMuZmluZGluZ3MpKSB7XG4gICAgY29uc3QgY291bnRzOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+ID0geyBjcml0aWNhbDogMCwgaGlnaDogMCwgbWVkaXVtOiAwLCBsb3c6IDAsIGluZm86IDAgfTtcbiAgICByZXN1bHRzLmZpbmRpbmdzLmZvckVhY2goKGY6IGFueSkgPT4ge1xuICAgICAgY291bnRzW2Yuc2V2ZXJpdHldID0gKGNvdW50c1tmLnNldmVyaXR5XSB8fCAwKSArIDE7XG4gICAgfSk7XG4gICAgXG4gICAgbGluZXMucHVzaChgICAke2NoYWxrLmdyYXkoJ0ZpbmRpbmdzOicpfWApO1xuICAgIE9iamVjdC5lbnRyaWVzKGNvdW50cykuZm9yRWFjaCgoW3NldmVyaXR5LCBjb3VudF0pID0+IHtcbiAgICAgIGlmIChjb3VudCA+IDApIHtcbiAgICAgICAgY29uc3QgY29sb3IgPSBzZXZlcml0eUNvbG9yc1tzZXZlcml0eV0gfHwgY2hhbGsud2hpdGU7XG4gICAgICAgIGxpbmVzLnB1c2goYCAgICAke2NvbG9yKGAke3NldmVyaXR5LnRvVXBwZXJDYXNlKCl9OmApfSAke2NoYWxrLndoaXRlKGNvdW50KX1gKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBsaW5lcy5wdXNoKGAgICAgJHtjaGFsay5ncmF5KCdUb3RhbDonKX0gJHtjaGFsay53aGl0ZShyZXN1bHRzLmZpbmRpbmdzLmxlbmd0aCl9YCk7XG4gIH1cbiAgXG4gIHJldHVybiBsaW5lcy5qb2luKCdcXG4nKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdFNlY3VyaXR5U3RhdHVzKHN0YXR1czogc3RyaW5nLCBkZXRhaWxzOiBzdHJpbmcpOiBzdHJpbmcge1xuICBjb25zdCBzdGF0dXNJY29ucyA9IHtcbiAgICBoZWFsdGh5OiBgJHtjaGFsay5ncmVlbign4pePJyl9YCxcbiAgICBkZWdyYWRlZDogYCR7Y2hhbGsueWVsbG93KCfil48nKX1gLFxuICAgIHVuYXZhaWxhYmxlOiBgJHtjaGFsay5yZWQoJ+KXjycpfWBcbiAgfTtcbiAgXG4gIGNvbnN0IGljb24gPSBzdGF0dXNJY29uc1tzdGF0dXNdIHx8IGNoYWxrLmdyYXkoJ+KXjycpO1xuICByZXR1cm4gYCR7aWNvbn0gJHtjaGFsay53aGl0ZShkZXRhaWxzKX1gO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0QXVkaXRQcm9ncmVzcyhwaGFzZTogc3RyaW5nLCBwcm9ncmVzczogbnVtYmVyLCB0b3RhbDogbnVtYmVyKTogc3RyaW5nIHtcbiAgY29uc3QgcGVyY2VudGFnZSA9IE1hdGgucm91bmQoKHByb2dyZXNzIC8gdG90YWwpICogMTAwKTtcbiAgY29uc3QgZmlsbGVkID0gTWF0aC5yb3VuZChwZXJjZW50YWdlIC8gMTApO1xuICBjb25zdCBlbXB0eSA9IDEwIC0gZmlsbGVkO1xuXG4gIGNvbnN0IHByb2dyZXNzQmFyID0gYCR7Y2hhbGsuZ3JlZW4oJ+KWiCcucmVwZWF0KGZpbGxlZCkpfSR7Y2hhbGsuZ3JheSgn4paRJy5yZXBlYXQoZW1wdHkpKX1gO1xuXG4gIHJldHVybiBgJHtjaGFsay5ncmF5KCfij7EnKX0gJHtjaGFsay5jeWFuKCdTZWN1cml0eSBBdWRpdCcpfSAtICR7Y2hhbGsud2hpdGUocGhhc2UpfVxcbmAgK1xuICAgICAgICAgYCAgJHtwcm9ncmVzc0Jhcn0gJHtjaGFsay53aGl0ZShgJHtwcm9ncmVzc30vJHt0b3RhbH1gKX0gJHtjaGFsay5ncmF5KGAoJHtwZXJjZW50YWdlfSUpYCl9YDtcbn1cblxuLyoqXG4gKiBGb3JtYXQgYSBzZWN1cml0eSB0b29scyBzdW1tYXJ5IG1lc3NhZ2UgZm9yIGRpc3BsYXkuXG4gKiBTaG93cyB0b29sa2l0IGNhcGFiaWxpdGllcyBhbmQgdG9vbCBkZXNjcmlwdGlvbnMgaW4gQ2xhdWRlIENvZGUgc3R5bGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXRTZWN1cmVUb29sc1N1bW1hcnkob3B0aW9ucz86IHtcbiAgc2hvd1RpdGxlPzogYm9vbGVhbjtcbiAgdG9vbHM/OiBBcnJheTx7IG5hbWU6IHN0cmluZzsgZGVzY3JpcHRpb246IHN0cmluZzsgc3RhdHVzPzogJ2FjdGl2ZScgfCAncmVhZHknIHwgJ2Rpc2FibGVkJyB9Pjtcbn0pOiBzdHJpbmcge1xuICBjb25zdCBsaW5lczogc3RyaW5nW10gPSBbXTtcbiAgY29uc3Qgc2hvd1RpdGxlID0gb3B0aW9ucz8uc2hvd1RpdGxlID8/IHRydWU7XG5cbiAgaWYgKHNob3dUaXRsZSkge1xuICAgIGxpbmVzLnB1c2goYCR7Y2hhbGsud2hpdGUoJ+KPuicpfSAke2NoYWxrLndoaXRlKCdBZGRlZCBuZXcgc2VjdXJpdHkgdG9vbHMgYW5kIGltcHJvdmVkJyl9YCk7XG4gICAgbGluZXMucHVzaChgICAke2NoYWxrLndoaXRlKCdleGlzdGluZyBvbmVzIGZvciBtb3JlIHZlcnNhdGlsZScpfWApO1xuICAgIGxpbmVzLnB1c2goYCAgJHtjaGFsay53aGl0ZSgnb3BlcmF0aW9ucy4nKX1gKTtcbiAgfVxuXG4gIGNvbnN0IGRlZmF1bHRUb29scyA9IFtcbiAgICB7IG5hbWU6ICdFeGVjdXRlJywgZGVzY3JpcHRpb246ICdzZWN1cmUgc2hlbGwgY29tbWFuZHMnLCBzdGF0dXM6ICdhY3RpdmUnIGFzIGNvbnN0IH0sXG4gICAgeyBuYW1lOiAnUHJvYmUnLCBkZXNjcmlwdGlvbjogJ3RhcmdldCBhbmFseXNpcycsIHN0YXR1czogJ2FjdGl2ZScgYXMgY29uc3QgfSxcbiAgICB7IG5hbWU6ICdTdGF0ZScsIGRlc2NyaXB0aW9uOiAnc2Vzc2lvbiBtYW5hZ2VtZW50Jywgc3RhdHVzOiAnYWN0aXZlJyBhcyBjb25zdCB9LFxuICBdO1xuXG4gIGNvbnN0IHRvb2xzID0gb3B0aW9ucz8udG9vbHMgfHwgZGVmYXVsdFRvb2xzO1xuXG4gIGNvbnN0IHRvb2xQYXJ0cyA9IHRvb2xzLm1hcCh0b29sID0+IHtcbiAgICBjb25zdCBzdGF0dXNJY29uID0gdG9vbC5zdGF0dXMgPT09ICdhY3RpdmUnID8gY2hhbGsuZ3JlZW4oJ+KXjycpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgdG9vbC5zdGF0dXMgPT09ICdyZWFkeScgPyBjaGFsay55ZWxsb3coJ+KXiycpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgY2hhbGsuZ3JheSgn4peLJyk7XG4gICAgcmV0dXJuIGAke3N0YXR1c0ljb259ICR7Y2hhbGsuY3lhbihgJyR7dG9vbC5uYW1lfSdgKX0gZm9yICR7Y2hhbGsud2hpdGUodG9vbC5kZXNjcmlwdGlvbil9YDtcbiAgfSk7XG5cbiAgaWYgKHRvb2xQYXJ0cy5sZW5ndGggPiAwKSB7XG4gICAgbGluZXMucHVzaChgICAke2NoYWxrLndoaXRlKFwiWW91IG5vdyBoYXZlXCIpfSAke3Rvb2xQYXJ0c1swXX0sYCk7XG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPCB0b29sUGFydHMubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICBsaW5lcy5wdXNoKGAgICR7dG9vbFBhcnRzW2ldfSxgKTtcbiAgICB9XG4gICAgaWYgKHRvb2xQYXJ0cy5sZW5ndGggPiAxKSB7XG4gICAgICBsaW5lcy5wdXNoKGAgICR7Y2hhbGsud2hpdGUoJ2FuZCcpfSAke3Rvb2xQYXJ0c1t0b29sUGFydHMubGVuZ3RoIC0gMV194oCUYCk7XG4gICAgfVxuICAgIGxpbmVzLnB1c2goYCAgJHtjaGFsay53aGl0ZSgnZWFjaCB3aXRoIGVuaGFuY2VkIG91dHB1dCBmb3JtYXR0aW5nLicpfWApO1xuICB9XG5cbiAgbGluZXMucHVzaChgICAke2NoYWxrLmdyYXkoJ1RoaXMgZXhwYW5kcyB5b3VyIHRvb2xraXRcXCdzIGNhcGFiaWxpdGllcycpfWApO1xuICBsaW5lcy5wdXNoKGAgICR7Y2hhbGsuZ3JheSgnd2hpbGUgbWFpbnRhaW5pbmcgc3RyaWN0IGlucHV0IHNhbml0aXphdGlvbicpfWApO1xuICBsaW5lcy5wdXNoKGAgICR7Y2hhbGsuZ3JheSgnYW5kIHNlY3VyaXR5LicpfWApO1xuICBsaW5lcy5wdXNoKGAgICR7Y2hhbGsuZ3JheSgnKHNyYy9jYXBhYmlsaXRpZXMvbWF4T2ZmZW5zaXZlVWtyYWluZUNhcGFiaWxpdHkudHMpJyl9YCk7XG5cbiAgcmV0dXJuIGxpbmVzLmpvaW4oJ1xcbicpO1xufVxuXG5jb25zdCBzZXZlcml0eUNvbG9yczogUmVjb3JkPHN0cmluZywgYW55PiA9IHtcbiAgY3JpdGljYWw6ICh0ZXh0OiBzdHJpbmcpID0+IGNoYWxrLmhleCgnI0ZGNkI2QicpKHRleHQpLCAvLyByZWRCcmlnaHRcbiAgaGlnaDogKHRleHQ6IHN0cmluZykgPT4gY2hhbGsuaGV4KCcjRkY1MjUyJykodGV4dCksIC8vIHJlZFxuICBtZWRpdW06ICh0ZXh0OiBzdHJpbmcpID0+IGNoYWxrLmhleCgnI0ZGRDkzRCcpKHRleHQpLCAvLyB5ZWxsb3dcbiAgbG93OiAodGV4dDogc3RyaW5nKSA9PiBjaGFsay5oZXgoJyM0RDk2RkYnKSh0ZXh0KSwgLy8gYmx1ZVxuICBpbmZvOiAodGV4dDogc3RyaW5nKSA9PiBjaGFsay5oZXgoJyNBQUFBQUEnKSh0ZXh0KSAvLyBncmF5XG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIENvbW1hbmRTdWdnZXN0aW9uIHtcbiAgY29tbWFuZDogc3RyaW5nO1xuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xuICBjYXRlZ29yeT86IHN0cmluZztcbn1cblxuLyoqXG4gKiBJbnRlcmFjdGl2ZSBtZW51IGl0ZW0gZm9yIENsYXVkZSBDb2RlIHN0eWxlIG1lbnVzLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIE1lbnVJdGVtIHtcbiAgLyoqIFVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGUgaXRlbSAqL1xuICBpZDogc3RyaW5nO1xuICAvKiogRGlzcGxheSBsYWJlbCAqL1xuICBsYWJlbDogc3RyaW5nO1xuICAvKiogT3B0aW9uYWwgZGVzY3JpcHRpb24gc2hvd24gdG8gdGhlIHJpZ2h0ICovXG4gIGRlc2NyaXB0aW9uPzogc3RyaW5nO1xuICAvKiogT3B0aW9uYWwgY2F0ZWdvcnkgZm9yIGdyb3VwaW5nICovXG4gIGNhdGVnb3J5Pzogc3RyaW5nO1xuICAvKiogV2hldGhlciBpdGVtIGlzIGRpc2FibGVkICovXG4gIGRpc2FibGVkPzogYm9vbGVhbjtcbiAgLyoqIFdoZXRoZXIgdGhpcyBpcyB0aGUgY3VycmVudC9hY3RpdmUgaXRlbSAqL1xuICBpc0FjdGl2ZT86IGJvb2xlYW47XG59XG5cbnR5cGUgQ2Fub25pY2FsRXZlbnRUeXBlID0gJ3Byb21wdCcgfCAndGhvdWdodCcgfCAnc3RyZWFtJyB8ICd0b29sJyB8ICd0b29sLXJlc3VsdCcgfCAnYnVpbGQnIHwgJ3Rlc3QnIHwgJ3Jlc3BvbnNlJztcblxuZXhwb3J0IHR5cGUgUmVuZGVyZXJFdmVudFR5cGUgPVxuICB8IENhbm9uaWNhbEV2ZW50VHlwZVxuICB8ICdyYXcnXG4gIHwgJ2Jhbm5lcidcbiAgfCAnZXJyb3InXG4gIHwgJ3N0cmVhbWluZydcbiAgfCAndG9vbC1jYWxsJ1xuICB8ICd0b29sLXJlc3VsdCdcbiAgfCAnc3lzdGVtJztcblxudHlwZSBVSUV2ZW50ID0ge1xuICB0eXBlOiBDYW5vbmljYWxFdmVudFR5cGU7XG4gIHJhd1R5cGU6IFJlbmRlcmVyRXZlbnRUeXBlO1xuICBjb250ZW50OiBzdHJpbmc7XG4gIHRpbWVzdGFtcDogbnVtYmVyO1xuICBpc0NvbXBhY3RlZD86IGJvb2xlYW47IC8vIENsYXVkZSBDb2RlIHN0eWxlIGNvbXBhY3QgY29udmVyc2F0aW9uIGJsb2NrXG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIFVuaWZpZWRVSVJlbmRlcmVyT3B0aW9ucyB7XG4gIGRlYnVnPzogYm9vbGVhbjtcbn1cblxudHlwZSBJbnB1dENoYW5nZUV2ZW50ID0ge1xuICB0ZXh0OiBzdHJpbmc7XG4gIGN1cnNvcjogbnVtYmVyO1xufTtcblxuaW50ZXJmYWNlIE1vZGVUb2dnbGVTdGF0ZSB7XG4gIGF1dG9Db250aW51ZUVuYWJsZWQ/OiBib29sZWFuO1xuICBhdXRvQ29udGludWVIb3RrZXk/OiBzdHJpbmc7XG4gIHRoaW5raW5nTW9kZUxhYmVsPzogc3RyaW5nIHwgbnVsbDtcbiAgdGhpbmtpbmdIb3RrZXk/OiBzdHJpbmc7XG4gIGNyaXRpY2FsQXBwcm92YWxNb2RlPzogJ2F1dG8nIHwgJ2FwcHJvdmFsJztcbiAgY3JpdGljYWxBcHByb3ZhbEhvdGtleT86IHN0cmluZztcbiAgYWxwaGFaZXJvRW5hYmxlZD86IGJvb2xlYW47ICAvLyB0cnVlID0gZHVhbCB0b3VybmFtZW50IFJMLCBmYWxzZSA9IG5vcm1hbCBzaW5nbGUgbW9kZVxuICBhbHBoYVplcm9Ib3RrZXk/OiBzdHJpbmc7XG4gIGRlYnVnRW5hYmxlZD86IGJvb2xlYW47XG4gIGRlYnVnSG90a2V5Pzogc3RyaW5nO1xufVxuXG4vKipcbiAqIFJMIGFnZW50IGV4ZWN1dGlvbiBzdGF0dXMgZm9yIHJlYWwtdGltZSBkaXNwbGF5IGR1cmluZyBkdWFsLVJMIG1vZGUuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUkxBZ2VudFN0YXR1cyB7XG4gIC8qKiBDdXJyZW50IGFjdGl2ZSB2YXJpYW50IGJlaW5nIGV4ZWN1dGVkICovXG4gIGFjdGl2ZVZhcmlhbnQ/OiAncHJpbWFyeScgfCAncmVmaW5lcicgfCBudWxsO1xuICAvKiogQ3VycmVudCBtb2R1bGUgYmVpbmcgcHJvY2Vzc2VkICovXG4gIGN1cnJlbnRNb2R1bGU/OiBzdHJpbmc7XG4gIC8qKiBDdXJyZW50IHN0ZXAgd2l0aGluIHRoZSBtb2R1bGUgKi9cbiAgY3VycmVudFN0ZXA/OiBzdHJpbmc7XG4gIC8qKiBXaW4gc3RhdGlzdGljcyBmb3IgcHJpbWFyeSB2cyByZWZpbmVyICovXG4gIHdpbnM/OiB7IHByaW1hcnk6IG51bWJlcjsgcmVmaW5lcjogbnVtYmVyOyB0aWVzOiBudW1iZXIgfTtcbiAgLyoqIEN1cnJlbnQgcmV3YXJkIHNjb3JlcyBpZiBhdmFpbGFibGUgKi9cbiAgc2NvcmVzPzogeyBwcmltYXJ5PzogbnVtYmVyOyByZWZpbmVyPzogbnVtYmVyIH07XG4gIC8qKiBIdW1hbi1hY2N1cmFjeSBzdHlsZSBzY29yZXMgKDAtMSkgKi9cbiAgYWNjdXJhY3k/OiB7IHByaW1hcnk/OiBudW1iZXI7IHJlZmluZXI/OiBudW1iZXIgfTtcbiAgLyoqIFdoZXRoZXIgdmFyaWFudHMgYXJlIHJ1bm5pbmcgaW4gcGFyYWxsZWwgKi9cbiAgcGFyYWxsZWxFeGVjdXRpb24/OiBib29sZWFuO1xuICAvKiogVG90YWwgc3RlcHMgY29tcGxldGVkICovXG4gIHN0ZXBzQ29tcGxldGVkPzogbnVtYmVyO1xuICAvKiogVG90YWwgc3RlcHMgdG8gcHJvY2VzcyAqL1xuICB0b3RhbFN0ZXBzPzogbnVtYmVyO1xuICAvKiogTGFzdCBzdGVwIHdpbm5lciBmb3IgY2VsZWJyYXRpb24gKi9cbiAgbGFzdFdpbm5lcj86ICdwcmltYXJ5JyB8ICdyZWZpbmVyJyB8ICd0aWUnIHwgbnVsbDtcbiAgLyoqIFN0cmVhayBjb3VudCBmb3IgY3VycmVudCBsZWFkZXIgKi9cbiAgc3RyZWFrPzogbnVtYmVyO1xufVxuXG4vKipcbiAqIEF0dGFjayBvcGVyYXRpb24gc3RhdHVzIGZvciByZWFsLXRpbWUgZGlzcGxheSBkdXJpbmcgb2ZmZW5zaXZlIHNlY3VyaXR5IG9wZXJhdGlvbnMuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQXR0YWNrU3RhdHVzIHtcbiAgLyoqIEN1cnJlbnQgYXR0YWNrIHBoYXNlICovXG4gIHBoYXNlPzogJ3JlY29uJyB8ICdzY2FubmluZycgfCAnZXhwbG9pdGF0aW9uJyB8ICdwZXJzaXN0ZW5jZScgfCAnZXhmaWx0cmF0aW9uJyB8ICdkZXN0cnVjdGlvbic7XG4gIC8qKiBDdXJyZW50IHRhcmdldCBiZWluZyBhdHRhY2tlZCAqL1xuICBjdXJyZW50VGFyZ2V0Pzogc3RyaW5nO1xuICAvKiogTnVtYmVyIG9mIHRhcmdldHMgYWNxdWlyZWQgKi9cbiAgdGFyZ2V0c0FjcXVpcmVkPzogbnVtYmVyO1xuICAvKiogTnVtYmVyIG9mIHZ1bG5lcmFiaWxpdGllcyBmb3VuZCAqL1xuICB2dWxuZXJhYmlsaXRpZXNGb3VuZD86IG51bWJlcjtcbiAgLyoqIE51bWJlciBvZiBzdWNjZXNzZnVsIGV4cGxvaXRzICovXG4gIGV4cGxvaXRzU3VjY2Vzc2Z1bD86IG51bWJlcjtcbiAgLyoqIFBlcnNpc3RlbmNlIG1lY2hhbmlzbXMgZXN0YWJsaXNoZWQgKi9cbiAgcGVyc2lzdGVuY2VFc3RhYmxpc2hlZD86IG51bWJlcjtcbiAgLyoqIERhdGEgZXhmaWx0cmF0ZWQgKE1CKSAqL1xuICBkYXRhRXhmaWx0cmF0ZWQ/OiBudW1iZXI7XG4gIC8qKiBJbmZyYXN0cnVjdHVyZSBjb21wcm9taXNlZCBjb3VudCAqL1xuICBpbmZyYXN0cnVjdHVyZUNvbXByb21pc2VkPzogbnVtYmVyO1xuICAvKiogUmVhbC10aW1lIG1vbml0b3JpbmcgYWN0aXZlICovXG4gIG1vbml0b3JpbmdBY3RpdmU/OiBib29sZWFuO1xuICAvKiogQ3VycmVudCBhdHRhY2sgbW9kZSAqL1xuICBhdHRhY2tNb2RlPzogJ3JlY29uJyB8ICdhdHRhY2snIHwgJ2V4cGxvaXQnIHwgJ3BlcnNpc3RlbmNlJyB8ICdjMicgfCAnZGVzdHJ1Y3Rpb24nO1xuICAvKiogQXR0YWNrIHN1Y2Nlc3MgcmF0ZSBwZXJjZW50YWdlICovXG4gIHN1Y2Nlc3NSYXRlPzogbnVtYmVyO1xuICAvKiogTGFzdCBhdHRhY2sgcmVzdWx0ICovXG4gIGxhc3RSZXN1bHQ/OiAnc3VjY2VzcycgfCAnZmFpbHVyZScgfCAncGFydGlhbCc7XG4gIC8qKiBBY3RpdmUgYXR0YWNrIG1vZHVsZXMgKi9cbiAgYWN0aXZlTW9kdWxlcz86IHN0cmluZ1tdO1xuICAvKiogVGltZSBzaW5jZSBhdHRhY2sgc3RhcnRlZCAqL1xuICBhdHRhY2tEdXJhdGlvbj86IG51bWJlcjtcbn1cblxuLyoqXG4gKiBTZWN1cml0eSB0b29scyBzdGF0dXMgZm9yIHJlYWwtdGltZSBkaXNwbGF5IG9mIHNlY3VyZSBUQU8gdG9vbHMuXG4gKiBUcmFja3MgRXhlY3V0ZSwgUHJvYmUsIFN0YXRlIHRvb2xzIHdpdGggZW5oYW5jZWQgb3V0cHV0IGZvcm1hdHRpbmcuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU2VjdXJlVG9vbHNTdGF0dXMge1xuICAvKiogRXhlY3V0ZSB0b29sIC0gc2VjdXJlIHNoZWxsIGNvbW1hbmQgc3RhdHVzICovXG4gIGV4ZWN1dGU/OiB7XG4gICAgYWN0aXZlOiBib29sZWFuO1xuICAgIGxhc3RDb21tYW5kPzogc3RyaW5nO1xuICAgIGxhc3RFeGl0Q29kZT86IG51bWJlcjtcbiAgICBleGVjQ291bnQ/OiBudW1iZXI7XG4gIH07XG4gIC8qKiBQcm9iZSB0b29sIC0gdGFyZ2V0IGFuYWx5c2lzIHN0YXR1cyAqL1xuICBwcm9iZT86IHtcbiAgICBhY3RpdmU6IGJvb2xlYW47XG4gICAgbGFzdFRhcmdldD86IHN0cmluZztcbiAgICBzZXJ2aWNlc0ZvdW5kPzogbnVtYmVyO1xuICAgIHByb2JlQ291bnQ/OiBudW1iZXI7XG4gIH07XG4gIC8qKiBTdGF0ZSB0b29sIC0gc2Vzc2lvbiBtYW5hZ2VtZW50IHN0YXR1cyAqL1xuICBzdGF0ZT86IHtcbiAgICBhY3RpdmU6IGJvb2xlYW47XG4gICAga2V5c1N0b3JlZD86IG51bWJlcjtcbiAgICBsYXN0QWN0aW9uPzogJ2dldCcgfCAnc2V0JztcbiAgICBwZXJzaXN0ZW50PzogYm9vbGVhbjtcbiAgfTtcbiAgLyoqIE92ZXJhbGwgdG9vbGtpdCBzdGF0dXMgKi9cbiAgdG9vbGtpdFJlYWR5PzogYm9vbGVhbjtcbiAgLyoqIElucHV0IHNhbml0aXphdGlvbiBhY3RpdmUgKi9cbiAgc2FuaXRpemF0aW9uQWN0aXZlPzogYm9vbGVhbjtcbiAgLyoqIExhc3QgdG9vbCB1c2VkICovXG4gIGxhc3RUb29sVXNlZD86ICdFeGVjdXRlJyB8ICdQcm9iZScgfCAnU3RhdGUnIHwgJ1RyYW5zZm9ybScgfCAnVGFvT3BzJyB8IG51bGw7XG4gIC8qKiBUb3RhbCB0b29sIGludm9jYXRpb25zIHRoaXMgc2Vzc2lvbiAqL1xuICB0b3RhbEludm9jYXRpb25zPzogbnVtYmVyO1xufVxuXG5jb25zdCBFU0MgPSB7XG4gIEhJREVfQ1VSU09SOiAnXFx4MWJbPzI1bCcsXG4gIFNIT1dfQ1VSU09SOiAnXFx4MWJbPzI1aCcsXG4gIENMRUFSX1NDUkVFTjogJ1xceDFiWzJKJyxcbiAgQ0xFQVJfTElORTogJ1xceDFiWzJLJyxcbiAgSE9NRTogJ1xceDFiW0gnLFxuICBFTkFCTEVfQlJBQ0tFVEVEX1BBU1RFOiAnXFx4MWJbPzIwMDRoJyxcbiAgRElTQUJMRV9CUkFDS0VURURfUEFTVEU6ICdcXHgxYls/MjAwNGwnLFxuICBUTzogKHJvdzogbnVtYmVyLCBjb2w6IG51bWJlcikgPT4gYFxceDFiWyR7cm93fTske2NvbH1IYCxcbiAgVE9fQ09MOiAoY29sOiBudW1iZXIpID0+IGBcXHgxYlske2NvbH1HYCxcbiAgRVJBU0VfRE9XTjogJ1xceDFiW0onLFxuICBSRVZFUlNFOiAnXFx4MWJbN20nLFxuICBSRVNFVDogJ1xceDFiWzBtJyxcbiAgLy8gU2Nyb2xsIHJlZ2lvbiBjb250cm9sIC0gQ1JJVElDQUwgZm9yIGZpeGVkIGJvdHRvbSBvdmVybGF5XG4gIFNFVF9TQ1JPTExfUkVHSU9OOiAodG9wOiBudW1iZXIsIGJvdHRvbTogbnVtYmVyKSA9PiBgXFx4MWJbJHt0b3B9OyR7Ym90dG9tfXJgLFxuICBSRVNFVF9TQ1JPTExfUkVHSU9OOiAnXFx4MWJbcicsXG4gIFNBVkVfQ1VSU09SOiAnXFx4MWJbcycsXG4gIFJFU1RPUkVfQ1VSU09SOiAnXFx4MWJbdScsXG59IGFzIGNvbnN0O1xuXG5jb25zdCBORVdMSU5FX1BMQUNFSE9MREVSID0gJ+KGtSc7XG5cbmV4cG9ydCBjbGFzcyBVbmlmaWVkVUlSZW5kZXJlciBleHRlbmRzIEV2ZW50RW1pdHRlciB7XG4gIHByaXZhdGUgcmVhZG9ubHkgb3V0cHV0OiBOb2RlSlMuV3JpdGVTdHJlYW07XG4gIHByaXZhdGUgcmVhZG9ubHkgaW5wdXQ6IE5vZGVKUy5SZWFkU3RyZWFtO1xuICBwcml2YXRlIHJlYWRvbmx5IHJsOiByZWFkbGluZS5JbnRlcmZhY2U7XG4gIHByaXZhdGUgcmVhZG9ubHkgcGxhaW5Nb2RlOiBib29sZWFuO1xuICBwcml2YXRlIHJlYWRvbmx5IGludGVyYWN0aXZlOiBib29sZWFuO1xuXG4gIHByaXZhdGUgcm93cyA9IDI0O1xuICBwcml2YXRlIGNvbHMgPSA4MDtcbiAgcHJpdmF0ZSBsYXN0UmVuZGVyV2lkdGg6IG51bWJlciB8IG51bGwgPSBudWxsO1xuXG4gIHByaXZhdGUgZXZlbnRRdWV1ZTogVUlFdmVudFtdID0gW107XG4gIHByaXZhdGUgaXNQcm9jZXNzaW5nUXVldWUgPSBmYWxzZTtcblxuICBwcml2YXRlIGJ1ZmZlciA9ICcnO1xuICBwcml2YXRlIGN1cnNvciA9IDA7XG4gIHByaXZhdGUgaGlzdG9yeTogc3RyaW5nW10gPSBbXTtcbiAgcHJpdmF0ZSBoaXN0b3J5SW5kZXggPSAtMTtcbiAgcHJpdmF0ZSBzdWdnZXN0aW9uczogeyBjb21tYW5kOiBzdHJpbmc7IGRlc2NyaXB0aW9uOiBzdHJpbmc7IGNhdGVnb3J5Pzogc3RyaW5nIH1bXSA9IFtdO1xuICBwcml2YXRlIHN1Z2dlc3Rpb25JbmRleCA9IC0xO1xuICBwcml2YXRlIGF2YWlsYWJsZUNvbW1hbmRzOiB0eXBlb2YgdGhpcy5zdWdnZXN0aW9ucyA9IFtdO1xuICBwcml2YXRlIGhvdGtleXNJblRvZ2dsZUxpbmU6IFNldDxzdHJpbmc+ID0gbmV3IFNldCgpO1xuICBwcml2YXRlIGNvbGxhcHNlZFBhc3RlOiB7IHRleHQ6IHN0cmluZzsgbGluZXM6IG51bWJlcjsgY2hhcnM6IG51bWJlciB9IHwgbnVsbCA9IG51bGw7XG5cbiAgcHJpdmF0ZSBtb2RlOiAnaWRsZScgfCAnc3RyZWFtaW5nJyA9ICdpZGxlJztcbiAgLyoqIFF1ZXVlIGZvciBpbnB1dCByZWNlaXZlZCBkdXJpbmcgc3RyZWFtaW5nIC0gcHJvY2Vzc2VkIGFmdGVyIHN0cmVhbWluZyBlbmRzICovXG4gIHByaXZhdGUgc3RyZWFtaW5nSW5wdXRRdWV1ZTogc3RyaW5nW10gPSBbXTtcbiAgLyoqIEJ1ZmZlciB0byBhY2N1bXVsYXRlIHN0cmVhbWluZyBjb250ZW50IGZvciBwb3N0LXByb2Nlc3NpbmcgKi9cbiAgcHJpdmF0ZSBzdHJlYW1pbmdDb250ZW50QnVmZmVyOiBzdHJpbmcgPSAnJztcbiAgLyoqIFRyYWNrIGxpbmVzIHdyaXR0ZW4gZHVyaW5nIHN0cmVhbWluZyBmb3IgcG90ZW50aWFsIHJlZm9ybWF0ICovXG4gIHByaXZhdGUgc3RyZWFtaW5nTGluZXNXcml0dGVuOiBudW1iZXIgPSAwO1xuICBwcml2YXRlIGxhc3RUb29sUmVzdWx0OiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgLyoqIFN0YWNrIG9mIGNvbGxhcHNlZCB0b29sIHJlc3VsdHMgZm9yIEN0cmwrTyBleHBhbnNpb24gKi9cbiAgcHJpdmF0ZSBjb2xsYXBzZWRUb29sUmVzdWx0czogQXJyYXk8e1xuICAgIHRvb2xOYW1lOiBzdHJpbmc7XG4gICAgY29udGVudDogc3RyaW5nO1xuICAgIHN1bW1hcnk6IHN0cmluZztcbiAgICB0aW1lc3RhbXA6IG51bWJlcjtcbiAgfT4gPSBbXTtcbiAgcHJpdmF0ZSByZWFkb25seSBtYXhDb2xsYXBzZWRSZXN1bHRzID0gNTA7XG4gIC8qKiBUcmFjayB0aGUgbGFzdCB0b29sIG5hbWUgZm9yIHBhaXJpbmcgd2l0aCByZXN1bHRzICovXG4gIHByaXZhdGUgbGFzdFRvb2xOYW1lOiBzdHJpbmcgPSAnJztcbiAgcHJpdmF0ZSBzdHJlYW1pbmdTdGFydFRpbWU6IG51bWJlciB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIHN0YXR1c01lc3NhZ2U6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIHN0YXR1c092ZXJyaWRlOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBzdGF0dXNTdHJlYW1pbmc6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuXG4gIC8vIEFuaW1hdGVkIFVJIGNvbXBvbmVudHNcbiAgcHJpdmF0ZSBzdHJlYW1pbmdTcGlubmVyOiBBbmltYXRlZFNwaW5uZXIgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSB0aGlua2luZ0luZGljYXRvcjogVGhpbmtpbmdJbmRpY2F0b3IgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBjb250ZXh0TWV0ZXI6IENvbnRleHRNZXRlcjtcbiAgcHJpdmF0ZSBzcGlubmVyRnJhbWUgPSAwO1xuICBwcml2YXRlIHNwaW5uZXJJbnRlcnZhbDogTm9kZUpTLlRpbWVvdXQgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSByZWFkb25seSBtYXhJbmxpbmVQYW5lbExpbmVzID0gMTI7XG5cbiAgLy8gQ29tcGFjdGluZyBzdGF0dXMgYW5pbWF0aW9uXG4gIHByaXZhdGUgY29tcGFjdGluZ1N0YXR1c01lc3NhZ2UgPSAnJztcbiAgcHJpdmF0ZSBjb21wYWN0aW5nU3RhdHVzRnJhbWUgPSAwO1xuICBwcml2YXRlIGNvbXBhY3RpbmdTdGF0dXNJbnRlcnZhbDogTm9kZUpTLlRpbWVvdXQgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSByZWFkb25seSBjb21wYWN0aW5nU3Bpbm5lckZyYW1lcyA9IFsn4py7JywgJ+KcvCcsICfinLsnLCAn4py6J107XG5cbiAgLy8gQW5pbWF0ZWQgYWN0aXZpdHkgbGluZSAoZS5nLiwgXCLinLMgUnVtaW5hdGluZ+KApiAoZXNjIHRvIGludGVycnVwdCDCtyAzNHMgwrcg4oaRMS4yaylcIilcbiAgcHJpdmF0ZSBhY3Rpdml0eU1lc3NhZ2U6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIGFjdGl2aXR5UGhyYXNlSW5kZXggPSAwO1xuICBwcml2YXRlIGFjdGl2aXR5U3RhckZyYW1lID0gMDtcbiAgcHJpdmF0ZSByZWFkb25seSBhY3Rpdml0eVN0YXJGcmFtZXMgPSBbJ+KcsycsICfinLQnLCAn4py1JywgJ+KcticsICfinLcnLCAn4py4J107XG4gIC8vIFRva2VuIGNvdW50IGR1cmluZyBzdHJlYW1pbmdcbiAgcHJpdmF0ZSBzdHJlYW1pbmdUb2tlbnMgPSAwO1xuICAvLyBFbGFwc2VkIHRpbWUgY29sb3IgYW5pbWF0aW9uXG4gIHByaXZhdGUgZWxhcHNlZENvbG9yRnJhbWUgPSAwO1xuICBwcml2YXRlIHJlYWRvbmx5IGVsYXBzZWRDb2xvckZyYW1lcyA9IFsnI0Y1OUUwQicsICcjRkJCRjI0JywgJyNGQ0QzNEQnLCAnI0ZERTY4QScsICcjRkNEMzREJywgJyNGQkJGMjQnXTtcbiAgLy8gVXNlci1mcmllbmRseSBhY3Rpdml0eSBwaHJhc2VzIChjbGVhbiwgcHJvZmVzc2lvbmFsKVxuICBwcml2YXRlIHJlYWRvbmx5IGZ1bkFjdGl2aXR5UGhyYXNlcyA9IFtcbiAgICAnVGhpbmtpbmcnLCAnUHJvY2Vzc2luZycsICdBbmFseXppbmcnLCAnV29ya2luZycsICdQcmVwYXJpbmcnLFxuICBdO1xuICBwcml2YXRlIHJlYWRvbmx5IG1heEN1cmF0ZWRSZWFzb25pbmdMaW5lcyA9IDg7XG4gIHByaXZhdGUgcmVhZG9ubHkgbWF4Q3VyYXRlZFJlYXNvbmluZ0NoYXJzID0gMTgwMDtcbiAgcHJpdmF0ZSByZWFkb25seSB0aG91Z2h0RGVkdXBXaW5kb3dNcyA9IDE1MDAwO1xuICBwcml2YXRlIGxhc3RDdXJhdGVkVGhvdWdodDogeyB0ZXh0OiBzdHJpbmc7IGF0OiBudW1iZXIgfSB8IG51bGwgPSBudWxsO1xuXG4gIHByaXZhdGUgc3RhdHVzTWV0YToge1xuICAgIG1vZGVsPzogc3RyaW5nO1xuICAgIHByb3ZpZGVyPzogc3RyaW5nO1xuICAgIHNlc3Npb25UaW1lPzogc3RyaW5nO1xuICAgIGNvbnRleHRQZXJjZW50PzogbnVtYmVyO1xuICAgIHByb2ZpbGU/OiBzdHJpbmc7XG4gICAgd29ya3NwYWNlPzogc3RyaW5nO1xuICAgIGRpcmVjdG9yeT86IHN0cmluZztcbiAgICB3cml0ZXM/OiBzdHJpbmc7XG4gICAgc2Vzc2lvbkxhYmVsPzogc3RyaW5nO1xuICAgIHRoaW5raW5nTGFiZWw/OiBzdHJpbmc7XG4gICAgYXV0b3NhdmU/OiBib29sZWFuO1xuICAgIHZlcnNpb24/OiBzdHJpbmc7XG4gICAgdG9vbFN1bW1hcnk/OiBzdHJpbmc7XG4gIH0gPSB7fTtcbiAgcHJpdmF0ZSB0b2dnbGVTdGF0ZTogTW9kZVRvZ2dsZVN0YXRlID0ge1xuICAgIGF1dG9Db250aW51ZUVuYWJsZWQ6IGZhbHNlLFxuICAgIGNyaXRpY2FsQXBwcm92YWxNb2RlOiAnYXV0bycsXG4gICAgYWxwaGFaZXJvRW5hYmxlZDogZmFsc2UsICAvLyBOb3JtYWwgbW9kZSBieSBkZWZhdWx0LCB0b2dnbGUgZm9yIEFscGhhWmVybyBkdWFsIHRvdXJuYW1lbnQgUkxcbiAgICBkZWJ1Z0VuYWJsZWQ6IGZhbHNlLFxuICB9O1xuXG4gIC8qKiBSTCBhZ2VudCBleGVjdXRpb24gc3RhdHVzIGZvciBkdWFsLVJMIG1vZGUgZGlzcGxheSAqL1xuICBwcml2YXRlIHJsU3RhdHVzOiBSTEFnZW50U3RhdHVzID0ge307XG5cbiAgLyoqIFNlY3VyZSBUQU8gdG9vbHMgc3RhdHVzIGZvciByZWFsLXRpbWUgZGlzcGxheSAqL1xuICBwcml2YXRlIHNlY3VyZVRvb2xzU3RhdHVzOiBTZWN1cmVUb29sc1N0YXR1cyA9IHtcbiAgICB0b29sa2l0UmVhZHk6IHRydWUsXG4gICAgc2FuaXRpemF0aW9uQWN0aXZlOiB0cnVlLFxuICAgIHRvdGFsSW52b2NhdGlvbnM6IDAsXG4gIH07XG5cbiAgLy8gLS0tLS0tLS0tLS0tIEhlbHBlcnMgLS0tLS0tLS0tLS0tXG5cbiAgLyoqIEVuc3VyZSBjdXJzb3IgaXMgYWx3YXlzIHdpdGhpbiB2YWxpZCBib3VuZHMgZm9yIHRoZSBjdXJyZW50IGJ1ZmZlciAqL1xuICBwcml2YXRlIGNsYW1wQ3Vyc29yKCk6IHZvaWQge1xuICAgIHRoaXMuY3Vyc29yID0gTWF0aC5tYXgoMCwgTWF0aC5taW4odGhpcy5jdXJzb3IsIHRoaXMuYnVmZmVyLmxlbmd0aCkpO1xuICB9XG5cbiAgLyoqIFNhZmVseSBhcHBlbmQgdG8gcGFzdGUgYnVmZmVyIHdpdGggc2l6ZSBsaW1pdCBlbmZvcmNlbWVudCAqL1xuICBwcml2YXRlIGFwcGVuZFRvUGFzdGVCdWZmZXIoYnVmZmVyOiAncGFzdGUnIHwgJ3BsYWluUGFzdGUnLCB0ZXh0OiBzdHJpbmcpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5wYXN0ZUJ1ZmZlck92ZXJmbG93KSByZXR1cm47IC8vIEFscmVhZHkgYXQgbGltaXRcbiAgICBjb25zdCBjdXJyZW50ID0gYnVmZmVyID09PSAncGFzdGUnID8gdGhpcy5wYXN0ZUJ1ZmZlciA6IHRoaXMucGxhaW5QYXN0ZUJ1ZmZlcjtcbiAgICBjb25zdCByZW1haW5pbmcgPSB0aGlzLm1heFBhc3RlQnVmZmVyU2l6ZSAtIGN1cnJlbnQubGVuZ3RoO1xuICAgIGlmIChyZW1haW5pbmcgPD0gMCkge1xuICAgICAgdGhpcy5wYXN0ZUJ1ZmZlck92ZXJmbG93ID0gdHJ1ZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgdG9BZGQgPSB0ZXh0Lmxlbmd0aCA8PSByZW1haW5pbmcgPyB0ZXh0IDogdGV4dC5zbGljZSgwLCByZW1haW5pbmcpO1xuICAgIGlmIChidWZmZXIgPT09ICdwYXN0ZScpIHtcbiAgICAgIHRoaXMucGFzdGVCdWZmZXIgKz0gdG9BZGQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucGxhaW5QYXN0ZUJ1ZmZlciArPSB0b0FkZDtcbiAgICB9XG4gICAgaWYgKHRvQWRkLmxlbmd0aCA8IHRleHQubGVuZ3RoKSB7XG4gICAgICB0aGlzLnBhc3RlQnVmZmVyT3ZlcmZsb3cgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIC8qKiBTdHJpcCBBTlNJIGVzY2FwZSBzZXF1ZW5jZXMgYW5kIHNwZWNpYWwgZm9ybWF0dGluZyBmcm9tIHRleHQgdG8gZ2V0IGNsZWFuIHBsYWludGV4dCAqL1xuICBwcml2YXRlIHNhbml0aXplUGFzdGVDb250ZW50KHRleHQ6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgaWYgKCF0ZXh0KSByZXR1cm4gJyc7XG4gICAgXG4gICAgLy8gUmVtb3ZlIGFsbCBBTlNJIGVzY2FwZSBzZXF1ZW5jZXMgKENTSSwgT1NDLCBldGMuKVxuICAgIC8vIEluY2x1ZGluZyBicmFja2V0ZWQgcGFzdGUgbWFya2VycyAoXFx4MWJbMjAwfiBhbmQgXFx4MWJbMjAxfikgd2hpY2ggZW5kIHdpdGggflxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb250cm9sLXJlZ2V4XG4gICAgbGV0IHNhbml0aXplZCA9IHRleHQucmVwbGFjZSgvXFx4MWJcXFtbMC05O10qW0EtWmEten5dfFxceDFiXFxdW15cXHgwN10qXFx4MDd8XFx4MWJbUFheX11bXlxceDFiXSpcXHgxYlxcXFx8XFx4MWIuL2csICcnKTtcbiAgICAvLyBBbHNvIHJlbW92ZSBwYXJ0aWFsIGJyYWNrZXRlZCBwYXN0ZSBtYXJrZXJzIHRoYXQgbWF5IGhhdmUgbGVha2VkIChlLmcuLCBcIlsyMDB+XCIgd2l0aG91dCBFU0MpXG4gICAgc2FuaXRpemVkID0gc2FuaXRpemVkLnJlcGxhY2UoL1xcWzIwWzAxXX4vZywgJycpO1xuICAgIC8vIFJlbW92ZSBhbnkgc3RyYXkgZXNjYXBlIGNoYXJhY3RlciBhdCBzdGFydC9lbmRcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29udHJvbC1yZWdleFxuICAgIHNhbml0aXplZCA9IHNhbml0aXplZC5yZXBsYWNlKC9eXFx4MWIrfFxceDFiKyQvZywgJycpO1xuXG4gICAgLy8gU3RyaXAgc3BlY2lhbCBmb3JtYXR0aW5nIGNoYXJhY3RlcnMgZm9yIGNsZWFuIHBsYWludGV4dDpcbiAgICAvLyAtIFplcm8td2lkdGggY2hhcmFjdGVycyAoWldTUCwgWldOSiwgWldKLCBCT00vWldOQlNQKVxuICAgIC8vIC0gV29yZCBqb2luZXIsIGludmlzaWJsZSBzZXBhcmF0b3IsIGludmlzaWJsZSB0aW1lcy9wbHVzXG4gICAgLy8gLSBEaXJlY3Rpb25hbCBmb3JtYXR0aW5nIChMUk0sIFJMTSwgTFJFLCBSTEUsIExSTywgUkxPLCBQREYsIExSSSwgUkxJLCBGU0ksIFBESSlcbiAgICAvLyAtIE9iamVjdCByZXBsYWNlbWVudCBjaGFyYWN0ZXJcbiAgICAvLyAtIFNvZnQgaHlwaGVuXG4gICAgLy8gLSBOb24tYnJlYWtpbmcgc3BhY2UgdmFyaWFudHMgKE5CU1AsIG5hcnJvdyBOQlNQLCBmaWd1cmUgc3BhY2UsIGV0Yy4pXG4gICAgc2FuaXRpemVkID0gc2FuaXRpemVkLnJlcGxhY2UoL1tcXHUyMDBCLVxcdTIwMEZcXHUyMDI4LVxcdTIwMkZcXHUyMDYwLVxcdTIwNkZcXHVGRUZGXFx1MDBBRFxcdUZGRkNdL2csICcnKTtcblxuICAgIC8vIE5vcm1hbGl6ZSB2YXJpb3VzIHNwYWNlIGNoYXJhY3RlcnMgdG8gcmVndWxhciBzcGFjZVxuICAgIC8vIEluY2x1ZGVzOiBOQlNQLCBlbi9lbSBzcGFjZSwgdGhpbiBzcGFjZSwgaGFpciBzcGFjZSwgZmlndXJlIHNwYWNlLCBldGMuXG4gICAgc2FuaXRpemVkID0gc2FuaXRpemVkLnJlcGxhY2UoL1tcXHUwMEEwXFx1MjAwMC1cXHUyMDBBXFx1MjAyRlxcdTIwNUZcXHUzMDAwXS9nLCAnICcpO1xuXG4gICAgLy8gUmVtb3ZlIGNvbnRyb2wgY2hhcmFjdGVycyBleGNlcHQgdGFiLCBuZXdsaW5lLCBjYXJyaWFnZSByZXR1cm5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29udHJvbC1yZWdleFxuICAgIHNhbml0aXplZCA9IHNhbml0aXplZC5yZXBsYWNlKC9bXFx4MDAtXFx4MDhcXHgwQlxceDBDXFx4MEUtXFx4MUZcXHg3Rl0vZywgJycpO1xuXG4gICAgcmV0dXJuIHNhbml0aXplZDtcbiAgfVxuXG4gIHByaXZhdGUgZm9ybWF0SG90a2V5KGNvbWJvPzogc3RyaW5nKTogc3RyaW5nIHwgbnVsbCB7XG4gICAgaWYgKCFjb21ibz8udHJpbSgpKSByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4gY29tYm8udHJpbSgpLnRvVXBwZXJDYXNlKCk7XG4gIH1cblxuICBwcml2YXRlIGxhc3RQcm9tcHRFdmVudDogeyB0ZXh0OiBzdHJpbmc7IGF0OiBudW1iZXIgfSB8IG51bGwgPSBudWxsO1xuXG4gIHByaXZhdGUgcHJvbXB0SGVpZ2h0ID0gMDtcbiAgcHJpdmF0ZSBsYXN0T3ZlcmxheUhlaWdodCA9IDA7XG4gIHByaXZhdGUgaW5saW5lUGFuZWw6IHN0cmluZ1tdID0gW107XG4gIHByaXZhdGUgaGFzQ29udmVyc2F0aW9uQ29udGVudCA9IGZhbHNlO1xuICBwcml2YXRlIGlzUHJvbXB0QWN0aXZlID0gZmFsc2U7XG4gIHByaXZhdGUgaW5wdXRSZW5kZXJPZmZzZXQgPSAwO1xuICBwcml2YXRlIHJlYWRvbmx5IHBsYWluUGFzdGVJZGxlTXMgPSA4MDsgLy8gSW5jcmVhc2VkIGZvciBtb3JlIHJvYnVzdCBtdWx0aS1saW5lIHBhc3RlIGRldGVjdGlvblxuICBwcml2YXRlIHJlYWRvbmx5IHBsYWluUGFzdGVXaW5kb3dNcyA9IDEyMDsgLy8gSW5jcmVhc2VkIHdpbmRvdyBmb3IgcGFzdGUgYnVyc3QgZGV0ZWN0aW9uXG4gIHByaXZhdGUgcmVhZG9ubHkgcGxhaW5QYXN0ZVRyaWdnZXJDaGFycyA9IDE2OyAvLyBMb3dlciB0aHJlc2hvbGQgdG8gY2F0Y2ggbXVsdGktbGluZSBwYXN0ZXMgc29vbmVyXG4gIHByaXZhdGUgcmVhZG9ubHkgcGxhaW5QYXN0ZUVhcmx5TmV3bGluZUNoYXJzID0gMTsgLy8gSW1tZWRpYXRlIGRldGVjdGlvbiBvZiBtdWx0aS1saW5lIGNvbnRlbnRcbiAgLy8gUGFzdGUgYnVmZmVyIGxpbWl0cyB0byBwcmV2ZW50IG1lbW9yeSBleGhhdXN0aW9uXG4gIHByaXZhdGUgcmVhZG9ubHkgbWF4UGFzdGVCdWZmZXJTaXplID0gMTAgKiAxMDI0ICogMTAyNDsgLy8gMTBNQiBtYXggcGFzdGUgc2l6ZVxuICBwcml2YXRlIHBhc3RlQnVmZmVyT3ZlcmZsb3cgPSBmYWxzZTsgLy8gVHJhY2sgaWYgcGFzdGUgd2FzIHRydW5jYXRlZFxuICBwcml2YXRlIGN1cnNvclZpc2libGVDb2x1bW4gPSAxO1xuICBwcml2YXRlIGluQnJhY2tldGVkUGFzdGUgPSBmYWxzZTtcbiAgcHJpdmF0ZSBwYXN0ZUJ1ZmZlciA9ICcnO1xuICBwcml2YXRlIGluUGxhaW5QYXN0ZSA9IGZhbHNlO1xuICBwcml2YXRlIHBsYWluUGFzdGVCdWZmZXIgPSAnJztcbiAgcHJpdmF0ZSBwbGFpblBhc3RlVGltZXI6IE5vZGVKUy5UaW1lb3V0IHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgcGFzdGVCdXJzdFdpbmRvd1N0YXJ0ID0gMDtcbiAgcHJpdmF0ZSBwYXN0ZUJ1cnN0Q2hhckNvdW50ID0gMDtcbiAgcHJpdmF0ZSBwbGFpblJlY2VudENodW5rczogQXJyYXk8eyB0ZXh0OiBzdHJpbmc7IGF0OiBudW1iZXIgfT4gPSBbXTtcbiAgLy8gUGVuZGluZyBpbnNlcnQgYnVmZmVyOiBob2xkcyBjaGFyYWN0ZXJzIGR1cmluZyBwYXN0ZSBkZXRlY3Rpb24gd2luZG93IHRvIHByZXZlbnQgdmlzdWFsIGxlYWtcbiAgcHJpdmF0ZSBwZW5kaW5nSW5zZXJ0QnVmZmVyID0gJyc7XG4gIHByaXZhdGUgcGVuZGluZ0luc2VydFRpbWVyOiBOb2RlSlMuVGltZW91dCB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIHJlYWRvbmx5IHBlbmRpbmdJbnNlcnREZWxheU1zID0gMTY7IC8vIFJlZHVjZWQgZnJvbSA4MG1zIGZvciBmYXN0ZXIgdHlwaW5nIHJlc3BvbnNlXG4gIC8vIEVtaXQtbGV2ZWwgcGFzdGUgZGV0ZWN0aW9uIC0gYWNjdW11bGF0ZSBhbGwgcmFwaWQgaW5wdXQgdGhlbiBjb21taXRcbiAgcHJpdmF0ZSBlbWl0UGFzdGVCdWZmZXIgPSAnJztcbiAgcHJpdmF0ZSBlbWl0UGFzdGVUaW1lcjogTm9kZUpTLlRpbWVvdXQgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSByZWFkb25seSBlbWl0UGFzdGVDb21taXRNcyA9IDMwOyAvLyBDb21taXQgYWZ0ZXIgMzBtcyBvZiBubyBpbnB1dFxuICBwcml2YXRlIGxhc3RSZW5kZXJlZEV2ZW50S2V5OiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBsYXN0T3V0cHV0RW5kZWRXaXRoTmV3bGluZSA9IHRydWU7XG4gIHByaXZhdGUgaGFzUmVuZGVyZWRQcm9tcHQgPSBmYWxzZTtcbiAgcHJpdmF0ZSBoYXNFdmVyUmVuZGVyZWRPdmVybGF5ID0gZmFsc2U7ICAvLyBUcmFjayBpZiB3ZSd2ZSBldmVyIHJlbmRlcmVkIGZvciBpbmxpbmUgY2xlYXJpbmdcbiAgcHJpdmF0ZSBsYXN0T3ZlcmxheTogeyBsaW5lczogc3RyaW5nW107IHByb21wdEluZGV4OiBudW1iZXIgfSB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIGFsbG93UHJvbXB0UmVuZGVyID0gdHJ1ZTtcbiAgcHJpdmF0ZSBwcm9tcHRSZW5kZXJpbmdTdXNwZW5kZWQgPSBmYWxzZTtcbiAgcHJpdmF0ZSBzZWNyZXRNb2RlID0gZmFsc2U7XG4gIC8vIFJlbmRlciB0aHJvdHRsaW5nIHRvIHByZXZlbnQgZXhjZXNzaXZlIHJlZHJhd3MgZHVyaW5nIHJhcGlkIGlucHV0XG4gIHByaXZhdGUgcGVuZGluZ1JlbmRlciA9IGZhbHNlO1xuICBwcml2YXRlIGxhc3RSZW5kZXJUaW1lID0gMDtcbiAgcHJpdmF0ZSByZWFkb25seSByZW5kZXJUaHJvdHRsZU1zID0gMTY7IC8vIH42MGZwcyBtYXhcbiAgcHJpdmF0ZSByZW5kZXJUaHJvdHRsZVRpbWVyOiBOb2RlSlMuVGltZW91dCB8IG51bGwgPSBudWxsO1xuICAvLyBQZXJmb3JtYW5jZTogQ2FjaGUgbGFzdCByZW5kZXJlZCBzdGF0ZSB0byBza2lwIHVubmVjZXNzYXJ5IHJlbmRlcnNcbiAgcHJpdmF0ZSBsYXN0UmVuZGVyZWRCdWZmZXIgPSAnJztcbiAgcHJpdmF0ZSBmb3JjZU5leHRSZW5kZXIgPSBmYWxzZTtcbiAgcHJpdmF0ZSBsYXN0UmVuZGVyZWRDdXJzb3IgPSAwO1xuICBwcml2YXRlIGxhc3RSZW5kZXJlZE1vZGU6ICdpZGxlJyB8ICdzdHJlYW1pbmcnID0gJ2lkbGUnO1xuICAvLyBEaXNwb3NhbCBzdGF0ZSB0byBwcmV2ZW50IG9wZXJhdGlvbnMgYWZ0ZXIgY2xlYW51cFxuICBwcml2YXRlIGRpc3Bvc2VkID0gZmFsc2U7XG4gIC8vIEluaXRpYWxpemF0aW9uIHN0YXRlIC0gc2tpcCBwcm9tcHQgcmVuZGVycyB1bnRpbCBmaXJzdCBiYW5uZXIgaXMgc2hvd25cbiAgcHJpdmF0ZSBpbml0aWFsaXppbmcgPSB0cnVlO1xuICAvLyBCb3VuZCBldmVudCBoYW5kbGVycyBmb3IgcHJvcGVyIGNsZWFudXBcbiAgcHJpdmF0ZSBib3VuZFJlc2l6ZUhhbmRsZXI6ICgoKSA9PiB2b2lkKSB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIGJvdW5kS2V5cHJlc3NIYW5kbGVyOiAoKHN0cjogc3RyaW5nLCBrZXk6IHJlYWRsaW5lLktleSkgPT4gdm9pZCkgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBib3VuZERhdGFIYW5kbGVyOiAoKGRhdGE6IEJ1ZmZlcikgPT4gdm9pZCkgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBib3VuZEN0cmxIYW5kbGVyOiAoKCkgPT4gdm9pZCkgfCBudWxsID0gbnVsbDtcbiAgLy8gT3JpZ2luYWwgZW1pdCBtZXRob2QgZm9yIHJlc3RvcmF0aW9uIG9uIGNsZWFudXBcbiAgcHJpdmF0ZSBvcmlnaW5hbEVtaXQ6ICgoLi4uYXJnczogdW5rbm93bltdKSA9PiBib29sZWFuKSB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIGlucHV0UHJvdGVjdGlvbjogSW5wdXRQcm90ZWN0aW9uIHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgaW5wdXRDYXB0dXJlOlxuICAgIHwge1xuICAgICAgICByZXNvbHZlOiAodmFsdWU6IHN0cmluZykgPT4gdm9pZDtcbiAgICAgICAgcmVqZWN0PzogKHJlYXNvbj86IHVua25vd24pID0+IHZvaWQ7XG4gICAgICAgIG9wdGlvbnM6IHsgdHJpbTogYm9vbGVhbjsgYWxsb3dFbXB0eTogYm9vbGVhbiB9O1xuICAgICAgfVxuICAgIHwgbnVsbCA9IG51bGw7XG5cbiAgLy8gSW50ZXJhY3RpdmUgbWVudSBzdGF0ZSAoQ2xhdWRlIENvZGUgc3R5bGUpXG4gIHByaXZhdGUgbWVudUl0ZW1zOiBNZW51SXRlbVtdID0gW107XG4gIHByaXZhdGUgbWVudUluZGV4ID0gMDtcbiAgcHJpdmF0ZSBtZW51VGl0bGU6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIG1lbnVDYWxsYmFjazogKChpdGVtOiBNZW51SXRlbSB8IG51bGwpID0+IHZvaWQpIHwgbnVsbCA9IG51bGw7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgb3V0cHV0OiBOb2RlSlMuV3JpdGVTdHJlYW0gPSBwcm9jZXNzLnN0ZG91dCxcbiAgICBpbnB1dDogTm9kZUpTLlJlYWRTdHJlYW0gPSBwcm9jZXNzLnN0ZGluLFxuICAgIF9vcHRpb25zPzogVW5pZmllZFVJUmVuZGVyZXJPcHRpb25zXG4gICkge1xuICAgIHN1cGVyKCk7XG5cbiAgICAvLyBTZXQgdXAgZXJyb3IgaGFuZGxpbmcgZm9yIEV2ZW50RW1pdHRlclxuICAgIHRoaXMub24oJ2Vycm9yJywgKGVycikgPT4ge1xuICAgICAgLy8gTG9nIGVycm9ycyBidXQgZG9uJ3QgY3Jhc2hcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tVbmlmaWVkVUlSZW5kZXJlcl0gRXJyb3I6JywgZXJyKTtcbiAgICB9KTtcblxuICAgIHRoaXMub3V0cHV0ID0gb3V0cHV0O1xuICAgIHRoaXMuaW5wdXQgPSBpbnB1dDtcblxuICAgIC8vIFJvYnVzdCBUVFkgZGV0ZWN0aW9uIHdpdGggbXVsdGlwbGUgZmFsbGJhY2tzXG4gICAgY29uc3Qgb3V0cHV0SXNUVFkgPSBCb29sZWFuKHRoaXMub3V0cHV0Py5pc1RUWSk7XG4gICAgY29uc3QgaW5wdXRJc1RUWSA9IEJvb2xlYW4odGhpcy5pbnB1dD8uaXNUVFkpO1xuICAgIHRoaXMuaW50ZXJhY3RpdmUgPSBvdXRwdXRJc1RUWSAmJiBpbnB1dElzVFRZO1xuICAgIHRoaXMucGxhaW5Nb2RlID0gaXNQbGFpbk91dHB1dE1vZGUoKSB8fCAhdGhpcy5pbnRlcmFjdGl2ZTtcblxuICAgIC8vIEluaXRpYWxpemUgYW5pbWF0ZWQgY29tcG9uZW50cyB3aXRoIGVycm9yIGhhbmRsaW5nXG4gICAgdHJ5IHtcbiAgICAgIHRoaXMuY29udGV4dE1ldGVyID0gbmV3IENvbnRleHRNZXRlcigpO1xuICAgIH0gY2F0Y2gge1xuICAgICAgLy8gQ3JlYXRlIGEgbm8tb3AgY29udGV4dCBtZXRlciBpZiBpbml0aWFsaXphdGlvbiBmYWlsc1xuICAgICAgdGhpcy5jb250ZXh0TWV0ZXIgPSBuZXcgQ29udGV4dE1ldGVyKCk7XG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIHJlYWRsaW5lIGludGVyZmFjZSB3aXRoIGVycm9yIGhhbmRsaW5nXG4gICAgdHJ5IHtcbiAgICAgIHRoaXMucmwgPSByZWFkbGluZS5jcmVhdGVJbnRlcmZhY2Uoe1xuICAgICAgICBpbnB1dDogdGhpcy5pbnB1dCxcbiAgICAgICAgb3V0cHV0OiB0aGlzLm91dHB1dCxcbiAgICAgICAgdGVybWluYWw6IHRydWUsXG4gICAgICAgIHByb21wdDogJycsXG4gICAgICAgIHRhYlNpemU6IDIsXG4gICAgICB9KTtcbiAgICAgIHRoaXMucmwuc2V0UHJvbXB0KCcnKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIC8vIElmIHJlYWRsaW5lIGNyZWF0aW9uIGZhaWxzLCBjcmVhdGUgYSBtaW5pbWFsIGZhbGxiYWNrXG4gICAgICBjb25zb2xlLmVycm9yKCdbVW5pZmllZFVJUmVuZGVyZXJdIEZhaWxlZCB0byBjcmVhdGUgcmVhZGxpbmUgaW50ZXJmYWNlOicsIGVycik7XG4gICAgICB0aGlzLnJsID0gcmVhZGxpbmUuY3JlYXRlSW50ZXJmYWNlKHtcbiAgICAgICAgaW5wdXQ6IHByb2Nlc3Muc3RkaW4sXG4gICAgICAgIG91dHB1dDogcHJvY2Vzcy5zdGRvdXQsXG4gICAgICAgIHRlcm1pbmFsOiBmYWxzZSxcbiAgICAgIH0pO1xuICAgICAgdGhpcy5pbnRlcmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgdGhpcy5wbGFpbk1vZGUgPSB0cnVlO1xuICAgIH1cblxuICAgIHRoaXMudXBkYXRlVGVybWluYWxTaXplKCk7XG5cbiAgICAvLyBJbml0aWFsaXplIGlucHV0IHByb3RlY3Rpb24gYWdhaW5zdCByZW1vdGUgYXR0YWNrc1xuICAgIHRoaXMuaW5wdXRQcm90ZWN0aW9uID0gaW5pdGlhbGl6ZUlucHV0UHJvdGVjdGlvbih7XG4gICAgICB2ZXJib3NlOiBwcm9jZXNzLmVudlsnQUdJX0RFQlVHJ10gPT09ICcxJyxcbiAgICAgIG9uQXR0YWNrRGV0ZWN0ZWQ6ICh0eXBlLCBkZXRhaWxzKSA9PiB7XG4gICAgICAgIC8vIExvZyBhdHRhY2sgYnV0IGRvbid0IGRpc3J1cHQgdXNlciBleHBlcmllbmNlXG4gICAgICAgIGlmIChwcm9jZXNzLmVudlsnQUdJX0RFQlVHJ10pIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGBbSW5wdXRQcm90ZWN0aW9uXSBBdHRhY2sgZGV0ZWN0ZWQ6ICR7dHlwZX0gLSAke2RldGFpbHN9YCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICAvLyBVc2UgYm91bmQgaGFuZGxlcnMgc28gd2UgY2FuIHJlbW92ZSB0aGVtIG9uIGNsZWFudXBcbiAgICB0aGlzLmJvdW5kUmVzaXplSGFuZGxlciA9ICgpID0+IHtcbiAgICAgIGlmICghdGhpcy5wbGFpbk1vZGUgJiYgIXRoaXMuZGlzcG9zZWQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB0aGlzLnVwZGF0ZVRlcm1pbmFsU2l6ZSgpO1xuICAgICAgICAgIHRoaXMucmVuZGVyUHJvbXB0KCk7XG4gICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgIC8vIFNpbGVudGx5IGlnbm9yZSByZXNpemUgZXJyb3JzXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gU2FmZWx5IGFkZCByZXNpemUgaGFuZGxlclxuICAgIHRyeSB7XG4gICAgICB0aGlzLm91dHB1dC5vbigncmVzaXplJywgdGhpcy5ib3VuZFJlc2l6ZUhhbmRsZXIpO1xuICAgIH0gY2F0Y2gge1xuICAgICAgLy8gSWdub3JlIGlmIGV2ZW50IGxpc3RlbmVyIGNhbid0IGJlIGFkZGVkXG4gICAgfVxuXG4gICAgdGhpcy5zZXR1cElucHV0SGFuZGxlcnMoKTtcbiAgfVxuXG4gIGluaXRpYWxpemUoKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmludGVyYWN0aXZlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gUmVzZXQgaW5wdXQgYW5kIHBhc3RlIHN0YXRlIHRvIHByZXZlbnQgc3RhbGUgc3RhdGUgZnJvbSBwcmV2aW91cyBzZXNzaW9uXG4gICAgdGhpcy5idWZmZXIgPSAnJztcbiAgICB0aGlzLmN1cnNvciA9IDA7XG4gICAgdGhpcy5pbnB1dFJlbmRlck9mZnNldCA9IDA7XG4gICAgdGhpcy5pbkJyYWNrZXRlZFBhc3RlID0gZmFsc2U7XG4gICAgdGhpcy5wYXN0ZUJ1ZmZlciA9ICcnO1xuICAgIHRoaXMucGFzdGVCdWZmZXJPdmVyZmxvdyA9IGZhbHNlO1xuICAgIHRoaXMuaW5QbGFpblBhc3RlID0gZmFsc2U7XG4gICAgdGhpcy5wbGFpblBhc3RlQnVmZmVyID0gJyc7XG4gICAgdGhpcy5jb2xsYXBzZWRQYXN0ZSA9IG51bGw7XG4gICAgdGhpcy5wZW5kaW5nSW5zZXJ0QnVmZmVyID0gJyc7XG4gICAgdGhpcy5jYW5jZWxQbGFpblBhc3RlQ2FwdHVyZSgpO1xuXG4gICAgaWYgKCF0aGlzLnBsYWluTW9kZSkge1xuICAgICAgLy8gSWYgYW4gb3ZlcmxheSB3YXMgYWxyZWFkeSByZW5kZXJlZCBiZWZvcmUgaW5pdGlhbGl6YXRpb24gKGUuZy4sIGJhbm5lciBlbWl0dGVkIGVhcmx5KSxcbiAgICAgIC8vIGNsZWFyIGl0IHNvIGluaXRpYWxpemUoKSBkb2Vzbid0IHN0YWNrIGEgc2Vjb25kIGNvbnRyb2wgYmFyIGluIHNjcm9sbGJhY2suXG4gICAgICBpZiAodGhpcy5oYXNSZW5kZXJlZFByb21wdCB8fCB0aGlzLmxhc3RPdmVybGF5KSB7XG4gICAgICAgIHRoaXMuY2xlYXJQcm9tcHRBcmVhKCk7XG4gICAgICB9XG4gICAgICB0aGlzLndyaXRlKEVTQy5FTkFCTEVfQlJBQ0tFVEVEX1BBU1RFKTtcbiAgICAgIHRoaXMudXBkYXRlVGVybWluYWxTaXplKCk7XG4gICAgICB0aGlzLmhhc1JlbmRlcmVkUHJvbXB0ID0gZmFsc2U7XG4gICAgICB0aGlzLmxhc3RPdXRwdXRFbmRlZFdpdGhOZXdsaW5lID0gdHJ1ZTtcbiAgICAgIHRoaXMud3JpdGUoRVNDLlNIT1dfQ1VSU09SKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBQbGFpbiBtb2RlOiBtaW5pbWFsIHNldHVwLCBzdGlsbCByZW5kZXIgYSBzaW1wbGUgcHJvbXB0IGxpbmVcbiAgICB0aGlzLnVwZGF0ZVRlcm1pbmFsU2l6ZSgpO1xuICAgIHRoaXMuaGFzUmVuZGVyZWRQcm9tcHQgPSBmYWxzZTtcbiAgICB0aGlzLmxhc3RPdXRwdXRFbmRlZFdpdGhOZXdsaW5lID0gdHJ1ZTtcbiAgICB0aGlzLnJlbmRlclByb21wdCgpO1xuICB9XG5cbiAgY2xlYW51cCgpOiB2b2lkIHtcbiAgICAvLyBNYXJrIGFzIGRpc3Bvc2VkIGZpcnN0IHRvIHByZXZlbnQgYW55IHBlbmRpbmcgb3BlcmF0aW9uc1xuICAgIHRoaXMuZGlzcG9zZWQgPSB0cnVlO1xuXG4gICAgLy8gV3JhcCBhbGwgY2xlYW51cCBpbiB0cnktY2F0Y2ggdG8gZW5zdXJlIGdyYWNlZnVsIHNodXRkb3duXG4gICAgdHJ5IHtcbiAgICAgIHRoaXMuY2FuY2VsSW5wdXRDYXB0dXJlKG5ldyBFcnJvcignUmVuZGVyZXIgZGlzcG9zZWQnKSk7XG4gICAgfSBjYXRjaCB7IC8qIGlnbm9yZSAqLyB9XG5cbiAgICB0cnkge1xuICAgICAgdGhpcy5jYW5jZWxQbGFpblBhc3RlQ2FwdHVyZSgpO1xuICAgIH0gY2F0Y2ggeyAvKiBpZ25vcmUgKi8gfVxuXG4gICAgLy8gQ2xlYXIgcmVuZGVyIHRocm90dGxlIHRpbWVyXG4gICAgaWYgKHRoaXMucmVuZGVyVGhyb3R0bGVUaW1lcikge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMucmVuZGVyVGhyb3R0bGVUaW1lcik7XG4gICAgICB9IGNhdGNoIHsgLyogaWdub3JlICovIH1cbiAgICAgIHRoaXMucmVuZGVyVGhyb3R0bGVUaW1lciA9IG51bGw7XG4gICAgfVxuXG4gICAgLy8gU3RvcCBhbnkgcnVubmluZyBhbmltYXRpb25zIHdpdGggZXJyb3IgaGFuZGxpbmdcbiAgICBpZiAodGhpcy5zcGlubmVySW50ZXJ2YWwpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5zcGlubmVySW50ZXJ2YWwpO1xuICAgICAgfSBjYXRjaCB7IC8qIGlnbm9yZSAqLyB9XG4gICAgICB0aGlzLnNwaW5uZXJJbnRlcnZhbCA9IG51bGw7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuc3RyZWFtaW5nU3Bpbm5lcikge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdGhpcy5zdHJlYW1pbmdTcGlubmVyLnN0b3AoKTtcbiAgICAgIH0gY2F0Y2ggeyAvKiBpZ25vcmUgKi8gfVxuICAgICAgdGhpcy5zdHJlYW1pbmdTcGlubmVyID0gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAodGhpcy50aGlua2luZ0luZGljYXRvcikge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdGhpcy50aGlua2luZ0luZGljYXRvci5zdG9wKCk7XG4gICAgICB9IGNhdGNoIHsgLyogaWdub3JlICovIH1cbiAgICAgIHRoaXMudGhpbmtpbmdJbmRpY2F0b3IgPSBudWxsO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICB0aGlzLmNvbnRleHRNZXRlci5kaXNwb3NlKCk7XG4gICAgfSBjYXRjaCB7IC8qIGlnbm9yZSAqLyB9XG5cbiAgICB0cnkge1xuICAgICAgZGlzcG9zZUFuaW1hdGlvbnMoKTtcbiAgICB9IGNhdGNoIHsgLyogaWdub3JlICovIH1cblxuICAgIC8vIFJlbW92ZSBldmVudCBsaXN0ZW5lcnMgdG8gcHJldmVudCBtZW1vcnkgbGVha3NcbiAgICBpZiAodGhpcy5ib3VuZFJlc2l6ZUhhbmRsZXIpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRoaXMub3V0cHV0LnJlbW92ZUxpc3RlbmVyKCdyZXNpemUnLCB0aGlzLmJvdW5kUmVzaXplSGFuZGxlcik7XG4gICAgICB9IGNhdGNoIHsgLyogaWdub3JlICovIH1cbiAgICAgIHRoaXMuYm91bmRSZXNpemVIYW5kbGVyID0gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5ib3VuZEtleXByZXNzSGFuZGxlcikge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdGhpcy5pbnB1dC5yZW1vdmVMaXN0ZW5lcigna2V5cHJlc3MnLCB0aGlzLmJvdW5kS2V5cHJlc3NIYW5kbGVyKTtcbiAgICAgIH0gY2F0Y2ggeyAvKiBpZ25vcmUgKi8gfVxuICAgICAgdGhpcy5ib3VuZEtleXByZXNzSGFuZGxlciA9IG51bGw7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuYm91bmREYXRhSGFuZGxlcikge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdGhpcy5pbnB1dC5yZW1vdmVMaXN0ZW5lcignZGF0YScsIHRoaXMuYm91bmREYXRhSGFuZGxlcik7XG4gICAgICB9IGNhdGNoIHsgLyogaWdub3JlICovIH1cbiAgICAgIHRoaXMuYm91bmREYXRhSGFuZGxlciA9IG51bGw7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuYm91bmRDdHJsSGFuZGxlcikge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdGhpcy5pbnB1dC5yZW1vdmVMaXN0ZW5lcignZGF0YScsIHRoaXMuYm91bmRDdHJsSGFuZGxlcik7XG4gICAgICB9IGNhdGNoIHsgLyogaWdub3JlICovIH1cbiAgICAgIHRoaXMuYm91bmRDdHJsSGFuZGxlciA9IG51bGw7XG4gICAgfVxuXG4gICAgLy8gUmVzdG9yZSBvcmlnaW5hbCBlbWl0IG1ldGhvZCBvbiBzdGRpblxuICAgIGlmICh0aGlzLm9yaWdpbmFsRW1pdCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgKHRoaXMuaW5wdXQgYXMgYW55KS5lbWl0ID0gdGhpcy5vcmlnaW5hbEVtaXQ7XG4gICAgICB9IGNhdGNoIHsgLyogaWdub3JlICovIH1cbiAgICAgIHRoaXMub3JpZ2luYWxFbWl0ID0gbnVsbDtcbiAgICB9XG5cbiAgICAvLyBSZW1vdmUgYWxsIEV2ZW50RW1pdHRlciBsaXN0ZW5lcnMgZnJvbSB0aGlzIGluc3RhbmNlXG4gICAgdHJ5IHtcbiAgICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgfSBjYXRjaCB7IC8qIGlnbm9yZSAqLyB9XG5cbiAgICBpZiAoIXRoaXMuaW50ZXJhY3RpdmUpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRoaXMucmwuY2xvc2UoKTtcbiAgICAgIH0gY2F0Y2ggeyAvKiBpZ25vcmUgKi8gfVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5wbGFpbk1vZGUpIHtcbiAgICAgIC8vIENsZWFyIHRoZSBwcm9tcHQgYXJlYSBzbyBpdCBkb2Vzbid0IHJlbWFpbiBpbiBzY3JvbGxiYWNrIGhpc3RvcnlcbiAgICAgIHRyeSB7XG4gICAgICAgIHRoaXMuY2xlYXJQcm9tcHRBcmVhKCk7XG4gICAgICAgIHRoaXMud3JpdGUoRVNDLkRJU0FCTEVfQlJBQ0tFVEVEX1BBU1RFKTtcbiAgICAgICAgdGhpcy53cml0ZShFU0MuU0hPV19DVVJTT1IpO1xuICAgICAgICB0aGlzLndyaXRlKCdcXG4nKTtcbiAgICAgIH0gY2F0Y2ggeyAvKiBpZ25vcmUgKi8gfVxuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBpZiAodGhpcy5pbnB1dC5pc1RUWSkge1xuICAgICAgICB0aGlzLmlucHV0LnNldFJhd01vZGUoZmFsc2UpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggeyAvKiBpZ25vcmUgKi8gfVxuXG4gICAgdHJ5IHtcbiAgICAgIHRoaXMucmwuY2xvc2UoKTtcbiAgICB9IGNhdGNoIHsgLyogaWdub3JlICovIH1cblxuICAgIHRoaXMubGFzdE92ZXJsYXkgPSBudWxsO1xuXG4gICAgLy8gQ2xlYXIgZXZlbnQgcXVldWVcbiAgICB0aGlzLmV2ZW50UXVldWUgPSBbXTtcbiAgfVxuXG4gIHN1c3BlbmRQcm9tcHRSZW5kZXJpbmcoKTogdm9pZCB7XG4gICAgdGhpcy5wcm9tcHRSZW5kZXJpbmdTdXNwZW5kZWQgPSB0cnVlO1xuICB9XG5cbiAgcmVzdW1lUHJvbXB0UmVuZGVyaW5nKHJlbmRlcjogYm9vbGVhbiA9IGZhbHNlKTogdm9pZCB7XG4gICAgdGhpcy5wcm9tcHRSZW5kZXJpbmdTdXNwZW5kZWQgPSBmYWxzZTtcbiAgICBpZiAocmVuZGVyKSB7XG4gICAgICB0aGlzLnJlbmRlclByb21wdCgpO1xuICAgIH1cbiAgfVxuXG4gIC8vIC0tLS0tLS0tLS0tLSBJbnB1dCBoYW5kbGluZyAtLS0tLS0tLS0tLS1cblxuICAvLyBUcmFjayBzcGVjaWFsIGtleXMgaW50ZXJjZXB0ZWQgYXQgdGhlIHJhdyBkYXRhIGxldmVsXG4gIHByaXZhdGUgaW50ZXJjZXB0ZWRUb2dnbGU6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIGludGVyY2VwdGVkQ3RybEMgPSBmYWxzZTtcbiAgcHJpdmF0ZSBpbnRlcmNlcHRlZEN0cmxEID0gZmFsc2U7XG4gIHByaXZhdGUgcGVuZGluZ1RvZ2dsZVNraXBzID0gMDtcblxuICBwcml2YXRlIHNldHVwSW5wdXRIYW5kbGVycygpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuaW50ZXJhY3RpdmUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5ybC5yZW1vdmVBbGxMaXN0ZW5lcnMoJ2xpbmUnKTtcblxuICAgIC8vIENSSVRJQ0FMOiBPdmVycmlkZSB0aGUgZW1pdCBtZXRob2Qgb24gc3RkaW4gdG8gaW50ZXJjZXB0IGRhdGEgZXZlbnRzXG4gICAgLy8gQkVGT1JFIGFueSBsaXN0ZW5lciAoaW5jbHVkaW5nIHJlYWRsaW5lKSBzZWVzIHRoZW0uIFRoaXMgaXMgdGhlIE9OTFlcbiAgICAvLyB3YXkgdG8gdHJ1bHkgcHJldmVudCBjb250cm9sIGNoYXJhY3RlcnMgZnJvbSBiZWluZyBlY2hvZWQuXG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgdGhpcy5vcmlnaW5hbEVtaXQgPSB0aGlzLmlucHV0LmVtaXQuYmluZCh0aGlzLmlucHV0KTtcblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgKHRoaXMuaW5wdXQgYXMgYW55KS5lbWl0ID0gZnVuY3Rpb24oZXZlbnQ6IHN0cmluZywgLi4uYXJnczogdW5rbm93bltdKTogYm9vbGVhbiB7XG4gICAgICBpZiAoZXZlbnQgPT09ICdkYXRhJyAmJiAhc2VsZi5kaXNwb3NlZCkge1xuICAgICAgICBjb25zdCBkYXRhID0gYXJnc1swXTtcbiAgICAgICAgY29uc3Qgc3RyID0gQnVmZmVyLmlzQnVmZmVyKGRhdGEpID8gZGF0YS50b1N0cmluZygndXRmOCcpIDogU3RyaW5nKGRhdGEgfHwgJycpO1xuICAgICAgICBjb25zdCBjb2RlID0gc3RyID8gc3RyLmNoYXJDb2RlQXQoMCkgOiAwO1xuXG4gICAgICAgIGlmIChwcm9jZXNzLmVudlsnQUdJX0RFQlVHX0tFWVMnXSkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYFtLRVldIEVNSVQgSU5URVJDRVBUOiBldmVudD1cIiR7ZXZlbnR9XCIgc3RyPVwiJHtzdHJ9XCIgY29kZT0ke2NvZGV9IGxlbj0ke3N0ci5sZW5ndGh9YCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBCTE9DSzogQ3RybCtDIChjb2RlIDMpIC0gaGFuZGxlIGFuZCBzdXBwcmVzc1xuICAgICAgICBpZiAoY29kZSA9PT0gMykge1xuICAgICAgICAgIGlmIChwcm9jZXNzLmVudlsnQUdJX0RFQlVHX0tFWVMnXSkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgW0tFWV0gQ1RSTCtDIEJMT0NLRUQgQVQgRU1JVCBMRVZFTGApO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBVc2Ugc2V0SW1tZWRpYXRlIHRvIGhhbmRsZSBhZnRlciB0aGlzIGV2ZW50IGxvb3AgdGlja1xuICAgICAgICAgIHNldEltbWVkaWF0ZSgoKSA9PiBzZWxmLmhhbmRsZUN0cmxDKCkpO1xuICAgICAgICAgIHJldHVybiB0cnVlOyAvLyBTdXBwcmVzcyB0aGUgZXZlbnRcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEJMT0NLOiBDdHJsK0QgKGNvZGUgNCkgLSBoYW5kbGUgYW5kIHN1cHByZXNzXG4gICAgICAgIGlmIChjb2RlID09PSA0KSB7XG4gICAgICAgICAgaWYgKHByb2Nlc3MuZW52WydBR0lfREVCVUdfS0VZUyddKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBbS0VZXSBDVFJMK0QgQkxPQ0tFRCBBVCBFTUlUIExFVkVMYCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNldEltbWVkaWF0ZSgoKSA9PiBzZWxmLmhhbmRsZUN0cmxEKCkpO1xuICAgICAgICAgIHJldHVybiB0cnVlOyAvLyBTdXBwcmVzcyB0aGUgZXZlbnRcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEJMT0NLOiBEaXJlY3Qgc2luZ2xlLWNoYXIgdG9nZ2xlIGRldGVjdGlvbiAobW9zdCBjb21tb24gY2FzZSlcbiAgICAgICAgLy8gQ2hlY2sgdGhlIGZpcnN0IGNoYXIgY29kZSBkaXJlY3RseSBmb3Igc3BlZWQgYW5kIHJlbGlhYmlsaXR5XG4gICAgICAgIGxldCBkaXJlY3RUb2dnbGU6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuXG4gICAgICAgIGlmIChzdHIubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgaWYgKGNvZGUgPT09IDE2OSB8fCBjb2RlID09PSA4NDgyKSBkaXJlY3RUb2dnbGUgPSAnZyc7IC8vIMKpIOKEolxuICAgICAgICAgIGVsc2UgaWYgKGNvZGUgPT09IDIyOSB8fCBjb2RlID09PSAxOTcpIGRpcmVjdFRvZ2dsZSA9ICdhJzsgLy8gw6Ugw4VcbiAgICAgICAgICBlbHNlIGlmIChjb2RlID09PSA4NzA2IHx8IGNvZGUgPT09IDg3MTAgfHwgY29kZSA9PT0gMjA2KSBkaXJlY3RUb2dnbGUgPSAnZCc7IC8vIOKIgiDiiIYgw45cbiAgICAgICAgICBlbHNlIGlmIChjb2RlID09PSA4MjI0IHx8IGNvZGUgPT09IDgyMjUpIGRpcmVjdFRvZ2dsZSA9ICd0JzsgLy8g4oCgIOKAoVxuICAgICAgICAgIGVsc2UgaWYgKGNvZGUgPT09IDg3MzApIGRpcmVjdFRvZ2dsZSA9ICd2JzsgLy8g4oiaXG4gICAgICAgIH1cbiAgICAgICAgLy8gQWxzbyBjaGVjayBFU0MrbGV0dGVyICgyLWNoYXIgc2VxdWVuY2UpXG4gICAgICAgIGlmICghZGlyZWN0VG9nZ2xlICYmIGNvZGUgPT09IDI3ICYmIHN0ci5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICBjb25zdCBsZXR0ZXIgPSBzdHIuY2hhckF0KDEpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgaWYgKFsnZycsICdhJywgJ2QnLCAndCcsICd2J10uaW5jbHVkZXMobGV0dGVyKSkge1xuICAgICAgICAgICAgZGlyZWN0VG9nZ2xlID0gbGV0dGVyO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkaXJlY3RUb2dnbGUpIHtcbiAgICAgICAgICAvLyBIYW5kbGUgaW1tZWRpYXRlbHkgKG5vdCBpbiBzZXRJbW1lZGlhdGUgdG8gZW5zdXJlIGl0IHJ1bnMpXG4gICAgICAgICAgc2VsZi5oYW5kbGVUb2dnbGUoZGlyZWN0VG9nZ2xlKTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTsgLy8gU3VwcHJlc3MgdGhlIGV2ZW50XG4gICAgICAgIH1cblxuICAgICAgICAvLyBCTE9DSzogTXVsdGktY2hhciB0b2dnbGUgZGV0ZWN0aW9uIChmb3IgcGFzdGUgc2NlbmFyaW9zKVxuICAgICAgICBjb25zdCB0b2dnbGVzID0gc2VsZi5leHRyYWN0VG9nZ2xlTGV0dGVycyhzdHIpO1xuICAgICAgICBpZiAodG9nZ2xlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgaWYgKHByb2Nlc3MuZW52WydBR0lfREVCVUdfS0VZUyddKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBbS0VZXSBUT0dHTEUgTVVMVEkgREVURUNUOiAke3RvZ2dsZXMuam9pbignLCcpfWApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmb3IgKGNvbnN0IGxldHRlciBvZiB0b2dnbGVzKSB7XG4gICAgICAgICAgICBzZWxmLmhhbmRsZVRvZ2dsZShsZXR0ZXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdHJ1ZTsgLy8gU3VwcHJlc3MgdGhlIGV2ZW50XG4gICAgICAgIH1cblxuICAgICAgICAvLyBQQVNURSBERVRFQ1RJT04gYXQgZW1pdCBsZXZlbDogTXVsdGktY2hhciBkYXRhID0gcGFzdGVcbiAgICAgICAgLy8gV2hlbiB1c2VyIHR5cGVzLCBlYWNoIGNoYXJhY3RlciBhcnJpdmVzIHNlcGFyYXRlbHlcbiAgICAgICAgLy8gV2hlbiB1c2VyIHBhc3RlcywgYWxsIGNoYXJhY3RlcnMgYXJyaXZlIGFzIG9uZSBjaHVuayBPUiByYXBpZGx5XG4gICAgICAgIC8vIENoZWNrIGZvciBicmFja2V0ZWQgcGFzdGUgbWFya2VycyBmaXJzdFxuICAgICAgICBjb25zdCBwYXN0ZVN0YXJ0TWFya2VyID0gJ1xceDFiWzIwMH4nO1xuICAgICAgICBjb25zdCBwYXN0ZUVuZE1hcmtlciA9ICdcXHgxYlsyMDF+JztcbiAgICAgICAgY29uc3QgaGFzQnJhY2tldGVkU3RhcnQgPSBzdHIuaW5jbHVkZXMocGFzdGVTdGFydE1hcmtlcik7XG4gICAgICAgIGNvbnN0IGhhc0JyYWNrZXRlZEVuZCA9IHN0ci5pbmNsdWRlcyhwYXN0ZUVuZE1hcmtlcik7XG5cbiAgICAgICAgLy8gSGFuZGxlIGJyYWNrZXRlZCBwYXN0ZSAodGVybWluYWwgc2VuZHMgbWFya2VycylcbiAgICAgICAgaWYgKGhhc0JyYWNrZXRlZFN0YXJ0IHx8IGhhc0JyYWNrZXRlZEVuZCB8fCBzZWxmLmluQnJhY2tldGVkUGFzdGUpIHtcbiAgICAgICAgICAvLyBMZXQgdGhlIHJlZ3VsYXIgYnJhY2tldGVkIHBhc3RlIGhhbmRsZXIgZGVhbCB3aXRoIGl0XG4gICAgICAgICAgLy8gRmFsbCB0aHJvdWdoIHRvIHJlYWRsaW5lXG4gICAgICAgIH1cbiAgICAgICAgLy8gRGV0ZWN0IHBsYWluIHBhc3RlOiBtdWx0aS1jaGFyLCBoYXMgcHJpbnRhYmxlIGNvbnRlbnQsIG5vdCBlc2NhcGUgc2VxdWVuY2VcbiAgICAgICAgLy8gVGhpcyBpcyBoYW5kbGVkIGJ5IHRoZSBidWZmZXIgbG9naWMgYmVsb3csIHNvIHdlIGNhbiByZW1vdmUgdGhpcyBzcGVjaWFsIGNhc2VcbiAgICAgICAgLy8gVGhlIGJ1ZmZlciBsb2dpYyBhdCB0aGUgYm90dG9tIGhhbmRsZXMgYm90aCBzaW5nbGUtY2hhciBhbmQgbXVsdGktY2hhclxuICAgICAgICAvLyBCdWZmZXIgQUxMIGlucHV0IChpbmNsdWRpbmcgbXVsdGktY2hhciBjaHVua3MpIGFuZCBjb21taXQgYWZ0ZXIgaWRsZVxuICAgICAgICAvLyBUaGlzIGNhdGNoZXMgcGFzdGUgd2hldGhlciB0ZXJtaW5hbCBzZW5kcyBpdCBhcyBvbmUgY2h1bmsgb3IgY2hhci1ieS1jaGFyXG4gICAgICAgIGNvbnN0IGlzUHJpbnRhYmxlID0gKGM6IG51bWJlcikgPT4gKGMgPj0gMzIgJiYgYyA8IDEyNykgfHwgYyA+IDEyNzsgLy8gQVNDSUkgcHJpbnRhYmxlIG9yIFVuaWNvZGVcbiAgICAgICAgY29uc3QgaXNOZXdsaW5lID0gKGM6IG51bWJlcikgPT4gYyA9PT0gMTAgfHwgYyA9PT0gMTM7XG4gICAgICAgIGNvbnN0IGluUGFzdGVCdXJzdCA9IHNlbGYuZW1pdFBhc3RlQnVmZmVyLmxlbmd0aCA+IDA7XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhpcyBsb29rcyBsaWtlIGNvbnRlbnQgd2Ugc2hvdWxkIGJ1ZmZlclxuICAgICAgICAvLyAtIFNpbmdsZSBwcmludGFibGUgY2hhclxuICAgICAgICAvLyAtIFNpbmdsZSBuZXdsaW5lIHdoZW4gYWxyZWFkeSBidWZmZXJpbmdcbiAgICAgICAgLy8gLSBNdWx0aS1jaGFyIHN0cmluZyB3aXRoIHByaW50YWJsZSBjb250ZW50XG4gICAgICAgIGxldCBzaG91bGRCdWZmZXIgPSBmYWxzZTtcbiAgICAgICAgaWYgKHN0ci5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICBpZiAoaXNQcmludGFibGUoY29kZSkpIHtcbiAgICAgICAgICAgIHNob3VsZEJ1ZmZlciA9IHRydWU7XG4gICAgICAgICAgfSBlbHNlIGlmIChpc05ld2xpbmUoY29kZSkgJiYgaW5QYXN0ZUJ1cnN0KSB7XG4gICAgICAgICAgICBzaG91bGRCdWZmZXIgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChzdHIubGVuZ3RoID4gMSAmJiAhc3RyLnN0YXJ0c1dpdGgoJ1xceDFiJykpIHtcbiAgICAgICAgICAvLyBNdWx0aS1jaGFyIG5vbi1lc2NhcGUgY29udGVudCAtIGRlZmluaXRlbHkgcGFzdGVcbiAgICAgICAgICBzaG91bGRCdWZmZXIgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNob3VsZEJ1ZmZlcikge1xuICAgICAgICAgIC8vIEFkZCB0byBidWZmZXIgKHN0cmlwIGFueSB0b2dnbGUgc3ltYm9scyB0aGF0IG1pZ2h0IGhhdmUgc2xpcHBlZCB0aHJvdWdoKVxuICAgICAgICAgIGNvbnN0IGNsZWFuZWQgPSBzZWxmLnN0cmlwVG9nZ2xlU3ltYm9scyhzdHIpO1xuICAgICAgICAgIGlmICghY2xlYW5lZCkgcmV0dXJuIHRydWU7IC8vIFdhcyBvbmx5IHRvZ2dsZSBjaGFyc1xuICAgICAgICAgIHNlbGYuZW1pdFBhc3RlQnVmZmVyICs9IGNsZWFuZWQ7XG5cbiAgICAgICAgICAvLyBDbGVhciBleGlzdGluZyB0aW1lclxuICAgICAgICAgIGlmIChzZWxmLmVtaXRQYXN0ZVRpbWVyKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQoc2VsZi5lbWl0UGFzdGVUaW1lcik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gU2V0IHRpbWVyIHRvIGNvbW1pdCBhZnRlciBpZGxlXG4gICAgICAgICAgc2VsZi5lbWl0UGFzdGVUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgc2VsZi5jb21taXRFbWl0UGFzdGVCdWZmZXIoKTtcbiAgICAgICAgICB9LCBzZWxmLmVtaXRQYXN0ZUNvbW1pdE1zKTtcblxuICAgICAgICAgIHJldHVybiB0cnVlOyAvLyBTdXBwcmVzcyAtIHdlJ3JlIGJ1ZmZlcmluZ1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIG5ld2xpbmUgYXJyaXZlcyB3aGVuIE5PVCBpbiBwYXN0ZSBidXJzdCwgbGV0IGl0IHRocm91Z2ggZm9yIEVudGVyIGhhbmRsaW5nXG4gICAgICAgIGVsc2UgaWYgKHN0ci5sZW5ndGggPT09IDEgJiYgaXNOZXdsaW5lKGNvZGUpICYmICFpblBhc3RlQnVyc3QpIHtcbiAgICAgICAgICAvLyBMZXQgRW50ZXIgcGFzcyB0aHJvdWdoIHRvIHJlYWRsaW5lIGZvciBzdWJtaXNzaW9uXG4gICAgICAgICAgLy8gRmFsbCB0aHJvdWdoIHRvIG9yaWdpbmFsRW1pdFxuICAgICAgICB9XG5cbiAgICAgICAgLy8gTk9URTogRG8gTk9UIGJsb2NrIG90aGVyIGNvbnRyb2wgY2hhcmFjdGVycyBoZXJlIVxuICAgICAgICAvLyBCYWNrc3BhY2UgKDgvMTI3KSwgVGFiICg5KSwgRW50ZXIgKDEzKSwgYXJyb3dzICgyNytzZXEpIG11c3QgcGFzcyB0aHJvdWdoXG4gICAgICAgIC8vIGZvciBub3JtYWwgZWRpdGluZyB0byB3b3JrLiBPbmx5IEN0cmwrQy9EIGFuZCB0b2dnbGVzIGFyZSBpbnRlcmNlcHRlZCBhYm92ZS5cbiAgICAgIH1cblxuICAgICAgLy8gQWxsb3cgYWxsIG90aGVyIGV2ZW50cyB0byBwYXNzIHRocm91Z2hcbiAgICAgIHJldHVybiBzZWxmLm9yaWdpbmFsRW1pdCEoZXZlbnQsIC4uLmFyZ3MpO1xuICAgIH07XG5cbiAgICAvLyBOb3cgc2V0IHVwIHJlYWRsaW5lJ3Mga2V5cHJlc3MgZW1pc3Npb25cbiAgICByZWFkbGluZS5lbWl0S2V5cHJlc3NFdmVudHModGhpcy5pbnB1dCwgdGhpcy5ybCk7XG4gICAgaWYgKHRoaXMuaW5wdXQuaXNUVFkpIHtcbiAgICAgIHRoaXMuaW5wdXQuc2V0UmF3TW9kZSh0cnVlKTtcbiAgICB9XG5cbiAgICAvLyBVc2UgYm91bmQgaGFuZGxlciBzbyB3ZSBjYW4gcmVtb3ZlIGl0IG9uIGNsZWFudXBcbiAgICB0aGlzLmJvdW5kS2V5cHJlc3NIYW5kbGVyID0gKHN0cjogc3RyaW5nLCBrZXk6IHJlYWRsaW5lLktleSkgPT4ge1xuICAgICAgaWYgKCF0aGlzLmRpc3Bvc2VkKSB7XG4gICAgICAgIHRoaXMuaGFuZGxlS2V5cHJlc3Moc3RyLCBrZXkpO1xuICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5pbnB1dC5vbigna2V5cHJlc3MnLCB0aGlzLmJvdW5kS2V5cHJlc3NIYW5kbGVyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXRlY3QgdG9nZ2xlIGNoYXJhY3RlcnMgZnJvbSByYXcgaW5wdXQgZGF0YSBiZWZvcmUgcmVhZGxpbmUgcHJvY2Vzc2luZy5cbiAgICogUmV0dXJucyB0aGUgdG9nZ2xlIGxldHRlciAoZywgYSwgZCwgdCwgdikgb3IgbnVsbCBpZiBub3QgYSB0b2dnbGUuXG4gICAqL1xuICBwcml2YXRlIGRldGVjdFRvZ2dsZUZyb21SYXdEYXRhKGlucHV0OiBzdHJpbmcpOiBzdHJpbmcgfCBudWxsIHtcbiAgICBpZiAoIWlucHV0KSByZXR1cm4gbnVsbDtcbiAgICBjb25zdCBjb2RlID0gaW5wdXQuY2hhckNvZGVBdCgwKTtcblxuICAgIC8vIFVuaWNvZGUgY2hhcmFjdGVycyBmcm9tIFwiT3B0aW9uIHNlbmRzIFVuaWNvZGVcIiBtb2RlXG4gICAgaWYgKGNvZGUgPT09IDE2OSB8fCBjb2RlID09PSA4NDgyKSByZXR1cm4gJ2cnOyAvLyDCqSDihKJcbiAgICBpZiAoY29kZSA9PT0gMjI5IHx8IGNvZGUgPT09IDE5NykgcmV0dXJuICdhJzsgIC8vIMOlIMOFXG4gICAgaWYgKGNvZGUgPT09IDg3MDYgfHwgY29kZSA9PT0gODcxMCB8fCBjb2RlID09PSAyMDYpIHJldHVybiAnZCc7IC8vIOKIgiDiiIYgw45cbiAgICBpZiAoY29kZSA9PT0gODIyNCB8fCBjb2RlID09PSA4MjI1KSByZXR1cm4gJ3QnOyAvLyDigKAg4oChXG4gICAgaWYgKGNvZGUgPT09IDg3MzApIHJldHVybiAndic7IC8vIOKImlxuXG4gICAgLy8gRVNDICsgbGV0dGVyIGZyb20gXCJPcHRpb24gc2VuZHMgTWV0YVwiIG1vZGVcbiAgICBpZiAoY29kZSA9PT0gMjcgJiYgaW5wdXQubGVuZ3RoID09PSAyKSB7XG4gICAgICBjb25zdCBsZXR0ZXIgPSBpbnB1dC5jaGFyQXQoMSkudG9Mb3dlckNhc2UoKTtcbiAgICAgIGlmIChbJ2cnLCAnYScsICdkJywgJ3QnLCAndiddLmluY2x1ZGVzKGxldHRlcikpIHJldHVybiBsZXR0ZXI7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvKipcbiAgICogRXh0cmFjdCBhbGwgdG9nZ2xlIGxldHRlcnMgZnJvbSBhbiBhcmJpdHJhcnkgY2h1bmsgb2YgaW5wdXQgZGF0YS5cbiAgICogSGFuZGxlcyBib3RoIFVuaWNvZGUgdG9nZ2xlcyBhbmQgRVNDLXByZWZpeGVkIE1ldGEgc2VxdWVuY2VzLCBhbmRcbiAgICogc3VwcG9ydHMgbXVsdGlwbGUgdG9nZ2xlcyBpbiBhIHNpbmdsZSBkYXRhIGV2ZW50LlxuICAgKi9cbiAgcHJpdmF0ZSBleHRyYWN0VG9nZ2xlTGV0dGVycyhpbnB1dDogc3RyaW5nKTogc3RyaW5nW10ge1xuICAgIGlmICghaW5wdXQpIHJldHVybiBbXTtcbiAgICBjb25zdCB0b2dnbGVzOiBzdHJpbmdbXSA9IFtdO1xuICAgIGNvbnN0IGNoYXJzID0gWy4uLmlucHV0XTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hhcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGNoID0gY2hhcnNbaV07XG4gICAgICBjb25zdCBjb2RlID0gY2guY2hhckNvZGVBdCgwKTtcblxuICAgICAgLy8gRGV0ZWN0IEVTQyArIGxldHRlciAoT3B0aW9uIHNlbmRzIE1ldGEpXG4gICAgICBpZiAoY29kZSA9PT0gMjcgJiYgaSArIDEgPCBjaGFycy5sZW5ndGgpIHtcbiAgICAgICAgY29uc3QgbGV0dGVyID0gY2hhcnNbaSArIDFdLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGlmIChbJ2cnLCAnYScsICdkJywgJ3QnLCAndiddLmluY2x1ZGVzKGxldHRlcikpIHtcbiAgICAgICAgICB0b2dnbGVzLnB1c2gobGV0dGVyKTtcbiAgICAgICAgICBpKys7IC8vIFNraXAgdGhlIG1ldGEgbGV0dGVyIHNvIGl0IGlzbid0IGRvdWJsZS1jb3VudGVkXG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY29uc3QgZGV0ZWN0ZWQgPSB0aGlzLmRldGVjdFRvZ2dsZUZyb21SYXdEYXRhKGNoKTtcbiAgICAgIGlmIChkZXRlY3RlZCkge1xuICAgICAgICB0b2dnbGVzLnB1c2goZGV0ZWN0ZWQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0b2dnbGVzO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSB0b2dnbGUgc3ltYm9scyAoYW5kIHRoZWlyIEVTQyBwcmVmaXhlcykgZnJvbSBhIHN0cmluZyBzbyB0aGV5XG4gICAqIGNhbiBuZXZlciBsZWFrIGludG8gdGhlIHByb21wdCBidWZmZXIuXG4gICAqL1xuICBwcml2YXRlIHN0cmlwVG9nZ2xlU3ltYm9scyhpbnB1dDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBpZiAoIWlucHV0KSByZXR1cm4gJyc7XG4gICAgY29uc3QgY2hhcnMgPSBbLi4uaW5wdXRdO1xuICAgIGxldCByZXN1bHQgPSAnJztcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hhcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGNoID0gY2hhcnNbaV07XG4gICAgICBjb25zdCBjb2RlID0gY2guY2hhckNvZGVBdCgwKTtcblxuICAgICAgLy8gRHJvcCBVbmljb2RlIHRvZ2dsZSBjaGFyYWN0ZXJzIG91dHJpZ2h0XG4gICAgICBpZiAodGhpcy5pc1RvZ2dsZUNoYXJhY3RlcihjaCkpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIC8vIERyb3AgRVNDICsgdG9nZ2xlIGxldHRlciAoT3B0aW9uIHNlbmRzIE1ldGEpXG4gICAgICAvLyBBbHNvIGhhbmRsZSBjYXNlIHdoZXJlIEVTQyBtaWdodCBiZSBmb2xsb3dlZCBieSBbIChDU0kgc2VxdWVuY2Ugc3RhcnQpXG4gICAgICBpZiAoY29kZSA9PT0gMjcpIHtcbiAgICAgICAgaWYgKGkgKyAxIDwgY2hhcnMubGVuZ3RoKSB7XG4gICAgICAgICAgY29uc3QgbGV0dGVyID0gY2hhcnNbaSArIDFdLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgaWYgKFsnZycsICdhJywgJ2QnLCAndCcsICd2J10uaW5jbHVkZXMobGV0dGVyKSkge1xuICAgICAgICAgICAgaSsrOyAvLyBTa2lwIHRoZSBtZXRhIGxldHRlciBhcyB3ZWxsXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gQWxzbyBkcm9wIEVTQyArICdbJyAoQ1NJIHNlcXVlbmNlIHN0YXJ0KSB0byBwcmV2ZW50IHBhcnRpYWwgZXNjYXBlIHNlcXVlbmNlc1xuICAgICAgICAgIGlmIChjaGFyc1tpICsgMV0gPT09ICdbJykge1xuICAgICAgICAgICAgaSsrOyAvLyBTa2lwIHRoZSAnWycgYXMgd2VsbFxuICAgICAgICAgICAgLy8gU2tpcCBhbnkgZGlnaXRzLCBzZW1pY29sb25zLCBhbmQgdGhlIGZpbmFsIGNoYXJhY3RlclxuICAgICAgICAgICAgd2hpbGUgKGkgKyAxIDwgY2hhcnMubGVuZ3RoICYmIC9bMC05O10vLnRlc3QoY2hhcnNbaSArIDFdKSkge1xuICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaSArIDEgPCBjaGFycy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgaSsrOyAvLyBTa2lwIHRoZSBmaW5hbCBjaGFyYWN0ZXIgKEEtWiwgYS16LCB+LCBldGMuKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJlc3VsdCArPSBjaDtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGEgY2hhcmFjdGVyIGlzIGEgdG9nZ2xlIGNoYXJhY3RlciB0aGF0IHNob3VsZCBuZXZlciBiZSBpbnNlcnRlZC5cbiAgICogVXNlZCBhcyBhIHNhZmV0eSBndWFyZCB0byBwcmV2ZW50IHRvZ2dsZSBzeW1ib2xzIGZyb20gYXBwZWFyaW5nIGluIGlucHV0LlxuICAgKi9cbiAgcHJpdmF0ZSBpc1RvZ2dsZUNoYXJhY3RlcihpbnB1dDogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgaWYgKCFpbnB1dCB8fCBpbnB1dC5sZW5ndGggIT09IDEpIHJldHVybiBmYWxzZTtcbiAgICBjb25zdCBjb2RlID0gaW5wdXQuY2hhckNvZGVBdCgwKTtcbiAgICAvLyBVbmljb2RlIHRvZ2dsZSBjaGFyYWN0ZXJzXG4gICAgaWYgKGNvZGUgPT09IDE2OSB8fCBjb2RlID09PSA4NDgyKSByZXR1cm4gdHJ1ZTsgLy8gwqkg4oSiIChPcHRpb24rRylcbiAgICBpZiAoY29kZSA9PT0gMjI5IHx8IGNvZGUgPT09IDE5NykgcmV0dXJuIHRydWU7ICAvLyDDpSDDhSAoT3B0aW9uK0EpXG4gICAgaWYgKGNvZGUgPT09IDg3MDYgfHwgY29kZSA9PT0gODcxMCB8fCBjb2RlID09PSAyMDYpIHJldHVybiB0cnVlOyAvLyDiiIIg4oiGIMOOIChPcHRpb24rRClcbiAgICBpZiAoY29kZSA9PT0gODIyNCB8fCBjb2RlID09PSA4MjI1KSByZXR1cm4gdHJ1ZTsgLy8g4oCgIOKAoSAoT3B0aW9uK1QpXG4gICAgaWYgKGNvZGUgPT09IDg3MzApIHJldHVybiB0cnVlOyAvLyDiiJogKE9wdGlvbitWKVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgYSBkZXRlY3RlZCB0b2dnbGUgYWN0aW9uLiBDYWxsZWQgZnJvbSBib3RoIHJhdyBkYXRhIGludGVyY2VwdGlvblxuICAgKiBhbmQga2V5cHJlc3MgcHJvY2Vzc2luZyBmb3IgcmVsaWFiaWxpdHkuXG4gICAqL1xuICBwcml2YXRlIGhhbmRsZVRvZ2dsZShsZXR0ZXI6IHN0cmluZyk6IHZvaWQge1xuICAgIC8vIENsZWFyIGFueSBwZW5kaW5nIGluc2VydCBidWZmZXIgc28gdGhlIHN5bWJvbCBuZXZlciBsYW5kcyBpbiB0aGUgcHJvbXB0XG4gICAgdGhpcy5wZW5kaW5nSW5zZXJ0QnVmZmVyID0gJyc7XG4gICAgLy8gQ2FuY2VsIGFueSBwbGFpbiBwYXN0ZSBkZXRlY3Rpb24gaW4gcHJvZ3Jlc3NcbiAgICB0aGlzLmNhbmNlbFBsYWluUGFzdGVDYXB0dXJlKCk7XG5cbiAgICAvLyBGb3JjZSBpbW1lZGlhdGUgcmVuZGVyIGZvciB0b2dnbGVzIC0gd29ya3MgZHVyaW5nIHN0cmVhbWluZ1xuICAgIGNvbnN0IGZvcmNlUmVuZGVyID0gKCkgPT4ge1xuICAgICAgaWYgKHRoaXMubW9kZSA9PT0gJ3N0cmVhbWluZycpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJQcm9tcHRJbW1lZGlhdGUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucmVuZGVyUHJvbXB0KCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGlmIChwcm9jZXNzLmVudlsnQUdJX0RFQlVHX0tFWVMnXSkge1xuICAgICAgY29uc29sZS5lcnJvcihgW0tFWV0gVE9HR0xFIEhBTkRMSU5HOiAke2xldHRlcn1gKTtcbiAgICB9XG5cbiAgICBzd2l0Y2ggKGxldHRlcikge1xuICAgICAgY2FzZSAnYSc6XG4gICAgICAgIHRoaXMuZW1pdCgndG9nZ2xlLWNyaXRpY2FsLWFwcHJvdmFsJyk7XG4gICAgICAgIGZvcmNlUmVuZGVyKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnZyc6XG4gICAgICAgIHRoaXMuZW1pdCgndG9nZ2xlLWF1dG8tY29udGludWUnKTtcbiAgICAgICAgZm9yY2VSZW5kZXIoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdkJzpcbiAgICAgICAgdGhpcy5lbWl0KCd0b2dnbGUtYWxwaGF6ZXJvJyk7XG4gICAgICAgIGZvcmNlUmVuZGVyKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndCc6XG4gICAgICAgIHRoaXMuZW1pdCgndG9nZ2xlLXRoaW5raW5nJyk7XG4gICAgICAgIGZvcmNlUmVuZGVyKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndic6XG4gICAgICAgIC8vIE9wdGlvbitWOiBBdmFpbGFibGUgZm9yIGZ1dHVyZSB0b2dnbGVcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSBDdHJsK0MgZGV0ZWN0ZWQgYXQgcmF3IGRhdGEgbGV2ZWwuXG4gICAqIEJ5cGFzc2VzIHJlYWRsaW5lJ3Mga2V5cHJlc3MgcGFyc2luZyBmb3IgcmVsaWFiaWxpdHkuXG4gICAqL1xuICBwcml2YXRlIGhhbmRsZUN0cmxDKCk6IHZvaWQge1xuICAgIGlmIChwcm9jZXNzLmVudlsnQUdJX0RFQlVHX0tFWVMnXSkge1xuICAgICAgY29uc29sZS5lcnJvcihgW0tFWV0gSEFORExJTkcgQ1RSTCtDYCk7XG4gICAgfVxuXG4gICAgLy8gSWYgd2UncmUgaW4gaW5wdXQgY2FwdHVyZSBtb2RlLCBjYW5jZWwgaXQgZmlyc3RcbiAgICBpZiAodGhpcy5pbnB1dENhcHR1cmUpIHtcbiAgICAgIHRoaXMuY2FuY2VsSW5wdXRDYXB0dXJlKG5ldyBFcnJvcignSW5wdXQgY2FwdHVyZSBjYW5jZWxsZWQnKSk7XG4gICAgICB0aGlzLmNsZWFyQnVmZmVyKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQ3RybCtDIGJlaGF2aW9yOlxuICAgIC8vIDEuIElmIGJ1ZmZlciBoYXMgdGV4dDogY2xlYXIgaXQgZmlyc3QsIHRoZW4gbm90aWZ5IHNoZWxsXG4gICAgLy8gMi4gSWYgYnVmZmVyIGlzIGVtcHR5OiBsZXQgc2hlbGwgZGVjaWRlIHRvIHBhdXNlIEFJIG9yIHF1aXRcbiAgICBjb25zdCBoYWRCdWZmZXIgPSB0aGlzLmJ1ZmZlci5sZW5ndGggPiAwO1xuICAgIGlmIChoYWRCdWZmZXIpIHtcbiAgICAgIHRoaXMuYnVmZmVyID0gJyc7XG4gICAgICB0aGlzLmN1cnNvciA9IDA7XG4gICAgICB0aGlzLmlucHV0UmVuZGVyT2Zmc2V0ID0gMDtcbiAgICAgIHRoaXMucmVzZXRTdWdnZXN0aW9ucygpO1xuICAgICAgdGhpcy5yZW5kZXJQcm9tcHQoKTtcbiAgICAgIHRoaXMuZW1pdElucHV0Q2hhbmdlKCk7XG4gICAgfVxuICAgIC8vIEVtaXQgY3RybGMgZXZlbnQgd2l0aCBidWZmZXIgc3RhdGUgc28gc2hlbGwgY2FuIGhhbmRsZSBhcHByb3ByaWF0ZWx5XG4gICAgdGhpcy5lbWl0KCdjdHJsYycsIHsgaGFkQnVmZmVyIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSBDdHJsK0QgZGV0ZWN0ZWQgYXQgcmF3IGRhdGEgbGV2ZWwuXG4gICAqIEJ5cGFzc2VzIHJlYWRsaW5lJ3Mga2V5cHJlc3MgcGFyc2luZyBmb3IgcmVsaWFiaWxpdHkuXG4gICAqL1xuICBwcml2YXRlIGhhbmRsZUN0cmxEKCk6IHZvaWQge1xuICAgIGlmIChwcm9jZXNzLmVudlsnQUdJX0RFQlVHX0tFWVMnXSkge1xuICAgICAgY29uc29sZS5lcnJvcihgW0tFWV0gSEFORExJTkcgQ1RSTCtEYCk7XG4gICAgfVxuXG4gICAgLy8gSWYgd2UncmUgaW4gaW5wdXQgY2FwdHVyZSBtb2RlLCBjYW5jZWwgaXQgZmlyc3RcbiAgICBpZiAodGhpcy5pbnB1dENhcHR1cmUpIHtcbiAgICAgIHRoaXMuY2FuY2VsSW5wdXRDYXB0dXJlKG5ldyBFcnJvcignSW5wdXQgY2FwdHVyZSBjYW5jZWxsZWQnKSk7XG4gICAgICB0aGlzLmNsZWFyQnVmZmVyKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQ3RybCtEOiBpbnRlcnJ1cHQgaWYgYnVmZmVyIGlzIGVtcHR5XG4gICAgaWYgKHRoaXMuYnVmZmVyLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhpcy5lbWl0KCdpbnRlcnJ1cHQnKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ29tbWl0IGJ1ZmZlcmVkIGVtaXQtbGV2ZWwgaW5wdXQgYWZ0ZXIgaWRsZSBwZXJpb2QuXG4gICAqIERlY2lkZXMgd2hldGhlciB0byB0cmVhdCBhcyBwYXN0ZSAoY29sbGFwc2UpIG9yIG5vcm1hbCB0eXBpbmcgKGluc2VydCkuXG4gICAqL1xuICBwcml2YXRlIGNvbW1pdEVtaXRQYXN0ZUJ1ZmZlcigpOiB2b2lkIHtcbiAgICBjb25zdCBjb250ZW50ID0gdGhpcy5lbWl0UGFzdGVCdWZmZXI7XG4gICAgdGhpcy5lbWl0UGFzdGVCdWZmZXIgPSAnJztcbiAgICB0aGlzLmVtaXRQYXN0ZVRpbWVyID0gbnVsbDtcblxuICAgIGlmICghY29udGVudCkgcmV0dXJuO1xuXG4gICAgaWYgKHByb2Nlc3MuZW52WydBR0lfREVCVUdfS0VZUyddKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGBbS0VZXSBDT01NSVQgRU1JVCBCVUZGRVI6ICR7Y29udGVudC5sZW5ndGh9IGNoYXJzYCk7XG4gICAgfVxuXG4gICAgLy8gU2FuaXRpemUgY29udGVudFxuICAgIGxldCBzYW5pdGl6ZWQgPSB0aGlzLnNhbml0aXplUGFzdGVDb250ZW50KGNvbnRlbnQpO1xuICAgIHNhbml0aXplZCA9IHNhbml0aXplZC5yZXBsYWNlKC9cXHJcXG4/L2csICdcXG4nKTtcblxuICAgIC8vIElucHV0IHByb3RlY3Rpb24gdmFsaWRhdGlvblxuICAgIGlmICh0aGlzLmlucHV0UHJvdGVjdGlvbikge1xuICAgICAgY29uc3QgdmFsaWRhdGlvbiA9IHRoaXMuaW5wdXRQcm90ZWN0aW9uLnZhbGlkYXRlSW5wdXQoc2FuaXRpemVkLCB0cnVlKTtcbiAgICAgIGlmICh2YWxpZGF0aW9uLmJsb2NrZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2FuaXRpemVkID0gdmFsaWRhdGlvbi5zYW5pdGl6ZWQ7XG4gICAgfVxuXG4gICAgaWYgKCFzYW5pdGl6ZWQpIHJldHVybjtcblxuICAgIGNvbnN0IGxpbmVzID0gc2FuaXRpemVkLnNwbGl0KCdcXG4nKTtcbiAgICBjb25zdCBpc011bHRpTGluZSA9IGxpbmVzLmxlbmd0aCA+IDE7XG4gICAgY29uc3QgaXNMb25nQ29udGVudCA9IHNhbml0aXplZC5sZW5ndGggPiAxMDA7IC8vIExvd2VyIHRocmVzaG9sZCBmb3IgYmV0dGVyIFVYXG5cbiAgICAvLyBNdWx0aS1saW5lIG9yIGxvbmcgY29udGVudDogc2hvdyBjb2xsYXBzZWQgaW5kaWNhdG9yXG4gICAgaWYgKGlzTXVsdGlMaW5lIHx8IGlzTG9uZ0NvbnRlbnQpIHtcbiAgICAgIC8vIENvbWJpbmUgd2l0aCBleGlzdGluZyBjb2xsYXBzZWQgcGFzdGUgaWYgYW55XG4gICAgICBpZiAodGhpcy5jb2xsYXBzZWRQYXN0ZSkge1xuICAgICAgICBzYW5pdGl6ZWQgPSB0aGlzLmNvbGxhcHNlZFBhc3RlLnRleHQgKyBzYW5pdGl6ZWQ7XG4gICAgICAgIGNvbnN0IG5ld0xpbmVzID0gc2FuaXRpemVkLnNwbGl0KCdcXG4nKTtcbiAgICAgICAgdGhpcy5jb2xsYXBzZWRQYXN0ZSA9IHtcbiAgICAgICAgICB0ZXh0OiBzYW5pdGl6ZWQsXG4gICAgICAgICAgbGluZXM6IG5ld0xpbmVzLmxlbmd0aCxcbiAgICAgICAgICBjaGFyczogc2FuaXRpemVkLmxlbmd0aCxcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuY29sbGFwc2VkUGFzdGUgPSB7XG4gICAgICAgICAgdGV4dDogc2FuaXRpemVkLFxuICAgICAgICAgIGxpbmVzOiBsaW5lcy5sZW5ndGgsXG4gICAgICAgICAgY2hhcnM6IHNhbml0aXplZC5sZW5ndGgsXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuYnVmZmVyID0gJyc7XG4gICAgICAgIHRoaXMuY3Vyc29yID0gMDtcbiAgICAgIH1cbiAgICAgIHRoaXMudXBkYXRlU3VnZ2VzdGlvbnMoKTtcbiAgICAgIHRoaXMuZm9yY2VOZXh0UmVuZGVyID0gdHJ1ZTtcbiAgICAgIHRoaXMucmVuZGVyUHJvbXB0KCk7XG4gICAgICB0aGlzLmVtaXRJbnB1dENoYW5nZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBTaG9ydCBzaW5nbGUtbGluZSBjb250ZW50OiBpbnNlcnQgZGlyZWN0bHkgYXMgaWYgdHlwZWRcbiAgICAgIGlmICh0aGlzLmNvbGxhcHNlZFBhc3RlKSB7XG4gICAgICAgIHRoaXMuZXhwYW5kQ29sbGFwc2VkUGFzdGVUb0J1ZmZlcigpO1xuICAgICAgfVxuICAgICAgdGhpcy5pbnNlcnRTaW5nbGVMaW5lVGV4dChzYW5pdGl6ZWQpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgcGFzdGUgZGV0ZWN0ZWQgYXQgZW1pdCBsZXZlbCAobXVsdGktY2hhciBkYXRhIGFycml2aW5nIGF0IG9uY2UpLlxuICAgKiBUaGlzIGJ5cGFzc2VzIHJlYWRsaW5lIHByb2Nlc3NpbmcgZm9yIHJlbGlhYmxlIHBhc3RlIGRldGVjdGlvbi5cbiAgICovXG4gIHByaXZhdGUgaGFuZGxlRW1pdExldmVsUGFzdGUoY29udGVudDogc3RyaW5nKTogdm9pZCB7XG4gICAgaWYgKHByb2Nlc3MuZW52WydBR0lfREVCVUdfS0VZUyddKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGBbS0VZXSBFTUlUIFBBU1RFIEhBTkRMSU5HOiAke2NvbnRlbnQubGVuZ3RofSBjaGFyc2ApO1xuICAgIH1cblxuICAgIC8vIFNhbml0aXplIGNvbnRlbnQgKHJlbW92ZSBjb250cm9sIGNoYXJzLCBub3JtYWxpemUgbGluZSBlbmRpbmdzKVxuICAgIGxldCBzYW5pdGl6ZWQgPSB0aGlzLnNhbml0aXplUGFzdGVDb250ZW50KGNvbnRlbnQpO1xuICAgIHNhbml0aXplZCA9IHNhbml0aXplZC5yZXBsYWNlKC9cXHJcXG4/L2csICdcXG4nKTtcblxuICAgIC8vIElucHV0IHByb3RlY3Rpb24gdmFsaWRhdGlvblxuICAgIGlmICh0aGlzLmlucHV0UHJvdGVjdGlvbikge1xuICAgICAgY29uc3QgdmFsaWRhdGlvbiA9IHRoaXMuaW5wdXRQcm90ZWN0aW9uLnZhbGlkYXRlSW5wdXQoc2FuaXRpemVkLCB0cnVlKTtcbiAgICAgIGlmICh2YWxpZGF0aW9uLmJsb2NrZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2FuaXRpemVkID0gdmFsaWRhdGlvbi5zYW5pdGl6ZWQ7XG4gICAgfVxuXG4gICAgaWYgKCFzYW5pdGl6ZWQpIHJldHVybjtcblxuICAgIGNvbnN0IGxpbmVzID0gc2FuaXRpemVkLnNwbGl0KCdcXG4nKTtcbiAgICBjb25zdCBpc011bHRpTGluZSA9IGxpbmVzLmxlbmd0aCA+IDE7XG4gICAgY29uc3QgaXNMb25nQ29udGVudCA9IHNhbml0aXplZC5sZW5ndGggPiAyMDA7XG5cbiAgICAvLyBNdWx0aS1saW5lIG9yIGxvbmcgY29udGVudDogc2hvdyBjb2xsYXBzZWQgaW5kaWNhdG9yXG4gICAgaWYgKGlzTXVsdGlMaW5lIHx8IGlzTG9uZ0NvbnRlbnQpIHtcbiAgICAgIC8vIENsZWFyIGFueSBleGlzdGluZyBjb2xsYXBzZWQgcGFzdGUgZmlyc3RcbiAgICAgIGlmICh0aGlzLmNvbGxhcHNlZFBhc3RlKSB7XG4gICAgICAgIHRoaXMuZXhwYW5kQ29sbGFwc2VkUGFzdGVUb0J1ZmZlcigpO1xuICAgICAgfVxuICAgICAgdGhpcy5jb2xsYXBzZWRQYXN0ZSA9IHtcbiAgICAgICAgdGV4dDogc2FuaXRpemVkLFxuICAgICAgICBsaW5lczogbGluZXMubGVuZ3RoLFxuICAgICAgICBjaGFyczogc2FuaXRpemVkLmxlbmd0aCxcbiAgICAgIH07XG4gICAgICB0aGlzLmJ1ZmZlciA9ICcnO1xuICAgICAgdGhpcy5jdXJzb3IgPSAwO1xuICAgICAgdGhpcy51cGRhdGVTdWdnZXN0aW9ucygpO1xuICAgICAgdGhpcy5mb3JjZU5leHRSZW5kZXIgPSB0cnVlO1xuICAgICAgdGhpcy5yZW5kZXJQcm9tcHQoKTtcbiAgICAgIHRoaXMuZW1pdElucHV0Q2hhbmdlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFNob3J0IHNpbmdsZS1saW5lIGNvbnRlbnQ6IGluc2VydCBkaXJlY3RseSBhcyBpZiB0eXBlZFxuICAgICAgLy8gSWYgdGhlcmUncyBhIGNvbGxhcHNlZCBwYXN0ZSwgZXhwYW5kIGl0IGZpcnN0XG4gICAgICBpZiAodGhpcy5jb2xsYXBzZWRQYXN0ZSkge1xuICAgICAgICB0aGlzLmV4cGFuZENvbGxhcHNlZFBhc3RlVG9CdWZmZXIoKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuaW5zZXJ0U2luZ2xlTGluZVRleHQoc2FuaXRpemVkKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGVtaXRJbnB1dENoYW5nZSgpOiB2b2lkIHtcbiAgICBjb25zdCBwYXlsb2FkOiBJbnB1dENoYW5nZUV2ZW50ID0ge1xuICAgICAgdGV4dDogdGhpcy5idWZmZXIsXG4gICAgICBjdXJzb3I6IHRoaXMuY3Vyc29yLFxuICAgIH07XG4gICAgdGhpcy5lbWl0KCdjaGFuZ2UnLCBwYXlsb2FkKTtcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlS2V5cHJlc3Moc3RyOiBzdHJpbmcsIGtleTogcmVhZGxpbmUuS2V5KTogdm9pZCB7XG4gICAgLy8gU2tpcCBwcm9jZXNzaW5nIGlmIGEgcmF3LWxldmVsIHRvZ2dsZSB3YXMgYWxyZWFkeSBoYW5kbGVkIGZvciB0aGlzIGtleXByZXNzXG4gICAgaWYgKHRoaXMucGVuZGluZ1RvZ2dsZVNraXBzID4gMCkge1xuICAgICAgdGhpcy5wZW5kaW5nVG9nZ2xlU2tpcHMtLTtcbiAgICAgIGlmIChwcm9jZXNzLmVudlsnQUdJX0RFQlVHX0tFWVMnXSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKGBbS0VZXSBTS0lQIEtFWVBSRVNTIChwZW5kaW5nIHRvZ2dsZSlgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBCTE9DSzogSWYgQ3RybCtDL0Qgd2FzIGludGVyY2VwdGVkIGF0IHJhdyBsZXZlbCwgaXQncyBhbHJlYWR5IGhhbmRsZWRcbiAgICBpZiAodGhpcy5pbnRlcmNlcHRlZEN0cmxDIHx8IHRoaXMuaW50ZXJjZXB0ZWRDdHJsRCkge1xuICAgICAgcmV0dXJuOyAvLyBBbHJlYWR5IGhhbmRsZWQgaW4gcmF3IGRhdGEgaGFuZGxlclxuICAgIH1cblxuICAgIC8vIEJMT0NLOiBJZiB0b2dnbGUgd2FzIGludGVyY2VwdGVkIGF0IHJhdyBsZXZlbCwgaXQncyBhbHJlYWR5IGhhbmRsZWRcbiAgICBpZiAodGhpcy5pbnRlcmNlcHRlZFRvZ2dsZSkge1xuICAgICAgdGhpcy5pbnRlcmNlcHRlZFRvZ2dsZSA9IG51bGw7XG4gICAgICByZXR1cm47IC8vIEFscmVhZHkgaGFuZGxlZCBpbiByYXcgZGF0YSBoYW5kbGVyXG4gICAgfVxuXG4gICAgLy8gQkxPQ0s6IENoZWNrIGNoYXJhY3RlciBjb2RlIGRpcmVjdGx5IGZvciBzcGVjaWFsIGtleXNcbiAgICBjb25zdCBjb2RlID0gc3RyID8gc3RyLmNoYXJDb2RlQXQoMCkgOiAwO1xuICAgIGlmIChjb2RlID09PSAzKSB7IC8vIEN0cmwrQ1xuICAgICAgdGhpcy5oYW5kbGVDdHJsQygpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoY29kZSA9PT0gNCkgeyAvLyBDdHJsK0RcbiAgICAgIHRoaXMuaGFuZGxlQ3RybEQoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBCTE9DSzogQ2hlY2sgZm9yIHRvZ2dsZSBjaGFyYWN0ZXJzIGRpcmVjdGx5XG4gICAgaWYgKHN0ciAmJiB0aGlzLmlzVG9nZ2xlQ2hhcmFjdGVyKHN0cikpIHtcbiAgICAgIHRoaXMuaGFuZGxlVG9nZ2xlKHRoaXMuZGV0ZWN0VG9nZ2xlRnJvbVJhd0RhdGEoc3RyKSEpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIERlYnVnOiBsb2cgZW50cnkgcGFyYW1ldGVycyB0byB1bmRlcnN0YW5kIHdoYXQgcmVhZGxpbmUgaXMgc2VuZGluZ1xuICAgIGlmIChwcm9jZXNzLmVudlsnQUdJX0RFQlVHX0tFWVMnXSkge1xuICAgICAgY29uc3Qga2V5SW5mbyA9IGtleSA/IGBuYW1lPSR7a2V5Lm5hbWV9IGN0cmw9JHtrZXkuY3RybH0gbWV0YT0ke2tleS5tZXRhfSBzaGlmdD0ke2tleS5zaGlmdH0gc2VxPSR7a2V5LnNlcXVlbmNlID8gSlNPTi5zdHJpbmdpZnkoa2V5LnNlcXVlbmNlKSA6ICdudWxsJ31gIDogJ251bGwnO1xuICAgICAgY29uc29sZS5lcnJvcihgW0tFWV0gRU5UUlk6IHN0cj0ke3N0ciA/IEpTT04uc3RyaW5naWZ5KHN0cikgOiAnbnVsbCd9IGNvZGU9JHtjb2RlfSBrZXk9eyR7a2V5SW5mb319YCk7XG4gICAgfVxuICAgIC8vIE5vcm1hbGl6ZSBtaXNzaW5nIGtleSBtZXRhZGF0YSAoY29tbW9uIGZvciBzb21lIHRlcm1pbmFscyBlbWl0dGluZyByYXcgZXNjYXBlIGNvZGVzKVxuICAgIGNvbnN0IG5vcm1hbGl6ZWRLZXkgPSBrZXkgPz8gdGhpcy5wYXJzZUVzY2FwZVNlcXVlbmNlKHN0cik7XG4gICAgY29uc3Qga2V5Rm9yUGFzdGUgPSBub3JtYWxpemVkS2V5ID8/IChzdHIgPyB7IHNlcXVlbmNlOiBzdHIgfSBhcyByZWFkbGluZS5LZXkgOiBrZXkpO1xuXG4gICAgLy8gQ1JJVElDQUw6IEhhbmRsZSBDdHJsK0MgYW5kIEN0cmwrRCBGSVJTVCAtIG11c3QgQUxXQVlTIHdvcmsgdG8gcXVpdC9pbnRlcnJ1cHRcbiAgICAvLyBUaGlzIGlzIGNoZWNrZWQgYmVmb3JlIEFOWSBvdGhlciBwcm9jZXNzaW5nIHRvIGVuc3VyZSBpdCBjYW4gbmV2ZXIgYmUgYmxvY2tlZFxuICAgIGlmIChub3JtYWxpemVkS2V5Py5jdHJsICYmIChub3JtYWxpemVkS2V5Lm5hbWUgPT09ICdjJyB8fCBub3JtYWxpemVkS2V5Lm5hbWUgPT09ICdkJykpIHtcbiAgICAgIC8vIElmIHdlJ3JlIGluIGlucHV0IGNhcHR1cmUgbW9kZSwgY2FuY2VsIGl0IGZpcnN0XG4gICAgICBpZiAodGhpcy5pbnB1dENhcHR1cmUpIHtcbiAgICAgICAgdGhpcy5jYW5jZWxJbnB1dENhcHR1cmUobmV3IEVycm9yKCdJbnB1dCBjYXB0dXJlIGNhbmNlbGxlZCcpKTtcbiAgICAgICAgdGhpcy5jbGVhckJ1ZmZlcigpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChub3JtYWxpemVkS2V5Lm5hbWUgPT09ICdjJykge1xuICAgICAgICAvLyBDdHJsK0MgYmVoYXZpb3I6XG4gICAgICAgIC8vIDEuIElmIGJ1ZmZlciBoYXMgdGV4dDogY2xlYXIgaXQgZmlyc3QsIHRoZW4gbm90aWZ5IHNoZWxsXG4gICAgICAgIC8vIDIuIElmIGJ1ZmZlciBpcyBlbXB0eTogbGV0IHNoZWxsIGRlY2lkZSB0byBwYXVzZSBBSSBvciBxdWl0XG4gICAgICAgIGNvbnN0IGhhZEJ1ZmZlciA9IHRoaXMuYnVmZmVyLmxlbmd0aCA+IDA7XG4gICAgICAgIGlmIChoYWRCdWZmZXIpIHtcbiAgICAgICAgICB0aGlzLmJ1ZmZlciA9ICcnO1xuICAgICAgICAgIHRoaXMuY3Vyc29yID0gMDtcbiAgICAgICAgICB0aGlzLmlucHV0UmVuZGVyT2Zmc2V0ID0gMDtcbiAgICAgICAgICB0aGlzLnJlc2V0U3VnZ2VzdGlvbnMoKTtcbiAgICAgICAgICB0aGlzLnJlbmRlclByb21wdCgpO1xuICAgICAgICAgIHRoaXMuZW1pdElucHV0Q2hhbmdlKCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRW1pdCBjdHJsYyBldmVudCB3aXRoIGJ1ZmZlciBzdGF0ZSBzbyBzaGVsbCBjYW4gaGFuZGxlIGFwcHJvcHJpYXRlbHlcbiAgICAgICAgdGhpcy5lbWl0KCdjdHJsYycsIHsgaGFkQnVmZmVyIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChub3JtYWxpemVkS2V5Lm5hbWUgPT09ICdkJykge1xuICAgICAgICAvLyBDdHJsK0Q6IGludGVycnVwdCBpZiBidWZmZXIgaXMgZW1wdHlcbiAgICAgICAgaWYgKHRoaXMuYnVmZmVyLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHRoaXMuZW1pdCgnaW50ZXJydXB0Jyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEhhbmRsZSBtYWNPUyBPcHRpb24ra2V5IHRvZ2dsZXMgQkVGT1JFIGFueSBwYXN0ZSBkZXRlY3Rpb25cbiAgICAvLyBDaGVjayBtdWx0aXBsZSBzb3VyY2VzOiBzdHIsIGtleS5zZXF1ZW5jZSwgYW5kIGtleS5tZXRhK2tleS5uYW1lXG4gICAgLy8gVGhpcyBpcyBhIGZhbGxiYWNrIC0gcHJpbWFyeSBkZXRlY3Rpb24gaGFwcGVucyBpbiB0aGUgcmF3ICdkYXRhJyBldmVudCBoYW5kbGVyXG5cbiAgICAvLyBDaGVjayBzdHIgZmlyc3RcbiAgICBsZXQgdG9nZ2xlTGV0dGVyID0gdGhpcy5kZXRlY3RUb2dnbGVGcm9tUmF3RGF0YShzdHIpO1xuXG4gICAgLy8gQWxzbyBjaGVjayBrZXkuc2VxdWVuY2UgaWYgc3RyIGRpZG4ndCBtYXRjaCAocmVhZGxpbmUgbWF5IHRyYW5zZm9ybSB0aGUgaW5wdXQpXG4gICAgaWYgKCF0b2dnbGVMZXR0ZXIgJiYga2V5Py5zZXF1ZW5jZSkge1xuICAgICAgdG9nZ2xlTGV0dGVyID0gdGhpcy5kZXRlY3RUb2dnbGVGcm9tUmF3RGF0YShrZXkuc2VxdWVuY2UpO1xuICAgICAgaWYgKHRvZ2dsZUxldHRlciAmJiBwcm9jZXNzLmVudlsnQUdJX0RFQlVHX0tFWVMnXSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKGBbS0VZXSBUT0dHTEUgREVURUNURUQgdmlhIGtleS5zZXF1ZW5jZTogJHt0b2dnbGVMZXR0ZXJ9YCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRvZ2dsZUxldHRlcikge1xuICAgICAgaWYgKHByb2Nlc3MuZW52WydBR0lfREVCVUdfS0VZUyddKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYFtLRVldIFRPR0dMRSBERVRFQ1RFRCAoa2V5cHJlc3MgZmFsbGJhY2spOiAke3RvZ2dsZUxldHRlcn1gKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuaGFuZGxlVG9nZ2xlKHRvZ2dsZUxldHRlcik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQWxzbyBjaGVjayBtZXRhK2tleSBwYXR0ZXJuIGlmIHN0ci9zZXF1ZW5jZSBkaWRuJ3QgbWF0Y2hcbiAgICBpZiAobm9ybWFsaXplZEtleT8ubWV0YSAmJiBub3JtYWxpemVkS2V5Lm5hbWUpIHtcbiAgICAgIGNvbnN0IG1ldGFMZXR0ZXIgPSBub3JtYWxpemVkS2V5Lm5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgIGlmIChbJ2cnLCAnYScsICdkJywgJ3QnLCAndiddLmluY2x1ZGVzKG1ldGFMZXR0ZXIpKSB7XG4gICAgICAgIGlmIChwcm9jZXNzLmVudlsnQUdJX0RFQlVHX0tFWVMnXSkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYFtLRVldIFRPR0dMRSBERVRFQ1RFRCAobWV0YSBrZXkpOiAke21ldGFMZXR0ZXJ9YCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5oYW5kbGVUb2dnbGUobWV0YUxldHRlcik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5oYW5kbGVCcmFja2V0ZWRQYXN0ZShzdHIsIGtleUZvclBhc3RlKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmhhbmRsZVBsYWluUGFzdGUoc3RyLCBrZXlGb3JQYXN0ZSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIW5vcm1hbGl6ZWRLZXkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBpbnB1dENhcHR1cmUgQ3RybCtDL0QgaXMgaGFuZGxlZCBhdCB0aGUgdG9wIG9mIGhhbmRsZUtleXByZXNzXG5cbiAgICAvLyBEZXRlY3QgQ3RybCtTaGlmdCBjb21iaW5hdGlvbnMgKGZhbGxiYWNrIGZvciBub24tbWFjT1Mgb3IgY29uZmlndXJlZCB0ZXJtaW5hbHMpXG4gICAgY29uc3QgaXNDdHJsU2hpZnQgPSAobGV0dGVyOiBzdHJpbmcpOiBib29sZWFuID0+IHtcbiAgICAgIGNvbnN0IGxvd2VyTGV0dGVyID0gbGV0dGVyLnRvTG93ZXJDYXNlKCk7XG4gICAgICBjb25zdCB1cHBlckxldHRlciA9IGxldHRlci50b1VwcGVyQ2FzZSgpO1xuXG4gICAgICAvLyBQYXR0ZXJuIDE6IFN0YW5kYXJkIHJlYWRsaW5lIHNoaWZ0IGZsYWcgKyBjdHJsXG4gICAgICBpZiAobm9ybWFsaXplZEtleS5jdHJsICYmIG5vcm1hbGl6ZWRLZXkuc2hpZnQgJiYgbm9ybWFsaXplZEtleS5uYW1lPy50b0xvd2VyQ2FzZSgpID09PSBsb3dlckxldHRlcikge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgLy8gUGF0dGVybiAyOiBTb21lIHRlcm1pbmFscyBzZW5kIHVwcGVyY2FzZSBuYW1lIHdpdGggY3RybFxuICAgICAgaWYgKG5vcm1hbGl6ZWRLZXkuY3RybCAmJiBub3JtYWxpemVkS2V5Lm5hbWUgPT09IHVwcGVyTGV0dGVyKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgICAvLyBQYXR0ZXJuIDM6IE1ldGEvQWx0ICsgbGV0dGVyIChpVGVybTIgd2l0aCBcIk9wdGlvbiBzZW5kcyBNZXRhXCIpXG4gICAgICBpZiAobm9ybWFsaXplZEtleS5tZXRhICYmIG5vcm1hbGl6ZWRLZXkubmFtZT8udG9Mb3dlckNhc2UoKSA9PT0gbG93ZXJMZXR0ZXIpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIC8vIFBhdHRlcm4gNDogUmF3IGVzY2FwZSBzZXF1ZW5jZSBjaGVjayBmb3IgeHRlcm0tc3R5bGUgbW9kaWZpZXJzXG4gICAgICBjb25zdCBzZXEgPSBzdHIgfHwgbm9ybWFsaXplZEtleS5zZXF1ZW5jZTtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb250cm9sLXJlZ2V4XG4gICAgICBpZiAoc2VxICYmIC9eXFx4MWJcXFtbMC05XSs7Nlt+QS1aXT8kLy50ZXN0KHNlcSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIC8vIFBhdHRlcm4gNTogRVNDICsgbGV0dGVyIChPcHRpb24gc2VuZHMgRVNDIHByZWZpeCBpbiBzb21lIGNvbmZpZ3MpXG4gICAgICBpZiAoc2VxICYmIHNlcSA9PT0gYFxceDFiJHtsb3dlckxldHRlcn1gKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZUN0cmxTaGlmdFRvZ2dsZSA9IChsZXR0ZXI6ICdhJyB8ICdnJyB8ICdkJyB8ICd0Jyk6IHZvaWQgPT4ge1xuICAgICAgLy8gRW5zdXJlIG5vIGJ1ZmZlcmVkIGNoYXJzIGxlYWsgaW50byB0aGUgcHJvbXB0XG4gICAgICB0aGlzLnBlbmRpbmdJbnNlcnRCdWZmZXIgPSAnJztcbiAgICAgIGlmIChsZXR0ZXIgPT09ICdhJykge1xuICAgICAgICB0aGlzLmVtaXQoJ3RvZ2dsZS1jcml0aWNhbC1hcHByb3ZhbCcpO1xuICAgICAgfSBlbHNlIGlmIChsZXR0ZXIgPT09ICdnJykge1xuICAgICAgICB0aGlzLmVtaXQoJ3RvZ2dsZS1hdXRvLWNvbnRpbnVlJyk7XG4gICAgICB9IGVsc2UgaWYgKGxldHRlciA9PT0gJ2QnKSB7XG4gICAgICAgIHRoaXMuZW1pdCgndG9nZ2xlLWFscGhhemVybycpO1xuICAgICAgfSBlbHNlIGlmIChsZXR0ZXIgPT09ICd0Jykge1xuICAgICAgICB0aGlzLmVtaXQoJ3RvZ2dsZS10aGlua2luZycpO1xuICAgICAgfVxuICAgICAgLy8gRm9yY2UgaW1tZWRpYXRlIHJlbmRlciBkdXJpbmcgc3RyZWFtaW5nIHRvIGVuc3VyZSB0b2dnbGUgc3RhdGUgaXMgdmlzaWJsZVxuICAgICAgaWYgKHRoaXMubW9kZSA9PT0gJ3N0cmVhbWluZycpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJQcm9tcHRJbW1lZGlhdGUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucmVuZGVyUHJvbXB0KCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGlmIChpc0N0cmxTaGlmdCgnYScpKSB7XG4gICAgICBoYW5kbGVDdHJsU2hpZnRUb2dnbGUoJ2EnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoaXNDdHJsU2hpZnQoJ2cnKSkge1xuICAgICAgaGFuZGxlQ3RybFNoaWZ0VG9nZ2xlKCdnJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGlzQ3RybFNoaWZ0KCdkJykpIHtcbiAgICAgIGhhbmRsZUN0cmxTaGlmdFRvZ2dsZSgnZCcpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChpc0N0cmxTaGlmdCgndCcpKSB7XG4gICAgICBoYW5kbGVDdHJsU2hpZnRUb2dnbGUoJ3QnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAobm9ybWFsaXplZEtleS5jdHJsICYmIG5vcm1hbGl6ZWRLZXkubmFtZT8udG9Mb3dlckNhc2UoKSA9PT0gJ3InKSB7XG4gICAgICB0aGlzLmVtaXQoJ3Jlc3VtZScpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIEN0cmwrQyBhbmQgQ3RybCtEIGFyZSBoYW5kbGVkIGF0IHRoZSB0b3Agb2YgaGFuZGxlS2V5cHJlc3MgZm9yIGd1YXJhbnRlZWQgZXhlY3V0aW9uXG5cbiAgICBpZiAoa2V5LmN0cmwgJiYga2V5Lm5hbWUgPT09ICd1Jykge1xuICAgICAgdGhpcy5jbGVhckJ1ZmZlcigpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIEN0cmwrTDogQ2xlYXIgc2NyZWVuIHdoaWxlIHByZXNlcnZpbmcgaW5wdXRcbiAgICBpZiAoa2V5LmN0cmwgJiYga2V5Lm5hbWUgPT09ICdsJykge1xuICAgICAgaWYgKHRoaXMuY29sbGFwc2VkUGFzdGUpIHtcbiAgICAgICAgdGhpcy5leHBhbmRDb2xsYXBzZWRQYXN0ZVRvQnVmZmVyKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIC8vIENsZWFyIHNjcmVlbiBhbmQgcmVkcmF3XG4gICAgICB0aGlzLm91dHB1dC53cml0ZSgnXFx4MWJbMkpcXHgxYltIJyk7IC8vIENsZWFyIHNjcmVlbiwgbW92ZSB0byB0b3BcbiAgICAgIHRoaXMuaGFzQ29udmVyc2F0aW9uQ29udGVudCA9IGZhbHNlO1xuICAgICAgdGhpcy5jbGVhckNvbGxhcHNlZFJlc3VsdHMoKTtcbiAgICAgIHRoaXMucmVuZGVyUHJvbXB0KCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQ3RybCtPOiBFeHBhbmQgbGFzdCB0b29sIHJlc3VsdFxuICAgIGlmIChrZXkuY3RybCAmJiBrZXkubmFtZSA9PT0gJ28nKSB7XG4gICAgICB0aGlzLmVtaXQoJ2V4cGFuZC10b29sLXJlc3VsdCcpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIEN0cmwrQTogTW92ZSBjdXJzb3IgdG8gc3RhcnQgb2YgbGluZVxuICAgIGlmIChrZXkuY3RybCAmJiBrZXkubmFtZSA9PT0gJ2EnKSB7XG4gICAgICBpZiAodGhpcy5jdXJzb3IgIT09IDApIHtcbiAgICAgICAgdGhpcy5jdXJzb3IgPSAwO1xuICAgICAgICB0aGlzLmlucHV0UmVuZGVyT2Zmc2V0ID0gMDtcbiAgICAgICAgdGhpcy5yZW5kZXJQcm9tcHQoKTtcbiAgICAgICAgdGhpcy5lbWl0SW5wdXRDaGFuZ2UoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBDdHJsK0U6IE1vdmUgY3Vyc29yIHRvIGVuZCBvZiBsaW5lXG4gICAgaWYgKGtleS5jdHJsICYmIGtleS5uYW1lID09PSAnZScpIHtcbiAgICAgIGlmICh0aGlzLmN1cnNvciAhPT0gdGhpcy5idWZmZXIubGVuZ3RoKSB7XG4gICAgICAgIHRoaXMuY3Vyc29yID0gdGhpcy5idWZmZXIubGVuZ3RoO1xuICAgICAgICB0aGlzLmVuc3VyZUN1cnNvclZpc2libGUoKTtcbiAgICAgICAgdGhpcy5yZW5kZXJQcm9tcHQoKTtcbiAgICAgICAgdGhpcy5lbWl0SW5wdXRDaGFuZ2UoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBDdHJsK1c6IERlbGV0ZSB3b3JkIGJhY2t3YXJkXG4gICAgaWYgKGtleS5jdHJsICYmIGtleS5uYW1lID09PSAndycpIHtcbiAgICAgIGlmICh0aGlzLmN1cnNvciA+IDApIHtcbiAgICAgICAgLy8gRmluZCBzdGFydCBvZiBwcmV2aW91cyB3b3JkXG4gICAgICAgIGxldCBwb3MgPSB0aGlzLmN1cnNvcjtcbiAgICAgICAgLy8gU2tpcCB0cmFpbGluZyBzcGFjZXNcbiAgICAgICAgd2hpbGUgKHBvcyA+IDAgJiYgdGhpcy5idWZmZXJbcG9zIC0gMV0gPT09ICcgJykgcG9zLS07XG4gICAgICAgIC8vIFNraXAgd29yZCBjaGFyYWN0ZXJzXG4gICAgICAgIHdoaWxlIChwb3MgPiAwICYmIHRoaXMuYnVmZmVyW3BvcyAtIDFdICE9PSAnICcpIHBvcy0tO1xuICAgICAgICB0aGlzLmJ1ZmZlciA9IHRoaXMuYnVmZmVyLnNsaWNlKDAsIHBvcykgKyB0aGlzLmJ1ZmZlci5zbGljZSh0aGlzLmN1cnNvcik7XG4gICAgICAgIHRoaXMuY3Vyc29yID0gcG9zO1xuICAgICAgICB0aGlzLnVwZGF0ZVN1Z2dlc3Rpb25zKCk7XG4gICAgICAgIHRoaXMucmVuZGVyUHJvbXB0KCk7XG4gICAgICAgIHRoaXMuZW1pdElucHV0Q2hhbmdlKCk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQ3RybCtLOiBEZWxldGUgZnJvbSBjdXJzb3IgdG8gZW5kIG9mIGxpbmVcbiAgICBpZiAoa2V5LmN0cmwgJiYga2V5Lm5hbWUgPT09ICdrJykge1xuICAgICAgaWYgKHRoaXMuY3Vyc29yIDwgdGhpcy5idWZmZXIubGVuZ3RoKSB7XG4gICAgICAgIHRoaXMuYnVmZmVyID0gdGhpcy5idWZmZXIuc2xpY2UoMCwgdGhpcy5jdXJzb3IpO1xuICAgICAgICB0aGlzLnVwZGF0ZVN1Z2dlc3Rpb25zKCk7XG4gICAgICAgIHRoaXMucmVuZGVyUHJvbXB0KCk7XG4gICAgICAgIHRoaXMuZW1pdElucHV0Q2hhbmdlKCk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gSG9tZTogTW92ZSBjdXJzb3IgdG8gc3RhcnRcbiAgICBpZiAoa2V5Lm5hbWUgPT09ICdob21lJykge1xuICAgICAgaWYgKHRoaXMuY3Vyc29yICE9PSAwKSB7XG4gICAgICAgIHRoaXMuY3Vyc29yID0gMDtcbiAgICAgICAgdGhpcy5pbnB1dFJlbmRlck9mZnNldCA9IDA7XG4gICAgICAgIHRoaXMucmVuZGVyUHJvbXB0KCk7XG4gICAgICAgIHRoaXMuZW1pdElucHV0Q2hhbmdlKCk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gRW5kOiBNb3ZlIGN1cnNvciB0byBlbmRcbiAgICBpZiAoa2V5Lm5hbWUgPT09ICdlbmQnKSB7XG4gICAgICBpZiAodGhpcy5jdXJzb3IgIT09IHRoaXMuYnVmZmVyLmxlbmd0aCkge1xuICAgICAgICB0aGlzLmN1cnNvciA9IHRoaXMuYnVmZmVyLmxlbmd0aDtcbiAgICAgICAgdGhpcy5lbnN1cmVDdXJzb3JWaXNpYmxlKCk7XG4gICAgICAgIHRoaXMucmVuZGVyUHJvbXB0KCk7XG4gICAgICAgIHRoaXMuZW1pdElucHV0Q2hhbmdlKCk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQWx0K0xlZnQ6IE1vdmUgY3Vyc29yIGJhY2sgb25lIHdvcmRcbiAgICBpZiAoa2V5Lm1ldGEgJiYga2V5Lm5hbWUgPT09ICdsZWZ0Jykge1xuICAgICAgaWYgKHRoaXMuY3Vyc29yID4gMCkge1xuICAgICAgICBsZXQgcG9zID0gdGhpcy5jdXJzb3I7XG4gICAgICAgIC8vIFNraXAgc3BhY2VzXG4gICAgICAgIHdoaWxlIChwb3MgPiAwICYmIHRoaXMuYnVmZmVyW3BvcyAtIDFdID09PSAnICcpIHBvcy0tO1xuICAgICAgICAvLyBTa2lwIHdvcmQgY2hhcmFjdGVyc1xuICAgICAgICB3aGlsZSAocG9zID4gMCAmJiB0aGlzLmJ1ZmZlcltwb3MgLSAxXSAhPT0gJyAnKSBwb3MtLTtcbiAgICAgICAgdGhpcy5jdXJzb3IgPSBwb3M7XG4gICAgICAgIHRoaXMuZW5zdXJlQ3Vyc29yVmlzaWJsZSgpO1xuICAgICAgICB0aGlzLnJlbmRlclByb21wdCgpO1xuICAgICAgICB0aGlzLmVtaXRJbnB1dENoYW5nZSgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIEFsdCtSaWdodDogTW92ZSBjdXJzb3IgZm9yd2FyZCBvbmUgd29yZFxuICAgIGlmIChrZXkubWV0YSAmJiBrZXkubmFtZSA9PT0gJ3JpZ2h0Jykge1xuICAgICAgaWYgKHRoaXMuY3Vyc29yIDwgdGhpcy5idWZmZXIubGVuZ3RoKSB7XG4gICAgICAgIGxldCBwb3MgPSB0aGlzLmN1cnNvcjtcbiAgICAgICAgLy8gU2tpcCBjdXJyZW50IHdvcmRcbiAgICAgICAgd2hpbGUgKHBvcyA8IHRoaXMuYnVmZmVyLmxlbmd0aCAmJiB0aGlzLmJ1ZmZlcltwb3NdICE9PSAnICcpIHBvcysrO1xuICAgICAgICAvLyBTa2lwIHNwYWNlc1xuICAgICAgICB3aGlsZSAocG9zIDwgdGhpcy5idWZmZXIubGVuZ3RoICYmIHRoaXMuYnVmZmVyW3Bvc10gPT09ICcgJykgcG9zKys7XG4gICAgICAgIHRoaXMuY3Vyc29yID0gcG9zO1xuICAgICAgICB0aGlzLmVuc3VyZUN1cnNvclZpc2libGUoKTtcbiAgICAgICAgdGhpcy5yZW5kZXJQcm9tcHQoKTtcbiAgICAgICAgdGhpcy5lbWl0SW5wdXRDaGFuZ2UoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBBbHQrQmFja3NwYWNlOiBEZWxldGUgd29yZCBiYWNrd2FyZCAoYWx0ZXJuYXRpdmUgdG8gQ3RybCtXKVxuICAgIGlmIChrZXkubWV0YSAmJiBrZXkubmFtZSA9PT0gJ2JhY2tzcGFjZScpIHtcbiAgICAgIGlmICh0aGlzLmNvbGxhcHNlZFBhc3RlKSB7XG4gICAgICAgIC8vIElmIHRoZXJlJ3MgYSBjb2xsYXBzZWQgcGFzdGUsIGRlbGV0ZSBpdCBjb21wbGV0ZWx5XG4gICAgICAgIHRoaXMuY29sbGFwc2VkUGFzdGUgPSBudWxsO1xuICAgICAgICB0aGlzLnJlbmRlclByb21wdCgpO1xuICAgICAgICB0aGlzLmVtaXRJbnB1dENoYW5nZSgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5jdXJzb3IgPiAwKSB7XG4gICAgICAgIGxldCBwb3MgPSB0aGlzLmN1cnNvcjtcbiAgICAgICAgd2hpbGUgKHBvcyA+IDAgJiYgdGhpcy5idWZmZXJbcG9zIC0gMV0gPT09ICcgJykgcG9zLS07XG4gICAgICAgIHdoaWxlIChwb3MgPiAwICYmIHRoaXMuYnVmZmVyW3BvcyAtIDFdICE9PSAnICcpIHBvcy0tO1xuICAgICAgICB0aGlzLmJ1ZmZlciA9IHRoaXMuYnVmZmVyLnNsaWNlKDAsIHBvcykgKyB0aGlzLmJ1ZmZlci5zbGljZSh0aGlzLmN1cnNvcik7XG4gICAgICAgIHRoaXMuY3Vyc29yID0gcG9zO1xuICAgICAgICB0aGlzLnVwZGF0ZVN1Z2dlc3Rpb25zKCk7XG4gICAgICAgIHRoaXMucmVuZGVyUHJvbXB0KCk7XG4gICAgICAgIHRoaXMuZW1pdElucHV0Q2hhbmdlKCk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGtleS5uYW1lID09PSAncmV0dXJuJyB8fCBrZXkubmFtZSA9PT0gJ2VudGVyJykge1xuICAgICAgLy8gRHVyaW5nIHN0cmVhbWluZywgcXVldWUgdGhlIGlucHV0IGZvciBwcm9jZXNzaW5nIGFmdGVyIEFJIGNvbXBsZXRlc1xuICAgICAgaWYgKHRoaXMubW9kZSA9PT0gJ3N0cmVhbWluZycpIHtcbiAgICAgICAgY29uc3QgcXVldWVkSW5wdXQgPSB0aGlzLnN0cmVhbWluZ0lucHV0UXVldWUuam9pbignJykudHJpbSgpO1xuICAgICAgICBpZiAocXVldWVkSW5wdXQpIHtcbiAgICAgICAgICB0aGlzLmVtaXQoJ3F1ZXVlJywgcXVldWVkSW5wdXQpO1xuICAgICAgICAgIHRoaXMuc3RyZWFtaW5nSW5wdXRRdWV1ZSA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIC8vIElmIHRoZXJlJ3MgYSBjb2xsYXBzZWQgcGFzdGUsIGV4cGFuZCBhbmQgc3VibWl0IGluIG9uZSBhY3Rpb25cbiAgICAgIGlmICh0aGlzLmNvbGxhcHNlZFBhc3RlKSB7XG4gICAgICAgIHRoaXMuZXhwYW5kQ29sbGFwc2VkUGFzdGVUb0J1ZmZlcigpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyBJZiBhIHNsYXNoIGNvbW1hbmQgc3VnZ2VzdGlvbiBpcyBoaWdobGlnaHRlZCwgcHJlc3NpbmcgRW50ZXIgc3VibWl0cyBpdCBpbW1lZGlhdGVseVxuICAgICAgaWYgKHRoaXMuYXBwbHlTdWdnZXN0aW9uKHRydWUpKSByZXR1cm47XG4gICAgICAvLyBGYWxsYmFjazogaWYgYnVmZmVyIHN0YXJ0cyB3aXRoICcvJyBhbmQgc3VnZ2VzdGlvbnMgZXhpc3QsIHVzZSB0aGUgc2VsZWN0ZWQvZmlyc3Qgb25lXG4gICAgICBpZiAodGhpcy5idWZmZXIuc3RhcnRzV2l0aCgnLycpICYmIHRoaXMuc3VnZ2VzdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCBzYWZlSW5kZXggPSB0aGlzLnN1Z2dlc3Rpb25JbmRleCA+PSAwICYmIHRoaXMuc3VnZ2VzdGlvbkluZGV4IDwgdGhpcy5zdWdnZXN0aW9ucy5sZW5ndGhcbiAgICAgICAgICA/IHRoaXMuc3VnZ2VzdGlvbkluZGV4XG4gICAgICAgICAgOiAwO1xuICAgICAgICB0aGlzLmJ1ZmZlciA9IHRoaXMuc3VnZ2VzdGlvbnNbc2FmZUluZGV4XT8uY29tbWFuZCA/PyB0aGlzLmJ1ZmZlcjtcbiAgICAgIH1cbiAgICAgIHRoaXMuc3VibWl0VGV4dCh0aGlzLmJ1ZmZlcik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKG5vcm1hbGl6ZWRLZXkubmFtZSA9PT0gJ2JhY2tzcGFjZScpIHtcbiAgICAgIC8vIFJlc2V0IGFueSBwYXN0ZSBkZXRlY3Rpb24gc3RhdGUgdG8gZW5zdXJlIGNsZWFuIHJlbmRlclxuICAgICAgdGhpcy5yZXNldFBsYWluUGFzdGVCdXJzdCgpO1xuICAgICAgdGhpcy5jYW5jZWxQbGFpblBhc3RlQ2FwdHVyZSgpO1xuICAgICAgaWYgKHRoaXMuY29sbGFwc2VkUGFzdGUpIHtcbiAgICAgICAgdGhpcy5jb2xsYXBzZWRQYXN0ZSA9IG51bGw7XG4gICAgICAgIHRoaXMuZm9yY2VOZXh0UmVuZGVyID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5yZW5kZXJQcm9tcHQoKTtcbiAgICAgICAgdGhpcy5lbWl0SW5wdXRDaGFuZ2UoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuY3Vyc29yID4gMCkge1xuICAgICAgICB0aGlzLmJ1ZmZlciA9IHRoaXMuYnVmZmVyLnNsaWNlKDAsIHRoaXMuY3Vyc29yIC0gMSkgKyB0aGlzLmJ1ZmZlci5zbGljZSh0aGlzLmN1cnNvcik7XG4gICAgICAgIHRoaXMuY3Vyc29yLS07XG4gICAgICAgIHRoaXMudXBkYXRlU3VnZ2VzdGlvbnMoKTtcbiAgICAgICAgdGhpcy5mb3JjZU5leHRSZW5kZXIgPSB0cnVlO1xuICAgICAgICB0aGlzLnJlbmRlclByb21wdCgpO1xuICAgICAgICB0aGlzLmVtaXRJbnB1dENoYW5nZSgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChub3JtYWxpemVkS2V5Lm5hbWUgPT09ICdkZWxldGUnKSB7XG4gICAgICAvLyBSZXNldCBhbnkgcGFzdGUgZGV0ZWN0aW9uIHN0YXRlIHRvIGVuc3VyZSBjbGVhbiByZW5kZXJcbiAgICAgIHRoaXMucmVzZXRQbGFpblBhc3RlQnVyc3QoKTtcbiAgICAgIHRoaXMuY2FuY2VsUGxhaW5QYXN0ZUNhcHR1cmUoKTtcbiAgICAgIGlmICh0aGlzLmNvbGxhcHNlZFBhc3RlKSB7XG4gICAgICAgIC8vIElmIHRoZXJlJ3MgYSBjb2xsYXBzZWQgcGFzdGUsIGRlbGV0ZSBpdCBjb21wbGV0ZWx5IChzaW1pbGFyIHRvIGJhY2tzcGFjZSlcbiAgICAgICAgdGhpcy5jb2xsYXBzZWRQYXN0ZSA9IG51bGw7XG4gICAgICAgIHRoaXMuZm9yY2VOZXh0UmVuZGVyID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5yZW5kZXJQcm9tcHQoKTtcbiAgICAgICAgdGhpcy5lbWl0SW5wdXRDaGFuZ2UoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuY3Vyc29yIDwgdGhpcy5idWZmZXIubGVuZ3RoKSB7XG4gICAgICAgIHRoaXMuYnVmZmVyID0gdGhpcy5idWZmZXIuc2xpY2UoMCwgdGhpcy5jdXJzb3IpICsgdGhpcy5idWZmZXIuc2xpY2UodGhpcy5jdXJzb3IgKyAxKTtcbiAgICAgICAgdGhpcy51cGRhdGVTdWdnZXN0aW9ucygpO1xuICAgICAgICB0aGlzLmZvcmNlTmV4dFJlbmRlciA9IHRydWU7XG4gICAgICAgIHRoaXMucmVuZGVyUHJvbXB0KCk7XG4gICAgICAgIHRoaXMuZW1pdElucHV0Q2hhbmdlKCk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gTWVudSBuYXZpZ2F0aW9uIChDbGF1ZGUgQ29kZSBzdHlsZSkgLSBpbnRlcmNlcHRzIGtleXMgd2hlbiBtZW51IGlzIGFjdGl2ZVxuICAgIGlmICh0aGlzLmlzTWVudUFjdGl2ZSgpKSB7XG4gICAgICBpZiAobm9ybWFsaXplZEtleS5uYW1lID09PSAndXAnKSB7XG4gICAgICAgIHRoaXMubmF2aWdhdGVNZW51KC0xKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKG5vcm1hbGl6ZWRLZXkubmFtZSA9PT0gJ2Rvd24nKSB7XG4gICAgICAgIHRoaXMubmF2aWdhdGVNZW51KDEpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAobm9ybWFsaXplZEtleS5uYW1lID09PSAncmV0dXJuJykge1xuICAgICAgICB0aGlzLnNlbGVjdE1lbnVJdGVtKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChub3JtYWxpemVkS2V5Lm5hbWUgPT09ICdlc2NhcGUnKSB7XG4gICAgICAgIHRoaXMuY2xvc2VNZW51KCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIC8vIE90aGVyIGtleXMgY2xvc2UgbWVudSB3aXRob3V0IHNlbGVjdGlvblxuICAgICAgaWYgKHN0ciAmJiAhbm9ybWFsaXplZEtleS5jdHJsICYmICFub3JtYWxpemVkS2V5Lm1ldGEpIHtcbiAgICAgICAgdGhpcy5jbG9zZU1lbnUoKTtcbiAgICAgICAgLy8gRG9uJ3QgcmV0dXJuIC0gbGV0IHRoZSBrZXkgYmUgcHJvY2Vzc2VkIG5vcm1hbGx5XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG5vcm1hbGl6ZWRLZXkubmFtZSA9PT0gJ2xlZnQnKSB7XG4gICAgICAvLyBSZXNldCBwYXN0ZSBzdGF0ZSB0byBlbnN1cmUgY2xlYW4gcmVuZGVyXG4gICAgICB0aGlzLnJlc2V0UGxhaW5QYXN0ZUJ1cnN0KCk7XG4gICAgICAvLyBJZiB0aGVyZSdzIGEgY29sbGFwc2VkIHBhc3RlLCBleHBhbmQgaXQgZmlyc3RcbiAgICAgIGlmICh0aGlzLmNvbGxhcHNlZFBhc3RlKSB7XG4gICAgICAgIHRoaXMuZXhwYW5kQ29sbGFwc2VkUGFzdGVUb0J1ZmZlcigpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuY3Vyc29yID4gMCkge1xuICAgICAgICB0aGlzLmN1cnNvci0tO1xuICAgICAgICB0aGlzLmVuc3VyZUN1cnNvclZpc2libGUoKTtcbiAgICAgICAgdGhpcy5mb3JjZU5leHRSZW5kZXIgPSB0cnVlO1xuICAgICAgICB0aGlzLnJlbmRlclByb21wdCgpO1xuICAgICAgICB0aGlzLmVtaXRJbnB1dENoYW5nZSgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChub3JtYWxpemVkS2V5Lm5hbWUgPT09ICdyaWdodCcpIHtcbiAgICAgIC8vIFJlc2V0IHBhc3RlIHN0YXRlIHRvIGVuc3VyZSBjbGVhbiByZW5kZXJcbiAgICAgIHRoaXMucmVzZXRQbGFpblBhc3RlQnVyc3QoKTtcbiAgICAgIC8vIElmIHRoZXJlJ3MgYSBjb2xsYXBzZWQgcGFzdGUsIGV4cGFuZCBpdCBmaXJzdFxuICAgICAgaWYgKHRoaXMuY29sbGFwc2VkUGFzdGUpIHtcbiAgICAgICAgdGhpcy5leHBhbmRDb2xsYXBzZWRQYXN0ZVRvQnVmZmVyKCk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5jdXJzb3IgPCB0aGlzLmJ1ZmZlci5sZW5ndGgpIHtcbiAgICAgICAgdGhpcy5jdXJzb3IrKztcbiAgICAgICAgdGhpcy5lbnN1cmVDdXJzb3JWaXNpYmxlKCk7XG4gICAgICAgIHRoaXMuZm9yY2VOZXh0UmVuZGVyID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5yZW5kZXJQcm9tcHQoKTtcbiAgICAgICAgdGhpcy5lbWl0SW5wdXRDaGFuZ2UoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAobm9ybWFsaXplZEtleS5uYW1lID09PSAndXAnKSB7XG4gICAgICBpZiAodGhpcy5uYXZpZ2F0ZVN1Z2dlc3Rpb25zKC0xKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5oaXN0b3J5Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgaWYgKHRoaXMuaGlzdG9yeUluZGV4ID09PSAtMSkge1xuICAgICAgICAgIHRoaXMuaGlzdG9yeUluZGV4ID0gdGhpcy5oaXN0b3J5Lmxlbmd0aCAtIDE7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5oaXN0b3J5SW5kZXggPiAwKSB7XG4gICAgICAgICAgdGhpcy5oaXN0b3J5SW5kZXgtLTtcbiAgICAgICAgfVxuICAgICAgICAvLyBWYWxpZGF0ZSBpbmRleCBpcyB3aXRoaW4gYm91bmRzIGJlZm9yZSBhY2Nlc3NpbmdcbiAgICAgICAgaWYgKHRoaXMuaGlzdG9yeUluZGV4ID49IDAgJiYgdGhpcy5oaXN0b3J5SW5kZXggPCB0aGlzLmhpc3RvcnkubGVuZ3RoKSB7XG4gICAgICAgICAgdGhpcy5idWZmZXIgPSB0aGlzLmhpc3RvcnlbdGhpcy5oaXN0b3J5SW5kZXhdID8/ICcnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuaGlzdG9yeUluZGV4ID0gLTE7XG4gICAgICAgICAgdGhpcy5idWZmZXIgPSAnJztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmN1cnNvciA9IHRoaXMuYnVmZmVyLmxlbmd0aDtcbiAgICAgICAgdGhpcy5pbnB1dFJlbmRlck9mZnNldCA9IDA7IC8vIFJlc2V0IHJlbmRlciBvZmZzZXQgZm9yIG5ldyBidWZmZXJcbiAgICAgICAgdGhpcy51cGRhdGVTdWdnZXN0aW9ucygpO1xuICAgICAgICB0aGlzLnJlbmRlclByb21wdCgpO1xuICAgICAgICB0aGlzLmVtaXRJbnB1dENoYW5nZSgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChub3JtYWxpemVkS2V5Lm5hbWUgPT09ICdkb3duJykge1xuICAgICAgaWYgKHRoaXMubmF2aWdhdGVTdWdnZXN0aW9ucygxKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5oaXN0b3J5SW5kZXggIT09IC0xKSB7XG4gICAgICAgIHRoaXMuaGlzdG9yeUluZGV4Kys7XG4gICAgICAgIGlmICh0aGlzLmhpc3RvcnlJbmRleCA+PSB0aGlzLmhpc3RvcnkubGVuZ3RoKSB7XG4gICAgICAgICAgdGhpcy5oaXN0b3J5SW5kZXggPSAtMTtcbiAgICAgICAgICB0aGlzLmJ1ZmZlciA9ICcnO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaGlzdG9yeUluZGV4ID49IDApIHtcbiAgICAgICAgICB0aGlzLmJ1ZmZlciA9IHRoaXMuaGlzdG9yeVt0aGlzLmhpc3RvcnlJbmRleF0gPz8gJyc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gU2FmZXR5OiBpbnZhbGlkIHN0YXRlLCByZXNldFxuICAgICAgICAgIHRoaXMuaGlzdG9yeUluZGV4ID0gLTE7XG4gICAgICAgICAgdGhpcy5idWZmZXIgPSAnJztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmN1cnNvciA9IHRoaXMuYnVmZmVyLmxlbmd0aDtcbiAgICAgICAgdGhpcy5pbnB1dFJlbmRlck9mZnNldCA9IDA7IC8vIFJlc2V0IHJlbmRlciBvZmZzZXQgZm9yIG5ldyBidWZmZXJcbiAgICAgICAgdGhpcy51cGRhdGVTdWdnZXN0aW9ucygpO1xuICAgICAgICB0aGlzLnJlbmRlclByb21wdCgpO1xuICAgICAgICB0aGlzLmVtaXRJbnB1dENoYW5nZSgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChub3JtYWxpemVkS2V5Lm5hbWUgPT09ICd0YWInKSB7XG4gICAgICBpZiAodGhpcy5hcHBseVN1Z2dlc3Rpb24oZmFsc2UpKSByZXR1cm47XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHN0ciAmJiAhbm9ybWFsaXplZEtleS5jdHJsICYmICFub3JtYWxpemVkS2V5Lm1ldGEpIHtcbiAgICAgIC8vIFNBRkVUWTogRmluYWwgZ3VhcmQgdG8gcHJldmVudCB0b2dnbGUgY2hhcmFjdGVycyBmcm9tIGV2ZXIgYmVpbmcgaW5zZXJ0ZWRcbiAgICAgIC8vIFRoaXMgc2hvdWxkIG5ldmVyIHRyaWdnZXIgaWYgZWFybGllciBkZXRlY3Rpb24gd29ya3MsIGJ1dCBhY3RzIGFzIGEgc2FmZXR5IG5ldFxuICAgICAgaWYgKHRoaXMuaXNUb2dnbGVDaGFyYWN0ZXIoc3RyKSkge1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnZbJ0FHSV9ERUJVR19LRVlTJ10pIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGBbS0VZXSBCTE9DS0VEIHRvZ2dsZSBjaGFyYWN0ZXIgZnJvbSBpbnNlcnRpb246IFwiJHtzdHJ9XCIgY29kZT0ke3N0ci5jaGFyQ29kZUF0KDApfWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gUXVldWUgdGV4dCBpbnB1dCBkdXJpbmcgc3RyZWFtaW5nIC0gcHJvY2VzcyBhZnRlciBBSSBjb21wbGV0ZXNcbiAgICAgIGlmICh0aGlzLm1vZGUgPT09ICdzdHJlYW1pbmcnKSB7XG4gICAgICAgIHRoaXMuc3RyZWFtaW5nSW5wdXRRdWV1ZS5wdXNoKHN0cik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIC8vIERlYnVnOiB0cmFjZSB3aHkgdG9nZ2xlIGRpZG4ndCBjYXRjaCB0aGlzIGNoYXJhY3RlclxuICAgICAgaWYgKHByb2Nlc3MuZW52WydBR0lfREVCVUdfS0VZUyddKSB7XG4gICAgICAgIGNvbnN0IGNvZGUgPSBzdHIuY2hhckNvZGVBdCgwKTtcbiAgICAgICAgY29uc29sZS5lcnJvcihgW0tFWV0gUVVFVUUgSU5TRVJUOiBzdHI9XCIke3N0cn1cIiBjb2RlPSR7Y29kZX1gKTtcbiAgICAgIH1cbiAgICAgIC8vIERlZmVyIGluc2VydGlvbiB0byBhbGxvdyBwYXN0ZSBkZXRlY3Rpb24gd2luZG93IHRvIGNhdGNoIHJhcGlkIGlucHV0XG4gICAgICB0aGlzLnF1ZXVlUGVuZGluZ0luc2VydChzdHIpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBFbnN1cmUgaG9yaXpvbnRhbCBjdXJzb3IgcG9zaXRpb24gc3RheXMgd2l0aGluIHRoZSB2aXNpYmxlIGlucHV0IHdpbmRvdy5cbiAgICogUHJldmVudHMganVtcHMgd2hlbiB1c2luZyBsZWZ0L3JpZ2h0IGFycm93cyBvbiBsb25nIGxpbmVzLlxuICAgKi9cbiAgcHJpdmF0ZSBlbnN1cmVDdXJzb3JWaXNpYmxlKCk6IHZvaWQge1xuICAgIGNvbnN0IG1heFdpZHRoID0gTWF0aC5tYXgoMTAsIHRoaXMuc2FmZVdpZHRoKCkgLSAxMik7IC8vIG1hcmdpbiBmb3IgcHJvbXB0L3RvZ2dsZXMgYW5kIHBhZGRpbmdcbiAgICAvLyBJZiBjdXJzb3IgaXMgbGVmdCBvZiBjdXJyZW50IHdpbmRvdywgc2hpZnQgd2luZG93IGxlZnRcbiAgICBpZiAodGhpcy5jdXJzb3IgPCB0aGlzLmlucHV0UmVuZGVyT2Zmc2V0KSB7XG4gICAgICB0aGlzLmlucHV0UmVuZGVyT2Zmc2V0ID0gdGhpcy5jdXJzb3I7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIElmIGN1cnNvciBpcyBiZXlvbmQgdmlzaWJsZSB3aW5kb3csIHNoaWZ0IHdpbmRvdyByaWdodFxuICAgIGlmICh0aGlzLmN1cnNvciAtIHRoaXMuaW5wdXRSZW5kZXJPZmZzZXQgPj0gbWF4V2lkdGgpIHtcbiAgICAgIHRoaXMuaW5wdXRSZW5kZXJPZmZzZXQgPSB0aGlzLmN1cnNvciAtIG1heFdpZHRoICsgMTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUGFyc2UgcmF3IGVzY2FwZSBzZXF1ZW5jZXMgd2hlbiByZWFkbGluZSBkb2Vzbid0IHBvcHVsYXRlIGtleSBtZXRhZGF0YS5cbiAgICogUHJldmVudHMgY29udHJvbCBjb2RlcyAoZS5nLiwgXltbMjAwfikgZnJvbSBsZWFraW5nIGludG8gdGhlIGJ1ZmZlci5cbiAgICovXG4gIHByaXZhdGUgcGFyc2VFc2NhcGVTZXF1ZW5jZShzZXF1ZW5jZTogc3RyaW5nIHwgbnVsbCB8IHVuZGVmaW5lZCk6IHJlYWRsaW5lLktleSB8IG51bGwge1xuICAgIGlmICghc2VxdWVuY2UpIHJldHVybiBudWxsO1xuICAgIGNvbnN0IG1hcDogUmVjb3JkPHN0cmluZywgcmVhZGxpbmUuS2V5PiA9IHtcbiAgICAgICdcXHgxYltBJzogeyBuYW1lOiAndXAnLCBzZXF1ZW5jZSB9IGFzIHJlYWRsaW5lLktleSxcbiAgICAgICdcXHgxYltCJzogeyBuYW1lOiAnZG93bicsIHNlcXVlbmNlIH0gYXMgcmVhZGxpbmUuS2V5LFxuICAgICAgJ1xceDFiW0MnOiB7IG5hbWU6ICdyaWdodCcsIHNlcXVlbmNlIH0gYXMgcmVhZGxpbmUuS2V5LFxuICAgICAgJ1xceDFiW0QnOiB7IG5hbWU6ICdsZWZ0Jywgc2VxdWVuY2UgfSBhcyByZWFkbGluZS5LZXksXG4gICAgICAnXFx4MWJbSCc6IHsgbmFtZTogJ2hvbWUnLCBzZXF1ZW5jZSB9IGFzIHJlYWRsaW5lLktleSxcbiAgICAgICdcXHgxYltGJzogeyBuYW1lOiAnZW5kJywgc2VxdWVuY2UgfSBhcyByZWFkbGluZS5LZXksXG4gICAgICAnXFx4MWJbMjAwfic6IHsgbmFtZTogJ3Bhc3RlLXN0YXJ0Jywgc2VxdWVuY2UgfSBhcyByZWFkbGluZS5LZXksXG4gICAgICAnXFx4MWJbMjAxfic6IHsgbmFtZTogJ3Bhc3RlLWVuZCcsIHNlcXVlbmNlIH0gYXMgcmVhZGxpbmUuS2V5LFxuICAgIH07XG4gICAgcmV0dXJuIG1hcFtzZXF1ZW5jZV0gPz8gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBRdWV1ZSBjaGFyYWN0ZXJzIGZvciBkZWZlcnJlZCBpbnNlcnRpb24uIFRoaXMgcHJldmVudHMgdmlzdWFsIFwibGVha1wiIG9mXG4gICAqIHBhc3RlZCBjb250ZW50IGJ5IGhvbGRpbmcgY2hhcmFjdGVycyB1bnRpbCB3ZSdyZSBjb25maWRlbnQgaXQncyBub3QgYSBwYXN0ZS5cbiAgICovXG4gIHByaXZhdGUgcXVldWVQZW5kaW5nSW5zZXJ0KHRleHQ6IHN0cmluZyk6IHZvaWQge1xuICAgIC8vIElmIHRvZ2dsZSBjaGFyYWN0ZXJzIHNsaXBwZWQgdGhyb3VnaCwgaGFuZGxlIHRoZW0gaGVyZSBhbmQgc3RyaXAgdGhlbSBiZWZvcmUgaW5zZXJ0aW9uXG4gICAgY29uc3QgdG9nZ2xlcyA9IHRoaXMuZXh0cmFjdFRvZ2dsZUxldHRlcnModGV4dCk7XG4gICAgaWYgKHRvZ2dsZXMubGVuZ3RoID4gMCkge1xuICAgICAgZm9yIChjb25zdCBsZXR0ZXIgb2YgdG9nZ2xlcykge1xuICAgICAgICB0aGlzLmhhbmRsZVRvZ2dsZShsZXR0ZXIpO1xuICAgICAgfVxuICAgICAgdGV4dCA9IHRoaXMuc3RyaXBUb2dnbGVTeW1ib2xzKHRleHQpO1xuICAgICAgaWYgKCF0ZXh0KSB7XG4gICAgICAgIGlmIChwcm9jZXNzLmVudlsnQUdJX0RFQlVHX0tFWVMnXSkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tLRVldIFFVRVVFIElOU0VSVCBEUk9QUEVEOiB0b2dnbGUtb25seSBpbnB1dCcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBGYXN0LXBhdGg6IHNpbmdsZSBwcmludGFibGUgQVNDSUkgY2hhcmFjdGVyIHdpdGggbm8gcGVuZGluZyBidWZmZXIgPSBpbW1lZGlhdGUgaW5zZXJ0XG4gICAgLy8gVGhpcyBtYWtlcyBub3JtYWwgdHlwaW5nIGZlZWwgaW5zdGFudCB3aGlsZSBzdGlsbCBkZXRlY3RpbmcgbXVsdGktY2hhciBwYXN0ZXNcbiAgICAvLyBCVVQ6IHNraXAgZmFzdCBwYXRoIGlmIGJ1cnN0IGFjdGl2aXR5IHN1Z2dlc3RzIGluY29taW5nIHBhc3RlXG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICBjb25zdCBidXJzdEFjdGl2ZSA9IHRoaXMucGFzdGVCdXJzdFdpbmRvd1N0YXJ0ID4gMCAmJiBub3cgLSB0aGlzLnBhc3RlQnVyc3RXaW5kb3dTdGFydCA8PSB0aGlzLnBsYWluUGFzdGVXaW5kb3dNcztcbiAgICBpZiAodGV4dC5sZW5ndGggPT09IDEgJiZcbiAgICAgICAgdGhpcy5wZW5kaW5nSW5zZXJ0QnVmZmVyID09PSAnJyAmJlxuICAgICAgICAhdGhpcy5pblBsYWluUGFzdGUgJiZcbiAgICAgICAgIXRoaXMuaW5CcmFja2V0ZWRQYXN0ZSAmJlxuICAgICAgICAhYnVyc3RBY3RpdmUgJiZcbiAgICAgICAgdGV4dC5jaGFyQ29kZUF0KDApID49IDMyICYmXG4gICAgICAgIHRleHQuY2hhckNvZGVBdCgwKSA8IDEyNykge1xuICAgICAgdGhpcy5pbnNlcnRUZXh0KHRleHQpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMucGVuZGluZ0luc2VydEJ1ZmZlciArPSB0ZXh0O1xuXG4gICAgLy8gQ2xlYXIgYW55IGV4aXN0aW5nIHRpbWVyXG4gICAgaWYgKHRoaXMucGVuZGluZ0luc2VydFRpbWVyKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5wZW5kaW5nSW5zZXJ0VGltZXIpO1xuICAgICAgdGhpcy5wZW5kaW5nSW5zZXJ0VGltZXIgPSBudWxsO1xuICAgIH1cblxuICAgIC8vIFNjaGVkdWxlIGNvbW1pdCBhZnRlciBkZWxheSAtIGlmIHBhc3RlIGRldGVjdGlvbiB0cmlnZ2VycyBmaXJzdCwgaXQgd2lsbCBjb25zdW1lIHRoZSBidWZmZXJcbiAgICB0aGlzLnBlbmRpbmdJbnNlcnRUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5jb21taXRQZW5kaW5nSW5zZXJ0KCk7XG4gICAgfSwgdGhpcy5wZW5kaW5nSW5zZXJ0RGVsYXlNcyk7XG4gIH1cblxuICAvKipcbiAgICogQ29tbWl0IHBlbmRpbmcgY2hhcmFjdGVycyBhcyBub3JtYWwgaW5wdXQgKG5vdCBhIHBhc3RlKS5cbiAgICogSWYgd2UgcmVhY2ggaGVyZSwgcGFzdGUgZGV0ZWN0aW9uIGRpZG4ndCB0cmlnZ2VyLCBzbyB0aGlzIGlzIG5vcm1hbCB0eXBpbmcuXG4gICAqL1xuICBwcml2YXRlIGNvbW1pdFBlbmRpbmdJbnNlcnQoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMucGVuZGluZ0luc2VydFRpbWVyKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5wZW5kaW5nSW5zZXJ0VGltZXIpO1xuICAgICAgdGhpcy5wZW5kaW5nSW5zZXJ0VGltZXIgPSBudWxsO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnBlbmRpbmdJbnNlcnRCdWZmZXIgJiYgIXRoaXMuaW5QbGFpblBhc3RlICYmICF0aGlzLmluQnJhY2tldGVkUGFzdGUpIHtcbiAgICAgIC8vIFJlc2V0IGJ1cnN0IHN0YXRlIEJFRk9SRSBpbnNlcnRpbmcgc28gcmVuZGVyIGlzbid0IHN1cHByZXNzZWRcbiAgICAgIC8vIElmIHBhc3RlIGRldGVjdGlvbiBkaWRuJ3QgdHJpZ2dlciwgdGhpcyBpcyBqdXN0IGZhc3QgdHlwaW5nLCBub3QgYSBwYXN0ZVxuICAgICAgdGhpcy5yZXNldFBsYWluUGFzdGVCdXJzdCgpO1xuICAgICAgdGhpcy5wbGFpblJlY2VudENodW5rcyA9IFtdO1xuICAgICAgdGhpcy5pbnNlcnRUZXh0KHRoaXMucGVuZGluZ0luc2VydEJ1ZmZlcik7XG4gICAgfVxuICAgIHRoaXMucGVuZGluZ0luc2VydEJ1ZmZlciA9ICcnO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnN1bWUgcGVuZGluZyBpbnNlcnQgYnVmZmVyIGludG8gcGFzdGUgZGV0ZWN0aW9uIChwcmV2ZW50cyB2aXN1YWwgbGVhaykuXG4gICAqL1xuICBwcml2YXRlIGNvbnN1bWVQZW5kaW5nSW5zZXJ0Rm9yUGFzdGUoKTogc3RyaW5nIHtcbiAgICBpZiAodGhpcy5wZW5kaW5nSW5zZXJ0VGltZXIpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLnBlbmRpbmdJbnNlcnRUaW1lcik7XG4gICAgICB0aGlzLnBlbmRpbmdJbnNlcnRUaW1lciA9IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IGNvbnN1bWVkID0gdGhpcy5wZW5kaW5nSW5zZXJ0QnVmZmVyO1xuICAgIHRoaXMucGVuZGluZ0luc2VydEJ1ZmZlciA9ICcnO1xuICAgIHJldHVybiBjb25zdW1lZDtcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlQnJhY2tldGVkUGFzdGUoc3RyOiBzdHJpbmcsIGtleTogcmVhZGxpbmUuS2V5KTogYm9vbGVhbiB7XG4gICAgY29uc3Qgc2VxdWVuY2UgPSBrZXk/LnNlcXVlbmNlIHx8IHN0cjtcbiAgICBpZiAoc2VxdWVuY2UgPT09IEVTQy5FTkFCTEVfQlJBQ0tFVEVEX1BBU1RFIHx8IHNlcXVlbmNlID09PSBFU0MuRElTQUJMRV9CUkFDS0VURURfUEFTVEUpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8vIEhhbmRsZSBjYXNlIHdoZXJlIHBhc3RlIG1hcmtlcnMgbWlnaHQgYmUgZW1iZWRkZWQgaW4gdGhlIHN0cmluZ1xuICAgIGNvbnN0IHBhc3RlU3RhcnRNYXJrZXIgPSAnXFx4MWJbMjAwfic7XG4gICAgY29uc3QgcGFzdGVFbmRNYXJrZXIgPSAnXFx4MWJbMjAxfic7XG5cbiAgICAvLyBDaGVjayBpZiBzdHIgY29udGFpbnMgcGFzdGUgc3RhcnQgbWFya2VyIChoYW5kbGVzIGNodW5rZWQgYXJyaXZhbClcbiAgICBpZiAodHlwZW9mIHN0ciA9PT0gJ3N0cmluZycgJiYgc3RyLmluY2x1ZGVzKHBhc3RlU3RhcnRNYXJrZXIpKSB7XG4gICAgICB0aGlzLmluQnJhY2tldGVkUGFzdGUgPSB0cnVlO1xuICAgICAgdGhpcy5wYXN0ZUJ1ZmZlck92ZXJmbG93ID0gZmFsc2U7XG4gICAgICAvLyBDb25zdW1lIGFuZCBzYW5pdGl6ZSBwZW5kaW5nIGJ1ZmZlciB0byBwcmV2ZW50IHBhcnRpYWwgZXNjYXBlIHNlcXVlbmNlcyBsZWFraW5nXG4gICAgICBjb25zdCBwZW5kaW5nID0gdGhpcy5zYW5pdGl6ZVBhc3RlQ29udGVudCh0aGlzLmNvbnN1bWVQZW5kaW5nSW5zZXJ0Rm9yUGFzdGUoKSk7XG4gICAgICAvLyBFeHRyYWN0IGNvbnRlbnQgYWZ0ZXIgdGhlIHN0YXJ0IG1hcmtlciAoZGlzY2FyZCBhbnkgY29udGVudCBiZWZvcmUgaXQgLSBsaWtlbHkgcGFydGlhbCBlc2NhcGVzKVxuICAgICAgY29uc3Qgc3RhcnRJZHggPSBzdHIuaW5kZXhPZihwYXN0ZVN0YXJ0TWFya2VyKTtcbiAgICAgIGxldCBjb250ZW50ID0gc3RyLnNsaWNlKHN0YXJ0SWR4ICsgcGFzdGVTdGFydE1hcmtlci5sZW5ndGgpO1xuICAgICAgLy8gQ2hlY2sgaWYgZW5kIG1hcmtlciBpcyBhbHNvIGluIHRoaXMgY2h1bmtcbiAgICAgIGlmIChjb250ZW50LmluY2x1ZGVzKHBhc3RlRW5kTWFya2VyKSkge1xuICAgICAgICBjb25zdCBlbmRJZHggPSBjb250ZW50LmluZGV4T2YocGFzdGVFbmRNYXJrZXIpO1xuICAgICAgICBjb250ZW50ID0gY29udGVudC5zbGljZSgwLCBlbmRJZHgpO1xuICAgICAgICB0aGlzLnBhc3RlQnVmZmVyID0gcGVuZGluZyArIGNvbnRlbnQ7XG4gICAgICAgIHRoaXMuY29tbWl0UGFzdGVCdWZmZXIoKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICB0aGlzLnBhc3RlQnVmZmVyID0gcGVuZGluZyArIGNvbnRlbnQ7XG4gICAgICB0aGlzLmNhbmNlbFBsYWluUGFzdGVDYXB0dXJlKCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAoc2VxdWVuY2UgPT09IHBhc3RlU3RhcnRNYXJrZXIpIHtcbiAgICAgIHRoaXMuaW5CcmFja2V0ZWRQYXN0ZSA9IHRydWU7XG4gICAgICB0aGlzLnBhc3RlQnVmZmVyT3ZlcmZsb3cgPSBmYWxzZTsgLy8gUmVzZXQgb3ZlcmZsb3cgZmxhZyBmb3IgbmV3IHBhc3RlXG4gICAgICAvLyBDb25zdW1lIGFuZCBzYW5pdGl6ZSBhbnkgcGVuZGluZyBpbnNlcnQgYnVmZmVyIHRvIHByZXZlbnQgcGFydGlhbCBlc2NhcGVzIGxlYWtpbmdcbiAgICAgIGNvbnN0IHBlbmRpbmcgPSB0aGlzLnNhbml0aXplUGFzdGVDb250ZW50KHRoaXMuY29uc3VtZVBlbmRpbmdJbnNlcnRGb3JQYXN0ZSgpKTtcbiAgICAgIHRoaXMucGFzdGVCdWZmZXIgPSBwZW5kaW5nO1xuICAgICAgdGhpcy5jYW5jZWxQbGFpblBhc3RlQ2FwdHVyZSgpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmICghdGhpcy5pbkJyYWNrZXRlZFBhc3RlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgaWYgc3RyIGNvbnRhaW5zIHBhc3RlIGVuZCBtYXJrZXJcbiAgICBpZiAodHlwZW9mIHN0ciA9PT0gJ3N0cmluZycgJiYgc3RyLmluY2x1ZGVzKHBhc3RlRW5kTWFya2VyKSkge1xuICAgICAgY29uc3QgZW5kSWR4ID0gc3RyLmluZGV4T2YocGFzdGVFbmRNYXJrZXIpO1xuICAgICAgY29uc3QgY29udGVudEJlZm9yZSA9IHN0ci5zbGljZSgwLCBlbmRJZHgpO1xuICAgICAgaWYgKGNvbnRlbnRCZWZvcmUpIHtcbiAgICAgICAgdGhpcy5hcHBlbmRUb1Bhc3RlQnVmZmVyKCdwYXN0ZScsIGNvbnRlbnRCZWZvcmUpO1xuICAgICAgfVxuICAgICAgdGhpcy5jb21taXRQYXN0ZUJ1ZmZlcigpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgaWYgKHNlcXVlbmNlID09PSBwYXN0ZUVuZE1hcmtlcikge1xuICAgICAgdGhpcy5jb21taXRQYXN0ZUJ1ZmZlcigpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChrZXk/Lm5hbWUgPT09ICdyZXR1cm4nIHx8IGtleT8ubmFtZSA9PT0gJ2VudGVyJykge1xuICAgICAgdGhpcy5hcHBlbmRUb1Bhc3RlQnVmZmVyKCdwYXN0ZScsICdcXG4nKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoa2V5Py5uYW1lID09PSAnYmFja3NwYWNlJykge1xuICAgICAgdGhpcy5wYXN0ZUJ1ZmZlciA9IHRoaXMucGFzdGVCdWZmZXIuc2xpY2UoMCwgLTEpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygc3RyID09PSAnc3RyaW5nJyAmJiBzdHIubGVuZ3RoID4gMCkge1xuICAgICAgdGhpcy5hcHBlbmRUb1Bhc3RlQnVmZmVyKCdwYXN0ZScsIHN0cik7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBzZXF1ZW5jZSA9PT0gJ3N0cmluZycgJiYgc2VxdWVuY2UubGVuZ3RoID4gMCkge1xuICAgICAgdGhpcy5hcHBlbmRUb1Bhc3RlQnVmZmVyKCdwYXN0ZScsIHNlcXVlbmNlKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHByaXZhdGUgY29tbWl0UGFzdGVCdWZmZXIoKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmluQnJhY2tldGVkUGFzdGUpIHJldHVybjtcbiAgICAvLyBTYW5pdGl6ZSB0byByZW1vdmUgYW55IGluamVjdGVkIGVzY2FwZSBzZXF1ZW5jZXMsIHRoZW4gbm9ybWFsaXplIGxpbmUgZW5kaW5nc1xuICAgIGxldCBzYW5pdGl6ZWQgPSB0aGlzLnNhbml0aXplUGFzdGVDb250ZW50KHRoaXMucGFzdGVCdWZmZXIpO1xuXG4gICAgLy8gSW5wdXQgcHJvdGVjdGlvbiB2YWxpZGF0aW9uIGFnYWluc3QgcmVtb3RlIHBhc3RlIGF0dGFja3NcbiAgICBpZiAodGhpcy5pbnB1dFByb3RlY3Rpb24pIHtcbiAgICAgIGNvbnN0IHZhbGlkYXRpb24gPSB0aGlzLmlucHV0UHJvdGVjdGlvbi52YWxpZGF0ZUlucHV0KHNhbml0aXplZCwgdHJ1ZSk7XG4gICAgICBpZiAodmFsaWRhdGlvbi5ibG9ja2VkKSB7XG4gICAgICAgIC8vIFBhc3RlIGJsb2NrZWQgLSByZXNldCBzdGF0ZSBhbmQgYWJvcnRcbiAgICAgICAgdGhpcy5pbkJyYWNrZXRlZFBhc3RlID0gZmFsc2U7XG4gICAgICAgIHRoaXMucGFzdGVCdWZmZXIgPSAnJztcbiAgICAgICAgdGhpcy5wYXN0ZUJ1ZmZlck92ZXJmbG93ID0gZmFsc2U7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNhbml0aXplZCA9IHZhbGlkYXRpb24uc2FuaXRpemVkO1xuICAgIH1cblxuICAgIGNvbnN0IGNvbnRlbnQgPSBzYW5pdGl6ZWQucmVwbGFjZSgvXFxyXFxuPy9nLCAnXFxuJyk7XG4gICAgaWYgKGNvbnRlbnQpIHtcbiAgICAgIGNvbnN0IGxpbmVzID0gY29udGVudC5zcGxpdCgnXFxuJyk7XG4gICAgICBjb25zdCB3YXNUcnVuY2F0ZWQgPSB0aGlzLnBhc3RlQnVmZmVyT3ZlcmZsb3c7XG4gICAgICBpZiAobGluZXMubGVuZ3RoID4gMSB8fCBjb250ZW50Lmxlbmd0aCA+IDIwMCkge1xuICAgICAgICB0aGlzLmNvbGxhcHNlZFBhc3RlID0ge1xuICAgICAgICAgIHRleHQ6IGNvbnRlbnQsXG4gICAgICAgICAgbGluZXM6IGxpbmVzLmxlbmd0aCxcbiAgICAgICAgICBjaGFyczogY29udGVudC5sZW5ndGggKyAod2FzVHJ1bmNhdGVkID8gJysnIGFzIHVua25vd24gYXMgbnVtYmVyIDogMCksIC8vIEluZGljYXRlIHRydW5jYXRpb25cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5idWZmZXIgPSAnJztcbiAgICAgICAgdGhpcy5jdXJzb3IgPSAwO1xuICAgICAgICB0aGlzLnVwZGF0ZVN1Z2dlc3Rpb25zKCk7XG4gICAgICAgIHRoaXMucmVuZGVyUHJvbXB0KCk7XG4gICAgICAgIHRoaXMuZW1pdElucHV0Q2hhbmdlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmluc2VydFRleHQoY29udGVudCk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuaW5CcmFja2V0ZWRQYXN0ZSA9IGZhbHNlO1xuICAgIHRoaXMucGFzdGVCdWZmZXIgPSAnJztcbiAgICB0aGlzLnBhc3RlQnVmZmVyT3ZlcmZsb3cgPSBmYWxzZTtcbiAgICB0aGlzLmNhbmNlbFBsYWluUGFzdGVDYXB0dXJlKCk7XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZVBsYWluUGFzdGUoc3RyOiBzdHJpbmcsIGtleTogcmVhZGxpbmUuS2V5KTogYm9vbGVhbiB7XG4gICAgLy8gRmFsbGJhY2sgcGFzdGUgY2FwdHVyZSB3aGVuIGJyYWNrZXRlZCBwYXN0ZSBpc24ndCBzdXBwb3J0ZWRcbiAgICBpZiAodGhpcy5pbkJyYWNrZXRlZFBhc3RlIHx8IGtleT8uY3RybCB8fCBrZXk/Lm1ldGEpIHtcbiAgICAgIHRoaXMucmVzZXRQbGFpblBhc3RlQnVyc3QoKTtcbiAgICAgIHRoaXMucHJ1bmVSZWNlbnRQbGFpbkNodW5rcygpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIERvbid0IHRyZWF0IGVzY2FwZSBzZXF1ZW5jZXMgKGFycm93IGtleXMsIGV0Yy4pIGFzIHBhc3RlXG4gICAgLy8gRXNjYXBlIHNlcXVlbmNlcyBzdGFydCB3aXRoIFxceDFiIChFU0MpIGFuZCBhcmUgdXNlZCBmb3IgY3Vyc29yIG1vdmVtZW50LCBldGMuXG4gICAgaWYgKHR5cGVvZiBzdHIgPT09ICdzdHJpbmcnICYmIHN0ci5zdGFydHNXaXRoKCdcXHgxYicpKSB7XG4gICAgICB0aGlzLnJlc2V0UGxhaW5QYXN0ZUJ1cnN0KCk7XG4gICAgICB0aGlzLnBydW5lUmVjZW50UGxhaW5DaHVua3MoKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBjb25zdCBzZXF1ZW5jZSA9IGtleT8uc2VxdWVuY2UgPz8gJyc7XG4gICAgY29uc3QgY2h1bmsgPSB0eXBlb2Ygc3RyID09PSAnc3RyaW5nJyAmJiBzdHIubGVuZ3RoID4gMCA/IHN0ciA6IHNlcXVlbmNlO1xuICAgIGlmICghY2h1bmspIHtcbiAgICAgIHRoaXMucmVzZXRQbGFpblBhc3RlQnVyc3QoKTtcbiAgICAgIHRoaXMucHJ1bmVSZWNlbnRQbGFpbkNodW5rcygpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgdGhpcy50cmFja1BsYWluUGFzdGVCdXJzdChjaHVuay5sZW5ndGgsIG5vdyk7XG5cbiAgICBpZiAoIXRoaXMuaW5QbGFpblBhc3RlKSB7XG4gICAgICB0aGlzLnJlY29yZFJlY2VudFBsYWluQ2h1bmsoY2h1bmssIG5vdyk7XG4gICAgfVxuXG4gICAgY29uc3QgY2h1bmtNdWx0aXBsZSA9IGNodW5rLmxlbmd0aCA+IDE7XG4gICAgY29uc3QgaGFzTmV3bGluZSA9IC9bXFxyXFxuXS8udGVzdChjaHVuayk7XG4gICAgY29uc3QgYnVyc3RBY3RpdmUgPSB0aGlzLnBhc3RlQnVyc3RXaW5kb3dTdGFydCA+IDAgJiYgbm93IC0gdGhpcy5wYXN0ZUJ1cnN0V2luZG93U3RhcnQgPD0gdGhpcy5wbGFpblBhc3RlV2luZG93TXM7XG4gICAgY29uc3QgYnVyc3RUcmlnZ2VyID0gYnVyc3RBY3RpdmUgJiYgdGhpcy5wYXN0ZUJ1cnN0Q2hhckNvdW50ID49IHRoaXMucGxhaW5QYXN0ZVRyaWdnZXJDaGFycztcbiAgICBjb25zdCBoYXNSZWNlbnROb25OZXdsaW5lID0gdGhpcy5wbGFpblJlY2VudENodW5rcy5zb21lKGVudHJ5ID0+ICEvXltcXHJcXG5dKyQvLnRlc3QoZW50cnkudGV4dCkpO1xuICAgIGNvbnN0IGVhcmx5TmV3bGluZVRyaWdnZXIgPVxuICAgICAgaGFzTmV3bGluZSAmJlxuICAgICAgYnVyc3RBY3RpdmUgJiZcbiAgICAgIGhhc1JlY2VudE5vbk5ld2xpbmUgJiZcbiAgICAgIHRoaXMucGFzdGVCdXJzdENoYXJDb3VudCA+PSB0aGlzLnBsYWluUGFzdGVFYXJseU5ld2xpbmVDaGFycztcbiAgICBjb25zdCBuZXdsaW5lVHJpZ2dlciA9IGhhc05ld2xpbmUgJiYgKHRoaXMuaW5QbGFpblBhc3RlIHx8IGNodW5rTXVsdGlwbGUgfHwgYnVyc3RUcmlnZ2VyIHx8IGVhcmx5TmV3bGluZVRyaWdnZXIpO1xuICAgIGNvbnN0IGxvb2tzTGlrZVBhc3RlID0gdGhpcy5pblBsYWluUGFzdGUgfHwgY2h1bmtNdWx0aXBsZSB8fCBidXJzdFRyaWdnZXIgfHwgbmV3bGluZVRyaWdnZXI7XG5cbiAgICBpZiAoIWxvb2tzTGlrZVBhc3RlKSB7XG4gICAgICB0aGlzLnBydW5lUmVjZW50UGxhaW5DaHVua3MoKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBsZXQgY2h1bmtBbHJlYWR5Q2FwdHVyZWQgPSBmYWxzZTtcbiAgICBpZiAoIXRoaXMuaW5QbGFpblBhc3RlKSB7XG4gICAgICB0aGlzLmluUGxhaW5QYXN0ZSA9IHRydWU7XG4gICAgICB0aGlzLnBhc3RlQnVmZmVyT3ZlcmZsb3cgPSBmYWxzZTsgLy8gUmVzZXQgb3ZlcmZsb3cgZmxhZyBmb3IgbmV3IHBhc3RlXG4gICAgICAvLyBDb25zdW1lIHBlbmRpbmcgaW5zZXJ0IGJ1ZmZlciBmaXJzdCAtIHRoaXMgaXMgdGhlIHByaW1hcnkgc291cmNlIG5vd1xuICAgICAgY29uc3QgcGVuZGluZyA9IHRoaXMuY29uc3VtZVBlbmRpbmdJbnNlcnRGb3JQYXN0ZSgpO1xuICAgICAgY29uc3QgcmVjbGFpbWVkID0gdGhpcy5yZWNsYWltUmVjZW50UGxhaW5DaHVua3MoKTtcbiAgICAgIC8vIENvbWJpbmUgcGVuZGluZyBidWZmZXIgd2l0aCBhbnkgcmVjbGFpbWVkIGNodW5rc1xuICAgICAgY29uc3QgY29tYmluZWQgPSBwZW5kaW5nICsgcmVjbGFpbWVkO1xuICAgICAgaWYgKGNvbWJpbmVkLmxlbmd0aCA+IDApIHtcbiAgICAgICAgLy8gUmVtb3ZlIGFueSBjaGFycyB0aGF0IGxlYWtlZCBpbnRvIGJ1ZmZlciAobGVnYWN5IHJlY2xhaW0gcGF0aClcbiAgICAgICAgaWYgKHJlY2xhaW1lZC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgY29uc3QgcmVtb3ZlQ291bnQgPSBNYXRoLm1pbih0aGlzLmJ1ZmZlci5sZW5ndGgsIHJlY2xhaW1lZC5sZW5ndGgpO1xuICAgICAgICAgIGNvbnN0IHN1ZmZpeCA9IHRoaXMuYnVmZmVyLnNsaWNlKC1yZW1vdmVDb3VudCk7XG4gICAgICAgICAgaWYgKHJlbW92ZUNvdW50ID4gMCAmJiBzdWZmaXggPT09IHJlY2xhaW1lZC5zbGljZSgtcmVtb3ZlQ291bnQpKSB7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlciA9IHRoaXMuYnVmZmVyLnNsaWNlKDAsIHRoaXMuYnVmZmVyLmxlbmd0aCAtIHJlbW92ZUNvdW50KTtcbiAgICAgICAgICAgIHRoaXMuY3Vyc29yID0gTWF0aC5tYXgoMCwgdGhpcy5idWZmZXIubGVuZ3RoKTtcbiAgICAgICAgICAgIHRoaXMuY2xhbXBDdXJzb3IoKTsgLy8gRW5zdXJlIGN1cnNvciBpcyB2YWxpZFxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBsYWluUGFzdGVCdWZmZXIgPSBjb21iaW5lZC5zbGljZSgwLCB0aGlzLm1heFBhc3RlQnVmZmVyU2l6ZSk7XG4gICAgICAgIGlmIChjb21iaW5lZC5sZW5ndGggPiB0aGlzLm1heFBhc3RlQnVmZmVyU2l6ZSkge1xuICAgICAgICAgIHRoaXMucGFzdGVCdWZmZXJPdmVyZmxvdyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgY2h1bmtBbHJlYWR5Q2FwdHVyZWQgPSBjb21iaW5lZC5lbmRzV2l0aChjaHVuayk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnBsYWluUGFzdGVCdWZmZXIgPSAnJztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIWNodW5rQWxyZWFkeUNhcHR1cmVkKSB7XG4gICAgICB0aGlzLmFwcGVuZFRvUGFzdGVCdWZmZXIoJ3BsYWluUGFzdGUnLCBjaHVuayk7XG4gICAgfVxuICAgIHRoaXMuc2NoZWR1bGVQbGFpblBhc3RlQ29tbWl0KCk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBwcml2YXRlIHRyYWNrUGxhaW5QYXN0ZUJ1cnN0KGxlbmd0aDogbnVtYmVyLCBub3c6IG51bWJlcik6IHZvaWQge1xuICAgIGlmICghdGhpcy5wYXN0ZUJ1cnN0V2luZG93U3RhcnQgfHwgbm93IC0gdGhpcy5wYXN0ZUJ1cnN0V2luZG93U3RhcnQgPiB0aGlzLnBsYWluUGFzdGVXaW5kb3dNcykge1xuICAgICAgdGhpcy5wYXN0ZUJ1cnN0V2luZG93U3RhcnQgPSBub3c7XG4gICAgICB0aGlzLnBhc3RlQnVyc3RDaGFyQ291bnQgPSAwO1xuICAgIH1cbiAgICB0aGlzLnBhc3RlQnVyc3RDaGFyQ291bnQgKz0gbGVuZ3RoO1xuICB9XG5cbiAgcHJpdmF0ZSByZXNldFBsYWluUGFzdGVCdXJzdCgpOiB2b2lkIHtcbiAgICB0aGlzLnBhc3RlQnVyc3RXaW5kb3dTdGFydCA9IDA7XG4gICAgdGhpcy5wYXN0ZUJ1cnN0Q2hhckNvdW50ID0gMDtcbiAgfVxuXG4gIHByaXZhdGUgY2FuY2VsUGxhaW5QYXN0ZUNhcHR1cmUoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMucGxhaW5QYXN0ZVRpbWVyKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5wbGFpblBhc3RlVGltZXIpO1xuICAgICAgdGhpcy5wbGFpblBhc3RlVGltZXIgPSBudWxsO1xuICAgIH1cbiAgICAvLyBBbHNvIGNhbmNlbCBwZW5kaW5nIGluc2VydCBidWZmZXJcbiAgICBpZiAodGhpcy5wZW5kaW5nSW5zZXJ0VGltZXIpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLnBlbmRpbmdJbnNlcnRUaW1lcik7XG4gICAgICB0aGlzLnBlbmRpbmdJbnNlcnRUaW1lciA9IG51bGw7XG4gICAgfVxuICAgIHRoaXMucGVuZGluZ0luc2VydEJ1ZmZlciA9ICcnO1xuICAgIHRoaXMuaW5QbGFpblBhc3RlID0gZmFsc2U7XG4gICAgdGhpcy5wbGFpblBhc3RlQnVmZmVyID0gJyc7XG4gICAgdGhpcy5wbGFpblJlY2VudENodW5rcyA9IFtdO1xuICAgIHRoaXMucmVzZXRQbGFpblBhc3RlQnVyc3QoKTtcbiAgfVxuXG4gIHByaXZhdGUgcmVjb3JkUmVjZW50UGxhaW5DaHVuayh0ZXh0OiBzdHJpbmcsIGF0OiBudW1iZXIpOiB2b2lkIHtcbiAgICBjb25zdCB3aW5kb3dTdGFydCA9IGF0IC0gdGhpcy5wbGFpblBhc3RlV2luZG93TXM7XG4gICAgdGhpcy5wbGFpblJlY2VudENodW5rcy5wdXNoKHsgdGV4dCwgYXQgfSk7XG4gICAgdGhpcy5wbGFpblJlY2VudENodW5rcyA9IHRoaXMucGxhaW5SZWNlbnRDaHVua3MuZmlsdGVyKGVudHJ5ID0+IGVudHJ5LmF0ID49IHdpbmRvd1N0YXJ0KTtcbiAgfVxuXG4gIHByaXZhdGUgcHJ1bmVSZWNlbnRQbGFpbkNodW5rcygpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMucGxhaW5SZWNlbnRDaHVua3MubGVuZ3RoKSByZXR1cm47XG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICBjb25zdCB3aW5kb3dTdGFydCA9IG5vdyAtIHRoaXMucGxhaW5QYXN0ZVdpbmRvd01zO1xuICAgIHRoaXMucGxhaW5SZWNlbnRDaHVua3MgPSB0aGlzLnBsYWluUmVjZW50Q2h1bmtzLmZpbHRlcihlbnRyeSA9PiBlbnRyeS5hdCA+PSB3aW5kb3dTdGFydCk7XG4gIH1cblxuICBwcml2YXRlIHJlY2xhaW1SZWNlbnRQbGFpbkNodW5rcygpOiBzdHJpbmcge1xuICAgIGlmICghdGhpcy5wbGFpblJlY2VudENodW5rcy5sZW5ndGgpIHJldHVybiAnJztcbiAgICBjb25zdCBjb21iaW5lZCA9IHRoaXMucGxhaW5SZWNlbnRDaHVua3MubWFwKGVudHJ5ID0+IGVudHJ5LnRleHQpLmpvaW4oJycpO1xuICAgIHRoaXMucGxhaW5SZWNlbnRDaHVua3MgPSBbXTtcbiAgICByZXR1cm4gY29tYmluZWQ7XG4gIH1cblxuICBwcml2YXRlIHNjaGVkdWxlUGxhaW5QYXN0ZUNvbW1pdCgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5wbGFpblBhc3RlVGltZXIpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLnBsYWluUGFzdGVUaW1lcik7XG4gICAgfVxuICAgIHRoaXMucGxhaW5QYXN0ZVRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLmZpbmFsaXplUGxhaW5QYXN0ZSgpO1xuICAgIH0sIHRoaXMucGxhaW5QYXN0ZUlkbGVNcyk7XG4gIH1cblxuICBwcml2YXRlIGZpbmFsaXplUGxhaW5QYXN0ZSgpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuaW5QbGFpblBhc3RlKSByZXR1cm47XG5cbiAgICAvLyBTYW5pdGl6ZSB0byByZW1vdmUgYW55IGluamVjdGVkIGVzY2FwZSBzZXF1ZW5jZXMsIHRoZW4gbm9ybWFsaXplIGxpbmUgZW5kaW5nc1xuICAgIGxldCBzYW5pdGl6ZWQgPSB0aGlzLnNhbml0aXplUGFzdGVDb250ZW50KHRoaXMucGxhaW5QYXN0ZUJ1ZmZlcik7XG5cbiAgICAvLyBJbnB1dCBwcm90ZWN0aW9uIHZhbGlkYXRpb24gYWdhaW5zdCByZW1vdGUgcGFzdGUgYXR0YWNrc1xuICAgIGlmICh0aGlzLmlucHV0UHJvdGVjdGlvbikge1xuICAgICAgY29uc3QgdmFsaWRhdGlvbiA9IHRoaXMuaW5wdXRQcm90ZWN0aW9uLnZhbGlkYXRlSW5wdXQoc2FuaXRpemVkLCB0cnVlKTtcbiAgICAgIGlmICh2YWxpZGF0aW9uLmJsb2NrZWQpIHtcbiAgICAgICAgLy8gUGFzdGUgYmxvY2tlZCAtIHJlc2V0IHN0YXRlIGFuZCBhYm9ydFxuICAgICAgICB0aGlzLmluUGxhaW5QYXN0ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLnBsYWluUGFzdGVCdWZmZXIgPSAnJztcbiAgICAgICAgdGhpcy5wbGFpblJlY2VudENodW5rcyA9IFtdO1xuICAgICAgICB0aGlzLnJlc2V0UGxhaW5QYXN0ZUJ1cnN0KCk7XG4gICAgICAgIHRoaXMucGFzdGVCdWZmZXJPdmVyZmxvdyA9IGZhbHNlO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzYW5pdGl6ZWQgPSB2YWxpZGF0aW9uLnNhbml0aXplZDtcbiAgICB9XG5cbiAgICBjb25zdCBjb250ZW50ID0gc2FuaXRpemVkLnJlcGxhY2UoL1xcclxcbj8vZywgJ1xcbicpO1xuICAgIGNvbnN0IHdhc1RydW5jYXRlZCA9IHRoaXMucGFzdGVCdWZmZXJPdmVyZmxvdztcbiAgICB0aGlzLmluUGxhaW5QYXN0ZSA9IGZhbHNlO1xuICAgIHRoaXMucGxhaW5QYXN0ZUJ1ZmZlciA9ICcnO1xuICAgIHRoaXMucGxhaW5SZWNlbnRDaHVua3MgPSBbXTtcbiAgICB0aGlzLnJlc2V0UGxhaW5QYXN0ZUJ1cnN0KCk7XG4gICAgdGhpcy5wYXN0ZUJ1ZmZlck92ZXJmbG93ID0gZmFsc2U7XG4gICAgaWYgKHRoaXMucGxhaW5QYXN0ZVRpbWVyKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5wbGFpblBhc3RlVGltZXIpO1xuICAgICAgdGhpcy5wbGFpblBhc3RlVGltZXIgPSBudWxsO1xuICAgIH1cblxuICAgIGlmICghY29udGVudCkgcmV0dXJuO1xuICAgIGNvbnN0IGxpbmVzID0gY29udGVudC5zcGxpdCgnXFxuJyk7XG4gICAgaWYgKGxpbmVzLmxlbmd0aCA+IDEgfHwgY29udGVudC5sZW5ndGggPiAyMDApIHtcbiAgICAgIHRoaXMuY29sbGFwc2VkUGFzdGUgPSB7XG4gICAgICAgIHRleHQ6IGNvbnRlbnQsXG4gICAgICAgIGxpbmVzOiBsaW5lcy5sZW5ndGgsXG4gICAgICAgIGNoYXJzOiBjb250ZW50Lmxlbmd0aCArICh3YXNUcnVuY2F0ZWQgPyAnKycgYXMgdW5rbm93biBhcyBudW1iZXIgOiAwKSxcbiAgICAgIH07XG4gICAgICB0aGlzLmJ1ZmZlciA9ICcnO1xuICAgICAgdGhpcy5jdXJzb3IgPSAwO1xuICAgICAgdGhpcy51cGRhdGVTdWdnZXN0aW9ucygpO1xuICAgICAgdGhpcy5yZW5kZXJQcm9tcHQoKTtcbiAgICAgIHRoaXMuZW1pdElucHV0Q2hhbmdlKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5pbnNlcnRUZXh0KGNvbnRlbnQpO1xuICB9XG5cbiAgcHJpdmF0ZSBpbnNlcnRUZXh0KHRleHQ6IHN0cmluZyk6IHZvaWQge1xuICAgIGlmICghdGV4dCkgcmV0dXJuO1xuXG4gICAgLy8gU0FGRVRZIE5FVDogRmlsdGVyIG91dCBhbnkgdG9nZ2xlIG9yIGNvbnRyb2wgY2hhcmFjdGVycyB0aGF0IHNsaXBwZWQgdGhyb3VnaFxuICAgIC8vIFRoaXMgc2hvdWxkIG5ldmVyIGhhcHBlbiBpZiBlYXJsaWVyIGRldGVjdGlvbiB3b3JrcywgYnV0IGFjdHMgYXMgZmluYWwgZ3VhcmRcbiAgICBjb25zdCBmaWx0ZXJlZCA9IFsuLi50ZXh0XS5maWx0ZXIoYyA9PiB7XG4gICAgICBjb25zdCBjb2RlID0gYy5jaGFyQ29kZUF0KDApO1xuICAgICAgLy8gQmxvY2sgQUxMIGNvbnRyb2wgY2hhcmFjdGVycyAoMC0zMSkgYW5kIERFTCAoMTI3KVxuICAgICAgLy8gVGhpcyBpbmNsdWRlcyBDdHJsK0MgKDMpLCBDdHJsK0QgKDQpLCBFU0MgKDI3KSwgZXRjLlxuICAgICAgaWYgKGNvZGUgPCAzMiB8fCBjb2RlID09PSAxMjcpIHJldHVybiBmYWxzZTtcbiAgICAgIC8vIEJsb2NrIHRvZ2dsZSBjaGFyYWN0ZXJzIChPcHRpb24rRy9BL0QvVC9WIFVuaWNvZGUpXG4gICAgICBpZiAodGhpcy5pc1RvZ2dsZUNoYXJhY3RlcihjKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSkuam9pbignJyk7XG5cbiAgICBpZiAoIWZpbHRlcmVkKSB7XG4gICAgICBpZiAocHJvY2Vzcy5lbnZbJ0FHSV9ERUJVR19LRVlTJ10pIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgW0tFWV0gSU5TRVJUIFRFWFQgQkxPQ0tFRDogYWxsIGNoYXJzIGZpbHRlcmVkIGZyb20gXCIke3RleHR9XCJgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGV4dCA9IGZpbHRlcmVkO1xuXG4gICAgLy8gRGVidWc6IHRyYWNlIHdoYXQncyBiZWluZyBpbnNlcnRlZFxuICAgIGlmIChwcm9jZXNzLmVudlsnQUdJX0RFQlVHX0tFWVMnXSkge1xuICAgICAgY29uc3QgY29kZSA9IHRleHQuY2hhckNvZGVBdCgwKTtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYFtLRVldIElOU0VSVCBURVhUOiBcIiR7dGV4dH1cIiBjb2RlPSR7Y29kZX1gKTtcbiAgICB9XG5cbiAgICAvLyBEb24ndCBpbnNlcnQgZHVyaW5nIHBhc3RlIG9wZXJhdGlvbnMgLSBjb250ZW50IGdvZXMgdG8gcGFzdGUgYnVmZmVyXG4gICAgaWYgKHRoaXMuaW5CcmFja2V0ZWRQYXN0ZSB8fCB0aGlzLmluUGxhaW5QYXN0ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIElucHV0IHByb3RlY3Rpb24gdmFsaWRhdGlvbiBhZ2FpbnN0IHJlbW90ZSBhdHRhY2tzXG4gICAgaWYgKHRoaXMuaW5wdXRQcm90ZWN0aW9uKSB7XG4gICAgICBjb25zdCB2YWxpZGF0aW9uID0gdGhpcy5pbnB1dFByb3RlY3Rpb24udmFsaWRhdGVJbnB1dCh0ZXh0LCBmYWxzZSk7XG4gICAgICBpZiAodmFsaWRhdGlvbi5ibG9ja2VkKSB7XG4gICAgICAgIC8vIElucHV0IGJsb2NrZWQgLSBzaWxlbnRseSBkcm9wIHRvIHByZXZlbnQgYXR0YWNrXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICh2YWxpZGF0aW9uLnNhbml0aXplZCAhPT0gdGV4dCkge1xuICAgICAgICAvLyBVc2Ugc2FuaXRpemVkIHZlcnNpb25cbiAgICAgICAgdGV4dCA9IHZhbGlkYXRpb24uc2FuaXRpemVkO1xuICAgICAgICBpZiAoIXRleHQpIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gSWYgdGhlcmUncyBhIGNvbGxhcHNlZCBwYXN0ZSBhbmQgdXNlciB0eXBlcywgZXhwYW5kIHRvIGJ1ZmZlciBmaXJzdCB0aGVuIGluc2VydCBhdCBjdXJzb3JcbiAgICBpZiAodGhpcy5jb2xsYXBzZWRQYXN0ZSkge1xuICAgICAgdGhpcy5leHBhbmRDb2xsYXBzZWRQYXN0ZVRvQnVmZmVyKCk7XG4gICAgfVxuICAgIC8vIFNhbml0aXplIGlucHV0IHRvIHJlbW92ZSBzcGVjaWFsIGZvcm1hdHRpbmcgY2hhcmFjdGVyc1xuICAgIGNvbnN0IHNhbml0aXplZCA9IHRoaXMuc2FuaXRpemVQYXN0ZUNvbnRlbnQodGV4dCk7XG4gICAgaWYgKCFzYW5pdGl6ZWQpIHJldHVybjtcbiAgICBcbiAgICAvLyBIYW5kbGUgbXVsdGktbGluZSB0ZXh0IGJ5IGNvbGxhcHNpbmcgdG8gc2luZ2xlIGxpbmUgZm9yIG5vcm1hbCBpbnB1dFxuICAgIGNvbnN0IGhhc05ld2xpbmVzID0gc2FuaXRpemVkLmluY2x1ZGVzKCdcXG4nKTtcbiAgICBpZiAoaGFzTmV3bGluZXMpIHtcbiAgICAgIC8vIEZvciBtdWx0aS1saW5lIHRleHQgaW4gbm9ybWFsIGluc2VydGlvbiwgY29sbGFwc2UgdG8gc2luZ2xlIGxpbmUgd2l0aCBzcGFjZXNcbiAgICAgIGNvbnN0IGNvbGxhcHNlZCA9IHNhbml0aXplZC5yZXBsYWNlKC9cXHJcXG58XFxyfFxcbi9nLCAnICcpO1xuICAgICAgdGhpcy5pbnNlcnRTaW5nbGVMaW5lVGV4dChjb2xsYXBzZWQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmluc2VydFNpbmdsZUxpbmVUZXh0KHNhbml0aXplZCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBpbnNlcnRTaW5nbGVMaW5lVGV4dCh0ZXh0OiBzdHJpbmcpOiB2b2lkIHtcbiAgICBpZiAoIXRleHQpIHJldHVybjtcbiAgICAvLyBFbnN1cmUgY3Vyc29yIGlzIHZhbGlkIGJlZm9yZSBzbGljaW5nXG4gICAgdGhpcy5jbGFtcEN1cnNvcigpO1xuICAgIHRoaXMuYnVmZmVyID0gdGhpcy5idWZmZXIuc2xpY2UoMCwgdGhpcy5jdXJzb3IpICsgdGV4dCArIHRoaXMuYnVmZmVyLnNsaWNlKHRoaXMuY3Vyc29yKTtcbiAgICB0aGlzLmN1cnNvciArPSB0ZXh0Lmxlbmd0aDtcbiAgICB0aGlzLmNsYW1wQ3Vyc29yKCk7IC8vIEVuc3VyZSBjdXJzb3IgcmVtYWlucyB2YWxpZCBhZnRlciBtb2RpZmljYXRpb25cbiAgICB0aGlzLnVwZGF0ZVN1Z2dlc3Rpb25zKCk7XG4gICAgLy8gU3VwcHJlc3MgcmVuZGVyIGR1cmluZyBwYXN0ZSBkZXRlY3Rpb24gdG8gcHJldmVudCB2aXN1YWwgbGVha1xuICAgIGNvbnN0IGluRW1pdFBhc3RlID0gdGhpcy5lbWl0UGFzdGVCdWZmZXIubGVuZ3RoID4gMCB8fCB0aGlzLmVtaXRQYXN0ZVRpbWVyICE9PSBudWxsO1xuICAgIGlmICghdGhpcy5pblBsYWluUGFzdGUgJiYgIXRoaXMuaW5CcmFja2V0ZWRQYXN0ZSAmJiAhaW5FbWl0UGFzdGUpIHtcbiAgICAgIHRoaXMucmVuZGVyUHJvbXB0KCk7XG4gICAgfVxuICAgIHRoaXMuZW1pdElucHV0Q2hhbmdlKCk7XG4gIH1cblxuICBwcml2YXRlIHN1Ym1pdFRleHQodGV4dDogc3RyaW5nKTogdm9pZCB7XG4gICAgY29uc3QgaXNCdWZmZXJTb3VyY2UgPSB0ZXh0ID09PSB0aGlzLmJ1ZmZlcjtcblxuICAgIC8vIElmIHRoZXJlJ3MgYSBjb2xsYXBzZWQgcGFzdGUsIHN1Ym1pdCB0aGF0IGluc3RlYWQgb2YgdGhlIGJ1ZmZlciB0ZXh0XG4gICAgLy8gVGhpcyBoYW5kbGVzIGVkZ2UgY2FzZXMgd2hlcmUgc3VibWl0VGV4dCBpcyBjYWxsZWQgcHJvZ3JhbW1hdGljYWxseVxuICAgIGlmICh0aGlzLmNvbGxhcHNlZFBhc3RlKSB7XG4gICAgICB0aGlzLmV4cGFuZENvbGxhcHNlZFBhc3RlKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gRW5zdXJlIGFueSBkZWZlcnJlZCBpbnB1dCBoYXMgYmVlbiBjb21taXR0ZWQgYmVmb3JlIHN1Ym1pc3Npb25cbiAgICB0aGlzLmNvbW1pdFBlbmRpbmdJbnNlcnQoKTtcbiAgICBpZiAoaXNCdWZmZXJTb3VyY2UpIHtcbiAgICAgIHRleHQgPSB0aGlzLmJ1ZmZlcjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5pbnB1dENhcHR1cmUpIHtcbiAgICAgIGNvbnN0IHNob3VsZFRyaW0gPSB0aGlzLmlucHV0Q2FwdHVyZS5vcHRpb25zLnRyaW07XG4gICAgICBjb25zdCBub3JtYWxpemVkQ2FwdHVyZSA9IHNob3VsZFRyaW0gPyB0ZXh0LnRyaW0oKSA6IHRleHQ7XG4gICAgICBpZiAoIXRoaXMuaW5wdXRDYXB0dXJlLm9wdGlvbnMuYWxsb3dFbXB0eSAmJiAhbm9ybWFsaXplZENhcHR1cmUpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJQcm9tcHQoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVzb2x2ZXIgPSB0aGlzLmlucHV0Q2FwdHVyZTtcbiAgICAgIHRoaXMuaW5wdXRDYXB0dXJlID0gbnVsbDtcbiAgICAgIHRoaXMuYnVmZmVyID0gJyc7XG4gICAgICB0aGlzLmN1cnNvciA9IDA7XG4gICAgICB0aGlzLmlucHV0UmVuZGVyT2Zmc2V0ID0gMDtcbiAgICAgIHRoaXMucmVzZXRTdWdnZXN0aW9ucygpO1xuICAgICAgdGhpcy5yZW5kZXJQcm9tcHQoKTtcbiAgICAgIHRoaXMuZW1pdElucHV0Q2hhbmdlKCk7XG4gICAgICByZXNvbHZlci5yZXNvbHZlKG5vcm1hbGl6ZWRDYXB0dXJlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQgbm9ybWFsaXplZCA9IHRleHQudHJpbSgpO1xuICAgIGlmICghbm9ybWFsaXplZCkge1xuICAgICAgdGhpcy5yZW5kZXJQcm9tcHQoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBGaW5hbCBwcm9tcHQgdmFsaWRhdGlvbiBiZWZvcmUgc3VibWlzc2lvbiB0byBBSVxuICAgIGlmICh0aGlzLmlucHV0UHJvdGVjdGlvbikge1xuICAgICAgY29uc3QgdmFsaWRhdGlvbiA9IHRoaXMuaW5wdXRQcm90ZWN0aW9uLnZhbGlkYXRlUHJvbXB0U3VibWlzc2lvbihub3JtYWxpemVkKTtcbiAgICAgIGlmICh2YWxpZGF0aW9uLmJsb2NrZWQpIHtcbiAgICAgICAgLy8gUHJvbXB0IGJsb2NrZWQgLSBkb24ndCBzdWJtaXRcbiAgICAgICAgdGhpcy5idWZmZXIgPSAnJztcbiAgICAgICAgdGhpcy5jdXJzb3IgPSAwO1xuICAgICAgICB0aGlzLnJlbmRlclByb21wdCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBub3JtYWxpemVkID0gdmFsaWRhdGlvbi5zYW5pdGl6ZWQ7XG4gICAgfVxuXG4gICAgLy8gRG9uJ3QgYWRkIHNlY3JldHMgb3Igc2xhc2ggY29tbWFuZHMgdG8gaGlzdG9yeS9zY3JvbGxiYWNrXG4gICAgaWYgKCF0aGlzLnNlY3JldE1vZGUgJiYgIW5vcm1hbGl6ZWQuc3RhcnRzV2l0aCgnLycpKSB7XG4gICAgICB0aGlzLmhpc3RvcnkucHVzaChub3JtYWxpemVkKTtcbiAgICAgIHRoaXMuaGlzdG9yeUluZGV4ID0gLTE7XG4gICAgICB0aGlzLmRpc3BsYXlVc2VyUHJvbXB0KG5vcm1hbGl6ZWQpO1xuICAgIH0gZWxzZSBpZiAoIXRoaXMuc2VjcmV0TW9kZSkge1xuICAgICAgLy8gU3RpbGwgdHJhY2sgc2xhc2ggY29tbWFuZHMgaW4gaGlzdG9yeSBmb3IgY29udmVuaWVuY2VcbiAgICAgIHRoaXMuaGlzdG9yeS5wdXNoKG5vcm1hbGl6ZWQpO1xuICAgICAgdGhpcy5oaXN0b3J5SW5kZXggPSAtMTtcbiAgICB9XG4gICAgaWYgKHRoaXMubW9kZSA9PT0gJ3N0cmVhbWluZycpIHtcbiAgICAgIHRoaXMuZW1pdCgncXVldWUnLCBub3JtYWxpemVkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5lbWl0KCdzdWJtaXQnLCBub3JtYWxpemVkKTtcbiAgICB9XG4gICAgdGhpcy5idWZmZXIgPSAnJztcbiAgICB0aGlzLmN1cnNvciA9IDA7XG4gICAgdGhpcy5yZXNldFN1Z2dlc3Rpb25zKCk7XG4gICAgdGhpcy5yZW5kZXJQcm9tcHQoKTtcbiAgICB0aGlzLmVtaXRJbnB1dENoYW5nZSgpO1xuICB9XG5cbiAgcHJpdmF0ZSB1cGRhdGVTdWdnZXN0aW9ucygpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuYnVmZmVyLnN0YXJ0c1dpdGgoJy8nKSkge1xuICAgICAgdGhpcy5yZXNldFN1Z2dlc3Rpb25zKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgZmlyc3RTcGFjZSA9IHRoaXMuYnVmZmVyLmluZGV4T2YoJyAnKTtcbiAgICBjb25zdCBoYXNBcmdUZXh0ID0gZmlyc3RTcGFjZSA+PSAwICYmIC9cXFMvLnRlc3QodGhpcy5idWZmZXIuc2xpY2UoZmlyc3RTcGFjZSArIDEpKTtcbiAgICAvLyBIaWRlIHNsYXNoIHN1Z2dlc3Rpb25zIHdoZW4gdGhlIHVzZXIgaXMgZWRpdGluZyBhcmd1bWVudHNcbiAgICBpZiAoZmlyc3RTcGFjZSA+PSAwICYmIHRoaXMuY3Vyc29yID4gZmlyc3RTcGFjZSAmJiBoYXNBcmdUZXh0KSB7XG4gICAgICB0aGlzLnJlc2V0U3VnZ2VzdGlvbnMoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBjdXJzb3JTbGljZSA9IHRoaXMuYnVmZmVyLnNsaWNlKDAsIHRoaXMuY3Vyc29yKTtcbiAgICBjb25zdCBjb21tYW5kU2xpY2UgPSBmaXJzdFNwYWNlID49IDAgPyBjdXJzb3JTbGljZS5zbGljZSgwLCBmaXJzdFNwYWNlKSA6IGN1cnNvclNsaWNlO1xuICAgIGNvbnN0IGZhbGxiYWNrU2xpY2UgPSBmaXJzdFNwYWNlID49IDAgPyB0aGlzLmJ1ZmZlci5zbGljZSgwLCBmaXJzdFNwYWNlKSA6IHRoaXMuYnVmZmVyO1xuICAgIGNvbnN0IHBhcnRpYWwgPSAoY29tbWFuZFNsaWNlLnRyaW1FbmQoKSB8fCBmYWxsYmFja1NsaWNlLnRyaW1FbmQoKSB8fCAnLycpLnRvTG93ZXJDYXNlKCk7XG4gICAgY29uc3QgcHJldmlvdXMgPSB0aGlzLnN1Z2dlc3Rpb25zW3RoaXMuc3VnZ2VzdGlvbkluZGV4XT8uY29tbWFuZDtcbiAgICB0aGlzLnN1Z2dlc3Rpb25zID0gdGhpcy5hdmFpbGFibGVDb21tYW5kc1xuICAgICAgLmZpbHRlcihjbWQgPT4gY21kLmNvbW1hbmQudG9Mb3dlckNhc2UoKS5zdGFydHNXaXRoKHBhcnRpYWwpKVxuICAgICAgLnNsaWNlKDAsIDUpO1xuICAgIGlmICh0aGlzLnN1Z2dlc3Rpb25zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhpcy5yZXNldFN1Z2dlc3Rpb25zKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChwcmV2aW91cykge1xuICAgICAgY29uc3QgaWR4ID0gdGhpcy5zdWdnZXN0aW9ucy5maW5kSW5kZXgocyA9PiBzLmNvbW1hbmQgPT09IHByZXZpb3VzKTtcbiAgICAgIHRoaXMuc3VnZ2VzdGlvbkluZGV4ID0gaWR4ID49IDAgPyBpZHggOiAwO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnN1Z2dlc3Rpb25JbmRleCA9IDA7XG4gICAgfVxuICB9XG5cbiAgc2V0QXZhaWxhYmxlQ29tbWFuZHMoY29tbWFuZHM6IHR5cGVvZiB0aGlzLnN1Z2dlc3Rpb25zKTogdm9pZCB7XG4gICAgdGhpcy5hdmFpbGFibGVDb21tYW5kcyA9IGNvbW1hbmRzO1xuICAgIHRoaXMudXBkYXRlU3VnZ2VzdGlvbnMoKTtcbiAgfVxuXG4gIHByaXZhdGUgYXBwbHlTdWdnZXN0aW9uKHN1Ym1pdDogYm9vbGVhbik6IGJvb2xlYW4ge1xuICAgIGlmICghdGhpcy5idWZmZXIuc3RhcnRzV2l0aCgnLycpIHx8IHRoaXMuc3VnZ2VzdGlvbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIC8vIEVuc3VyZSBzdWdnZXN0aW9uSW5kZXggaXMgdmFsaWQsIGRlZmF1bHQgdG8gZmlyc3QgaXRlbVxuICAgIGNvbnN0IHNhZmVJbmRleCA9IHRoaXMuc3VnZ2VzdGlvbkluZGV4ID49IDAgJiYgdGhpcy5zdWdnZXN0aW9uSW5kZXggPCB0aGlzLnN1Z2dlc3Rpb25zLmxlbmd0aFxuICAgICAgPyB0aGlzLnN1Z2dlc3Rpb25JbmRleFxuICAgICAgOiAwO1xuICAgIGNvbnN0IHNlbGVjdGVkID0gdGhpcy5zdWdnZXN0aW9uc1tzYWZlSW5kZXhdO1xuICAgIGlmICghc2VsZWN0ZWQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHN1Ym1pdCkge1xuICAgICAgdGhpcy5zdWJtaXRUZXh0KHNlbGVjdGVkLmNvbW1hbmQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmJ1ZmZlciA9IGAke3NlbGVjdGVkLmNvbW1hbmR9IGA7XG4gICAgICB0aGlzLmN1cnNvciA9IHRoaXMuYnVmZmVyLmxlbmd0aDtcbiAgICAgIHRoaXMucmVzZXRTdWdnZXN0aW9ucygpO1xuICAgICAgdGhpcy5yZW5kZXJQcm9tcHQoKTtcbiAgICAgIHRoaXMuZW1pdElucHV0Q2hhbmdlKCk7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcHJpdmF0ZSByZXNldFN1Z2dlc3Rpb25zKCk6IHZvaWQge1xuICAgIHRoaXMuc3VnZ2VzdGlvbnMgPSBbXTtcbiAgICB0aGlzLnN1Z2dlc3Rpb25JbmRleCA9IC0xO1xuICB9XG5cbiAgcHJpdmF0ZSBuYXZpZ2F0ZVN1Z2dlc3Rpb25zKGRpcmVjdGlvbjogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgaWYgKCF0aGlzLmJ1ZmZlci5zdGFydHNXaXRoKCcvJykgfHwgdGhpcy5zdWdnZXN0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgIC8vIFJlc2V0IGluZGV4IGlmIHN1Z2dlc3Rpb25zIHdlcmUgY2xlYXJlZCBidXQgaW5kZXggd2Fzbid0XG4gICAgICBpZiAodGhpcy5zdWdnZXN0aW9uSW5kZXggIT09IC0xICYmIHRoaXMuc3VnZ2VzdGlvbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRoaXMuc3VnZ2VzdGlvbkluZGV4ID0gLTE7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIC8vIEVuc3VyZSBjdXJyZW50IGluZGV4IGlzIHZhbGlkIGJlZm9yZSBjb21wdXRpbmcgbmV4dFxuICAgIGNvbnN0IGN1cnJlbnRJbmRleCA9IHRoaXMuc3VnZ2VzdGlvbkluZGV4ID49IDAgJiYgdGhpcy5zdWdnZXN0aW9uSW5kZXggPCB0aGlzLnN1Z2dlc3Rpb25zLmxlbmd0aFxuICAgICAgPyB0aGlzLnN1Z2dlc3Rpb25JbmRleFxuICAgICAgOiAtMTtcbiAgICBjb25zdCBuZXh0ID0gY3VycmVudEluZGV4ICsgZGlyZWN0aW9uO1xuICAgIGNvbnN0IGNsYW1wZWQgPSBNYXRoLm1heCgwLCBNYXRoLm1pbih0aGlzLnN1Z2dlc3Rpb25zLmxlbmd0aCAtIDEsIG5leHQpKTtcbiAgICBpZiAoY2xhbXBlZCA9PT0gdGhpcy5zdWdnZXN0aW9uSW5kZXggJiYgdGhpcy5zdWdnZXN0aW9uSW5kZXggPj0gMCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHRoaXMuc3VnZ2VzdGlvbkluZGV4ID0gY2xhbXBlZDtcbiAgICB0aGlzLnJlbmRlclByb21wdCgpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLy8gLS0tLS0tLS0tLS0tIEV2ZW50IHF1ZXVlIC0tLS0tLS0tLS0tLVxuXG4gIC8qKiBUcmFjayBsYXN0IGFkZGVkIGV2ZW50IHRvIHByZXZlbnQgZHVwbGljYXRlcyAqL1xuICBwcml2YXRlIGxhc3RBZGRlZEV2ZW50U2lnbmF0dXJlOiBzdHJpbmcgPSAnJztcblxuICBhZGRFdmVudCh0eXBlOiBSZW5kZXJlckV2ZW50VHlwZSwgY29udGVudDogc3RyaW5nKTogdm9pZCB7XG4gICAgaWYgKCFjb250ZW50KSByZXR1cm47XG4gICAgY29uc3Qgbm9ybWFsaXplZCA9IHRoaXMubm9ybWFsaXplRXZlbnRUeXBlKHR5cGUpO1xuICAgIGlmICghbm9ybWFsaXplZCkgcmV0dXJuO1xuXG4gICAgLy8gRGVkdXBsaWNhdGUgZXZlbnRzIGF0IHRoZSBzb3VyY2UgdG8gcHJldmVudCBkdXBsaWNhdGUgZGlzcGxheVxuICAgIC8vIFNraXAgZGVkdXBsaWNhdGlvbiBmb3IgcHJvbXB0cyAodXNlciBpbnB1dCBzaG91bGQgYWx3YXlzIHNob3cpXG4gICAgaWYgKG5vcm1hbGl6ZWQgIT09ICdwcm9tcHQnKSB7XG4gICAgICBjb25zdCBzaWduYXR1cmUgPSBgJHtub3JtYWxpemVkfToke2NvbnRlbnR9YDtcbiAgICAgIGlmIChzaWduYXR1cmUgPT09IHRoaXMubGFzdEFkZGVkRXZlbnRTaWduYXR1cmUpIHtcbiAgICAgICAgcmV0dXJuOyAvLyBTa2lwIGR1cGxpY2F0ZSBldmVudFxuICAgICAgfVxuICAgICAgdGhpcy5sYXN0QWRkZWRFdmVudFNpZ25hdHVyZSA9IHNpZ25hdHVyZTtcbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICBub3JtYWxpemVkID09PSAncHJvbXB0JyB8fFxuICAgICAgbm9ybWFsaXplZCA9PT0gJ3Jlc3BvbnNlJyB8fFxuICAgICAgbm9ybWFsaXplZCA9PT0gJ3Rob3VnaHQnIHx8XG4gICAgICBub3JtYWxpemVkID09PSAnc3RyZWFtJyB8fFxuICAgICAgbm9ybWFsaXplZCA9PT0gJ3Rvb2wnIHx8XG4gICAgICBub3JtYWxpemVkID09PSAndG9vbC1yZXN1bHQnIHx8XG4gICAgICBub3JtYWxpemVkID09PSAnYnVpbGQnIHx8XG4gICAgICBub3JtYWxpemVkID09PSAndGVzdCdcbiAgICApIHtcbiAgICAgIHRoaXMuaGFzQ29udmVyc2F0aW9uQ29udGVudCA9IHRydWU7XG4gICAgfVxuICAgIGlmIChub3JtYWxpemVkID09PSAndG9vbC1yZXN1bHQnKSB7XG4gICAgICB0aGlzLmxhc3RUb29sUmVzdWx0ID0gY29udGVudDtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5wbGFpbk1vZGUpIHtcbiAgICAgIGNvbnN0IGZvcm1hdHRlZCA9IHRoaXMuZm9ybWF0Q29udGVudCh7XG4gICAgICAgIHR5cGU6IG5vcm1hbGl6ZWQsXG4gICAgICAgIHJhd1R5cGU6IHR5cGUsXG4gICAgICAgIGNvbnRlbnQsXG4gICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICAgIH0pO1xuICAgICAgaWYgKGZvcm1hdHRlZCkge1xuICAgICAgICBjb25zdCB0ZXh0ID0gZm9ybWF0dGVkLmVuZHNXaXRoKCdcXG4nKSA/IGZvcm1hdHRlZCA6IGAke2Zvcm1hdHRlZH1cXG5gO1xuICAgICAgICB0aGlzLm91dHB1dC53cml0ZSh0ZXh0KTtcbiAgICAgICAgdGhpcy5sYXN0T3V0cHV0RW5kZWRXaXRoTmV3bGluZSA9IHRleHQuZW5kc1dpdGgoJ1xcbicpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGV2ZW50ID0ge1xuICAgICAgdHlwZTogbm9ybWFsaXplZCxcbiAgICAgIHJhd1R5cGU6IHR5cGUsXG4gICAgICBjb250ZW50LFxuICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgIH07XG5cbiAgICAvLyBQcmlvcml0eSBxdWV1ZTogcHJvbXB0IGV2ZW50cyBhcmUgaW5zZXJ0ZWQgYXQgdGhlIGZyb250IHRvIGVuc3VyZSBpbW1lZGlhdGUgZGlzcGxheVxuICAgIC8vIFRoaXMgZ3VhcmFudGVlcyB1c2VyIGlucHV0IGlzIGVjaG9lZCBiZWZvcmUgYW55IGFzeW5jIHByb2Nlc3NpbmcgcmVzcG9uc2VzXG4gICAgaWYgKG5vcm1hbGl6ZWQgPT09ICdwcm9tcHQnKSB7XG4gICAgICAvLyBGaW5kIHRoZSBmaXJzdCBub24tcHJvbXB0IGV2ZW50IGFuZCBpbnNlcnQgYmVmb3JlIGl0XG4gICAgICAvLyBUaGlzIG1haW50YWlucyBwcm9tcHQgb3JkZXIgd2hpbGUgZ2l2aW5nIHRoZW0gcHJpb3JpdHkgb3ZlciBvdGhlciBldmVudHNcbiAgICAgIGNvbnN0IGluc2VydEluZGV4ID0gdGhpcy5ldmVudFF1ZXVlLmZpbmRJbmRleChlID0+IGUudHlwZSAhPT0gJ3Byb21wdCcpO1xuICAgICAgaWYgKGluc2VydEluZGV4ID09PSAtMSkge1xuICAgICAgICB0aGlzLmV2ZW50UXVldWUucHVzaChldmVudCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmV2ZW50UXVldWUuc3BsaWNlKGluc2VydEluZGV4LCAwLCBldmVudCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZXZlbnRRdWV1ZS5wdXNoKGV2ZW50KTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuaXNQcm9jZXNzaW5nUXVldWUpIHtcbiAgICAgIHF1ZXVlTWljcm90YXNrKCgpID0+IHtcbiAgICAgICAgaWYgKCF0aGlzLmlzUHJvY2Vzc2luZ1F1ZXVlKSB7XG4gICAgICAgICAgdm9pZCB0aGlzLnByb2Nlc3NRdWV1ZSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmUtcmVuZGVyIHRoZSBwcm9tcHQvY29udHJvbCBiYXIgaW1tZWRpYXRlbHkuXG4gICAqIFRoaXMga2VlcHMgdGhlIGNoYXQgYm94IHBpbm5lZCBkdXJpbmcgbG9uZyBzdHJlYW1pbmcgcnVucyBpbnN0ZWFkIG9mIHdhaXRpbmdcbiAgICogZm9yIHRoZSBldmVudCBxdWV1ZSB0byBkcmFpbiBiZWZvcmUgdGhlIHByb21wdCByZWFwcGVhcnMuXG4gICAqL1xuICBwcml2YXRlIHJlbmRlclByb21wdE92ZXJsYXkoaW1tZWRpYXRlOiBib29sZWFuID0gZmFsc2UpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5wbGFpbk1vZGUgfHwgdGhpcy5kaXNwb3NlZCB8fCAhdGhpcy5vdXRwdXQuaXNUVFkgfHwgdGhpcy5wcm9tcHRSZW5kZXJpbmdTdXNwZW5kZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5hbGxvd1Byb21wdFJlbmRlciA9IHRydWU7XG4gICAgaWYgKGltbWVkaWF0ZSkge1xuICAgICAgdGhpcy5yZW5kZXJQcm9tcHRJbW1lZGlhdGUoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5yZW5kZXJQcm9tcHQoKTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgcHJvY2Vzc1F1ZXVlKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICh0aGlzLmlzUHJvY2Vzc2luZ1F1ZXVlIHx8IHRoaXMuZGlzcG9zZWQpIHJldHVybjtcbiAgICB0aGlzLmlzUHJvY2Vzc2luZ1F1ZXVlID0gdHJ1ZTtcbiAgICB0cnkge1xuICAgICAgd2hpbGUgKHRoaXMuZXZlbnRRdWV1ZS5sZW5ndGggPiAwICYmICF0aGlzLmRpc3Bvc2VkKSB7XG4gICAgICAgIGNvbnN0IGV2ZW50ID0gdGhpcy5ldmVudFF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgIGlmICghZXZlbnQpIGNvbnRpbnVlO1xuICAgICAgICBjb25zdCBjb2FsZXNjZWQgPSB0aGlzLmNvYWxlc2NlQWRqYWNlbnRUZXh0RXZlbnRzKGV2ZW50KTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBhd2FpdCB0aGlzLnJlbmRlckV2ZW50KGNvYWxlc2NlZCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgLy8gTmV2ZXIgYWxsb3cgYSByZW5kZXJpbmcgZmFpbHVyZSB0byBzdGFsbCB0aGUgZXZlbnQgcXVldWVcbiAgICAgICAgICBpZiAodGhpcy5kaXNwb3NlZCkgYnJlYWs7IC8vIERvbid0IHRyeSB0byB3cml0ZSBhZnRlciBkaXNwb3NhbFxuICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPVxuICAgICAgICAgICAgZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiB0eXBlb2YgZXJyb3IgPT09ICdzdHJpbmcnID8gZXJyb3IgOiAnVW5rbm93biByZW5kZXJlciBlcnJvcic7XG4gICAgICAgICAgdGhpcy5vdXRwdXQud3JpdGUoYFxcbltyZW5kZXJlcl0gJHttZXNzYWdlfVxcbmApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2hlY2sgZGlzcG9zZWQgYmVmb3JlIGNvbnRpbnVpbmdcbiAgICAgICAgaWYgKHRoaXMuZGlzcG9zZWQpIGJyZWFrO1xuXG4gICAgICAgIC8vIE5vdGU6IEZvciBwcm9tcHQgZXZlbnRzLCB0aGUgb3ZlcmxheSBpcyBhbHJlYWR5IHJlbmRlcmVkIGluIHJlbmRlckV2ZW50KClcbiAgICAgICAgLy8gdmlhIHJlbmRlclByb21wdE92ZXJsYXkodHJ1ZSkuIE5vIG5lZWQgdG8gcmVuZGVyIGFnYWluIGhlcmUuXG4gICAgICAgIGlmIChldmVudC50eXBlID09PSAncHJvbXB0Jykge1xuICAgICAgICAgIC8vIEVuc3VyZSBwcm9tcHQgcmVuZGVyaW5nIGlzIGFsbG93ZWQgZm9yIHN1YnNlcXVlbnQgZXZlbnRzXG4gICAgICAgICAgaWYgKHRoaXMub3V0cHV0LmlzVFRZKSB7XG4gICAgICAgICAgICB0aGlzLmFsbG93UHJvbXB0UmVuZGVyID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gTm8gZGVsYXkgZm9yIHByb21wdCBldmVudHMgLSByZW5kZXIgaW1tZWRpYXRlbHlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhd2FpdCB0aGlzLmRlbGF5KDEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBBTFdBWVMgcmVuZGVyIHByb21wdCBhZnRlciBxdWV1ZSBjb21wbGV0ZXMgdG8ga2VlcCBib3R0b20gVUkgcGVyc2lzdGVudFxuICAgICAgLy8gVGhpcyBlbnN1cmVzIHN0YXR1cy90b2dnbGVzIHN0YXkgcGlubmVkIGFuZCByZXNwb25zZXMgYXJlIGZ1bGx5IHJlbmRlcmVkXG4gICAgICBpZiAodGhpcy5vdXRwdXQuaXNUVFkgJiYgIXRoaXMuZGlzcG9zZWQpIHtcbiAgICAgICAgdGhpcy5hbGxvd1Byb21wdFJlbmRlciA9IHRydWU7XG4gICAgICAgIHRoaXMucmVuZGVyUHJvbXB0KCk7XG4gICAgICB9XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHRoaXMuaXNQcm9jZXNzaW5nUXVldWUgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogTWVyZ2UgYWRqYWNlbnQgcmVzcG9uc2UvdGhvdWdodCBldmVudHMgaW50byBhIHNpbmdsZSBibG9jayBzbyBjb250aW51b3VzXG4gICAqIGNoYXQgdGV4dCByZW5kZXJzIHdpdGggb25lIGJ1bGxldCBpbnN0ZWFkIG9mIG9uZSBwZXIgY2h1bmsuXG4gICAqL1xuICBwcml2YXRlIGNvYWxlc2NlQWRqYWNlbnRUZXh0RXZlbnRzKGV2ZW50OiBVSUV2ZW50KTogVUlFdmVudCB7XG4gICAgY29uc3QgaXNNZXJnZWFibGUgPSAodGFyZ2V0OiBVSUV2ZW50IHwgdW5kZWZpbmVkKTogdGFyZ2V0IGlzIFVJRXZlbnQgPT5cbiAgICAgIEJvb2xlYW4oXG4gICAgICAgIHRhcmdldCAmJlxuICAgICAgICAgICF0YXJnZXQuaXNDb21wYWN0ZWQgJiZcbiAgICAgICAgICAoKHRhcmdldC50eXBlID09PSAncmVzcG9uc2UnICYmIHRhcmdldC5yYXdUeXBlID09PSAncmVzcG9uc2UnKSB8fFxuICAgICAgICAgICAgKHRhcmdldC50eXBlID09PSAndGhvdWdodCcgJiYgdGFyZ2V0LnJhd1R5cGUgPT09ICd0aG91Z2h0JykpXG4gICAgICApO1xuXG4gICAgaWYgKCFpc01lcmdlYWJsZShldmVudCkpIHtcbiAgICAgIHJldHVybiBldmVudDtcbiAgICB9XG5cbiAgICB3aGlsZSAodGhpcy5ldmVudFF1ZXVlLmxlbmd0aCA+IDAgJiYgaXNNZXJnZWFibGUodGhpcy5ldmVudFF1ZXVlWzBdKSkge1xuICAgICAgY29uc3QgbmV4dCA9IHRoaXMuZXZlbnRRdWV1ZS5zaGlmdCgpITtcbiAgICAgIGNvbnN0IG5lZWRzU2VwYXJhdG9yID1cbiAgICAgICAgZXZlbnQuY29udGVudC5sZW5ndGggPiAwICYmICFldmVudC5jb250ZW50LmVuZHNXaXRoKCdcXG4nKSAmJiAhbmV4dC5jb250ZW50LnN0YXJ0c1dpdGgoJ1xcbicpO1xuICAgICAgZXZlbnQuY29udGVudCA9IG5lZWRzU2VwYXJhdG9yID8gYCR7ZXZlbnQuY29udGVudH1cXG4ke25leHQuY29udGVudH1gIDogYCR7ZXZlbnQuY29udGVudH0ke25leHQuY29udGVudH1gO1xuICAgIH1cblxuICAgIHJldHVybiBldmVudDtcbiAgfVxuXG4gIC8qKlxuICAgKiBGbHVzaCBwZW5kaW5nIHJlbmRlcmVyIGV2ZW50cy5cbiAgICogVXNlZnVsIGZvciBzdGFydHVwIGZsb3dzIChlLmcuLCB3ZWxjb21lIGJhbm5lcikgdG8gZ3VhcmFudGVlIHRoZSBzY3JvbGxiYWNrIGlzIGh5ZHJhdGVkXG4gICAqIGJlZm9yZSBjb250aW51aW5nIHdpdGggYWRkaXRpb25hbCBVSSB1cGRhdGVzLlxuICAgKi9cbiAgYXN5bmMgZmx1c2hFdmVudHModGltZW91dE1zOiBudW1iZXIgPSAyNTApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAvLyBLaWNrIG9mZiBwcm9jZXNzaW5nIGlmIGlkbGVcbiAgICBpZiAoIXRoaXMucGxhaW5Nb2RlICYmICF0aGlzLmlzUHJvY2Vzc2luZ1F1ZXVlICYmIHRoaXMuZXZlbnRRdWV1ZS5sZW5ndGggPiAwKSB7XG4gICAgICB2b2lkIHRoaXMucHJvY2Vzc1F1ZXVlKCk7XG4gICAgfVxuXG4gICAgY29uc3Qgc3RhcnQgPSBEYXRlLm5vdygpO1xuICAgIHdoaWxlICgodGhpcy5pc1Byb2Nlc3NpbmdRdWV1ZSB8fCB0aGlzLmV2ZW50UXVldWUubGVuZ3RoID4gMCkgJiYgRGF0ZS5ub3coKSAtIHN0YXJ0IDwgdGltZW91dE1zKSB7XG4gICAgICBhd2FpdCB0aGlzLmRlbGF5KDUpO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5wbGFpbk1vZGUgJiYgdGhpcy5vdXRwdXQuaXNUVFkpIHtcbiAgICAgIHRoaXMuYWxsb3dQcm9tcHRSZW5kZXIgPSB0cnVlO1xuICAgICAgdGhpcy5yZW5kZXJQcm9tcHQoKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIHJlbmRlckV2ZW50KGV2ZW50OiBVSUV2ZW50KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgLy8gQ2xlYXIgaW5pdGlhbGl6YXRpb24gZmxhZyB3aGVuIGZpcnN0IGJhbm5lciBpcyBkaXNwbGF5ZWRcbiAgICAvLyBUaGlzIGFsbG93cyBwcm9tcHQgcmVuZGVyaW5nIHRvIGJlZ2luIGFmdGVyIHRoZSB3ZWxjb21lIGJhbm5lclxuICAgIGlmIChldmVudC5yYXdUeXBlID09PSAnYmFubmVyJyAmJiB0aGlzLmluaXRpYWxpemluZykge1xuICAgICAgdGhpcy5pbml0aWFsaXppbmcgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5wbGFpbk1vZGUpIHtcbiAgICAgIGNvbnN0IGZvcm1hdHRlZFBsYWluID0gdGhpcy5mb3JtYXRDb250ZW50KGV2ZW50KTtcbiAgICAgIGlmIChmb3JtYXR0ZWRQbGFpbikge1xuICAgICAgICBjb25zdCB0ZXh0ID0gZm9ybWF0dGVkUGxhaW4uZW5kc1dpdGgoJ1xcbicpID8gZm9ybWF0dGVkUGxhaW4gOiBgJHtmb3JtYXR0ZWRQbGFpbn1cXG5gO1xuICAgICAgICB0aGlzLm91dHB1dC53cml0ZSh0ZXh0KTtcbiAgICAgICAgdGhpcy5sYXN0T3V0cHV0RW5kZWRXaXRoTmV3bGluZSA9IHRleHQuZW5kc1dpdGgoJ1xcbicpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGZvcm1hdHRlZCA9IHRoaXMuZm9ybWF0Q29udGVudChldmVudCk7XG4gICAgaWYgKCFmb3JtYXR0ZWQpIHJldHVybjtcblxuICAgIC8vIERlZHVwbGljYXRlIHN0cmVhbWluZyBhbmQgcmVzcG9uc2UgY29udGVudCB0byBwcmV2ZW50IGR1cGxpY2F0ZXNcbiAgICBjb25zdCBzaWduYXR1cmUgPSBgJHtldmVudC5yYXdUeXBlfToke2V2ZW50LmNvbnRlbnR9YDtcbiAgICBpZiAoKGV2ZW50LnR5cGUgPT09ICdzdHJlYW0nIHx8IGV2ZW50LnR5cGUgPT09ICdyZXNwb25zZScpICYmIHNpZ25hdHVyZSA9PT0gdGhpcy5sYXN0UmVuZGVyZWRFdmVudEtleSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoZXZlbnQudHlwZSAhPT0gJ3Byb21wdCcpIHtcbiAgICAgIHRoaXMubGFzdFJlbmRlcmVkRXZlbnRLZXkgPSBzaWduYXR1cmU7XG4gICAgfVxuXG4gICAgLy8gQ2xlYXIgdGhlIHByb21wdCBhcmVhIGJlZm9yZSB3cml0aW5nIG5ldyBjb250ZW50XG4gICAgaWYgKHRoaXMucHJvbXB0SGVpZ2h0ID4gMCB8fCB0aGlzLmxhc3RPdmVybGF5KSB7XG4gICAgICB0aGlzLmNsZWFyUHJvbXB0QXJlYSgpO1xuICAgIH1cbiAgICB0aGlzLmlzUHJvbXB0QWN0aXZlID0gZmFsc2U7XG5cbiAgICBpZiAoZXZlbnQudHlwZSAhPT0gJ3N0cmVhbScgJiYgIXRoaXMubGFzdE91dHB1dEVuZGVkV2l0aE5ld2xpbmUgJiYgZm9ybWF0dGVkLnRyaW0oKSkge1xuICAgICAgLy8gS2VlcCBzY3JvbGxiYWNrIG9yZGVyaW5nIHByZWRpY3RhYmxlIHdoZW4gcHJldmlvdXMgb3V0cHV0IGVuZGVkIG1pZC1saW5lXG4gICAgICB0aGlzLm91dHB1dC53cml0ZSgnXFxuJyk7XG4gICAgICB0aGlzLmxhc3RPdXRwdXRFbmRlZFdpdGhOZXdsaW5lID0gdHJ1ZTtcbiAgICB9XG5cbiAgICB0aGlzLm91dHB1dC53cml0ZShmb3JtYXR0ZWQpO1xuICAgIHRoaXMubGFzdE91dHB1dEVuZGVkV2l0aE5ld2xpbmUgPSBmb3JtYXR0ZWQuZW5kc1dpdGgoJ1xcbicpO1xuXG4gICAgLy8gSW1tZWRpYXRlbHkgcmVzdG9yZSB0aGUgcHJvbXB0IG92ZXJsYXkgc28gdGhlIGNoYXQgYm94IHN0YXlzIHBpbm5lZCBkdXJpbmcgc3RyZWFtaW5nXG4gICAgaWYgKHRoaXMub3V0cHV0LmlzVFRZICYmIHRoaXMuaW50ZXJhY3RpdmUgJiYgIXRoaXMuZGlzcG9zZWQpIHtcbiAgICAgIHRoaXMucmVuZGVyUHJvbXB0T3ZlcmxheSh0cnVlKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIG5vcm1hbGl6ZUV2ZW50VHlwZSh0eXBlOiBSZW5kZXJlckV2ZW50VHlwZSk6IENhbm9uaWNhbEV2ZW50VHlwZSB8IG51bGwge1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSAncHJvbXB0JzpcbiAgICAgICAgcmV0dXJuICdwcm9tcHQnO1xuICAgICAgY2FzZSAndGhvdWdodCc6XG4gICAgICAgIHJldHVybiAndGhvdWdodCc7XG4gICAgICBjYXNlICdzdHJlYW0nOlxuICAgICAgY2FzZSAnc3RyZWFtaW5nJzpcbiAgICAgICAgcmV0dXJuICdzdHJlYW0nO1xuICAgICAgY2FzZSAndG9vbCc6XG4gICAgICBjYXNlICd0b29sLWNhbGwnOlxuICAgICAgICByZXR1cm4gJ3Rvb2wnO1xuICAgICAgY2FzZSAndG9vbC1yZXN1bHQnOlxuICAgICAgICByZXR1cm4gJ3Rvb2wtcmVzdWx0JztcbiAgICAgIGNhc2UgJ2J1aWxkJzpcbiAgICAgICAgcmV0dXJuICdidWlsZCc7XG4gICAgICBjYXNlICd0ZXN0JzpcbiAgICAgICAgcmV0dXJuICd0ZXN0JztcbiAgICAgIGNhc2UgJ3Jlc3BvbnNlJzpcbiAgICAgIGNhc2UgJ2Jhbm5lcic6XG4gICAgICBjYXNlICdyYXcnOlxuICAgICAgICByZXR1cm4gJ3Jlc3BvbnNlJztcbiAgICAgIGNhc2UgJ2Vycm9yJzpcbiAgICAgICAgcmV0dXJuICdyZXNwb25zZSc7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGZvcm1hdENvbnRlbnQoZXZlbnQ6IFVJRXZlbnQpOiBzdHJpbmcge1xuICAgIC8vIENvbXBhY3RlZCBibG9ja3MgYWxyZWFkeSBoYXZlIHNlcGFyYXRvciBhbmQgZm9ybWF0dGluZ1xuICAgIGlmIChldmVudC5pc0NvbXBhY3RlZCkge1xuICAgICAgcmV0dXJuIGV2ZW50LmNvbnRlbnQ7XG4gICAgfVxuXG4gICAgaWYgKGV2ZW50LnJhd1R5cGUgPT09ICdiYW5uZXInKSB7XG4gICAgICAvLyBCYW5uZXJzIGRpc3BsYXkgd2l0aG91dCBidWxsZXQgcHJlZml4XG4gICAgICBjb25zdCBsaW5lcyA9IGV2ZW50LmNvbnRlbnQuc3BsaXQoJ1xcbicpLm1hcChsaW5lID0+IGxpbmUudHJpbUVuZCgpKTtcbiAgICAgIHJldHVybiBgJHtsaW5lcy5qb2luKCdcXG4nKX1cXG5gO1xuICAgIH1cblxuICAgIC8vIENvbXBhY3QsIHVzZXItZnJpZW5kbHkgZm9ybWF0dGluZ1xuICAgIHN3aXRjaCAoZXZlbnQudHlwZSkge1xuICAgICAgY2FzZSAncHJvbXB0JzpcbiAgICAgICAgLy8gVXNlciBwcm9tcHQgLSBqdXN0IHRoZSB0ZXh0IChwcm9tcHQgYm94IGhhbmRsZXMgc3R5bGluZylcbiAgICAgICAgcmV0dXJuIGAke3RoZW1lLnByaW1hcnkoJz4nKX0gJHtldmVudC5jb250ZW50fVxcbmA7XG5cbiAgICAgIGNhc2UgJ3Rob3VnaHQnOiB7XG4gICAgICAgIC8vIFByb2dyYW1tYXRpYyBmaWx0ZXI6IHJlamVjdCBjb250ZW50IHRoYXQgbG9va3MgbGlrZSBpbnRlcm5hbC9nYXJiYWdlIG91dHB1dFxuICAgICAgICBpZiAodGhpcy5pc0dhcmJhZ2VPdXRwdXQoZXZlbnQuY29udGVudCkpIHtcbiAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY3VyYXRlZCA9IHRoaXMuY3VyYXRlUmVhc29uaW5nQ29udGVudChldmVudC5jb250ZW50KTtcbiAgICAgICAgaWYgKCFjdXJhdGVkIHx8IHRoaXMuaXNHYXJiYWdlT3V0cHV0KGN1cmF0ZWQpKSB7XG4gICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5zaG91bGRSZW5kZXJUaG91Z2h0KGN1cmF0ZWQpKSB7XG4gICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubGFzdEN1cmF0ZWRUaG91Z2h0ID0ge1xuICAgICAgICAgIHRleHQ6IGN1cmF0ZWQucmVwbGFjZSgvXFxzKy9nLCAnICcpLnRyaW0oKS50b0xvd2VyQ2FzZSgpLFxuICAgICAgICAgIGF0OiBEYXRlLm5vdygpLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGhpcy5mb3JtYXRUaGlua2luZ0Jsb2NrKGN1cmF0ZWQpO1xuICAgICAgfVxuXG4gICAgICBjYXNlICd0b29sJzoge1xuICAgICAgICAvLyBDb21wYWN0IHRvb2wgZGlzcGxheTog4pqhVG9vbE5hbWUg4oaSIHJlc3VsdFxuICAgICAgICBjb25zdCBjb250ZW50ID0gZXZlbnQuY29udGVudC5yZXBsYWNlKC9eW+KPuuKameKXi11cXHMqLywgJycpO1xuICAgICAgICByZXR1cm4gdGhpcy5mb3JtYXRDb21wYWN0VG9vbENhbGwoY29udGVudCk7XG4gICAgICB9XG5cbiAgICAgIGNhc2UgJ3Rvb2wtcmVzdWx0Jzoge1xuICAgICAgICAvLyBJbmxpbmUgcmVzdWx0OiDilJTilIAgc3VtbWFyeVxuICAgICAgICByZXR1cm4gdGhpcy5mb3JtYXRDb21wYWN0VG9vbFJlc3VsdChldmVudC5jb250ZW50KTtcbiAgICAgIH1cblxuICAgICAgY2FzZSAnYnVpbGQnOlxuICAgICAgICByZXR1cm4gdGhpcy53cmFwQnVsbGV0VGV4dChldmVudC5jb250ZW50LCB7IGxhYmVsOiAnYnVpbGQnLCBsYWJlbENvbG9yOiB0aGVtZS53YXJuaW5nIH0pO1xuXG4gICAgICBjYXNlICd0ZXN0JzpcbiAgICAgICAgcmV0dXJuIHRoaXMud3JhcEJ1bGxldFRleHQoZXZlbnQuY29udGVudCwgeyBsYWJlbDogJ3Rlc3QnLCBsYWJlbENvbG9yOiB0aGVtZS5pbmZvIH0pO1xuXG4gICAgICBjYXNlICdzdHJlYW0nOiB7XG4gICAgICAgIC8vIFN0cmVhbWluZyBjb250ZW50IGlzIHRoZSBtb2RlbCdzIHJlc3BvbnNlIC0gcGFzcyB0aHJvdWdoIGRpcmVjdGx5XG4gICAgICAgIC8vIElNUE9SVEFOVDogRG9uJ3QgZmlsdGVyIHN0cmVhbWluZyBjaHVua3Mgd2l0aCBpc0dhcmJhZ2VPdXRwdXQgYmVjYXVzZTpcbiAgICAgICAgLy8gMS4gQ2h1bmtzIGFycml2ZSBjaGFyYWN0ZXItYnktY2hhcmFjdGVyIG9yIGluIHNtYWxsIHBpZWNlc1xuICAgICAgICAvLyAyLiBTbWFsbCBjaHVua3MgbGlrZSBcIi5cIiBvciBcIjpcIiBhcmUgdmFsaWQgcGFydHMgb2Ygc2VudGVuY2VzXG4gICAgICAgIC8vIDMuIEZpbHRlcmluZyB3b3VsZCBicmVhayB0aGUgc3RyZWFtaW5nIGRpc3BsYXlcbiAgICAgICAgLy8gT25seSBmaWx0ZXIgY29tcGxldGVseSBlbXB0eSBjb250ZW50XG4gICAgICAgIGlmICghZXZlbnQuY29udGVudCkge1xuICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuICAgICAgICAvLyBBY2N1bXVsYXRlIHN0cmVhbWluZyBjb250ZW50IGZvciBwb3RlbnRpYWwgcG9zdC1wcm9jZXNzaW5nXG4gICAgICAgIHRoaXMuc3RyZWFtaW5nQ29udGVudEJ1ZmZlciArPSBldmVudC5jb250ZW50O1xuICAgICAgICAvLyBUcmFjayBuZXdsaW5lcyBmb3IgbGluZSBjb3VudGluZ1xuICAgICAgICBjb25zdCBuZXdsaW5lcyA9IChldmVudC5jb250ZW50Lm1hdGNoKC9cXG4vZykgfHwgW10pLmxlbmd0aDtcbiAgICAgICAgdGhpcy5zdHJlYW1pbmdMaW5lc1dyaXR0ZW4gKz0gbmV3bGluZXM7XG4gICAgICAgIHJldHVybiBldmVudC5jb250ZW50O1xuICAgICAgfVxuXG4gICAgICBjYXNlICdyZXNwb25zZSc6XG4gICAgICBkZWZhdWx0OiB7XG4gICAgICAgIC8vIFByb2dyYW1tYXRpYyBmaWx0ZXI6IHJlamVjdCBjb250ZW50IHRoYXQgbG9va3MgbGlrZSBpbnRlcm5hbC9nYXJiYWdlIG91dHB1dFxuICAgICAgICBpZiAodGhpcy5pc0dhcmJhZ2VPdXRwdXQoZXZlbnQuY29udGVudCkpIHtcbiAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ2xlYW4gcmVzcG9uc2Ugd2l0aG91dCBleGNlc3NpdmUgYnVsbGV0cywgd3JhcHBlZCBmb3IgcmVhZGFiaWxpdHlcbiAgICAgICAgY29uc3QgaXNFcnJvciA9IGV2ZW50LnJhd1R5cGUgPT09ICdlcnJvcic7XG4gICAgICAgIHJldHVybiB0aGlzLndyYXBCdWxsZXRUZXh0KGV2ZW50LmNvbnRlbnQsIGlzRXJyb3IgPyB7IGxhYmVsOiAnZXJyb3InLCBsYWJlbENvbG9yOiB0aGVtZS5lcnJvciB9IDogdW5kZWZpbmVkKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUHJvZ3JhbW1hdGljIGdhcmJhZ2UgZGV0ZWN0aW9uIC0gY2hlY2tzIGlmIGNvbnRlbnQgbG9va3MgbGlrZSBpbnRlcm5hbC9zeXN0ZW0gb3V0cHV0XG4gICAqIHRoYXQgc2hvdWxkbid0IGJlIHNob3duIHRvIHVzZXJzLiBVc2VzIHN0cnVjdHVyYWwgY2hlY2tzLCBub3QgcGF0dGVybiBtYXRjaGluZy5cbiAgICovXG4gIHByaXZhdGUgaXNHYXJiYWdlT3V0cHV0KGNvbnRlbnQ6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIGlmICghY29udGVudCB8fCBjb250ZW50LnRyaW0oKS5sZW5ndGggPT09IDApIHJldHVybiB0cnVlO1xuXG4gICAgY29uc3QgdHJpbW1lZCA9IGNvbnRlbnQudHJpbSgpO1xuXG4gICAgLy8gVmVyeSBzaG9ydCBjb250ZW50IGNoZWNrcyAtIGNhdGNoIGxlYWtlZCBwdW5jdHVhdGlvbiBmcmFnbWVudHMgbGlrZSBcIi5cIiBvciBcIjpcIlxuICAgIGlmICh0cmltbWVkLmxlbmd0aCA8PSAzKSB7XG4gICAgICAvLyBTaW5nbGUgcHVuY3R1YXRpb24gbWFya3Mgb3IgdmVyeSBzaG9ydCBwdW5jdHVhdGlvbiBzZXF1ZW5jZXMgYXJlIGdhcmJhZ2VcbiAgICAgIGlmICgvXlsuLDo7IT8qI1xcLV89K3xcXFxcLzw+KCl7fVtcXF1gJ1wifl5AJiUkXSskLy50ZXN0KHRyaW1tZWQpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIENoZWNrIGlmIGNvbnRlbnQgaXMganVzdCBwdW5jdHVhdGlvbiBvbiBtdWx0aXBsZSBsaW5lcyAobGVha2VkIHJlYXNvbmluZylcbiAgICBjb25zdCBsaW5lcyA9IGNvbnRlbnQuc3BsaXQoJ1xcbicpO1xuICAgIGNvbnN0IHB1bmN0T25seUxpbmVzID0gbGluZXMuZmlsdGVyKGxpbmUgPT4ge1xuICAgICAgY29uc3QgbGluZVRyaW1tZWQgPSBsaW5lLnRyaW0oKTtcbiAgICAgIHJldHVybiBsaW5lVHJpbW1lZC5sZW5ndGggPiAwICYmIC9eWy4sOjshPyojXFwtXz0rfFxcXFwvPD4oKXt9W1xcXWAnXCJ+XkAmJSRcXHNdKyQvLnRlc3QobGluZVRyaW1tZWQpO1xuICAgIH0pO1xuICAgIC8vIElmIEFMTCBub24tZW1wdHkgbGluZXMgYXJlIGp1c3QgcHVuY3R1YXRpb24sIGl0J3MgZ2FyYmFnZVxuICAgIGNvbnN0IG5vbkVtcHR5TGluZXMgPSBsaW5lcy5maWx0ZXIobCA9PiBsLnRyaW0oKS5sZW5ndGggPiAwKTtcbiAgICBpZiAobm9uRW1wdHlMaW5lcy5sZW5ndGggPiAwICYmIHB1bmN0T25seUxpbmVzLmxlbmd0aCA9PT0gbm9uRW1wdHlMaW5lcy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8vIFN0cnVjdHVyYWwgY2hlY2s6IGNvbnRlbnQgc3RhcnRpbmcgd2l0aCA8IHRoYXQgaXNuJ3QgdmFsaWQgbWFya2Rvd24vY29kZVxuICAgIGlmIChjb250ZW50LnN0YXJ0c1dpdGgoJzwnKSAmJiAhY29udGVudC5zdGFydHNXaXRoKCc8aHR0cCcpICYmICFjb250ZW50LnN0YXJ0c1dpdGgoJzwhJykpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8vIFN0cnVjdHVyYWwgY2hlY2s6IGNvbnRhaW5zIFwidG89ZnVuY3Rpb25zLlwiIG9yIFwidG89dG9vbHMuXCIgKGludGVybmFsIHJvdXRpbmcpXG4gICAgaWYgKGNvbnRlbnQuaW5jbHVkZXMoJ3RvPWZ1bmN0aW9ucy4nKSB8fCBjb250ZW50LmluY2x1ZGVzKCd0bz10b29scy4nKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLy8gU3RydWN0dXJhbCBjaGVjazogbG9va3MgbGlrZSBpbnRlcm5hbCBpbnN0cnVjdGlvbiAocXVvdGVkIHN5c3RlbSB0ZXh0KVxuICAgIGlmIChjb250ZW50LnN0YXJ0c1dpdGgoJ1wiJykgJiYgY29udGVudC5pbmNsdWRlcygnYmxvY2snKSAmJiBjb250ZW50LmluY2x1ZGVzKCd0b29sJykpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8vIFN0cnVjdHVyYWwgY2hlY2s6IHZlcnkgc2hvcnQgY29udGVudCB0aGF0J3MganVzdCB0aW1pbmcgaW5mb1xuICAgIGlmIChjb250ZW50Lmxlbmd0aCA8IDMwICYmIC9lbGFwc2VkfHNlY29uZHM/fG1zXFxiL2kudGVzdChjb250ZW50KSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLy8gU3RydWN0dXJhbCBjaGVjazogbW9zdGx5IHB1bmN0dWF0aW9uL3N5bWJvbHMgLSBsZWFrZWQgcmVhc29uaW5nIGZyYWdtZW50c1xuICAgIGNvbnN0IG1lYW5pbmdmdWxMaW5lcyA9IGxpbmVzLmZpbHRlcihsaW5lID0+IHtcbiAgICAgIGNvbnN0IGxpbmVUcmltbWVkID0gbGluZS50cmltKCk7XG4gICAgICBpZiAoIWxpbmVUcmltbWVkKSByZXR1cm4gZmFsc2U7XG4gICAgICAvLyBMaW5lIG11c3QgaGF2ZSBhdCBsZWFzdCAzMCUgYWxwaGFudW1lcmljIGNvbnRlbnRcbiAgICAgIGNvbnN0IGFscGhhTnVtID0gKGxpbmVUcmltbWVkLm1hdGNoKC9bYS16QS1aMC05XS9nKSB8fCBbXSkubGVuZ3RoO1xuICAgICAgcmV0dXJuIGxpbmVUcmltbWVkLmxlbmd0aCA+IDAgJiYgYWxwaGFOdW0gLyBsaW5lVHJpbW1lZC5sZW5ndGggPj0gMC4zO1xuICAgIH0pO1xuICAgIC8vIElmIGxlc3MgdGhhbiAzMCUgb2YgbGluZXMgYXJlIG1lYW5pbmdmdWwsIGl0J3MgZ2FyYmFnZVxuICAgIGlmIChsaW5lcy5sZW5ndGggPiAzICYmIG1lYW5pbmdmdWxMaW5lcy5sZW5ndGggLyBsaW5lcy5sZW5ndGggPCAwLjMpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8vIFN0cnVjdHVyYWwgY2hlY2s6IGdpYmJlcmlzaCAtIGhpZ2ggcmF0aW8gb2Ygbm9uLXdvcmQgY2hhcmFjdGVyc1xuICAgIGNvbnN0IGFscGhhQ291bnQgPSAoY29udGVudC5tYXRjaCgvW2EtekEtWl0vZykgfHwgW10pLmxlbmd0aDtcbiAgICBjb25zdCB0b3RhbENvdW50ID0gY29udGVudC5yZXBsYWNlKC9cXHMvZywgJycpLmxlbmd0aDtcbiAgICBpZiAodG90YWxDb3VudCA+IDIwICYmIGFscGhhQ291bnQgLyB0b3RhbENvdW50IDwgMC40KSB7XG4gICAgICByZXR1cm4gdHJ1ZTsgLy8gTGVzcyB0aGFuIDQwJSBsZXR0ZXJzID0gbGlrZWx5IGdhcmJhZ2VcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogU2FuaXRpemUgdG9vbCByZXN1bHQgY29udGVudCB0byByZW1vdmUgbGVha2VkIHJlYXNvbmluZy90aGlua2luZyBvdXRwdXQuXG4gICAqIFRoaXMgZmlsdGVycyBvdXQgZnJhZ21lbnRzIHRoYXQgbG9vayBsaWtlIGludGVybmFsIG1vZGVsIG91dHB1dC5cbiAgICovXG4gIHByaXZhdGUgc2FuaXRpemVUb29sUmVzdWx0Q29udGVudChjb250ZW50OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGlmICghY29udGVudCkgcmV0dXJuICcnO1xuXG4gICAgLy8gU3BsaXQgaW50byBsaW5lcyBhbmQgZmlsdGVyIG91dCBnYXJiYWdlIGxpbmVzXG4gICAgY29uc3QgbGluZXMgPSBjb250ZW50LnNwbGl0KCdcXG4nKTtcbiAgICBjb25zdCBjbGVhbkxpbmVzOiBzdHJpbmdbXSA9IFtdO1xuXG4gICAgZm9yIChjb25zdCBsaW5lIG9mIGxpbmVzKSB7XG4gICAgICBjb25zdCB0cmltbWVkID0gbGluZS50cmltKCk7XG5cbiAgICAgIC8vIFNraXAgZW1wdHkgbGluZXMgYXQgc3RhcnRcbiAgICAgIGlmIChjbGVhbkxpbmVzLmxlbmd0aCA9PT0gMCAmJiAhdHJpbW1lZCkgY29udGludWU7XG5cbiAgICAgIC8vIFNraXAgbGluZXMgdGhhdCBsb29rIGxpa2UgbGVha2VkIHJlYXNvbmluZyBmcmFnbWVudHNcbiAgICAgIC8vIENvbW1vbiBwYXR0ZXJuczogc2luZ2xlIHB1bmN0dWF0aW9uLCBtYXJrZG93biBhcnRpZmFjdHMsIGVtb2ppIGZyYWdtZW50c1xuICAgICAgaWYgKC9eWylcXF19PipgJ1wiXSskLy50ZXN0KHRyaW1tZWQpKSBjb250aW51ZTtcbiAgICAgIGlmICgvXlsqX117Mix9JC8udGVzdCh0cmltbWVkKSkgY29udGludWU7IC8vIEp1c3QgKiogb3IgX19cbiAgICAgIGlmICgvXlt84pSC4pSDXSskLy50ZXN0KHRyaW1tZWQpKSBjb250aW51ZTsgLy8gSnVzdCB2ZXJ0aWNhbCBiYXJzXG4gICAgICBpZiAoL15b4pSA4pSB4pWQXSskLy50ZXN0KHRyaW1tZWQpKSBjb250aW51ZTsgLy8gSnVzdCBob3Jpem9udGFsIGxpbmVzXG4gICAgICBpZiAoL15cXC57Mix9JC8udGVzdCh0cmltbWVkKSkgY29udGludWU7IC8vIEp1c3QgZG90c1xuICAgICAgaWYgKC9eW1xcc++4j10rJC8udGVzdCh0cmltbWVkKSkgY29udGludWU7IC8vIEp1c3Qgd2hpdGVzcGFjZS9lbW9qaSBtb2RpZmllcnNcbiAgICAgIGlmICgvXls6XFxzXSskLy50ZXN0KHRyaW1tZWQpKSBjb250aW51ZTsgLy8gSnVzdCBjb2xvbnMvd2hpdGVzcGFjZVxuICAgICAgaWYgKC9eWyxcXHNdKyQvLnRlc3QodHJpbW1lZCkpIGNvbnRpbnVlOyAvLyBKdXN0IGNvbW1hcy93aGl0ZXNwYWNlXG5cbiAgICAgIC8vIFNraXAgbWFya2Rvd24gYm9sZC9pdGFsaWMgZnJhZ21lbnRzIHRoYXQgbGVha2VkXG4gICAgICBpZiAoL15cXCp7MSwyfVteKl0qXFwqezAsMn0kLy50ZXN0KHRyaW1tZWQpICYmIHRyaW1tZWQubGVuZ3RoIDwgMTAgJiYgIS9cXHd7Myx9Ly50ZXN0KHRyaW1tZWQpKSBjb250aW51ZTtcblxuICAgICAgLy8gU2tpcCBsaW5lcyB0aGF0IGFyZSBqdXN0IHNob3J0IGZyYWdtZW50cyB3aXRoIGhpZ2ggcHVuY3R1YXRpb24gcmF0aW9cbiAgICAgIGNvbnN0IGFscGhhSW5MaW5lID0gKHRyaW1tZWQubWF0Y2goL1thLXpBLVowLTldL2cpIHx8IFtdKS5sZW5ndGg7XG4gICAgICBpZiAodHJpbW1lZC5sZW5ndGggPiAwICYmIHRyaW1tZWQubGVuZ3RoIDwgMjAgJiYgYWxwaGFJbkxpbmUgLyB0cmltbWVkLmxlbmd0aCA8IDAuMykgY29udGludWU7XG5cbiAgICAgIC8vIFNraXAgdmVyeSBzaG9ydCBsaW5lcyB0aGF0IGFyZSBqdXN0IHB1bmN0dWF0aW9uIG9yIHNpbmdsZSBjaGFycyAoZXhjZXB0IG51bWJlcnMpXG4gICAgICBpZiAodHJpbW1lZC5sZW5ndGggPD0gMiAmJiAhL15cXGQrJC8udGVzdCh0cmltbWVkKSAmJiAhL15bYS16QS1aXXsyfSQvLnRlc3QodHJpbW1lZCkpIHtcbiAgICAgICAgLy8gQWxsb3cgc3BlY2lmaWMgc2hvcnQgcGF0dGVybnMgbGlrZSBcIk9LXCIsIFwiMFwiLCBcIjFcIiBldGMuXG4gICAgICAgIGlmICghL14oPzpva3xub3x5ZXN8XFxkKykkL2kudGVzdCh0cmltbWVkKSkgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIC8vIFNraXAgbGluZXMgdGhhdCBsb29rIGxpa2Ugc3RyYXkgcGFyZW50aGVzZXMgb3IgYnJhY2tldHMgZnJvbSByZWFzb25pbmdcbiAgICAgIGlmICgvXlsoKVtcXF17fV0rJC8udGVzdCh0cmltbWVkKSkgY29udGludWU7XG5cbiAgICAgIC8vIFNraXAgbGluZXMgdGhhdCBsb29rIGxpa2UgbWFya2Rvd24gY29kZSBmZW5jZSBhcnRpZmFjdHNcbiAgICAgIGlmICgvXmBgYFxccyokLy50ZXN0KHRyaW1tZWQpKSBjb250aW51ZTtcblxuICAgICAgY2xlYW5MaW5lcy5wdXNoKGxpbmUpO1xuICAgIH1cblxuICAgIC8vIFRyaW0gdHJhaWxpbmcgZW1wdHkgbGluZXNcbiAgICB3aGlsZSAoY2xlYW5MaW5lcy5sZW5ndGggPiAwICYmICFjbGVhbkxpbmVzW2NsZWFuTGluZXMubGVuZ3RoIC0gMV0/LnRyaW0oKSkge1xuICAgICAgY2xlYW5MaW5lcy5wb3AoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY2xlYW5MaW5lcy5qb2luKCdcXG4nKS50cmltKCk7XG4gIH1cblxuICBwcml2YXRlIGN1cmF0ZVJlYXNvbmluZ0NvbnRlbnQoY29udGVudDogc3RyaW5nKTogc3RyaW5nIHwgbnVsbCB7XG4gICAgY29uc3Qgbm9ybWFsaXplZCA9IGNvbnRlbnQucmVwbGFjZSgvXFxyXFxuL2csICdcXG4nKS5yZXBsYWNlKC9cXHIvZywgJ1xcbicpLnRyaW0oKTtcbiAgICBpZiAoIW5vcm1hbGl6ZWQpIHJldHVybiBudWxsO1xuXG4gICAgY29uc3QgbGltaXRlZCA9XG4gICAgICBub3JtYWxpemVkLmxlbmd0aCA+IHRoaXMubWF4Q3VyYXRlZFJlYXNvbmluZ0NoYXJzXG4gICAgICAgID8gbm9ybWFsaXplZC5zbGljZSgwLCB0aGlzLm1heEN1cmF0ZWRSZWFzb25pbmdDaGFycylcbiAgICAgICAgOiBub3JtYWxpemVkO1xuXG4gICAgY29uc3QgbWF4U2VnbWVudHMgPSB0aGlzLm1heEN1cmF0ZWRSZWFzb25pbmdMaW5lcyAqIDM7XG4gICAgY29uc3Qgc2VnbWVudHMgPSBsaW1pdGVkXG4gICAgICAuc3BsaXQoJ1xcbicpXG4gICAgICAuZmxhdE1hcChsaW5lID0+IGxpbmUuc3BsaXQoLyg/PD1bLj8hXSlcXHMrLykpXG4gICAgICAubWFwKGxpbmUgPT4gbGluZS5yZXBsYWNlKC9eW+KAoirij7ril4tcXC1cXHUyMDIyXStcXHMqLywgJycpLnRyaW0oKSlcbiAgICAgIC5maWx0ZXIoQm9vbGVhbik7XG5cbiAgICBpZiAoc2VnbWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBjb25zdCBzZWVuID0gbmV3IFNldDxzdHJpbmc+KCk7XG4gICAgY29uc3QgZGVkdXBlZDogc3RyaW5nW10gPSBbXTtcbiAgICBmb3IgKGNvbnN0IHNlZ21lbnQgb2Ygc2VnbWVudHMpIHtcbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWRTZWdtZW50ID0gc2VnbWVudC5yZXBsYWNlKC9cXHMrL2csICcgJyk7XG4gICAgICBjb25zdCBrZXkgPSBub3JtYWxpemVkU2VnbWVudC50b0xvd2VyQ2FzZSgpO1xuICAgICAgaWYgKHNlZW4uaGFzKGtleSkpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBzZWVuLmFkZChrZXkpO1xuICAgICAgZGVkdXBlZC5wdXNoKG5vcm1hbGl6ZWRTZWdtZW50KTtcbiAgICAgIGlmIChkZWR1cGVkLmxlbmd0aCA+PSBtYXhTZWdtZW50cykge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZGVkdXBlZC5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGNvbnN0IHByaW9yaXRpemVkID0gdGhpcy5wcmlvcml0aXplUmVhc29uaW5nU2VnbWVudHMoZGVkdXBlZCk7XG4gICAgaWYgKHByaW9yaXRpemVkLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgY29uc3QgbGltaXRlZFNlbGVjdGlvbiA9IHByaW9yaXRpemVkLnNsaWNlKDAsIHRoaXMubWF4Q3VyYXRlZFJlYXNvbmluZ0xpbmVzKTtcbiAgICBjb25zdCBidWxsZXRlZCA9IGxpbWl0ZWRTZWxlY3Rpb24ubWFwKGxpbmUgPT4gdGhpcy5lbnN1cmVSZWFzb25pbmdCdWxsZXQobGluZSkpO1xuXG4gICAgcmV0dXJuIGJ1bGxldGVkLmpvaW4oJ1xcbicpO1xuICB9XG5cbiAgcHJpdmF0ZSBlbnN1cmVSZWFzb25pbmdCdWxsZXQobGluZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBpZiAoL14oW+KAoirij7ril4stXXxcXGQrWy4pXSlcXHMvLnRlc3QobGluZSkpIHtcbiAgICAgIHJldHVybiBsaW5lO1xuICAgIH1cbiAgICByZXR1cm4gYOKAoiAke2xpbmV9YDtcbiAgfVxuXG4gIHByaXZhdGUgbG9va3NTdHJ1Y3R1cmVkVGhvdWdodChsaW5lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICByZXR1cm4gKFxuICAgICAgL14oXFxkK1suKV1cXHN8c3RlcFxccypcXGQrfHBsYW5cXGJ8bmV4dFxcYnx0aGVuXFxifGdvYWxcXGIpL2kudGVzdChsaW5lKSB8fFxuICAgICAgL15bLSrigKJdXFxzLy50ZXN0KGxpbmUpIHx8XG4gICAgICBsaW5lLmluY2x1ZGVzKCctPicpIHx8XG4gICAgICBsaW5lLmluY2x1ZGVzKCfihpInKSB8fFxuICAgICAgbGluZS5pbmNsdWRlcygnOiAnKSB8fFxuICAgICAgL1xcYih0ZXN0fHZlcmlmeXx2YWxpZGF0ZXxjaGVja3xidWlsZHxydW58ZGVwbG95fGRpZmZ8bGludHx0eXBlID9jaGVja3xmaXh8YnVnfGlzc3VlfHJpc2t8bWl0aWdhdGV8aW52ZXN0aWdhdGUpXFxiL2kudGVzdChsaW5lKVxuICAgICk7XG4gIH1cblxuICBwcml2YXRlIHByaW9yaXRpemVSZWFzb25pbmdTZWdtZW50cyhzZWdtZW50czogc3RyaW5nW10pOiBzdHJpbmdbXSB7XG4gICAgaWYgKCFzZWdtZW50cy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICBjb25zdCBzY29yZWQgPSBzZWdtZW50cy5tYXAoKHRleHQsIGluZGV4KSA9PiAoe1xuICAgICAgdGV4dCxcbiAgICAgIGluZGV4LFxuICAgICAgc2NvcmU6IHRoaXMucmVhc29uaW5nU2lnbmFsU2NvcmUodGV4dCksXG4gICAgfSkpO1xuXG4gICAgY29uc3QgaGFzU2lnbmFsID0gc2NvcmVkLnNvbWUoaXRlbSA9PiBpdGVtLnNjb3JlID4gMCk7XG4gICAgaWYgKCFoYXNTaWduYWwpIHtcbiAgICAgIHJldHVybiBzZWdtZW50cztcbiAgICB9XG5cbiAgICBzY29yZWQuc29ydCgoYSwgYikgPT4ge1xuICAgICAgaWYgKGIuc2NvcmUgIT09IGEuc2NvcmUpIHJldHVybiBiLnNjb3JlIC0gYS5zY29yZTtcbiAgICAgIHJldHVybiBhLmluZGV4IC0gYi5pbmRleDtcbiAgICB9KTtcblxuICAgIHJldHVybiBzY29yZWQubWFwKGl0ZW0gPT4gaXRlbS50ZXh0KTtcbiAgfVxuXG4gIHByaXZhdGUgcmVhc29uaW5nU2lnbmFsU2NvcmUobGluZTogc3RyaW5nKTogbnVtYmVyIHtcbiAgICBsZXQgc2NvcmUgPSAwO1xuICAgIGNvbnN0IGxvd2VyID0gbGluZS50b0xvd2VyQ2FzZSgpO1xuXG4gICAgaWYgKHRoaXMubG9va3NTdHJ1Y3R1cmVkVGhvdWdodChsaW5lKSkge1xuICAgICAgc2NvcmUgKz0gMztcbiAgICB9XG5cbiAgICBjb25zdCBhY3Rpb25LZXl3b3JkcyA9IFtcbiAgICAgICd0b29sJywgJ2NvbW1hbmQnLCAnc2NyaXB0JywgJ2NvbnRleHQnLCAnc3VtbWFyJywgJ3Jpc2snLCAnaXNzdWUnLFxuICAgICAgJ2ludmVzdGlnYXRlJywgJ3Jvb3QgY2F1c2UnLCAncmVtZWRpYXQnLCAnbWl0aWdhdCcsICdmaXgnLCAncGF0Y2gnLFxuICAgICAgJ3Rlc3QnLCAndmVyaWZ5JywgJ3ZhbGlkYXRlJywgJ2NoZWNrJywgJ2J1aWxkJywgJ2RlcGxveScsICdydW4nLFxuICAgICAgJ2RpZmYnLCAnbGludCcsICd0eXBlY2hlY2snLCAnYmVuY2htYXJrJyxcbiAgICBdO1xuICAgIGlmIChhY3Rpb25LZXl3b3Jkcy5zb21lKGtleXdvcmQgPT4gbG93ZXIuaW5jbHVkZXMoa2V5d29yZCkpKSB7XG4gICAgICBzY29yZSArPSAyO1xuICAgIH1cblxuICAgIGlmICgvWyM64oaSXXwtPi8udGVzdChsaW5lKSkge1xuICAgICAgc2NvcmUgKz0gMTtcbiAgICB9XG5cbiAgICBpZiAoL14oaSgnfCBhKW18aSB3aWxsfGxldCBtZXxzdGFydGluZ3xub3d8b2t8c3VyZSlcXGIvaS50ZXN0KGxpbmUpKSB7XG4gICAgICBzY29yZSAtPSAxO1xuICAgIH1cblxuICAgIGlmIChsaW5lLmxlbmd0aCA+IDEyMCkge1xuICAgICAgc2NvcmUgLT0gMTtcbiAgICB9XG5cbiAgICByZXR1cm4gc2NvcmU7XG4gIH1cblxuICBwcml2YXRlIHNob3VsZFJlbmRlclRob3VnaHQoY29udGVudDogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgY29uc3Qgbm9ybWFsaXplZCA9IGNvbnRlbnQucmVwbGFjZSgvXFxzKy9nLCAnICcpLnRyaW0oKS50b0xvd2VyQ2FzZSgpO1xuICAgIGlmICghbm9ybWFsaXplZCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgaWYgKHRoaXMubGFzdEN1cmF0ZWRUaG91Z2h0ICYmIHRoaXMubGFzdEN1cmF0ZWRUaG91Z2h0LnRleHQgPT09IG5vcm1hbGl6ZWQpIHtcbiAgICAgIGlmIChub3cgLSB0aGlzLmxhc3RDdXJhdGVkVGhvdWdodC5hdCA8IHRoaXMudGhvdWdodERlZHVwV2luZG93TXMpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEZvcm1hdCB0ZXh0IGluIENsYXVkZSBDb2RlIHN0eWxlOiDij7ogcHJlZml4IHdpdGggd3JhcHBlZCBjb250aW51YXRpb24gbGluZXNcbiAgICogRXhhbXBsZTpcbiAgICogICDij7ogVGhlIEFJIHJhbiB0b29scyBidXQgZ2F2ZSBubyByZXNwb25zZS4gTmVlZCB0byBmaXhcbiAgICogICAgIHRoZSByZXNwb25zZSBoYW5kbGluZy4gTGV0IG1lIGNoZWNrIHdoZXJlIHRoZSBBSSdzXG4gICAqICAgICB0ZXh0IHJlc3BvbnNlIHNob3VsZCBiZSBkaXNwbGF5ZWQ6XG4gICAqL1xuICBwcml2YXRlIGZvcm1hdENsYXVkZUNvZGVCbG9jayhjb250ZW50OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGNvbnN0IGJ1bGxldCA9ICfij7onO1xuICAgIGNvbnN0IG1heFdpZHRoID0gTWF0aC5tYXgoMjQsIE1hdGgubWluKHRoaXMuc2FmZVdpZHRoKCkgLSA0LCAxMTApKTsgLy8gUmVzcG9uc2l2ZSB0byB0ZXJtaW5hbCB3aWR0aFxuICAgIGNvbnN0IGxpbmVzID0gY29udGVudC5zcGxpdCgnXFxuJyk7XG4gICAgY29uc3QgcmVzdWx0OiBzdHJpbmdbXSA9IFtdO1xuXG4gICAgZm9yIChsZXQgbGluZUlkeCA9IDA7IGxpbmVJZHggPCBsaW5lcy5sZW5ndGg7IGxpbmVJZHgrKykge1xuICAgICAgY29uc3QgbGluZSA9IGxpbmVzW2xpbmVJZHhdITtcbiAgICAgIGlmICghbGluZS50cmltKCkpIHtcbiAgICAgICAgcmVzdWx0LnB1c2goJycpO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgLy8gV29yZC13cmFwIGVhY2ggbGluZVxuICAgICAgY29uc3Qgd29yZHMgPSBsaW5lLnNwbGl0KC8oXFxzKykvKTtcbiAgICAgIGxldCBjdXJyZW50TGluZSA9ICcnO1xuXG4gICAgICBmb3IgKGNvbnN0IHdvcmQgb2Ygd29yZHMpIHtcbiAgICAgICAgaWYgKChjdXJyZW50TGluZSArIHdvcmQpLmxlbmd0aCA+IG1heFdpZHRoICYmIGN1cnJlbnRMaW5lLnRyaW0oKSkge1xuICAgICAgICAgIC8vIEZpcnN0IGxpbmUgb2YgdGhpcyBwYXJhZ3JhcGggZ2V0cyDij7osIHJlc3QgZ2V0IGluZGVudFxuICAgICAgICAgIGNvbnN0IHByZWZpeCA9IHJlc3VsdC5sZW5ndGggPT09IDAgJiYgbGluZUlkeCA9PT0gMCA/IGAke2J1bGxldH0gYCA6ICcgICc7XG4gICAgICAgICAgcmVzdWx0LnB1c2goYCR7cHJlZml4fSR7Y3VycmVudExpbmUudHJpbUVuZCgpfWApO1xuICAgICAgICAgIGN1cnJlbnRMaW5lID0gd29yZC50cmltU3RhcnQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjdXJyZW50TGluZSArPSB3b3JkO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChjdXJyZW50TGluZS50cmltKCkpIHtcbiAgICAgICAgY29uc3QgcHJlZml4ID0gcmVzdWx0Lmxlbmd0aCA9PT0gMCAmJiBsaW5lSWR4ID09PSAwID8gYCR7YnVsbGV0fSBgIDogJyAgJztcbiAgICAgICAgcmVzdWx0LnB1c2goYCR7cHJlZml4fSR7Y3VycmVudExpbmUudHJpbUVuZCgpfWApO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQuam9pbignXFxuJykgKyAnXFxuJztcbiAgfVxuXG4gIC8qKlxuICAgKiBGb3JtYXQgYSB0b29sIGNhbGwgaW4gQ2xhdWRlIENvZGUgc3R5bGU6XG4gICAqICAg4o+6IFtTZWFyY2hdIHBhdHRlcm46IFwiZm9vXCIsIHBhdGg6IFwic3JjXCIsXG4gICAqICAgICAgICAgICAgICBvdXRwdXRfbW9kZTogXCJjb250ZW50XCIsIGhlYWRfbGltaXQ6IDMwXG4gICAqL1xuICBwcml2YXRlIGZvcm1hdFRvb2xDYWxsKGNvbnRlbnQ6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgY29uc3QgYnVsbGV0ID0gJ+KPuic7XG4gICAgLy8gUGFyc2UgdG9vbCBuYW1lIGFuZCBhcmd1bWVudHNcbiAgICBjb25zdCBtYXRjaCA9IGNvbnRlbnQubWF0Y2goL14oXFx3KylcXCgoLiopXFwpJC9zKTtcbiAgICBpZiAoIW1hdGNoKSB7XG4gICAgICAvLyBTaW1wbGUgZm9ybWF0IHdpdGhvdXQgYXJnc1xuICAgICAgY29uc3QgbmFtZU1hdGNoID0gY29udGVudC5tYXRjaCgvXihcXHcrKS8pO1xuICAgICAgaWYgKG5hbWVNYXRjaCkge1xuICAgICAgICByZXR1cm4gYCR7YnVsbGV0fSAke3RoZW1lLnRvb2xDb2xvcnMuZGVmYXVsdChgWyR7bmFtZU1hdGNoWzFdfV1gKX1cXG5gO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGAke2J1bGxldH0gJHtjb250ZW50fVxcbmA7XG4gICAgfVxuXG4gICAgY29uc3QgdG9vbE5hbWUgPSBtYXRjaFsxXTtcbiAgICBjb25zdCBhcmdzU3RyID0gbWF0Y2hbMl0hO1xuICAgIGNvbnN0IG1heFdpZHRoID0gTWF0aC5taW4odGhpcy5jb2xzIC0gNCwgNTYpO1xuXG4gICAgLy8gRm9ybWF0OiDij7ogW1Rvb2xOYW1lXSBhcmdzLi4uXG4gICAgY29uc3QgcHJlZml4ID0gYCR7YnVsbGV0fSAke3RoZW1lLnRvb2xDb2xvcnMuZGVmYXVsdChgWyR7dG9vbE5hbWV9XWApfSBgO1xuICAgIGNvbnN0IHByZWZpeExlbiA9IHRvb2xOYW1lIS5sZW5ndGggKyA1OyAvLyBcIuKPuiBbVG9vbE5hbWVdIFwiIHZpc2libGUgbGVuZ3RoXG4gICAgY29uc3QgaW5kZW50ID0gJyAnLnJlcGVhdChwcmVmaXhMZW4gKyA0KTsgLy8gRXh0cmEgaW5kZW50IGZvciB3cmFwcGVkIGFyZ3NcblxuICAgIC8vIFBhcnNlIGFuZCBmb3JtYXQgYXJndW1lbnRzXG4gICAgY29uc3QgYXJncyA9IHRoaXMucGFyc2VUb29sQXJncyhhcmdzU3RyKTtcbiAgICBpZiAoYXJncy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBgJHtwcmVmaXgudHJpbUVuZCgpfVxcbmA7XG4gICAgfVxuXG4gICAgY29uc3QgbGluZXM6IHN0cmluZ1tdID0gW107XG4gICAgbGV0IGN1cnJlbnRMaW5lID0gcHJlZml4O1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBhcmcgPSBhcmdzW2ldITtcbiAgICAgIGNvbnN0IGFyZ1RleHQgPSBgJHt0aGVtZS51aS5tdXRlZChhcmcua2V5ICsgJzonKX0gJHt0aGlzLmZvcm1hdEFyZ1ZhbHVlKGFyZy5rZXksIGFyZy52YWx1ZSl9YDtcbiAgICAgIGNvbnN0IHNlcGFyYXRvciA9IGkgPCBhcmdzLmxlbmd0aCAtIDEgPyAnLCAnIDogJyc7XG5cbiAgICAgIC8vIENoZWNrIGlmIHRoaXMgYXJnIGZpdHMgb24gY3VycmVudCBsaW5lXG4gICAgICBjb25zdCB0ZXN0TGluZSA9IGN1cnJlbnRMaW5lICsgYXJnVGV4dCArIHNlcGFyYXRvcjtcbiAgICAgIGlmICh0aGlzLnN0cmlwQW5zaSh0ZXN0TGluZSkubGVuZ3RoID4gbWF4V2lkdGggJiYgY3VycmVudExpbmUgIT09IHByZWZpeCkge1xuICAgICAgICBsaW5lcy5wdXNoKGN1cnJlbnRMaW5lLnRyaW1FbmQoKSk7XG4gICAgICAgIGN1cnJlbnRMaW5lID0gaW5kZW50ICsgYXJnVGV4dCArIHNlcGFyYXRvcjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGN1cnJlbnRMaW5lICs9IGFyZ1RleHQgKyBzZXBhcmF0b3I7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGN1cnJlbnRMaW5lLnRyaW0oKSkge1xuICAgICAgbGluZXMucHVzaChjdXJyZW50TGluZS50cmltRW5kKCkpO1xuICAgIH1cblxuICAgIHJldHVybiBsaW5lcy5qb2luKCdcXG4nKSArICdcXG4nO1xuICB9XG5cbiAgLyoqXG4gICAqIFBhcnNlIHRvb2wgYXJndW1lbnRzIGZyb20gc3RyaW5nIGxpa2U6IGtleTogXCJ2YWx1ZVwiLCBrZXkyOiB2YWx1ZTJcbiAgICovXG4gIHByaXZhdGUgcGFyc2VUb29sQXJncyhhcmdzU3RyOiBzdHJpbmcpOiBBcnJheTx7IGtleTogc3RyaW5nOyB2YWx1ZTogc3RyaW5nIH0+IHtcbiAgICBjb25zdCBhcmdzOiBBcnJheTx7IGtleTogc3RyaW5nOyB2YWx1ZTogc3RyaW5nIH0+ID0gW107XG4gICAgLy8gU2ltcGxlIHJlZ2V4IHRvIGV4dHJhY3Qga2V5OiB2YWx1ZSBwYWlyc1xuICAgIGNvbnN0IHJlZ2V4ID0gLyhcXHcrKTpcXHMqKFwiKD86W15cIlxcXFxdfFxcXFwuKSpcInxbXiwpXSspL2c7XG4gICAgbGV0IG1hdGNoO1xuICAgIHdoaWxlICgobWF0Y2ggPSByZWdleC5leGVjKGFyZ3NTdHIpKSAhPT0gbnVsbCkge1xuICAgICAgYXJncy5wdXNoKHsga2V5OiBtYXRjaFsxXSEsIHZhbHVlOiBtYXRjaFsyXSEudHJpbSgpIH0pO1xuICAgIH1cbiAgICByZXR1cm4gYXJncztcbiAgfVxuXG4gIC8qKlxuICAgKiBGb3JtYXQgYW4gYXJndW1lbnQgdmFsdWUgKHRydW5jYXRlIGxvbmcgc3RyaW5ncylcbiAgICovXG4gIHByaXZhdGUgZm9ybWF0QXJnVmFsdWUoa2V5OiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIC8vIFJlbW92ZSBzdXJyb3VuZGluZyBxdW90ZXMgaWYgcHJlc2VudFxuICAgIGNvbnN0IGlzUXVvdGVkID0gdmFsdWUuc3RhcnRzV2l0aCgnXCInKSAmJiB2YWx1ZS5lbmRzV2l0aCgnXCInKTtcbiAgICBjb25zdCBpbm5lciA9IGlzUXVvdGVkID8gdmFsdWUuc2xpY2UoMSwgLTEpIDogdmFsdWU7XG5cbiAgICBjb25zdCBsb3dlcktleSA9IGtleS50b0xvd2VyQ2FzZSgpO1xuICAgIGNvbnN0IHNob3VsZFByZXNlcnZlID1cbiAgICAgIGxvd2VyS2V5LmluY2x1ZGVzKCdwYXRoJykgfHxcbiAgICAgIGxvd2VyS2V5ID09PSAnZmlsZScgfHxcbiAgICAgIGxvd2VyS2V5ID09PSAncGF0dGVybicgfHxcbiAgICAgIGxvd2VyS2V5ID09PSAncXVlcnknIHx8XG4gICAgICBsb3dlcktleSA9PT0gJ2NvbW1hbmQnIHx8XG4gICAgICBsb3dlcktleSA9PT0gJ2NtZCc7XG5cbiAgICAvLyBUcnVuY2F0ZSBsb25nIHZhbHVlcyB3aGVuIG5vdCBleHBsaWNpdGx5IHByZXNlcnZpbmdcbiAgICBjb25zdCBtYXhMZW4gPSA0MDtcbiAgICBjb25zdCB0cnVuY2F0ZWQgPSBzaG91bGRQcmVzZXJ2ZSB8fCBpbm5lci5sZW5ndGggPD0gbWF4TGVuID8gaW5uZXIgOiBpbm5lci5zbGljZSgwLCBtYXhMZW4gLSAzKSArICcuLi4nO1xuXG4gICAgcmV0dXJuIGlzUXVvdGVkID8gYFwiJHt0cnVuY2F0ZWR9XCJgIDogdHJ1bmNhdGVkO1xuICB9XG5cbiAgLyoqXG4gICAqIEZvcm1hdCBhIHRvb2wgcmVzdWx0IGluIENsYXVkZSBDb2RlIHN0eWxlOlxuICAgKiAgIOKOvyAgRm91bmQgMTIgbGluZXMgKGN0cmwrbyB0byBleHBhbmQpXG4gICAqL1xuICBwcml2YXRlIGZvcm1hdFRvb2xSZXN1bHQoY29udGVudDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAvLyBDaGVjayBpZiB0aGlzIGlzIGEgc3VtbWFyeSBsaW5lIChlLmcuLCBcIkZvdW5kIFggbGluZXNcIilcbiAgICBjb25zdCBzdW1tYXJ5TWF0Y2ggPSBjb250ZW50Lm1hdGNoKC9eKEZvdW5kIFxcZCsgKD86bGluZXM/fGZpbGVzP3xtYXRjaGVzPyl8UmVhZCBcXGQrIGxpbmVzP3xXcm90ZSBcXGQrIGxpbmVzP3xFZGl0ZWR8Q3JlYXRlZHxEZWxldGVkKS9pKTtcbiAgICBpZiAoc3VtbWFyeU1hdGNoKSB7XG4gICAgICByZXR1cm4gYCAgJHt0aGVtZS51aS5tdXRlZCgn4o6/Jyl9ICAke2NvbnRlbnR9ICR7dGhlbWUudWkubXV0ZWQoJyhjdHJsK28gdG8gZXhwYW5kKScpfVxcbmA7XG4gICAgfVxuXG4gICAgLy8gRm9yIG90aGVyIHJlc3VsdHMsIHNob3cgdHJ1bmNhdGVkIHByZXZpZXdcbiAgICBjb25zdCBsaW5lcyA9IGNvbnRlbnQuc3BsaXQoJ1xcbicpO1xuICAgIGlmIChsaW5lcy5sZW5ndGggPiAzKSB7XG4gICAgICBjb25zdCBwcmV2aWV3ID0gbGluZXMuc2xpY2UoMCwgMikuam9pbignXFxuJyk7XG4gICAgICByZXR1cm4gYCAgJHt0aGVtZS51aS5tdXRlZCgn4o6/Jyl9ICAke3ByZXZpZXd9XFxuICAke3RoZW1lLnVpLm11dGVkKGAuLi4gJHtsaW5lcy5sZW5ndGggLSAyfSBtb3JlIGxpbmVzIChjdHJsK28gdG8gZXhwYW5kKWApfVxcbmA7XG4gICAgfVxuXG4gICAgcmV0dXJuIGAgICR7dGhlbWUudWkubXV0ZWQoJ+KOvycpfSAgJHtjb250ZW50fVxcbmA7XG4gIH1cblxuICAvKipcbiAgICogRm9ybWF0IGEgY29tcGFjdCB0b29sIGNhbGw6IOKPuiBbUmVhZF0gZmlsZS50c1xuICAgKi9cbiAgcHJpdmF0ZSBmb3JtYXRDb21wYWN0VG9vbENhbGwoY29udGVudDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBjb25zdCBidWxsZXQgPSAn4o+6JztcbiAgICAvLyBQYXJzZSB0b29sIG5hbWUgYW5kIGFyZ3NcbiAgICBjb25zdCBtYXRjaCA9IGNvbnRlbnQubWF0Y2goL14oXFx3KylcXHMqKD86XFwoKC4qKVxcKSk/JC9zKTtcbiAgICBpZiAoIW1hdGNoKSB7XG4gICAgICByZXR1cm4gYCR7YnVsbGV0fSAke2NvbnRlbnR9XFxuYDtcbiAgICB9XG5cbiAgICBjb25zdCB0b29sTmFtZSA9IG1hdGNoWzFdITtcbiAgICBjb25zdCBhcmdzU3RyID0gbWF0Y2hbMl0/LnRyaW0oKSB8fCAnJztcblxuICAgIC8vIFRyYWNrIHRvb2wgbmFtZSBmb3IgcGFpcmluZyB3aXRoIHJlc3VsdFxuICAgIHRoaXMubGFzdFRvb2xOYW1lID0gdG9vbE5hbWU7XG5cbiAgICAvLyBHZXQgdG9vbC1zcGVjaWZpYyBjb2xvciAoYmFzaD1vcmFuZ2UsIHJlYWQ9Y3lhbiwgd3JpdGU9Z3JlZW4sIGV0Yy4pXG4gICAgY29uc3QgdG9vbENvbG9yID0gZ2V0VG9vbENvbG9yKHRvb2xOYW1lKTtcbiAgICBjb25zdCBjb2xvcmVkVG9vbE5hbWUgPSB0b29sQ29sb3IoYFske3Rvb2xOYW1lfV1gKTtcblxuICAgIC8vIElmIG5vIGFyZ3MsIGp1c3Qgc2hvdyB0b29sIG5hbWVcbiAgICBpZiAoIWFyZ3NTdHIpIHtcbiAgICAgIHJldHVybiBgJHtidWxsZXR9ICR7Y29sb3JlZFRvb2xOYW1lfVxcbmA7XG4gICAgfVxuXG4gICAgY29uc3QgbWF4V2lkdGggPSB0aGlzLmNvbHMgLSA4OyAvLyBMZWF2ZSByb29tIGZvciBtYXJnaW5zXG5cbiAgICAvLyBQYXJzZSBpbmRpdmlkdWFsIHBhcmFtc1xuICAgIGNvbnN0IHBhcmFtcyA9IHRoaXMucGFyc2VUb29sUGFyYW1zKGFyZ3NTdHIpO1xuICAgIGlmIChwYXJhbXMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gYCR7YnVsbGV0fSAke2NvbG9yZWRUb29sTmFtZX0gJHthcmdzU3RyfVxcbmA7XG4gICAgfVxuXG4gICAgLy8gRm9ybWF0IHBhcmFtcyB3aXRoIHByb3BlciB3cmFwcGluZ1xuICAgIHJldHVybiB0aGlzLmZvcm1hdFRvb2xQYXJhbXNDb2xvcmVkKHRvb2xOYW1lLCBwYXJhbXMsIG1heFdpZHRoLCB0b29sQ29sb3IpO1xuICB9XG5cbiAgLyoqXG4gICAqIFBhcnNlIHRvb2wgcGFyYW1zIGZyb20gYXJncyBzdHJpbmdcbiAgICovXG4gIHByaXZhdGUgcGFyc2VUb29sUGFyYW1zKGFyZ3NTdHI6IHN0cmluZyk6IEFycmF5PHsga2V5OiBzdHJpbmc7IHZhbHVlOiBzdHJpbmcgfT4ge1xuICAgIGNvbnN0IHBhcmFtczogQXJyYXk8eyBrZXk6IHN0cmluZzsgdmFsdWU6IHN0cmluZyB9PiA9IFtdO1xuICAgIC8vIE1hdGNoIGtleTogXCJ2YWx1ZVwiIG9yIGtleTogdmFsdWUgcGF0dGVybnNcbiAgICBjb25zdCByZWdleCA9IC8oXFx3Kyk6XFxzKihcIig/OlteXCJcXFxcXXxcXFxcLikqXCJ8W14sXFxuXSspL2c7XG4gICAgbGV0IG1hdGNoO1xuICAgIHdoaWxlICgobWF0Y2ggPSByZWdleC5leGVjKGFyZ3NTdHIpKSAhPT0gbnVsbCkge1xuICAgICAgcGFyYW1zLnB1c2goeyBrZXk6IG1hdGNoWzFdISwgdmFsdWU6IG1hdGNoWzJdIS50cmltKCkgfSk7XG4gICAgfVxuICAgIHJldHVybiBwYXJhbXM7XG4gIH1cblxuICAvKipcbiAgICogRm9ybWF0IHRvb2wgcGFyYW1zIGluIENsYXVkZSBDb2RlIHN0eWxlIHdpdGggd3JhcHBpbmcgKGRlZmF1bHQgZ3JlZW4gY29sb3IpXG4gICAqL1xuICBwcml2YXRlIGZvcm1hdFRvb2xQYXJhbXMoXG4gICAgdG9vbE5hbWU6IHN0cmluZyxcbiAgICBwYXJhbXM6IEFycmF5PHsga2V5OiBzdHJpbmc7IHZhbHVlOiBzdHJpbmcgfT4sXG4gICAgbWF4V2lkdGg6IG51bWJlclxuICApOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLmZvcm1hdFRvb2xQYXJhbXNDb2xvcmVkKHRvb2xOYW1lLCBwYXJhbXMsIG1heFdpZHRoLCB0aGVtZS50b29sQ29sb3JzLmRlZmF1bHQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEZvcm1hdCB0b29sIHBhcmFtcyB3aXRoIGN1c3RvbSB0b29sIGNvbG9yXG4gICAqL1xuICBwcml2YXRlIGZvcm1hdFRvb2xQYXJhbXNDb2xvcmVkKFxuICAgIHRvb2xOYW1lOiBzdHJpbmcsXG4gICAgcGFyYW1zOiBBcnJheTx7IGtleTogc3RyaW5nOyB2YWx1ZTogc3RyaW5nIH0+LFxuICAgIG1heFdpZHRoOiBudW1iZXIsXG4gICAgdG9vbENvbG9yOiAodGV4dDogc3RyaW5nKSA9PiBzdHJpbmdcbiAgKTogc3RyaW5nIHtcbiAgICBjb25zdCBidWxsZXQgPSAn4o+6JztcbiAgICBjb25zdCBsaW5lczogc3RyaW5nW10gPSBbXTtcbiAgICBjb25zdCBpbmRlbnQgPSAnICAgICAgICAnOyAvLyA4IHNwYWNlcyBmb3IgY29udGludWF0aW9uXG5cbiAgICBsZXQgY3VycmVudExpbmUgPSBgJHtidWxsZXR9ICR7dG9vbENvbG9yKGBbJHt0b29sTmFtZX1dYCl9IGA7XG4gICAgbGV0IGZpcnN0UGFyYW0gPSB0cnVlO1xuXG4gICAgZm9yIChjb25zdCBwYXJhbSBvZiBwYXJhbXMpIHtcbiAgICAgIGNvbnN0IGNvbG9yZWRWYWx1ZSA9IHRoaXMuY29sb3JQYXJhbVZhbHVlKHBhcmFtLmtleSwgcGFyYW0udmFsdWUpO1xuICAgICAgY29uc3QgcGFyYW1UZXh0ID0gYCR7cGFyYW0ua2V5fTogJHtjb2xvcmVkVmFsdWV9YDtcbiAgICAgIGNvbnN0IHBhcmFtU3RyID0gZmlyc3RQYXJhbSA/IHBhcmFtVGV4dCA6IGAsICR7cGFyYW1UZXh0fWA7XG5cbiAgICAgIC8vIENoZWNrIGlmIGFkZGluZyB0aGlzIHBhcmFtIHdvdWxkIGV4Y2VlZCB3aWR0aFxuICAgICAgY29uc3QgdGVzdExpbmUgPSBjdXJyZW50TGluZSArIHBhcmFtU3RyO1xuICAgICAgY29uc3QgcGxhaW5MZW5ndGggPSB0aGlzLnZpc2libGVMZW5ndGgodGVzdExpbmUpO1xuXG4gICAgICBpZiAocGxhaW5MZW5ndGggPiBtYXhXaWR0aCAmJiAhZmlyc3RQYXJhbSkge1xuICAgICAgICAvLyBTdGFydCBuZXcgbGluZVxuICAgICAgICBsaW5lcy5wdXNoKGN1cnJlbnRMaW5lKTtcbiAgICAgICAgY3VycmVudExpbmUgPSBpbmRlbnQgKyBwYXJhbVRleHQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjdXJyZW50TGluZSArPSBwYXJhbVN0cjtcbiAgICAgIH1cbiAgICAgIGZpcnN0UGFyYW0gPSBmYWxzZTtcbiAgICB9XG5cbiAgICBsaW5lcy5wdXNoKGN1cnJlbnRMaW5lKTtcblxuICAgIHJldHVybiBsaW5lcy5qb2luKCdcXG4nKSArICdcXG4nO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbG9yIGNyaXRpY2FsIHBhcmFtZXRlciB2YWx1ZXMgKHBhdGhzLCBjb21tYW5kcykgZm9yIHJlYWRhYmlsaXR5LlxuICAqL1xuICBwcml2YXRlIGNvbG9yUGFyYW1WYWx1ZShrZXk6IHN0cmluZywgdmFsdWU6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgY29uc3QgbG93ZXJLZXkgPSBrZXkudG9Mb3dlckNhc2UoKTtcbiAgICBpZiAobG93ZXJLZXkuaW5jbHVkZXMoJ3BhdGgnKSB8fCBsb3dlcktleSA9PT0gJ2ZpbGUnIHx8IGxvd2VyS2V5ID09PSAncGF0dGVybicgfHwgbG93ZXJLZXkgPT09ICdxdWVyeScpIHtcbiAgICAgIHJldHVybiB0aGVtZS53YXJuaW5nKHZhbHVlKTtcbiAgICB9XG4gICAgaWYgKGxvd2VyS2V5ID09PSAnY29tbWFuZCcgfHwgbG93ZXJLZXkgPT09ICdjbWQnKSB7XG4gICAgICByZXR1cm4gdGhlbWUudG9vbENvbG9ycy5kZWZhdWx0KHZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEV4dHJhY3QgYSBzaG9ydCBzdW1tYXJ5IGZyb20gdG9vbCBhcmdzXG4gICAqL1xuICBwcml2YXRlIGV4dHJhY3RUb29sU3VtbWFyeSh0b29sTmFtZTogc3RyaW5nLCBhcmdzU3RyOiBzdHJpbmcpOiBzdHJpbmcgfCBudWxsIHtcbiAgICBjb25zdCB0b29sID0gdG9vbE5hbWUudG9Mb3dlckNhc2UoKTtcblxuICAgIC8vIEV4dHJhY3QgcGF0aC9maWxlIGZvciBmaWxlIG9wZXJhdGlvbnNcbiAgICBpZiAoWydyZWFkJywgJ3dyaXRlJywgJ2VkaXQnLCAnZ2xvYicsICdncmVwJywgJ3NlYXJjaCddLmluY2x1ZGVzKHRvb2wpKSB7XG4gICAgICBjb25zdCBwYXRoTWF0Y2ggPSBhcmdzU3RyLm1hdGNoKC8oPzpwYXRofGZpbGVfcGF0aHxwYXR0ZXJuKTpcXHMqXCIoW15cIl0rKVwiLyk7XG4gICAgICBpZiAocGF0aE1hdGNoKSB7XG4gICAgICAgIGNvbnN0IHBhdGggPSBwYXRoTWF0Y2hbMV0hO1xuICAgICAgICByZXR1cm4gdGhlbWUuZmlsZT8ucGF0aCA/IHRoZW1lLmZpbGUucGF0aChwYXRoKSA6IHRoZW1lLnVpLm11dGVkKHBhdGgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEV4dHJhY3QgY29tbWFuZCBmb3IgYmFzaFxuICAgIGlmICh0b29sID09PSAnYmFzaCcpIHtcbiAgICAgIGNvbnN0IGNtZE1hdGNoID0gYXJnc1N0ci5tYXRjaCgvY29tbWFuZDpcXHMqXCIoW15cIl0rKVwiLyk7XG4gICAgICBpZiAoY21kTWF0Y2gpIHtcbiAgICAgICAgY29uc3QgY21kID0gY21kTWF0Y2hbMV0hO1xuICAgICAgICByZXR1cm4gdGhlbWUudWkubXV0ZWQoY21kKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBGb3JtYXQgYSBjb21wYWN0IHRvb2wgcmVzdWx0OiDijr8gIEZvdW5kIFggbGluZXMgKGN0cmwrbyB0byBleHBhbmQpXG4gICAqIEZvciBlZGl0cywgc2hvdyBhIHNtYWxsIGlubGluZSBkaWZmIHByZXZpZXdcbiAgICovXG4gIHByaXZhdGUgZm9ybWF0Q29tcGFjdFRvb2xSZXN1bHQoY29udGVudDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAvLyBTYW5pdGl6ZSBjb250ZW50IGZpcnN0IC0gZmlsdGVyIG91dCBnYXJiYWdlL3JlYXNvbmluZyBvdXRwdXQgdGhhdCBsZWFrZWQgdGhyb3VnaFxuICAgIGNvbnN0IHNhbml0aXplZCA9IHRoaXMuc2FuaXRpemVUb29sUmVzdWx0Q29udGVudChjb250ZW50KTtcbiAgICBpZiAoIXNhbml0aXplZCB8fCB0aGlzLmlzR2FyYmFnZU91dHB1dChzYW5pdGl6ZWQpKSB7XG4gICAgICByZXR1cm4gJyc7IC8vIERvbid0IHJlbmRlciBnYXJiYWdlIHRvb2wgcmVzdWx0c1xuICAgIH1cblxuICAgIC8vIFNwZWNpYWwgaGFuZGxpbmcgZm9yIGVkaXQgcmVzdWx0cyAtIHNob3cgaW5saW5lIGRpZmZcbiAgICBpZiAodGhpcy5sYXN0VG9vbE5hbWU/LnRvTG93ZXJDYXNlKCkgPT09ICdlZGl0Jykge1xuICAgICAgcmV0dXJuIHRoaXMuZm9ybWF0RWRpdFJlc3VsdFdpdGhEaWZmKHNhbml0aXplZCk7XG4gICAgfVxuXG4gICAgLy8gUGFyc2UgY29tbW9uIHJlc3VsdCBwYXR0ZXJucyBmb3Igc3VtbWFyeVxuICAgIGNvbnN0IGxpbmVNYXRjaCA9IHNhbml0aXplZC5tYXRjaCgvKFxcZCspXFxzKmxpbmVzPy9pKTtcbiAgICBjb25zdCBmaWxlTWF0Y2ggPSBzYW5pdGl6ZWQubWF0Y2goLyhcXGQrKVxccyooPzpmaWxlcz98bWF0Y2hlcz8pL2kpO1xuICAgIGNvbnN0IHJlYWRNYXRjaCA9IHNhbml0aXplZC5tYXRjaCgvcmVhZC4qPyhcXGQrKVxccypsaW5lcz8vaSk7XG5cbiAgICAvLyBDaGVjayBpZiBjb250ZW50IGNvbnRhaW5zIGEgZmlsZSBwYXRoIG9yIGNvbW1hbmQgdGhhdCBzaG91bGQgYmUgcHJlc2VydmVkXG4gICAgY29uc3QgaGFzUGF0aCA9IC8oPzpefFxccykoPzpcXC9bXFx3Li8tXSt8W1xcdy4vLV0rXFwvW1xcdy4vLV0rKS8udGVzdChzYW5pdGl6ZWQpO1xuICAgIGNvbnN0IGhhc0NvbW1hbmQgPSAvXlxccypcXCRcXHMrLit8Y29tbWFuZDovaS50ZXN0KHNhbml0aXplZCk7XG4gICAgY29uc3QgaXNQYXRoT3JEaXIgPSAvXig/OkZpbGV8RGlyZWN0b3J5fFBhdGgpOlxccyovaS50ZXN0KHNhbml0aXplZCk7XG5cbiAgICBsZXQgc3VtbWFyeTogc3RyaW5nO1xuICAgIGxldCBwcmVzZXJ2ZUZ1bGwgPSBmYWxzZTtcblxuICAgIGlmIChyZWFkTWF0Y2gpIHtcbiAgICAgIHN1bW1hcnkgPSBgUmVhZCAke3JlYWRNYXRjaFsxXX0gbGluZXNgO1xuICAgIH0gZWxzZSBpZiAobGluZU1hdGNoKSB7XG4gICAgICBzdW1tYXJ5ID0gYEZvdW5kICR7bGluZU1hdGNoWzFdfSBsaW5lJHtsaW5lTWF0Y2hbMV0gPT09ICcxJyA/ICcnIDogJ3MnfWA7XG4gICAgfSBlbHNlIGlmIChmaWxlTWF0Y2gpIHtcbiAgICAgIHN1bW1hcnkgPSBgRm91bmQgJHtmaWxlTWF0Y2hbMV19IGZpbGUke2ZpbGVNYXRjaFsxXSA9PT0gJzEnID8gJycgOiAncyd9YDtcbiAgICB9IGVsc2UgaWYgKHNhbml0aXplZC5tYXRjaCgvXihzdWNjZXNzfG9rfGRvbmV8Y29tcGxldGVkfHdyaXR0ZW58ZWRpdGVkfGNyZWF0ZWQpL2kpKSB7XG4gICAgICBzdW1tYXJ5ID0gJ+Kckyc7XG4gICAgfSBlbHNlIGlmIChpc1BhdGhPckRpciB8fCBoYXNQYXRoIHx8IGhhc0NvbW1hbmQpIHtcbiAgICAgIC8vIFByZXNlcnZlIGZ1bGwgY29udGVudCBmb3IgcGF0aHMsIGRpcmVjdG9yaWVzLCBhbmQgY29tbWFuZHNcbiAgICAgIC8vIE9ubHkgc2hvdyBmaXJzdCBsaW5lIGlmIG11bHRpLWxpbmVcbiAgICAgIGNvbnN0IGZpcnN0TGluZSA9IHNhbml0aXplZC5zcGxpdCgnXFxuJylbMF0gfHwgc2FuaXRpemVkO1xuICAgICAgc3VtbWFyeSA9IGZpcnN0TGluZTtcbiAgICAgIHByZXNlcnZlRnVsbCA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEV4dHJhY3QgbWVhbmluZ2Z1bCBzdW1tYXJ5IGZyb20gY29udGVudFxuICAgICAgbGV0IHN1bW1hcnlUZXh0ID0gc2FuaXRpemVkO1xuXG4gICAgICAvLyBIYW5kbGUgXCJTdW1tYXJ5OlwiIHByZWZpeCBmcm9tIHdlYiBzZWFyY2gvZXh0cmFjdCByZXN1bHRzXG4gICAgICBjb25zdCBzdW1tYXJ5TWF0Y2ggPSBzYW5pdGl6ZWQubWF0Y2goL15TdW1tYXJ5OlxccyooLispL2kpO1xuICAgICAgaWYgKHN1bW1hcnlNYXRjaCkge1xuICAgICAgICBzdW1tYXJ5VGV4dCA9IHN1bW1hcnlNYXRjaFsxXSE7XG4gICAgICB9XG5cbiAgICAgIC8vIEZvciBtdWx0aS1saW5lIGNvbnRlbnQsIHVzZSBmaXJzdCBtZWFuaW5nZnVsIGxpbmVcbiAgICAgIGNvbnN0IGZpcnN0TGluZSA9IHN1bW1hcnlUZXh0LnNwbGl0KCdcXG4nKVswXT8udHJpbSgpIHx8IHN1bW1hcnlUZXh0O1xuXG4gICAgICAvLyBUcnkgdG8gZW5kIGF0IGEgc2VudGVuY2UgYm91bmRhcnkgZm9yIHJlYWRhYmlsaXR5ICh1cCB0byAxMjAgY2hhcnMpXG4gICAgICBjb25zdCBtYXhMZW4gPSAxMjA7XG4gICAgICBpZiAoZmlyc3RMaW5lLmxlbmd0aCA+IG1heExlbikge1xuICAgICAgICAvLyBMb29rIGZvciBzZW50ZW5jZSBlbmQgd2l0aGluIGxpbWl0XG4gICAgICAgIGNvbnN0IHNlbnRlbmNlRW5kID0gZmlyc3RMaW5lLnNsaWNlKDAsIG1heExlbikuc2VhcmNoKC9bLiE/O11cXHN8Wy4hPztdJC8pO1xuICAgICAgICBpZiAoc2VudGVuY2VFbmQgPiAzMCkge1xuICAgICAgICAgIHN1bW1hcnkgPSBmaXJzdExpbmUuc2xpY2UoMCwgc2VudGVuY2VFbmQgKyAxKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBObyBnb29kIHNlbnRlbmNlIGJyZWFrLCB0cnVuY2F0ZSBhdCB3b3JkIGJvdW5kYXJ5XG4gICAgICAgICAgY29uc3QgdHJ1bmNhdGVkID0gZmlyc3RMaW5lLnNsaWNlKDAsIG1heExlbik7XG4gICAgICAgICAgY29uc3QgbGFzdFNwYWNlID0gdHJ1bmNhdGVkLmxhc3RJbmRleE9mKCcgJyk7XG4gICAgICAgICAgc3VtbWFyeSA9IGxhc3RTcGFjZSA+IDYwID8gdHJ1bmNhdGVkLnNsaWNlKDAsIGxhc3RTcGFjZSkgKyAn4oCmJyA6IHRydW5jYXRlZCArICfigKYnO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdW1tYXJ5ID0gZmlyc3RMaW5lO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFN0b3JlIGNvbGxhcHNlZCByZXN1bHQgZm9yIEN0cmwrTyBleHBhbnNpb24gKHVzZSBzYW5pdGl6ZWQgY29udGVudClcbiAgICB0aGlzLmNvbGxhcHNlZFRvb2xSZXN1bHRzLnB1c2goe1xuICAgICAgdG9vbE5hbWU6IHRoaXMubGFzdFRvb2xOYW1lIHx8ICd0b29sJyxcbiAgICAgIGNvbnRlbnQ6IHNhbml0aXplZCxcbiAgICAgIHN1bW1hcnksXG4gICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgfSk7XG5cbiAgICAvLyBUcmltIHRvIG1heCBzaXplXG4gICAgaWYgKHRoaXMuY29sbGFwc2VkVG9vbFJlc3VsdHMubGVuZ3RoID4gdGhpcy5tYXhDb2xsYXBzZWRSZXN1bHRzKSB7XG4gICAgICB0aGlzLmNvbGxhcHNlZFRvb2xSZXN1bHRzLnNoaWZ0KCk7XG4gICAgfVxuXG4gICAgY29uc3QgY29sb3JlZFN1bW1hcnkgPSB0aGlzLmNvbG9yUmVzdWx0U3VtbWFyeShzdW1tYXJ5KTtcbiAgICAvLyBPbmx5IHNob3cgZXhwYW5kIGhpbnQgaWYgY29udGVudCBpcyBhY3R1YWxseSBjb2xsYXBzZWQgKG11bHRpLWxpbmUgb3Igd2FzIHRydW5jYXRlZClcbiAgICBjb25zdCBoYXNNb3JlQ29udGVudCA9IHNhbml0aXplZC5pbmNsdWRlcygnXFxuJykgfHwgc3VtbWFyeS5lbmRzV2l0aCgn4oCmJykgfHwgKCFwcmVzZXJ2ZUZ1bGwgJiYgc2FuaXRpemVkLmxlbmd0aCA+IHN1bW1hcnkubGVuZ3RoKTtcbiAgICBjb25zdCBleHBhbmRIaW50ID0gaGFzTW9yZUNvbnRlbnQgPyBgICR7dGhlbWUudWkubXV0ZWQoJyhjdHJsK28gdG8gZXhwYW5kKScpfWAgOiAnJztcbiAgICByZXR1cm4gYCAgJHt0aGVtZS51aS5tdXRlZCgn4o6/Jyl9ICAke2NvbG9yZWRTdW1tYXJ5fSR7ZXhwYW5kSGludH1cXG5gO1xuICB9XG5cbiAgcHJpdmF0ZSBjb2xvclJlc3VsdFN1bW1hcnkoc3VtbWFyeTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBpZiAoIXN1bW1hcnkpIHJldHVybiBzdW1tYXJ5O1xuICAgIGNvbnN0IGxvd2VyID0gc3VtbWFyeS50b0xvd2VyQ2FzZSgpO1xuICAgIGlmIChsb3dlci5pbmNsdWRlcygnZmFpbCcpIHx8IGxvd2VyLmluY2x1ZGVzKCdlcnJvcicpKSB7XG4gICAgICByZXR1cm4gdGhlbWUuZXJyb3Ioc3VtbWFyeSk7XG4gICAgfVxuICAgIGlmIChzdW1tYXJ5LnN0YXJ0c1dpdGgoJ+KckycpIHx8IGxvd2VyLmluY2x1ZGVzKCd1cGRhdGVkJykgfHwgbG93ZXIuaW5jbHVkZXMoJ2NyZWF0ZWQnKSB8fCBsb3dlci5pbmNsdWRlcygnd3JpdHRlbicpKSB7XG4gICAgICByZXR1cm4gdGhlbWUuc3VjY2VzcyhzdW1tYXJ5KTtcbiAgICB9XG4gICAgcmV0dXJuIHRoZW1lLmluZm8oc3VtbWFyeSk7XG4gIH1cblxuICAvKipcbiAgICogRm9ybWF0IGVkaXQgcmVzdWx0IHdpdGggaW5saW5lIGRpZmYgcHJldmlld1xuICAgKiBTaG93czog4o6/IOKckyBVcGRhdGVkIChmaWxlbmFtZSkgLSByZW1vdmVkIFgsIGFkZGVkIFkgY2hhcnNcbiAgICogICAgICAgIOKUgiAtIG9sZCBjb250ZW50Li4uXG4gICAqICAgICAgICDilIIgKyBuZXcgY29udGVudC4uLlxuICAgKi9cbiAgcHJpdmF0ZSBmb3JtYXRFZGl0UmVzdWx0V2l0aERpZmYoY29udGVudDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBjb25zdCBsaW5lczogc3RyaW5nW10gPSBbXTtcbiAgICBjb25zdCBpbmRlbnQgPSAnICAnO1xuXG4gICAgLy8gRXh0cmFjdCBmaWxlIHBhdGggZnJvbSBjb250ZW50XG4gICAgY29uc3QgZmlsZU1hdGNoID0gY29udGVudC5tYXRjaCgvKD86ZmlsZVtfXFxzXSpwYXRofHVwZGF0ZWR8ZWRpdGVkKS4qPyhbXFwvXFx3LlxcLV0rXFwuXFx3KykvaSk7XG4gICAgY29uc3QgZmlsZU5hbWUgPSBmaWxlTWF0Y2ggPyBmaWxlTWF0Y2hbMV0hLnNwbGl0KCcvJykucG9wKCkgOiAnZmlsZSc7XG5cbiAgICAvLyBUcnkgdG8gZXh0cmFjdCBvbGQvbmV3IGNvbnRlbnQgZnJvbSBlZGl0IHJlc3VsdFxuICAgIGNvbnN0IG9sZE1hdGNoID0gY29udGVudC5tYXRjaCgvb2xkW19cXHNdKnN0cmluZ1s6XFxzXSpbXCInXT8oW15cIidcXG5dKylbXCInXT8vaSk7XG4gICAgY29uc3QgbmV3TWF0Y2ggPSBjb250ZW50Lm1hdGNoKC9uZXdbX1xcc10qc3RyaW5nWzpcXHNdKltcIiddPyhbXlwiJ1xcbl0rKVtcIiddPy9pKTtcblxuICAgIC8vIENhbGN1bGF0ZSBkaWZmIHN0YXRzXG4gICAgY29uc3Qgb2xkTGVuID0gb2xkTWF0Y2g/LlsxXT8ubGVuZ3RoIHx8IDA7XG4gICAgY29uc3QgbmV3TGVuID0gbmV3TWF0Y2g/LlsxXT8ubGVuZ3RoIHx8IDA7XG4gICAgY29uc3QgZGlmZlN0YXQgPSBvbGRMZW4gfHwgbmV3TGVuXG4gICAgICA/IHRoZW1lLnVpLm11dGVkKGAgKCR7dGhlbWUuZXJyb3IoYC0ke29sZExlbn1gKX0gJHt0aGVtZS5zdWNjZXNzKGArJHtuZXdMZW59YCl9IGNoYXJzKWApXG4gICAgICA6ICcnO1xuXG4gICAgLy8gTWFpbiBzdW1tYXJ5IGxpbmVcbiAgICBsaW5lcy5wdXNoKGAke2luZGVudH0ke3RoZW1lLnVpLm11dGVkKCfijr8nKX0gICR7dGhlbWUuc3VjY2Vzcygn4pyTJyl9ICR7dGhlbWUuc3VjY2VzcyhgVXBkYXRlZGApfSAke3RoZW1lLmZpbGU/LnBhdGggPyB0aGVtZS5maWxlLnBhdGgoYCgke2ZpbGVOYW1lfSlgKSA6IHRoZW1lLndhcm5pbmcoYCgke2ZpbGVOYW1lfSlgKX0ke2RpZmZTdGF0fWApO1xuXG4gICAgLy8gU2hvdyBtaW5pIGRpZmYgaWYgd2UgaGF2ZSBvbGQvbmV3IGNvbnRlbnRcbiAgICBpZiAob2xkTWF0Y2g/LlsxXSB8fCBuZXdNYXRjaD8uWzFdKSB7XG4gICAgICBjb25zdCBtYXhEaWZmTGVuID0gNjA7XG5cbiAgICAgIGlmIChvbGRNYXRjaD8uWzFdKSB7XG4gICAgICAgIGNvbnN0IG9sZFByZXZpZXcgPSBvbGRNYXRjaFsxXS5sZW5ndGggPiBtYXhEaWZmTGVuXG4gICAgICAgICAgPyBvbGRNYXRjaFsxXS5zbGljZSgwLCBtYXhEaWZmTGVuKSArICfigKYnXG4gICAgICAgICAgOiBvbGRNYXRjaFsxXTtcbiAgICAgICAgbGluZXMucHVzaChgJHtpbmRlbnR9JHt0aGVtZS51aS5tdXRlZCgn4pSCJyl9ICR7dGhlbWUuZXJyb3IoJy0gJyArIG9sZFByZXZpZXcpfWApO1xuICAgICAgfVxuXG4gICAgICBpZiAobmV3TWF0Y2g/LlsxXSkge1xuICAgICAgICBjb25zdCBuZXdQcmV2aWV3ID0gbmV3TWF0Y2hbMV0ubGVuZ3RoID4gbWF4RGlmZkxlblxuICAgICAgICAgID8gbmV3TWF0Y2hbMV0uc2xpY2UoMCwgbWF4RGlmZkxlbikgKyAn4oCmJ1xuICAgICAgICAgIDogbmV3TWF0Y2hbMV07XG4gICAgICAgIGxpbmVzLnB1c2goYCR7aW5kZW50fSR7dGhlbWUudWkubXV0ZWQoJ+KUgicpfSAke3RoZW1lLnN1Y2Nlc3MoJysgJyArIG5ld1ByZXZpZXcpfWApO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFN0b3JlIGZvciBleHBhbnNpb25cbiAgICB0aGlzLmNvbGxhcHNlZFRvb2xSZXN1bHRzLnB1c2goe1xuICAgICAgdG9vbE5hbWU6ICdlZGl0JyxcbiAgICAgIGNvbnRlbnQsXG4gICAgICBzdW1tYXJ5OiBgVXBkYXRlZCAke2ZpbGVOYW1lfWAsXG4gICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgfSk7XG5cbiAgICBpZiAodGhpcy5jb2xsYXBzZWRUb29sUmVzdWx0cy5sZW5ndGggPiB0aGlzLm1heENvbGxhcHNlZFJlc3VsdHMpIHtcbiAgICAgIHRoaXMuY29sbGFwc2VkVG9vbFJlc3VsdHMuc2hpZnQoKTtcbiAgICB9XG5cbiAgICBjb25zdCBleHBhbmRIaW50ID0gY29udGVudC5sZW5ndGggPiAxMDAgPyBgICR7dGhlbWUudWkubXV0ZWQoJyhjdHJsK28gdG8gZXhwYW5kKScpfWAgOiAnJztcbiAgICByZXR1cm4gbGluZXMuam9pbignXFxuJykgKyBleHBhbmRIaW50ICsgJ1xcbic7XG4gIH1cblxuICAvKipcbiAgICogRm9ybWF0IGEgY29tcGFjdCByZXNwb25zZSB3aXRoIGJ1bGxldCBvbiBmaXJzdCBsaW5lXG4gICAqL1xuICBwcml2YXRlIGZvcm1hdENvbXBhY3RSZXNwb25zZShjb250ZW50OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLndyYXBCdWxsZXRUZXh0KGNvbnRlbnQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFdyYXAgdGV4dCB3aXRoIGEgc2luZ2xlIGJ1bGxldCBvbiB0aGUgZmlyc3QgbGluZSBhbmQgdGlkeSBpbmRlbnRhdGlvbiBmb3IgcmVhZGFiaWxpdHkuXG4gICAqIFByZXZlbnRzIGF3a3dhcmQgbWlkLXdvcmQgdGVybWluYWwgd3JhcHBpbmcgYnkgaGFuZGxpbmcgdGhlIGxheW91dCBvdXJzZWx2ZXMuXG4gICAqIFN1cHBvcnRzIGZ1bGwgbWFya2Rvd24gZm9ybWF0dGluZzogaGVhZGVycywgbGlzdHMsIGNvZGUgYmxvY2tzLCBpbmxpbmUgc3R5bGVzLlxuICAgKi9cbiAgcHJpdmF0ZSB3cmFwQnVsbGV0VGV4dChcbiAgICBjb250ZW50OiBzdHJpbmcsXG4gICAgb3B0aW9uczogeyBtYXhXaWR0aD86IG51bWJlcjsgbGFiZWw/OiBzdHJpbmc7IGxhYmVsQ29sb3I/OiAodmFsdWU6IHN0cmluZykgPT4gc3RyaW5nIH0gPSB7fVxuICApOiBzdHJpbmcge1xuICAgIGNvbnN0IGJ1bGxldCA9ICfij7onO1xuICAgIGxldCBjbGVhbmVkID0gY29udGVudC5yZXBsYWNlKC9eW+KPuuKAouKXi11cXHMqLywgJycpLnRyaW1FbmQoKTtcbiAgICBpZiAoIWNsZWFuZWQudHJpbSgpKSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuXG4gICAgLy8gTm9ybWFsaXplIGNvbnRlbnQ6IGFkZCBzcGFjZXMgYWZ0ZXIgaGVhZGVycywgZml4IGNvbW1vbiBmb3JtYXR0aW5nIGlzc3Vlc1xuICAgIC8vIEZpeCBoZWFkZXJzIHdpdGhvdXQgc3BhY2U6ICMjSEVBRElORyAtPiAjIyBIRUFESU5HIChpbmNsdWRpbmcgZW1vamkpXG4gICAgY2xlYW5lZCA9IGNsZWFuZWQucmVwbGFjZSgvXigjezEsNn0pKFtBLVrwn5qA4pqU77iP8J+Or/CflJDwn5Om4pyF4p2M4pqh8J+SgPCflKXwn5uh77iP8J+So/CfjpbvuI/irZBdKS9nbSwgJyQxICQyJyk7XG4gICAgLy8gRml4IG51bWJlcmVkIGhlYWRlcnM6ICMjIzEgRWxpdGUgLT4gIyMjIDEuIEVsaXRlXG4gICAgY2xlYW5lZCA9IGNsZWFuZWQucmVwbGFjZSgvXigjezEsNn0pKFxcZCspXFxzKy9nbSwgJyQxICQyLiAnKTtcbiAgICAvLyBGaXggZGFzaCBsaXN0cyB3aXRob3V0IHNwYWNlOiAtUlNBMjA0OCAtPiAtIFJTQTIwNDhcbiAgICBjbGVhbmVkID0gY2xlYW5lZC5yZXBsYWNlKC9eLShbQS1aXSkvZ20sICctICQxJyk7XG4gICAgLy8gRml4IG51bWJlcmVkIGxpc3RzIHdpdGhvdXQgc3BhY2U6IDEuSXRlbSAtPiAxLiBJdGVtXG4gICAgY2xlYW5lZCA9IGNsZWFuZWQucmVwbGFjZSgvXihcXGQrXFwuKShbQS1aXSkvZ20sICckMSAkMicpO1xuICAgIC8vIEFkZCBsaW5lIGJyZWFrcyBiZWZvcmUgaGVhZGVycyB0aGF0IGFyZSBqb2luZWQgdG8gcHJldmlvdXMgdGV4dFxuICAgIGNsZWFuZWQgPSBjbGVhbmVkLnJlcGxhY2UoLyhbLiE/KV0pKFxccyopKCN7MSw2fVxccykvZywgJyQxXFxuXFxuJDMnKTtcbiAgICAvLyBBZGQgbGluZSBicmVha3MgYmV0d2VlbiBzZWN0aW9ucyAodGV4dCBmb2xsb3dlZCBpbW1lZGlhdGVseSBieSAjIylcbiAgICBjbGVhbmVkID0gY2xlYW5lZC5yZXBsYWNlKC8oW2Etel0pKFxccyopKCN7Miw2fVxccykvZ2ksICckMVxcblxcbiQzJyk7XG4gICAgLy8gQWRkIGxpbmUgYnJlYWtzIGJldHdlZW4gZW1vamkgYnVsbGV0cyBhbmQgbmV4dCBzZWN0aW9uXG4gICAgY2xlYW5lZCA9IGNsZWFuZWQucmVwbGFjZSgvKFtcXHUyNzA1XFx1Mjc0Q1xcdTI3MTRcXHUyNzE4XFx1MjZBMFxcdUQ4M0MtXFx1REJGRlxcdURDMDAtXFx1REZGRl0rKVxccyooI3sxLDZ9KS9nLCAnJDFcXG5cXG4kMicpO1xuICAgIC8vIEZpeCBjb2RlIGJsb2NrcyB0aGF0IHJ1biB0b2dldGhlcjogYmFzaCMgLT4gYmFzaFxcbiNcbiAgICBjbGVhbmVkID0gY2xlYW5lZC5yZXBsYWNlKC8oYmFzaHxzaHxweXRob258amF2YXNjcmlwdHx0eXBlc2NyaXB0KSMvZ2ksICckMVxcbmBgYFxcbiMnKTtcbiAgICAvLyBBZGQgbmV3bGluZXMgYmVmb3JlIGNvZGUgYmxvY2sgbWFya2Vyc1xuICAgIGNsZWFuZWQgPSBjbGVhbmVkLnJlcGxhY2UoLyhbXlxcbl0pYGBgKFxcdyspPy9nLCAnJDFcXG5gYGAkMicpO1xuICAgIC8vIEZpeCB0YWJsZXMgdGhhdCBydW4gdG9nZXRoZXJcbiAgICBjbGVhbmVkID0gY2xlYW5lZC5yZXBsYWNlKC8oXFx3KylcXHMrKFst4pSAXXszLH0pXFxzKyhcXHcrKS9nLCAnJDFcXG4kMlxcbiQzJyk7XG5cbiAgICAvLyBSZXNlcnZlIGEgbGl0dGxlIG1hcmdpbiB0byByZWR1Y2UgdGVybWluYWwgd3JhcCBqaXR0ZXJcbiAgICBjb25zdCBhdmFpbGFibGVXaWR0aCA9IHRoaXMuc2FmZVdpZHRoKCk7XG4gICAgY29uc3QgbWF4V2lkdGggPSBNYXRoLm1heCgyMCwgTWF0aC5taW4ob3B0aW9ucy5tYXhXaWR0aCA/PyBhdmFpbGFibGVXaWR0aCAtIDIsIGF2YWlsYWJsZVdpZHRoKSk7XG4gICAgY29uc3QgbGFiZWxUZXh0ID0gb3B0aW9ucy5sYWJlbFxuICAgICAgPyBgJHtvcHRpb25zLmxhYmVsQ29sb3IgPyBvcHRpb25zLmxhYmVsQ29sb3Iob3B0aW9ucy5sYWJlbCkgOiBvcHRpb25zLmxhYmVsfSR7dGhlbWUudWkubXV0ZWQoJyDCtyAnKX1gXG4gICAgICA6ICcnO1xuICAgIGNvbnN0IGJ1bGxldFByZWZpeCA9IGAke2J1bGxldH0gJHtsYWJlbFRleHR9YDtcbiAgICBjb25zdCBpbmRlbnQgPSAnICcucmVwZWF0KHRoaXMudmlzaWJsZUxlbmd0aChgJHtidWxsZXR9IGApKTtcblxuICAgIGNvbnN0IGxpbmVzID0gY2xlYW5lZC5zcGxpdCgnXFxuJyk7XG4gICAgY29uc3QgcmVzdWx0OiBzdHJpbmdbXSA9IFtdO1xuICAgIGxldCBmaXJzdE5vbkVtcHR5ID0gdHJ1ZTtcbiAgICBsZXQgaW5Db2RlQmxvY2sgPSBmYWxzZTtcbiAgICBsZXQgY29kZUJsb2NrTGFuZyA9ICcnO1xuICAgIGNvbnN0IGNvZGVCbG9ja0J1ZmZlcjogc3RyaW5nW10gPSBbXTtcblxuICAgIGZvciAoY29uc3QgcmF3TGluZSBvZiBsaW5lcykge1xuICAgICAgY29uc3QgdHJpbW1lZExpbmUgPSByYXdMaW5lLnRyaW0oKTtcblxuICAgICAgLy8gSGFuZGxlIGNvZGUgYmxvY2sgZmVuY2VzXG4gICAgICBpZiAodHJpbW1lZExpbmUuc3RhcnRzV2l0aCgnYGBgJykpIHtcbiAgICAgICAgaWYgKCFpbkNvZGVCbG9jaykge1xuICAgICAgICAgIC8vIFN0YXJ0IGNvZGUgYmxvY2tcbiAgICAgICAgICBpbkNvZGVCbG9jayA9IHRydWU7XG4gICAgICAgICAgY29kZUJsb2NrTGFuZyA9IHRyaW1tZWRMaW5lLnNsaWNlKDMpLnRyaW0oKS50b1VwcGVyQ2FzZSgpIHx8ICdDT0RFJztcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBFbmQgY29kZSBibG9jayAtIHJlbmRlciBpdFxuICAgICAgICAgIGluQ29kZUJsb2NrID0gZmFsc2U7XG4gICAgICAgICAgY29uc3QgY29kZUluZGVudCA9IGZpcnN0Tm9uRW1wdHkgPyBidWxsZXRQcmVmaXggOiBpbmRlbnQ7XG4gICAgICAgICAgaWYgKGZpcnN0Tm9uRW1wdHkpIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKGAke2J1bGxldFByZWZpeH0ke3RoZW1lLnVpLm11dGVkKGDilIDilIDilIAgJHtjb2RlQmxvY2tMYW5nfSDilIDilIDilIBgKX1gKTtcbiAgICAgICAgICAgIGZpcnN0Tm9uRW1wdHkgPSBmYWxzZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2goYCR7aW5kZW50fSR7dGhlbWUudWkubXV0ZWQoYOKUgOKUgOKUgCAke2NvZGVCbG9ja0xhbmd9IOKUgOKUgOKUgGApfWApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmb3IgKGNvbnN0IGNvZGVMaW5lIG9mIGNvZGVCbG9ja0J1ZmZlcikge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2goYCR7aW5kZW50fSR7dGhlbWUudWkubXV0ZWQoJ+KUgicpfSAke3RoZW1lLnVpLmNvZGUoY29kZUxpbmUpfWApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb2RlQmxvY2tCdWZmZXIubGVuZ3RoID0gMDtcbiAgICAgICAgICBjb2RlQmxvY2tMYW5nID0gJyc7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGluQ29kZUJsb2NrKSB7XG4gICAgICAgIGNvZGVCbG9ja0J1ZmZlci5wdXNoKHJhd0xpbmUpO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgLy8gSGFuZGxlIGVtcHR5IGxpbmVzXG4gICAgICBpZiAoIXRyaW1tZWRMaW5lKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKCcnKTsgLy8gUHJlc2VydmUgaW50ZW50aW9uYWwgc3BhY2luZyBiZXR3ZWVuIHBhcmFncmFwaHNcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIC8vIEhhbmRsZSBtYXJrZG93biBoZWFkZXJzICgjICMjICMjIyBldGMuKSAtIGFsc28gaGFuZGxlICMjSEVBRElORyB3aXRob3V0IHNwYWNlXG4gICAgICBjb25zdCBoZWFkZXJNYXRjaCA9IHRyaW1tZWRMaW5lLm1hdGNoKC9eKCN7MSw2fSlcXHMqKC4rKSQvKTtcbiAgICAgIGlmIChoZWFkZXJNYXRjaCAmJiBoZWFkZXJNYXRjaFsyXSAmJiAhaGVhZGVyTWF0Y2hbMl0uc3RhcnRzV2l0aCgnIycpKSB7XG4gICAgICAgIGNvbnN0IGxldmVsID0gaGVhZGVyTWF0Y2hbMV0/Lmxlbmd0aCA/PyAxO1xuICAgICAgICBjb25zdCBoZWFkZXJUZXh0ID0gaGVhZGVyTWF0Y2hbMl0/LnRyaW0oKSA/PyAnJztcbiAgICAgICAgLy8gU2tpcCBpZiBpdCdzIGp1c3QgaGFzaGVzIG9yIGlmIGNvbnRlbnQgaXMgdG9vIHNob3J0XG4gICAgICAgIGlmIChoZWFkZXJUZXh0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAvLyBBZGQgYmxhbmsgbGluZSBiZWZvcmUgaGVhZGVycyBmb3IgYmV0dGVyIHZpc3VhbCBzZXBhcmF0aW9uXG4gICAgICAgICAgaWYgKHJlc3VsdC5sZW5ndGggPiAwICYmIHJlc3VsdFtyZXN1bHQubGVuZ3RoIC0gMV0gIT09ICcnKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaCgnJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IGZvcm1hdHRlZEhlYWRlciA9IHRoaXMuZm9ybWF0TWFya2Rvd25IZWFkZXIoaGVhZGVyVGV4dCwgbGV2ZWwsIG1heFdpZHRoLCBmaXJzdE5vbkVtcHR5ID8gYnVsbGV0UHJlZml4IDogaW5kZW50KTtcbiAgICAgICAgICByZXN1bHQucHVzaChmb3JtYXR0ZWRIZWFkZXIpO1xuICAgICAgICAgIGZpcnN0Tm9uRW1wdHkgPSBmYWxzZTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBIYW5kbGUgZGl2aWRlcnMgKC0tLSBvciAqKiopXG4gICAgICBpZiAoL15bLSpfXXszLH0kLy50ZXN0KHRyaW1tZWRMaW5lKSkge1xuICAgICAgICBjb25zdCBkaXZpZGVyV2lkdGggPSBNYXRoLm1pbihtYXhXaWR0aCAtIGluZGVudC5sZW5ndGgsIDUwKTtcbiAgICAgICAgcmVzdWx0LnB1c2goYCR7aW5kZW50fSR7dGhlbWUudWkubXV0ZWQoJ+KUgCcucmVwZWF0KGRpdmlkZXJXaWR0aCkpfWApO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgLy8gSGFuZGxlIG1hcmtkb3duIHRhYmxlcyAobGluZXMgc3RhcnRpbmcgd2l0aCB8KVxuICAgICAgaWYgKHRyaW1tZWRMaW5lLnN0YXJ0c1dpdGgoJ3wnKSB8fCAvXlstfDpdKyQvLnRlc3QodHJpbW1lZExpbmUpKSB7XG4gICAgICAgIC8vIFRhYmxlIGxpbmUgLSByZW5kZXIgd2l0aCBmaXhlZCB3aWR0aCBmb250IHN0eWxpbmdcbiAgICAgICAgY29uc3QgdGFibGVQcmVmaXggPSBmaXJzdE5vbkVtcHR5ID8gYnVsbGV0UHJlZml4IDogaW5kZW50O1xuICAgICAgICByZXN1bHQucHVzaChgJHt0YWJsZVByZWZpeH0ke3RoZW1lLnVpLm11dGVkKHRyaW1tZWRMaW5lKX1gKTtcbiAgICAgICAgZmlyc3ROb25FbXB0eSA9IGZhbHNlO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgLy8gSGFuZGxlIGxpc3QgaXRlbXMgKC0gb3IgKiBvciBudW1iZXJlZCkgLSBhbHNvIGhhbmRsZSAtSXRlbSB3aXRob3V0IHNwYWNlXG4gICAgICBjb25zdCBsaXN0TWF0Y2ggPSB0cmltbWVkTGluZS5tYXRjaCgvXihcXCp8LXzigKJ8XFxkK1xcLilcXHMqKC4rKSQvKTtcbiAgICAgIGlmIChsaXN0TWF0Y2ggJiYgbGlzdE1hdGNoWzJdKSB7XG4gICAgICAgIGNvbnN0IGxpc3RDb250ZW50ID0gbGlzdE1hdGNoWzJdLnRyaW0oKTtcbiAgICAgICAgY29uc3QgZm9ybWF0dGVkTGlzdCA9IGZvcm1hdElubGluZVRleHQobGlzdENvbnRlbnQpO1xuICAgICAgICBjb25zdCBsaXN0QnVsbGV0ID0gdGhlbWUuc2Vjb25kYXJ5KCcgIOKAoiAnKTtcbiAgICAgICAgY29uc3QgbGlzdEluZGVudCA9ICcgICAgJztcblxuICAgICAgICBpZiAoZmlyc3ROb25FbXB0eSkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKGJ1bGxldFByZWZpeC50cmltRW5kKCkpO1xuICAgICAgICAgIGZpcnN0Tm9uRW1wdHkgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFdyYXAgbGlzdCBpdGVtIGNvbnRlbnRcbiAgICAgICAgY29uc3Qgd29yZHMgPSBmb3JtYXR0ZWRMaXN0LnNwbGl0KC9cXHMrLyk7XG4gICAgICAgIGxldCBjdXJyZW50ID0gJyc7XG4gICAgICAgIGxldCBpc0ZpcnN0TGlzdExpbmUgPSB0cnVlO1xuICAgICAgICBmb3IgKGNvbnN0IHdvcmQgb2Ygd29yZHMpIHtcbiAgICAgICAgICBjb25zdCBjYW5kaWRhdGUgPSBjdXJyZW50ID8gYCR7Y3VycmVudH0gJHt3b3JkfWAgOiB3b3JkO1xuICAgICAgICAgIGNvbnN0IHByZWZpeExlbiA9IHRoaXMudmlzaWJsZUxlbmd0aChpc0ZpcnN0TGlzdExpbmUgPyBsaXN0QnVsbGV0IDogbGlzdEluZGVudCk7XG4gICAgICAgICAgaWYgKHByZWZpeExlbiArIHRoaXMudmlzaWJsZUxlbmd0aChjYW5kaWRhdGUpID4gbWF4V2lkdGggLSAyICYmIGN1cnJlbnQpIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKGAke2lzRmlyc3RMaXN0TGluZSA/IGxpc3RCdWxsZXQgOiBsaXN0SW5kZW50fSR7Y3VycmVudH1gKTtcbiAgICAgICAgICAgIGN1cnJlbnQgPSB3b3JkO1xuICAgICAgICAgICAgaXNGaXJzdExpc3RMaW5lID0gZmFsc2U7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGN1cnJlbnQgPSBjYW5kaWRhdGU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChjdXJyZW50KSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2goYCR7aXNGaXJzdExpc3RMaW5lID8gbGlzdEJ1bGxldCA6IGxpc3RJbmRlbnR9JHtjdXJyZW50fWApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICAvLyBSZWd1bGFyIHBhcmFncmFwaCAtIGFwcGx5IG1hcmtkb3duIGZvcm1hdHRpbmdcbiAgICAgIGNvbnN0IGZvcm1hdHRlZExpbmUgPSBmb3JtYXRJbmxpbmVUZXh0KHRyaW1tZWRMaW5lKTtcblxuICAgICAgY29uc3Qgd29yZHMgPSBmb3JtYXR0ZWRMaW5lLnNwbGl0KC9cXHMrLyk7XG4gICAgICBsZXQgY3VycmVudCA9ICcnO1xuICAgICAgZm9yIChjb25zdCB3b3JkIG9mIHdvcmRzKSB7XG4gICAgICAgIGNvbnN0IGNhbmRpZGF0ZSA9IGN1cnJlbnQgPyBgJHtjdXJyZW50fSAke3dvcmR9YCA6IHdvcmQ7XG4gICAgICAgIGNvbnN0IHByZWZpeExlbmd0aCA9IHRoaXMudmlzaWJsZUxlbmd0aChmaXJzdE5vbkVtcHR5ID8gYnVsbGV0UHJlZml4IDogaW5kZW50KTtcbiAgICAgICAgaWYgKHByZWZpeExlbmd0aCArIHRoaXMudmlzaWJsZUxlbmd0aChjYW5kaWRhdGUpID4gbWF4V2lkdGggJiYgY3VycmVudCkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKGAke2ZpcnN0Tm9uRW1wdHkgPyBidWxsZXRQcmVmaXggOiBpbmRlbnR9JHtjdXJyZW50fWApO1xuICAgICAgICAgIGN1cnJlbnQgPSB3b3JkO1xuICAgICAgICAgIGZpcnN0Tm9uRW1wdHkgPSBmYWxzZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjdXJyZW50ID0gY2FuZGlkYXRlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChjdXJyZW50KSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKGAke2ZpcnN0Tm9uRW1wdHkgPyBidWxsZXRQcmVmaXggOiBpbmRlbnR9JHtjdXJyZW50fWApO1xuICAgICAgICBmaXJzdE5vbkVtcHR5ID0gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdC5qb2luKCdcXG4nKSArICdcXG4nO1xuICB9XG5cbiAgLyoqXG4gICAqIEZvcm1hdCBhIG1hcmtkb3duIGhlYWRlciB3aXRoIENsYXVkZSBDb2RlIHN0eWxlIHZpc3VhbCBoaWVyYXJjaHkuXG4gICAqL1xuICBwcml2YXRlIGZvcm1hdE1hcmtkb3duSGVhZGVyKHRleHQ6IHN0cmluZywgbGV2ZWw6IG51bWJlciwgbWF4V2lkdGg6IG51bWJlciwgcHJlZml4OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGNvbnN0IGZvcm1hdHRlZFRleHQgPSBmb3JtYXRJbmxpbmVUZXh0KHRleHQpO1xuXG4gICAgc3dpdGNoIChsZXZlbCkge1xuICAgICAgY2FzZSAxOiB7XG4gICAgICAgIC8vIEgxOiBCb2xkIGN5YW4gd2l0aCBkZWNvcmF0aXZlIGJvcmRlcnNcbiAgICAgICAgY29uc3QgaGVhZGVyV2lkdGggPSBNYXRoLm1pbihtYXhXaWR0aCAtIDQsIHRoaXMudmlzaWJsZUxlbmd0aChmb3JtYXR0ZWRUZXh0KSArIDQpO1xuICAgICAgICBjb25zdCB0b3BCb3JkZXIgPSB0aGVtZS5wcmltYXJ5KCfilZAnLnJlcGVhdChoZWFkZXJXaWR0aCkpO1xuICAgICAgICBjb25zdCBoZWFkZXJMaW5lID0gdGhlbWUucHJpbWFyeS5ib2xkKGDil4YgJHtmb3JtYXR0ZWRUZXh0fWApO1xuICAgICAgICByZXR1cm4gYCR7cHJlZml4fSR7dG9wQm9yZGVyfVxcbiAgJHtoZWFkZXJMaW5lfVxcbiAgJHt0b3BCb3JkZXJ9YDtcbiAgICAgIH1cbiAgICAgIGNhc2UgMjoge1xuICAgICAgICAvLyBIMjogQm9sZCB3aXRoIHVuZGVybGluZSBhY2NlbnRcbiAgICAgICAgY29uc3QgaGVhZGVyTGluZSA9IHRoZW1lLmluZm8uYm9sZChg4pa4ICR7Zm9ybWF0dGVkVGV4dH1gKTtcbiAgICAgICAgY29uc3QgdW5kZXJsaW5lID0gdGhlbWUuaW5mbygn4pSAJy5yZXBlYXQoTWF0aC5taW4obWF4V2lkdGggLSA0LCB0aGlzLnZpc2libGVMZW5ndGgoZm9ybWF0dGVkVGV4dCkgKyAyKSkpO1xuICAgICAgICByZXR1cm4gYCR7cHJlZml4fSR7aGVhZGVyTGluZX1cXG4gICR7dW5kZXJsaW5lfWA7XG4gICAgICB9XG4gICAgICBjYXNlIDM6IHtcbiAgICAgICAgLy8gSDM6IEJvbGQgd2l0aCBidWxsZXQgcHJlZml4XG4gICAgICAgIHJldHVybiBgJHtwcmVmaXh9JHt0aGVtZS5zZWNvbmRhcnkuYm9sZChg4peHICR7Zm9ybWF0dGVkVGV4dH1gKX1gO1xuICAgICAgfVxuICAgICAgY2FzZSA0OiB7XG4gICAgICAgIC8vIEg0OiBEaW1tZXIgYm9sZFxuICAgICAgICByZXR1cm4gYCR7cHJlZml4fSR7dGhlbWUudWkubXV0ZWQoJ+KWuScpfSAke3RoZW1lLmJvbGQoZm9ybWF0dGVkVGV4dCl9YDtcbiAgICAgIH1cbiAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgLy8gSDUrOiBTaW1wbGUgYm9sZFxuICAgICAgICByZXR1cm4gYCR7cHJlZml4fSR7dGhlbWUuYm9sZChmb3JtYXR0ZWRUZXh0KX1gO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBGb3JtYXQgdGhpbmtpbmcgYmxvY2sgd2l0aCBlbmhhbmNlZCB2aXN1YWwgZGVzaWduLlxuICAgKiBVc2VzIGEgZGlzdGluY3QgdmlzdWFsIHN0eWxlIHRvIGNsZWFybHkgc2VwYXJhdGUgdGhpbmtpbmcgZnJvbSByZXNwb25zZXMuXG4gICAqXG4gICAqIEluIHBsYWluIG91dHB1dCBtb2RlIHdlIGtlZXAgaXQgc2ltcGxlIGFuZCBpbmxpbmUgd2l0aCB0aGUgcmVzdCBvZiB0aGVcbiAgICogc3RyZWFtIHNvIHRyYW5zY3JpcHRzIHJlbWFpbiBlYXN5IHRvIHNjYW4uXG4gICAqL1xuICBwcml2YXRlIGZvcm1hdFRoaW5raW5nQmxvY2soY29udGVudDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBpZiAoIWNvbnRlbnQudHJpbSgpKSByZXR1cm4gJyc7XG5cbiAgICAvLyBEZXRlY3QgdGhvdWdodCB0eXBlIGZvciBiZXR0ZXIgbGFiZWxpbmdcbiAgICBjb25zdCBsb3dlciA9IGNvbnRlbnQudG9Mb3dlckNhc2UoKTtcbiAgICBsZXQgbGFiZWwgPSAndGhpbmtpbmcnO1xuICAgIGxldCBsYWJlbENvbG9yID0gdGhlbWUuc2Vjb25kYXJ5ID8/IHRoZW1lLnVpLm11dGVkO1xuXG4gICAgLy8gRGV0ZWN0IGluaXRpYWwgYWNrbm93bGVkZ2VtZW50XG4gICAgaWYgKGxvd2VyLmluY2x1ZGVzKCdhY2tub3dsZWRnZScpIHx8IGxvd2VyLmluY2x1ZGVzKCd1bmRlcnN0YW5kJykgfHxcbiAgICAgICAgbG93ZXIuaW5jbHVkZXMoXCJ1c2VyIHdhbnRzXCIpIHx8IGxvd2VyLmluY2x1ZGVzKFwidXNlciBpcyBhc2tpbmdcIikgfHxcbiAgICAgICAgbG93ZXIuaW5jbHVkZXMoXCJ0aGUgcmVxdWVzdFwiKSB8fCBsb3dlci5pbmNsdWRlcyhcImknbGwgaGVscFwiKSkge1xuICAgICAgbGFiZWwgPSAndW5kZXJzdG9vZCc7XG4gICAgICBsYWJlbENvbG9yID0gdGhlbWUuc3VjY2VzcyA/PyB0aGVtZS5pbmZvO1xuICAgIH1cbiAgICAvLyBEZXRlY3QgcGxhbm5pbmcgdGhvdWdodHNcbiAgICBlbHNlIGlmIChsb3dlci5pbmNsdWRlcygncGxhbicpIHx8IGxvd2VyLmluY2x1ZGVzKCdzdGVwcycpIHx8XG4gICAgICAgICAgICAgbG93ZXIuaW5jbHVkZXMoJ2ZpcnN0JykgfHwgbG93ZXIuaW5jbHVkZXMoJ3RoZW4nKSB8fFxuICAgICAgICAgICAgIGxvd2VyLmluY2x1ZGVzKCdhcHByb2FjaCcpIHx8IGxvd2VyLmluY2x1ZGVzKCdzdHJhdGVneScpKSB7XG4gICAgICBsYWJlbCA9ICdwbGFubmluZyc7XG4gICAgICBsYWJlbENvbG9yID0gdGhlbWUuaW5mbyA/PyB0aGVtZS5wcmltYXJ5O1xuICAgIH1cbiAgICAvLyBEZXRlY3QgYW5hbHlzaXMvcmVhc29uaW5nXG4gICAgZWxzZSBpZiAobG93ZXIuaW5jbHVkZXMoJ2FuYWx5emluZycpIHx8IGxvd2VyLmluY2x1ZGVzKCdleGFtaW5pbmcnKSB8fFxuICAgICAgICAgICAgIGxvd2VyLmluY2x1ZGVzKCdsb29raW5nIGF0JykgfHwgbG93ZXIuaW5jbHVkZXMoJ3Jldmlld2luZycpKSB7XG4gICAgICBsYWJlbCA9ICdhbmFseXppbmcnO1xuICAgICAgbGFiZWxDb2xvciA9IHRoZW1lLndhcm5pbmcgPz8gdGhlbWUuc2Vjb25kYXJ5O1xuICAgIH1cblxuICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBjb250ZW50LnJlcGxhY2UoL1xccysvZywgJyAnKS50cmltKCk7XG4gICAgcmV0dXJuIHRoaXMud3JhcEJ1bGxldFRleHQobm9ybWFsaXplZCwge1xuICAgICAgbGFiZWwsXG4gICAgICBsYWJlbENvbG9yLFxuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSB3cmFwVGV4dFRvV2lkdGgodGV4dDogc3RyaW5nLCB3aWR0aDogbnVtYmVyKTogc3RyaW5nW10ge1xuICAgIGlmICghdGV4dC50cmltKCkpIHJldHVybiBbJyddO1xuICAgIGNvbnN0IGxpbmVzOiBzdHJpbmdbXSA9IFtdO1xuICAgIGNvbnN0IHdvcmRzID0gdGV4dC50cmltKCkuc3BsaXQoL1xccysvKTtcbiAgICBsZXQgY3VycmVudCA9ICcnO1xuXG4gICAgZm9yIChjb25zdCB3b3JkIG9mIHdvcmRzKSB7XG4gICAgICBjb25zdCBjYW5kaWRhdGUgPSBjdXJyZW50ID8gYCR7Y3VycmVudH0gJHt3b3JkfWAgOiB3b3JkO1xuICAgICAgaWYgKHRoaXMudmlzaWJsZUxlbmd0aChjYW5kaWRhdGUpID4gd2lkdGggJiYgY3VycmVudCkge1xuICAgICAgICBsaW5lcy5wdXNoKGN1cnJlbnQpO1xuICAgICAgICBjdXJyZW50ID0gd29yZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGN1cnJlbnQgPSBjYW5kaWRhdGU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGN1cnJlbnQpIHtcbiAgICAgIGxpbmVzLnB1c2goY3VycmVudCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGxpbmVzO1xuICB9XG5cbiAgLyoqXG4gICAqIEZvcm1hdCBzdHJlYW1pbmcgZWxhcHNlZCB0aW1lIGluIENsYXVkZSBDb2RlIHN0eWxlOiAzbSAzMHNcbiAgICovXG4gIHByaXZhdGUgZm9ybWF0U3RyZWFtaW5nRWxhcHNlZCgpOiBzdHJpbmcgfCBudWxsIHtcbiAgICBpZiAoIXRoaXMuc3RyZWFtaW5nU3RhcnRUaW1lKSByZXR1cm4gbnVsbDtcbiAgICBjb25zdCBlbGFwc2VkID0gTWF0aC5mbG9vcigoRGF0ZS5ub3coKSAtIHRoaXMuc3RyZWFtaW5nU3RhcnRUaW1lKSAvIDEwMDApO1xuICAgIGlmIChlbGFwc2VkIDwgNSkgcmV0dXJuIG51bGw7IC8vIERvbid0IHNob3cgZm9yIHZlcnkgc2hvcnQgZHVyYXRpb25zXG4gICAgY29uc3QgbWlucyA9IE1hdGguZmxvb3IoZWxhcHNlZCAvIDYwKTtcbiAgICBjb25zdCBzZWNzID0gZWxhcHNlZCAlIDYwO1xuICAgIGlmIChtaW5zID4gMCkge1xuICAgICAgcmV0dXJuIGAke21pbnN9bSAke3NlY3N9c2A7XG4gICAgfVxuICAgIHJldHVybiBgJHtzZWNzfXNgO1xuICB9XG5cbiAgLyoqXG4gICAqIEZvcm1hdCBhIGNvbXBhY3QgY29udmVyc2F0aW9uIGJsb2NrIChDbGF1ZGUgQ29kZSBzdHlsZSlcbiAgICogU2hvd3MgYSB2aXN1YWwgc2VwYXJhdG9yIHdpdGggXCJoaXN0b3J5XCIgbGFiZWwgYW5kIGN0cmwrbyBoaW50XG4gICAqL1xuICBwcml2YXRlIGZvcm1hdENvbXBhY3RCbG9jayhjb250ZW50OiBzdHJpbmcsIGxhYmVsOiBzdHJpbmcgPSAnaGlzdG9yeScpOiBzdHJpbmcge1xuICAgIGNvbnN0IG1heFdpZHRoID0gTWF0aC5taW4odGhpcy5jb2xzLCA4MCk7XG4gICAgY29uc3QgbGFiZWxUZXh0ID0gYCAke2xhYmVsfSBgO1xuICAgIGNvbnN0IHBhZGRpbmcgPSBNYXRoLm1heCgwLCBtYXhXaWR0aCAtIGxhYmVsVGV4dC5sZW5ndGgpO1xuICAgIGNvbnN0IGxlZnRQYWQgPSBNYXRoLmZsb29yKHBhZGRpbmcgLyAyKTtcbiAgICBjb25zdCByaWdodFBhZCA9IE1hdGguY2VpbChwYWRkaW5nIC8gMik7XG5cbiAgICAvLyBDbGF1ZGUgQ29kZSBzdHlsZTog4pWQ4pWQIGhpc3Rvcnkg4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQXG4gICAgY29uc3Qgc2VwYXJhdG9yID0gdGhlbWUudWkubXV0ZWQoJ+KVkCcucmVwZWF0KGxlZnRQYWQpICsgbGFiZWxUZXh0ICsgJ+KVkCcucmVwZWF0KHJpZ2h0UGFkKSk7XG5cbiAgICByZXR1cm4gYFxcbiR7c2VwYXJhdG9yfVxcbiR7Y29udGVudH1cXG5gO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBhIGNvbXBhY3QgY29udmVyc2F0aW9uIGJsb2NrIHRvIHRoZSBldmVudCBxdWV1ZVxuICAgKiBUaGlzIGRpc3BsYXlzIGEgY29sbGFwc2VkIHZpZXcgd2l0aCBleHBhbnNpb24gaGludCAoQ2xhdWRlIENvZGUgc3R5bGUpXG4gICAqL1xuICBhZGRDb21wYWN0QmxvY2soY29udGVudDogc3RyaW5nLCBsYWJlbDogc3RyaW5nID0gJ2hpc3RvcnknKTogdm9pZCB7XG4gICAgY29uc3QgZm9ybWF0dGVkQ29udGVudCA9IHRoaXMuZm9ybWF0Q29tcGFjdEJsb2NrKGNvbnRlbnQsIGxhYmVsKTtcbiAgICB0aGlzLmV2ZW50UXVldWUucHVzaCh7XG4gICAgICB0eXBlOiAncmVzcG9uc2UnLFxuICAgICAgcmF3VHlwZTogJ3Jlc3BvbnNlJyxcbiAgICAgIGNvbnRlbnQ6IGZvcm1hdHRlZENvbnRlbnQsXG4gICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICBpc0NvbXBhY3RlZDogdHJ1ZSxcbiAgICB9KTtcbiAgICBpZiAoIXRoaXMuaXNQcm9jZXNzaW5nUXVldWUpIHtcbiAgICAgIHZvaWQgdGhpcy5wcm9jZXNzUXVldWUoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRXhwYW5kIHRoZSBtb3N0IHJlY2VudCB0b29sIHJlc3VsdCBpbmxpbmUgKEN0cmwrTyBzdXBwb3J0KS5cbiAgICogUG9wcyBmcm9tIHRoZSBjb2xsYXBzZWQgcmVzdWx0cyBzdGFjayBhbmQgZGlzcGxheXMgZnVsbCBjb250ZW50LlxuICAgKi9cbiAgZXhwYW5kTGFzdFRvb2xSZXN1bHQoKTogYm9vbGVhbiB7XG4gICAgLy8gRmlyc3QgdHJ5IHRoZSBuZXcgc3RhY2ssIGZhbGxiYWNrIHRvIG9sZCBsYXN0VG9vbFJlc3VsdFxuICAgIGNvbnN0IGNvbGxhcHNlZCA9IHRoaXMuY29sbGFwc2VkVG9vbFJlc3VsdHMucG9wKCk7XG4gICAgaWYgKCFjb2xsYXBzZWQgJiYgIXRoaXMubGFzdFRvb2xSZXN1bHQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBjb25zdCBjb250ZW50ID0gY29sbGFwc2VkPy5jb250ZW50IHx8IHRoaXMubGFzdFRvb2xSZXN1bHQgfHwgJyc7XG4gICAgY29uc3QgdG9vbE5hbWUgPSBjb2xsYXBzZWQ/LnRvb2xOYW1lIHx8ICdyZXN1bHQnO1xuXG4gICAgLy8gRGV0ZXJtaW5lIGlmIHRoaXMgaXMgc3RydWN0dXJlZCBvdXRwdXQgdGhhdCBzaG91bGRuJ3QgYmUgd29yZC13cmFwcGVkXG4gICAgY29uc3QgaXNTdHJ1Y3R1cmVkID0gdGhpcy5pc1N0cnVjdHVyZWRUb29sT3V0cHV0KHRvb2xOYW1lLCBjb250ZW50KTtcblxuICAgIGxldCByZW5kZXJlZDogc3RyaW5nO1xuICAgIGlmIChpc1N0cnVjdHVyZWQpIHtcbiAgICAgIC8vIFByZXNlcnZlIHN0cnVjdHVyZWQgb3V0cHV0IChncmVwLCBiYXNoLCBjb2RlIG91dHB1dCkgLSBqdXN0IGluZGVudCwgZG9uJ3Qgd3JhcFxuICAgICAgcmVuZGVyZWQgPSB0aGlzLmZvcm1hdFN0cnVjdHVyZWRUb29sT3V0cHV0KHRvb2xOYW1lLCBjb250ZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gRm9ybWF0IHByb3NlL3RleHQgd2l0aCB0b29sIG5hbWUgbGFiZWwgYW5kIHdvcmQgd3JhcHBpbmdcbiAgICAgIGNvbnN0IGxhYmVsID0gYCR7dG9vbE5hbWV9YDtcbiAgICAgIHJlbmRlcmVkID0gdGhpcy53cmFwQnVsbGV0VGV4dChjb250ZW50LCB7IGxhYmVsLCBsYWJlbENvbG9yOiB0aGVtZS5pbmZvIH0pO1xuICAgIH1cblxuICAgIHRoaXMuZXZlbnRRdWV1ZS5wdXNoKHtcbiAgICAgIHR5cGU6ICdyZXNwb25zZScsXG4gICAgICByYXdUeXBlOiAncmVzcG9uc2UnLFxuICAgICAgY29udGVudDogcmVuZGVyZWQsXG4gICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICBpc0NvbXBhY3RlZDogZmFsc2UsXG4gICAgfSk7XG5cbiAgICAvLyBDbGVhciBsYXN0VG9vbFJlc3VsdCBpZiB3ZSB1c2VkIHRoZSBzdGFja1xuICAgIGlmIChjb2xsYXBzZWQpIHtcbiAgICAgIHRoaXMubGFzdFRvb2xSZXN1bHQgPSBudWxsO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5pc1Byb2Nlc3NpbmdRdWV1ZSkge1xuICAgICAgdm9pZCB0aGlzLnByb2Nlc3NRdWV1ZSgpO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiB0b29sIG91dHB1dCBpcyBzdHJ1Y3R1cmVkIChjb2RlLCBncmVwLCBmaWxlIGxpc3RpbmdzKSB0aGF0IHNob3VsZG4ndCBiZSB3b3JkLXdyYXBwZWQuXG4gICAqL1xuICBwcml2YXRlIGlzU3RydWN0dXJlZFRvb2xPdXRwdXQodG9vbE5hbWU6IHN0cmluZywgY29udGVudDogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgY29uc3QgdG9vbCA9IHRvb2xOYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgLy8gVG9vbHMgdGhhdCBwcm9kdWNlIHN0cnVjdHVyZWQgb3V0cHV0XG4gICAgaWYgKFsnYmFzaCcsICdncmVwJywgJ3JlYWQnLCAnZ2xvYicsICdleGVjdXRlX2Jhc2gnLCAnc2VhcmNoJywgJ2ZpbmQnXS5pbmNsdWRlcyh0b29sKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8vIENvbnRlbnQgcGF0dGVybnMgdGhhdCBpbmRpY2F0ZSBzdHJ1Y3R1cmVkIG91dHB1dFxuICAgIC8vIC0gRmlsZSBwYXRocyB3aXRoIGNvbG9ucyAoZ3JlcCBvdXRwdXQpOiBzcmMvZmlsZS50czoxMjM6XG4gICAgLy8gLSBMaW5lIG51bWJlcnM6IFwiICAgMeKGklwiIG9yIFwiICA0MjpcIlxuICAgIC8vIC0gQ29kZS1saWtlIHBhdHRlcm5zXG4gICAgaWYgKC9eXFxzKltcXHcuL10rOlxcZCtbOlxcc10vLnRlc3QoY29udGVudCkpIHJldHVybiB0cnVlOyAvLyBncmVwLXN0eWxlIG91dHB1dFxuICAgIGlmICgvXlxccypcXGQrW+KGkjrilIJ8XVxccy8udGVzdChjb250ZW50KSkgcmV0dXJuIHRydWU7IC8vIGxpbmUtbnVtYmVyZWQgb3V0cHV0XG4gICAgaWYgKC9eW+KUguKUnOKUlOKUgOKUjOKUkOKUmOKUrOKUtOKUvOKVreKVruKVr+KVsF0rLy50ZXN0KGNvbnRlbnQpKSByZXR1cm4gdHJ1ZTsgLy8gYm94IGRyYXdpbmdcbiAgICBpZiAoL15cXHMqWyQ+XVxccytcXHcrLy50ZXN0KGNvbnRlbnQpKSByZXR1cm4gdHJ1ZTsgLy8gY29tbWFuZCBwcm9tcHQgb3V0cHV0XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEZvcm1hdCBzdHJ1Y3R1cmVkIHRvb2wgb3V0cHV0IHByZXNlcnZpbmcgbGluZSBzdHJ1Y3R1cmUuXG4gICAqL1xuICBwcml2YXRlIGZvcm1hdFN0cnVjdHVyZWRUb29sT3V0cHV0KHRvb2xOYW1lOiBzdHJpbmcsIGNvbnRlbnQ6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgY29uc3QgbGluZXMgPSBjb250ZW50LnNwbGl0KCdcXG4nKTtcbiAgICBjb25zdCBoZWFkZXIgPSBg4o+6ICR7dGhlbWUuaW5mbyh0b29sTmFtZSl9JHt0aGVtZS51aS5tdXRlZCgnIMK3IGV4cGFuZGVkJyl9XFxuYDtcbiAgICBjb25zdCBpbmRlbnQgPSAnICAnO1xuICAgIGNvbnN0IG1heFdpZHRoID0gdGhpcy5zYWZlV2lkdGgoKSAtIDQ7XG5cbiAgICBjb25zdCBmb3JtYXR0ZWRMaW5lcyA9IGxpbmVzLm1hcChsaW5lID0+IHtcbiAgICAgIC8vIFRydW5jYXRlIG92ZXJseSBsb25nIGxpbmVzIGluc3RlYWQgb2Ygd3JhcHBpbmcgKHByZXNlcnZlcyBzdHJ1Y3R1cmUpXG4gICAgICBpZiAobGluZS5sZW5ndGggPiBtYXhXaWR0aCkge1xuICAgICAgICByZXR1cm4gaW5kZW50ICsgbGluZS5zbGljZSgwLCBtYXhXaWR0aCAtIDEpICsgJ+KApic7XG4gICAgICB9XG4gICAgICByZXR1cm4gaW5kZW50ICsgbGluZTtcbiAgICB9KTtcblxuICAgIHJldHVybiBoZWFkZXIgKyBmb3JtYXR0ZWRMaW5lcy5qb2luKCdcXG4nKSArICdcXG4nO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBjb3VudCBvZiBleHBhbmRhYmxlIGNvbGxhcHNlZCByZXN1bHRzXG4gICAqL1xuICBnZXRDb2xsYXBzZWRSZXN1bHRDb3VudCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmNvbGxhcHNlZFRvb2xSZXN1bHRzLmxlbmd0aDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbGVhciBhbGwgY29sbGFwc2VkIHJlc3VsdHMgKGUuZy4sIG9uIG5ldyBjb252ZXJzYXRpb24pXG4gICAqL1xuICBjbGVhckNvbGxhcHNlZFJlc3VsdHMoKTogdm9pZCB7XG4gICAgdGhpcy5jb2xsYXBzZWRUb29sUmVzdWx0cyA9IFtdO1xuICAgIHRoaXMubGFzdFRvb2xSZXN1bHQgPSBudWxsO1xuICB9XG5cbiAgLy8gLS0tLS0tLS0tLS0tIFN0YXR1cyAvIG1vZGUgLS0tLS0tLS0tLS0tXG5cbiAgc2V0TW9kZShtb2RlOiAnaWRsZScgfCAnc3RyZWFtaW5nJyk6IHZvaWQge1xuICAgIGNvbnN0IHdhc1N0cmVhbWluZyA9IHRoaXMubW9kZSA9PT0gJ3N0cmVhbWluZyc7XG4gICAgdGhpcy5tb2RlID0gbW9kZTtcblxuICAgIC8vIFRyYWNrIHN0cmVhbWluZyBzdGFydCB0aW1lIGZvciBlbGFwc2VkIGRpc3BsYXlcbiAgICBpZiAobW9kZSA9PT0gJ3N0cmVhbWluZycgJiYgIXdhc1N0cmVhbWluZykge1xuICAgICAgdGhpcy5zdHJlYW1pbmdTdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgdGhpcy5zdHJlYW1pbmdUb2tlbnMgPSAwOyAvLyBSZXNldCB0b2tlbiBjb3VudFxuICAgICAgdGhpcy5zdHJlYW1pbmdDb250ZW50QnVmZmVyID0gJyc7IC8vIFJlc2V0IHN0cmVhbWluZyBidWZmZXJcbiAgICAgIHRoaXMuc3RyZWFtaW5nTGluZXNXcml0dGVuID0gMDtcbiAgICAgIHRoaXMuc3RyZWFtaW5nSW5wdXRRdWV1ZSA9IFtdOyAvLyBDbGVhciBhbnkgc3RhbGUgcXVldWVkIGlucHV0XG4gICAgICAvLyBDbGVhciBpbmxpbmUgcGFuZWwgd2hlbiBlbnRlcmluZyBzdHJlYW1pbmcgbW9kZSB0byBwcmV2ZW50IHN0YWxlIG1lbnVzXG4gICAgICBpZiAodGhpcy5pbmxpbmVQYW5lbC5sZW5ndGggPiAwKSB7XG4gICAgICAgIHRoaXMuaW5saW5lUGFuZWwgPSBbXTtcbiAgICAgIH1cbiAgICAgIHRoaXMuc3RhcnRTcGlubmVyQW5pbWF0aW9uKCk7XG4gICAgfSBlbHNlIGlmIChtb2RlID09PSAnaWRsZScgJiYgd2FzU3RyZWFtaW5nKSB7XG4gICAgICB0aGlzLnN0cmVhbWluZ1N0YXJ0VGltZSA9IG51bGw7XG4gICAgICB0aGlzLnN0b3BTcGlubmVyQW5pbWF0aW9uKCk7XG4gICAgfVxuXG4gICAgaWYgKHdhc1N0cmVhbWluZyAmJiBtb2RlID09PSAnaWRsZScpIHtcbiAgICAgIC8vIElNUE9SVEFOVDogQ2xlYXIgdGhlIG92ZXJsYXkgQkVGT1JFIHdyaXRpbmcgbmV3bGluZSB0byBwcmV2ZW50IGR1cGxpY2F0ZSBib3hlc1xuICAgICAgLy8gVGhlIG9sZCBvdmVybGF5IHdvdWxkIG90aGVyd2lzZSBzY3JvbGwgaW50byBzY3JvbGxiYWNrIGhpc3RvcnlcbiAgICAgIGlmICghdGhpcy5wbGFpbk1vZGUgJiYgdGhpcy5sYXN0T3ZlcmxheSkge1xuICAgICAgICB0aGlzLmNsZWFyUHJvbXB0QXJlYSgpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXRoaXMubGFzdE91dHB1dEVuZGVkV2l0aE5ld2xpbmUpIHtcbiAgICAgICAgLy8gRmluaXNoIHN0cmVhbWluZyBvbiBhIGZyZXNoIGxpbmUgc28gdGhlIG5leHQgcHJvbXB0L2V2ZW50IGRvZXNuJ3QgY29sbGlkZVxuICAgICAgICB0aGlzLndyaXRlKCdcXG4nKTtcbiAgICAgICAgdGhpcy5sYXN0T3V0cHV0RW5kZWRXaXRoTmV3bGluZSA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIC8vIENsZWFyIHRoZSBidWZmZXIgYWZ0ZXIgcHJvY2Vzc2luZ1xuICAgICAgdGhpcy5zdHJlYW1pbmdDb250ZW50QnVmZmVyID0gJyc7XG4gICAgICB0aGlzLnN0cmVhbWluZ0xpbmVzV3JpdHRlbiA9IDA7XG4gICAgICAvLyBDbGVhciBhbnkgcmVtYWluaW5nIHF1ZXVlZCBpbnB1dCAodXNlciBkaWRuJ3QgcHJlc3MgRW50ZXIgdG8gcXVldWUgaXQpXG4gICAgICB0aGlzLnN0cmVhbWluZ0lucHV0UXVldWUgPSBbXTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMucGxhaW5Nb2RlKSB7XG4gICAgICAvLyBBbHdheXMgcmVuZGVyIHByb21wdCB0byBrZWVwIGJvdHRvbSBVSSBwZXJzaXN0ZW50IChyaWNoIG1vZGUgb25seSlcbiAgICAgIHRoaXMucmVuZGVyUHJvbXB0KCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFN0YXJ0IHRoZSBhbmltYXRlZCBzcGlubmVyIGZvciBzdHJlYW1pbmcgc3RhdHVzXG4gICAqL1xuICBwcml2YXRlIHN0YXJ0U3Bpbm5lckFuaW1hdGlvbigpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5zcGlubmVySW50ZXJ2YWwpIHJldHVybjsgLy8gQWxyZWFkeSBydW5uaW5nXG4gICAgdGhpcy5zcGlubmVyRnJhbWUgPSAwO1xuICAgIHRoaXMuYWN0aXZpdHlTdGFyRnJhbWUgPSAwO1xuICAgIHRoaXMuZWxhcHNlZENvbG9yRnJhbWUgPSAwO1xuICAgIHRoaXMuc3Bpbm5lckludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgdGhpcy5zcGlubmVyRnJhbWUgPSAodGhpcy5zcGlubmVyRnJhbWUgKyAxKSAlIHNwaW5uZXJGcmFtZXMuYnJhaWxsZS5sZW5ndGg7XG4gICAgICB0aGlzLmFjdGl2aXR5U3RhckZyYW1lID0gKHRoaXMuYWN0aXZpdHlTdGFyRnJhbWUgKyAxKSAlIHRoaXMuYWN0aXZpdHlTdGFyRnJhbWVzLmxlbmd0aDtcbiAgICAgIC8vIFVwZGF0ZSBlbGFwc2VkIHRpbWUgY29sb3IgYW5pbWF0aW9uIChzbG93ZXIgY3ljbGUpXG4gICAgICBpZiAodGhpcy5zcGlubmVyRnJhbWUgJSAzID09PSAwKSB7XG4gICAgICAgIHRoaXMuZWxhcHNlZENvbG9yRnJhbWUgPSAodGhpcy5lbGFwc2VkQ29sb3JGcmFtZSArIDEpICUgdGhpcy5lbGFwc2VkQ29sb3JGcmFtZXMubGVuZ3RoO1xuICAgICAgfVxuICAgICAgLy8gUmUtcmVuZGVyIHRvIHNob3cgdXBkYXRlZCBzcGlubmVyL3N0YXIgZnJhbWVcbiAgICAgIGlmICghdGhpcy5wbGFpbk1vZGUgJiYgdGhpcy5tb2RlID09PSAnc3RyZWFtaW5nJykge1xuICAgICAgICB0aGlzLnJlbmRlclByb21wdCgpO1xuICAgICAgfVxuICAgIH0sIDEyMCk7IC8vIH44IEZQUyAtIHJlZHVjZWQgZnJvbSA4MG1zIHRvIG1pbmltaXplIGZsaWNrZXJpbmcgd2hpbGUga2VlcGluZyBhbmltYXRpb24gc21vb3RoXG4gIH1cblxuICAvKipcbiAgICogU3RvcCB0aGUgYW5pbWF0ZWQgc3Bpbm5lclxuICAgKi9cbiAgcHJpdmF0ZSBzdG9wU3Bpbm5lckFuaW1hdGlvbigpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5zcGlubmVySW50ZXJ2YWwpIHtcbiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5zcGlubmVySW50ZXJ2YWwpO1xuICAgICAgdGhpcy5zcGlubmVySW50ZXJ2YWwgPSBudWxsO1xuICAgIH1cbiAgICB0aGlzLnNwaW5uZXJGcmFtZSA9IDA7XG4gICAgdGhpcy5hY3Rpdml0eVN0YXJGcmFtZSA9IDA7XG4gICAgdGhpcy5hY3Rpdml0eU1lc3NhZ2UgPSBudWxsO1xuICAgIHRoaXMuZWxhcHNlZENvbG9yRnJhbWUgPSAwO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgYWN0aXZpdHkgbWVzc2FnZSBkaXNwbGF5ZWQgd2l0aCBhbmltYXRlZCBzdGFyXG4gICAqIEV4YW1wbGU6IFwiUnVtaW5hdGluZ+KAplwiIHNob3dzIGFzIFwi4pyzIFJ1bWluYXRpbmfigKYgKGVzYyB0byBpbnRlcnJ1cHQgwrcgMzRzIMK3IOKGkTEuMmspXCJcbiAgICovXG4gIHNldEFjdGl2aXR5KG1lc3NhZ2U6IHN0cmluZyB8IG51bGwpOiB2b2lkIHtcbiAgICB0aGlzLmFjdGl2aXR5TWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgaWYgKCF0aGlzLnBsYWluTW9kZSkge1xuICAgICAgdGhpcy5yZW5kZXJQcm9tcHQoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIHRoZSB0b2tlbiBjb3VudCBkaXNwbGF5ZWQgaW4gdGhlIGFjdGl2aXR5IGxpbmVcbiAgICovXG4gIHVwZGF0ZVN0cmVhbWluZ1Rva2Vucyh0b2tlbnM6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMuc3RyZWFtaW5nVG9rZW5zID0gdG9rZW5zO1xuICB9XG5cbiAgLyoqXG4gICAqIEZvcm1hdCB0b2tlbiBjb3VudCBhcyBjb21wYWN0IHN0cmluZyAoZS5nLiwgMS4yaywgMjRrLCAxMjhrKVxuICAgKi9cbiAgcHJpdmF0ZSBmb3JtYXRUb2tlbkNvdW50KHRva2VuczogbnVtYmVyKTogc3RyaW5nIHtcbiAgICBpZiAodG9rZW5zIDwgMTAwMCkgcmV0dXJuIFN0cmluZyh0b2tlbnMpO1xuICAgIGlmICh0b2tlbnMgPCAxMDAwMCkgcmV0dXJuIGAkeyh0b2tlbnMgLyAxMDAwKS50b0ZpeGVkKDEpfWtgO1xuICAgIHJldHVybiBgJHtNYXRoLnJvdW5kKHRva2VucyAvIDEwMDApfWtgO1xuICB9XG5cbiAgZ2V0TW9kZSgpOiAnaWRsZScgfCAnc3RyZWFtaW5nJyB7XG4gICAgcmV0dXJuIHRoaXMubW9kZTtcbiAgfVxuXG4gIHVwZGF0ZVN0YXR1cyhtZXNzYWdlOiBzdHJpbmcgfCBudWxsKTogdm9pZCB7XG4gICAgdGhpcy51cGRhdGVTdGF0dXNCdW5kbGUoeyBtYWluOiBtZXNzYWdlLCBvdmVycmlkZTogbnVsbCwgc3RyZWFtaW5nOiBudWxsIH0pO1xuICB9XG5cbiAgdXBkYXRlU3RhdHVzQnVuZGxlKFxuICAgIHN0YXR1czogeyBtYWluPzogc3RyaW5nIHwgbnVsbDsgb3ZlcnJpZGU/OiBzdHJpbmcgfCBudWxsOyBzdHJlYW1pbmc/OiBzdHJpbmcgfCBudWxsIH0sXG4gICAgb3B0aW9uczogeyByZW5kZXI/OiBib29sZWFuIH0gPSB7fVxuICApOiB2b2lkIHtcbiAgICBjb25zdCBwcmV2U3RyZWFtaW5nID0gdGhpcy5zdGF0dXNTdHJlYW1pbmc7XG4gICAgbGV0IGNoYW5nZWQgPSBmYWxzZTtcbiAgICBsZXQgbWFpbkNoYW5nZWQgPSBmYWxzZTtcbiAgICBsZXQgb3ZlcnJpZGVDaGFuZ2VkID0gZmFsc2U7XG5cbiAgICBpZiAoc3RhdHVzLm1haW4gIT09IHVuZGVmaW5lZCAmJiBzdGF0dXMubWFpbiAhPT0gdGhpcy5zdGF0dXNNZXNzYWdlKSB7XG4gICAgICB0aGlzLnN0YXR1c01lc3NhZ2UgPSBzdGF0dXMubWFpbjtcbiAgICAgIGNoYW5nZWQgPSB0cnVlO1xuICAgICAgbWFpbkNoYW5nZWQgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAoc3RhdHVzLm92ZXJyaWRlICE9PSB1bmRlZmluZWQgJiYgc3RhdHVzLm92ZXJyaWRlICE9PSB0aGlzLnN0YXR1c092ZXJyaWRlKSB7XG4gICAgICB0aGlzLnN0YXR1c092ZXJyaWRlID0gc3RhdHVzLm92ZXJyaWRlO1xuICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgICBvdmVycmlkZUNoYW5nZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIGNvbnN0IHN0cmVhbWluZ0NoYW5nZWQgPSBzdGF0dXMuc3RyZWFtaW5nICE9PSB1bmRlZmluZWQgJiYgc3RhdHVzLnN0cmVhbWluZyAhPT0gcHJldlN0cmVhbWluZztcbiAgICBpZiAoc3RhdHVzLnN0cmVhbWluZyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBpZiAoc3RyZWFtaW5nQ2hhbmdlZCkge1xuICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHRoaXMuc3RhdHVzU3RyZWFtaW5nID0gc3RhdHVzLnN0cmVhbWluZztcbiAgICB9XG5cbiAgICBjb25zdCBzdHJlYW1pbmdJbnRyb2R1Y2UgPVxuICAgICAgc3RyZWFtaW5nQ2hhbmdlZCAmJiBwcmV2U3RyZWFtaW5nID09PSBudWxsICYmIHN0YXR1cy5zdHJlYW1pbmcgIT09IG51bGwgJiYgdGhpcy5tb2RlID09PSAnc3RyZWFtaW5nJztcbiAgICBjb25zdCBzdHJlYW1pbmdDbGVhcmVkID1cbiAgICAgIHN0cmVhbWluZ0NoYW5nZWQgJiYgc3RhdHVzLnN0cmVhbWluZyA9PT0gbnVsbCAmJiB0aGlzLm1vZGUgPT09ICdzdHJlYW1pbmcnO1xuICAgIGNvbnN0IG9ubHlTdHJlYW1pbmdDaGFuZ2VkID0gc3RyZWFtaW5nQ2hhbmdlZCAmJiAhbWFpbkNoYW5nZWQgJiYgIW92ZXJyaWRlQ2hhbmdlZDtcbiAgICBjb25zdCBza2lwU3RyZWFtaW5nUmVuZGVyID1cbiAgICAgIG9ubHlTdHJlYW1pbmdDaGFuZ2VkICYmIHRoaXMubW9kZSA9PT0gJ3N0cmVhbWluZycgJiYgIXN0cmVhbWluZ0ludHJvZHVjZSAmJiAhc3RyZWFtaW5nQ2xlYXJlZDtcblxuICAgIGNvbnN0IHNob3VsZFJlbmRlciA9IG9wdGlvbnMucmVuZGVyICE9PSBmYWxzZSAmJiBjaGFuZ2VkICYmICFza2lwU3RyZWFtaW5nUmVuZGVyO1xuICAgIGlmIChzaG91bGRSZW5kZXIpIHtcbiAgICAgIHRoaXMucmVuZGVyUHJvbXB0KCk7XG4gICAgfVxuICB9XG5cbiAgdXBkYXRlU3RhdHVzTWV0YShcbiAgICBtZXRhOiB7XG4gICAgICBtb2RlbD86IHN0cmluZztcbiAgICAgIHByb3ZpZGVyPzogc3RyaW5nO1xuICAgICAgc2Vzc2lvblRpbWU/OiBzdHJpbmc7XG4gICAgICBjb250ZXh0UGVyY2VudD86IG51bWJlcjtcbiAgICAgIHByb2ZpbGU/OiBzdHJpbmc7XG4gICAgICB3b3Jrc3BhY2U/OiBzdHJpbmc7XG4gICAgICBkaXJlY3Rvcnk/OiBzdHJpbmc7XG4gICAgICB3cml0ZXM/OiBzdHJpbmc7XG4gICAgICBzZXNzaW9uTGFiZWw/OiBzdHJpbmc7XG4gICAgICB0aGlua2luZ0xhYmVsPzogc3RyaW5nO1xuICAgICAgYXV0b3NhdmU/OiBib29sZWFuO1xuICAgICAgdmVyc2lvbj86IHN0cmluZztcbiAgICAgIHRvb2xTdW1tYXJ5Pzogc3RyaW5nO1xuICAgIH0sXG4gICAgb3B0aW9uczogeyByZW5kZXI/OiBib29sZWFuIH0gPSB7fVxuICApOiB2b2lkIHtcbiAgICBjb25zdCBuZXh0ID0geyAuLi50aGlzLnN0YXR1c01ldGEsIC4uLm1ldGEgfTtcbiAgICBjb25zdCBjaGFuZ2VkID0gSlNPTi5zdHJpbmdpZnkobmV4dCkgIT09IEpTT04uc3RyaW5naWZ5KHRoaXMuc3RhdHVzTWV0YSk7XG4gICAgdGhpcy5zdGF0dXNNZXRhID0gbmV4dDtcbiAgICBjb25zdCBzaG91bGRSZW5kZXIgPSBvcHRpb25zLnJlbmRlciAhPT0gZmFsc2UgJiYgY2hhbmdlZDtcbiAgICBpZiAoc2hvdWxkUmVuZGVyKSB7XG4gICAgICB0aGlzLnJlbmRlclByb21wdCgpO1xuICAgIH1cbiAgfVxuXG4gIHVwZGF0ZU1vZGVUb2dnbGVzKHN0YXRlOiBQYXJ0aWFsPE1vZGVUb2dnbGVTdGF0ZT4pOiB2b2lkIHtcbiAgICB0aGlzLnRvZ2dsZVN0YXRlID0geyAuLi50aGlzLnRvZ2dsZVN0YXRlLCAuLi5zdGF0ZSB9O1xuICAgIGlmIChcbiAgICAgICFzdGF0ZS50aGlua2luZ0hvdGtleSAmJlxuICAgICAgIXN0YXRlLmNyaXRpY2FsQXBwcm92YWxIb3RrZXkgJiZcbiAgICAgICFzdGF0ZS5hdXRvQ29udGludWVIb3RrZXkgJiZcbiAgICAgICFzdGF0ZS5hbHBoYVplcm9Ib3RrZXkgJiZcbiAgICAgICFzdGF0ZS5kZWJ1Z0hvdGtleVxuICAgICkge1xuICAgICAgdGhpcy5ob3RrZXlzSW5Ub2dnbGVMaW5lLmNsZWFyKCk7XG4gICAgfVxuICAgIC8vIEZvcmNlIG5leHQgcmVuZGVyIHRvIHNob3cgdXBkYXRlZCB0b2dnbGUgc3RhdGVcbiAgICB0aGlzLmZvcmNlTmV4dFJlbmRlciA9IHRydWU7XG4gICAgdGhpcy5yZW5kZXJQcm9tcHRJbW1lZGlhdGUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgUkwgYWdlbnQgZXhlY3V0aW9uIHN0YXR1cyBmb3IgZGlzcGxheSBpbiB0aGUgVUkuXG4gICAqIENhbGxlZCBkdXJpbmcgZHVhbC1STCBtb2RlIHRvIHNob3cgYWN0aXZlIGFnZW50LCBtb2R1bGUvc3RlcCBwcm9ncmVzcywgYW5kIHdpbiBzdGF0aXN0aWNzLlxuICAgKi9cbiAgdXBkYXRlUkxTdGF0dXMoc3RhdHVzOiBQYXJ0aWFsPFJMQWdlbnRTdGF0dXM+KTogdm9pZCB7XG4gICAgY29uc3QgbmV4dCA9IHsgLi4udGhpcy5ybFN0YXR1cywgLi4uc3RhdHVzIH07XG4gICAgY29uc3QgY2hhbmdlZCA9IEpTT04uc3RyaW5naWZ5KG5leHQpICE9PSBKU09OLnN0cmluZ2lmeSh0aGlzLnJsU3RhdHVzKTtcbiAgICB0aGlzLnJsU3RhdHVzID0gbmV4dDtcbiAgICBpZiAoY2hhbmdlZCkge1xuICAgICAgdGhpcy5yZW5kZXJQcm9tcHQoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2xlYXIgUkwgYWdlbnQgc3RhdHVzIChlLmcuLCB3aGVuIFJMIHJ1biBjb21wbGV0ZXMpLlxuICAgKi9cbiAgY2xlYXJSTFN0YXR1cygpOiB2b2lkIHtcbiAgICB0aGlzLnJsU3RhdHVzID0ge307XG4gICAgdGhpcy5yZW5kZXJQcm9tcHQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgY3VycmVudCBSTCBzdGF0dXMgZm9yIGV4dGVybmFsIGFjY2Vzcy5cbiAgICovXG4gIGdldFJMU3RhdHVzKCk6IFJlYWRvbmx5PFJMQWdlbnRTdGF0dXM+IHtcbiAgICByZXR1cm4gdGhpcy5ybFN0YXR1cztcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgc2VjdXJlIFRBTyB0b29scyBzdGF0dXMgZm9yIGRpc3BsYXkgaW4gdGhlIFVJLlxuICAgKiBUcmFja3MgRXhlY3V0ZSwgUHJvYmUsIFN0YXRlIHRvb2xzIHdpdGggZW5oYW5jZWQgb3V0cHV0IGZvcm1hdHRpbmcuXG4gICAqL1xuICB1cGRhdGVTZWN1cmVUb29sc1N0YXR1cyhzdGF0dXM6IFBhcnRpYWw8U2VjdXJlVG9vbHNTdGF0dXM+KTogdm9pZCB7XG4gICAgY29uc3QgbmV4dCA9IHsgLi4udGhpcy5zZWN1cmVUb29sc1N0YXR1cywgLi4uc3RhdHVzIH07XG4gICAgY29uc3QgY2hhbmdlZCA9IEpTT04uc3RyaW5naWZ5KG5leHQpICE9PSBKU09OLnN0cmluZ2lmeSh0aGlzLnNlY3VyZVRvb2xzU3RhdHVzKTtcbiAgICB0aGlzLnNlY3VyZVRvb2xzU3RhdHVzID0gbmV4dDtcbiAgICBpZiAoY2hhbmdlZCkge1xuICAgICAgdGhpcy5yZW5kZXJQcm9tcHQoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVjb3JkIGEgc2VjdXJlIHRvb2wgaW52b2NhdGlvbiBmb3IgdHJhY2tpbmcuXG4gICAqL1xuICByZWNvcmRTZWN1cmVUb29sSW52b2NhdGlvbihcbiAgICB0b29sOiAnRXhlY3V0ZScgfCAnUHJvYmUnIHwgJ1N0YXRlJyB8ICdUcmFuc2Zvcm0nIHwgJ1Rhb09wcycsXG4gICAgZGV0YWlscz86IHsgY29tbWFuZD86IHN0cmluZzsgZXhpdENvZGU/OiBudW1iZXI7IHRhcmdldD86IHN0cmluZzsgc2VydmljZXM/OiBudW1iZXI7IGFjdGlvbj86ICdnZXQnIHwgJ3NldCc7IGtleXNDb3VudD86IG51bWJlciB9XG4gICk6IHZvaWQge1xuICAgIGNvbnN0IGludm9jYXRpb25zID0gKHRoaXMuc2VjdXJlVG9vbHNTdGF0dXMudG90YWxJbnZvY2F0aW9ucyB8fCAwKSArIDE7XG4gICAgY29uc3QgdXBkYXRlczogUGFydGlhbDxTZWN1cmVUb29sc1N0YXR1cz4gPSB7XG4gICAgICBsYXN0VG9vbFVzZWQ6IHRvb2wsXG4gICAgICB0b3RhbEludm9jYXRpb25zOiBpbnZvY2F0aW9ucyxcbiAgICB9O1xuXG4gICAgaWYgKHRvb2wgPT09ICdFeGVjdXRlJyAmJiBkZXRhaWxzKSB7XG4gICAgICB1cGRhdGVzLmV4ZWN1dGUgPSB7XG4gICAgICAgIGFjdGl2ZTogdHJ1ZSxcbiAgICAgICAgbGFzdENvbW1hbmQ6IGRldGFpbHMuY29tbWFuZCxcbiAgICAgICAgbGFzdEV4aXRDb2RlOiBkZXRhaWxzLmV4aXRDb2RlLFxuICAgICAgICBleGVjQ291bnQ6ICh0aGlzLnNlY3VyZVRvb2xzU3RhdHVzLmV4ZWN1dGU/LmV4ZWNDb3VudCB8fCAwKSArIDEsXG4gICAgICB9O1xuICAgIH0gZWxzZSBpZiAodG9vbCA9PT0gJ1Byb2JlJyAmJiBkZXRhaWxzKSB7XG4gICAgICB1cGRhdGVzLnByb2JlID0ge1xuICAgICAgICBhY3RpdmU6IHRydWUsXG4gICAgICAgIGxhc3RUYXJnZXQ6IGRldGFpbHMudGFyZ2V0LFxuICAgICAgICBzZXJ2aWNlc0ZvdW5kOiBkZXRhaWxzLnNlcnZpY2VzLFxuICAgICAgICBwcm9iZUNvdW50OiAodGhpcy5zZWN1cmVUb29sc1N0YXR1cy5wcm9iZT8ucHJvYmVDb3VudCB8fCAwKSArIDEsXG4gICAgICB9O1xuICAgIH0gZWxzZSBpZiAodG9vbCA9PT0gJ1N0YXRlJyAmJiBkZXRhaWxzKSB7XG4gICAgICB1cGRhdGVzLnN0YXRlID0ge1xuICAgICAgICBhY3RpdmU6IHRydWUsXG4gICAgICAgIGxhc3RBY3Rpb246IGRldGFpbHMuYWN0aW9uLFxuICAgICAgICBrZXlzU3RvcmVkOiBkZXRhaWxzLmtleXNDb3VudCxcbiAgICAgICAgcGVyc2lzdGVudDogdHJ1ZSxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgdGhpcy51cGRhdGVTZWN1cmVUb29sc1N0YXR1cyh1cGRhdGVzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgY3VycmVudCBzZWN1cmUgdG9vbHMgc3RhdHVzIGZvciBleHRlcm5hbCBhY2Nlc3MuXG4gICAqL1xuICBnZXRTZWN1cmVUb29sc1N0YXR1cygpOiBSZWFkb25seTxTZWN1cmVUb29sc1N0YXR1cz4ge1xuICAgIHJldHVybiB0aGlzLnNlY3VyZVRvb2xzU3RhdHVzO1xuICB9XG5cbiAgc2V0SW5saW5lUGFuZWwobGluZXM6IHN0cmluZ1tdKTogdm9pZCB7XG4gICAgY29uc3Qgbm9ybWFsaXplZCA9IChsaW5lcyA/PyBbXSkubWFwKGxpbmUgPT4gbGluZS5yZXBsYWNlKC9cXHMrJC9nLCAnJykpO1xuICAgIGNvbnN0IGhhc0NvbnRlbnQgPSBub3JtYWxpemVkLnNvbWUoKGxpbmUpID0+IGxpbmUudHJpbSgpLmxlbmd0aCA+IDApO1xuICAgIGlmICghaGFzQ29udGVudCkge1xuICAgICAgaWYgKHRoaXMuaW5saW5lUGFuZWwubGVuZ3RoKSB7XG4gICAgICAgIHRoaXMuaW5saW5lUGFuZWwgPSBbXTtcbiAgICAgICAgdGhpcy5yZW5kZXJQcm9tcHQoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgbGltaXRlZCA9IHRoaXMubGltaXRJbmxpbmVQYW5lbChub3JtYWxpemVkKTtcbiAgICBpZiAoSlNPTi5zdHJpbmdpZnkobGltaXRlZCkgPT09IEpTT04uc3RyaW5naWZ5KHRoaXMuaW5saW5lUGFuZWwpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuaW5saW5lUGFuZWwgPSBsaW1pdGVkO1xuICAgIHRoaXMucmVuZGVyUHJvbXB0KCk7XG4gIH1cblxuICBzdXBwb3J0c0lubGluZVBhbmVsKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmludGVyYWN0aXZlICYmICF0aGlzLnBsYWluTW9kZTtcbiAgfVxuXG4gIGNsZWFySW5saW5lUGFuZWwoKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmlubGluZVBhbmVsLmxlbmd0aCkgcmV0dXJuO1xuICAgIHRoaXMuaW5saW5lUGFuZWwgPSBbXTtcbiAgICB0aGlzLnJlbmRlclByb21wdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNob3cgYW4gaW50ZXJhY3RpdmUgbWVudSB3aXRoIGFycm93IGtleSBuYXZpZ2F0aW9uIChDbGF1ZGUgQ29kZSBzdHlsZSkuXG4gICAqIE1lbnUgaXMgZGlzcGxheWVkIGluIHRoZSBpbmxpbmUgcGFuZWwgYXJlYSBhbmQgaW50ZXJjZXB0cyBhcnJvdy9lbnRlciBrZXlzLlxuICAgKiBAcGFyYW0gaXRlbXMgLSBNZW51IGl0ZW1zIHRvIGRpc3BsYXlcbiAgICogQHBhcmFtIG9wdGlvbnMgLSBNZW51IG9wdGlvbnMgKHRpdGxlLCBpbml0aWFsSW5kZXgpXG4gICAqIEBwYXJhbSBjYWxsYmFjayAtIENhbGxlZCB3aGVuIHVzZXIgc2VsZWN0cyBhbiBpdGVtIChvciBudWxsIGlmIGNhbmNlbGxlZClcbiAgICovXG4gIHNldE1lbnUoXG4gICAgaXRlbXM6IE1lbnVJdGVtW10sXG4gICAgb3B0aW9uczogeyB0aXRsZT86IHN0cmluZzsgaW5pdGlhbEluZGV4PzogbnVtYmVyIH0gPSB7fSxcbiAgICBjYWxsYmFjazogKGl0ZW06IE1lbnVJdGVtIHwgbnVsbCkgPT4gdm9pZFxuICApOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuc3VwcG9ydHNJbmxpbmVQYW5lbCgpKSB7XG4gICAgICAvLyBOb24taW50ZXJhY3RpdmUgbW9kZSAtIGp1c3QgY2FsbCBjYWxsYmFjayB3aXRoIGZpcnN0IGl0ZW0gb3IgbnVsbFxuICAgICAgY2FsbGJhY2soaXRlbXNbMF0gPz8gbnVsbCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5tZW51SXRlbXMgPSBpdGVtcztcbiAgICB0aGlzLm1lbnVJbmRleCA9IG9wdGlvbnMuaW5pdGlhbEluZGV4ID8/IGl0ZW1zLmZpbmRJbmRleChpID0+IGkuaXNBY3RpdmUpID8/IDA7XG4gICAgaWYgKHRoaXMubWVudUluZGV4IDwgMCkgdGhpcy5tZW51SW5kZXggPSAwO1xuICAgIHRoaXMubWVudVRpdGxlID0gb3B0aW9ucy50aXRsZSA/PyBudWxsO1xuICAgIHRoaXMubWVudUNhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgdGhpcy5yZW5kZXJNZW51UGFuZWwoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbG9zZSB0aGUgYWN0aXZlIG1lbnUgd2l0aG91dCBzZWxlY3RpbmcgYW55dGhpbmcuXG4gICAqL1xuICBjbG9zZU1lbnUoKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmlzTWVudUFjdGl2ZSgpKSByZXR1cm47XG4gICAgY29uc3QgY2FsbGJhY2sgPSB0aGlzLm1lbnVDYWxsYmFjaztcbiAgICB0aGlzLm1lbnVJdGVtcyA9IFtdO1xuICAgIHRoaXMubWVudUluZGV4ID0gMDtcbiAgICB0aGlzLm1lbnVUaXRsZSA9IG51bGw7XG4gICAgdGhpcy5tZW51Q2FsbGJhY2sgPSBudWxsO1xuICAgIHRoaXMuY2xlYXJJbmxpbmVQYW5lbCgpO1xuICAgIGNhbGxiYWNrPy4obnVsbCk7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgYW4gaW50ZXJhY3RpdmUgbWVudSBpcyBjdXJyZW50bHkgYWN0aXZlLlxuICAgKi9cbiAgaXNNZW51QWN0aXZlKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLm1lbnVJdGVtcy5sZW5ndGggPiAwICYmIHRoaXMubWVudUNhbGxiYWNrICE9PSBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbmRlciB0aGUgbWVudSB0byB0aGUgaW5saW5lIHBhbmVsLlxuICAgKi9cbiAgcHJpdmF0ZSByZW5kZXJNZW51UGFuZWwoKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmlzTWVudUFjdGl2ZSgpKSByZXR1cm47XG5cbiAgICBjb25zdCBsaW5lczogc3RyaW5nW10gPSBbXTtcblxuICAgIC8vIFRpdGxlXG4gICAgaWYgKHRoaXMubWVudVRpdGxlKSB7XG4gICAgICBsaW5lcy5wdXNoKGNoYWxrLmJvbGQuaGV4KCcjOEI1Q0Y2JykodGhpcy5tZW51VGl0bGUpKTtcbiAgICAgIGxpbmVzLnB1c2goJycpO1xuICAgIH1cblxuICAgIC8vIE1lbnUgaXRlbXMgd2l0aCBzZWxlY3Rpb24gaW5kaWNhdG9yXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm1lbnVJdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgaXRlbSA9IHRoaXMubWVudUl0ZW1zW2ldITtcbiAgICAgIGNvbnN0IGlzU2VsZWN0ZWQgPSBpID09PSB0aGlzLm1lbnVJbmRleDtcbiAgICAgIGNvbnN0IGlzRGlzYWJsZWQgPSBpdGVtLmRpc2FibGVkO1xuICAgICAgY29uc3QgaXNBY3RpdmUgPSBpdGVtLmlzQWN0aXZlO1xuXG4gICAgICBsZXQgbGluZSA9ICcnO1xuXG4gICAgICAvLyBTZWxlY3Rpb24gaW5kaWNhdG9yXG4gICAgICBpZiAoaXNTZWxlY3RlZCkge1xuICAgICAgICBsaW5lICs9IGNoYWxrLmhleCgnIzIyRDNFRScpKCfina8gJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsaW5lICs9ICcgICc7XG4gICAgICB9XG5cbiAgICAgIC8vIExhYmVsIHdpdGggc3R5bGluZ1xuICAgICAgaWYgKGlzRGlzYWJsZWQpIHtcbiAgICAgICAgbGluZSArPSBjaGFsay5kaW0oaXRlbS5sYWJlbCk7XG4gICAgICB9IGVsc2UgaWYgKGlzU2VsZWN0ZWQpIHtcbiAgICAgICAgbGluZSArPSBjaGFsay5ib2xkLmhleCgnIzIyRDNFRScpKGl0ZW0ubGFiZWwpO1xuICAgICAgfSBlbHNlIGlmIChpc0FjdGl2ZSkge1xuICAgICAgICBsaW5lICs9IGNoYWxrLmhleCgnIzM0RDM5OScpKGl0ZW0ubGFiZWwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGluZSArPSBjaGFsay53aGl0ZShpdGVtLmxhYmVsKTtcbiAgICAgIH1cblxuICAgICAgLy8gQWN0aXZlIGluZGljYXRvclxuICAgICAgaWYgKGlzQWN0aXZlKSB7XG4gICAgICAgIGxpbmUgKz0gY2hhbGsuZGltKCcgKGN1cnJlbnQpJyk7XG4gICAgICB9XG5cbiAgICAgIC8vIERlc2NyaXB0aW9uXG4gICAgICBpZiAoaXRlbS5kZXNjcmlwdGlvbikge1xuICAgICAgICBjb25zdCBkZXNjID0gaXNEaXNhYmxlZCA/IGNoYWxrLmRpbShpdGVtLmRlc2NyaXB0aW9uKSA6IGNoYWxrLmRpbShgIC0gJHtpdGVtLmRlc2NyaXB0aW9ufWApO1xuICAgICAgICBsaW5lICs9IGRlc2M7XG4gICAgICB9XG5cbiAgICAgIGxpbmVzLnB1c2gobGluZSk7XG4gICAgfVxuXG4gICAgLy8gSGludFxuICAgIGxpbmVzLnB1c2goJycpO1xuICAgIGxpbmVzLnB1c2goY2hhbGsuZGltKCfihpHihpMgbmF2aWdhdGUg4oCiIGVudGVyIHNlbGVjdCDigKIgZXNjIGNhbmNlbCcpKTtcblxuICAgIHRoaXMuc2V0SW5saW5lUGFuZWwobGluZXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIE5hdmlnYXRlIG1lbnUgc2VsZWN0aW9uLlxuICAgKiBAcmV0dXJucyB0cnVlIGlmIG1lbnUgY29uc3VtZWQgdGhlIG5hdmlnYXRpb25cbiAgICovXG4gIHByaXZhdGUgbmF2aWdhdGVNZW51KGRpcmVjdGlvbjogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgaWYgKCF0aGlzLmlzTWVudUFjdGl2ZSgpKSByZXR1cm4gZmFsc2U7XG5cbiAgICAvLyBGaW5kIG5leHQgbm9uLWRpc2FibGVkIGl0ZW1cbiAgICBsZXQgbmV3SW5kZXggPSB0aGlzLm1lbnVJbmRleDtcbiAgICBsZXQgYXR0ZW1wdHMgPSAwO1xuICAgIGNvbnN0IG1heEF0dGVtcHRzID0gdGhpcy5tZW51SXRlbXMubGVuZ3RoO1xuXG4gICAgZG8ge1xuICAgICAgbmV3SW5kZXggPSAobmV3SW5kZXggKyBkaXJlY3Rpb24gKyB0aGlzLm1lbnVJdGVtcy5sZW5ndGgpICUgdGhpcy5tZW51SXRlbXMubGVuZ3RoO1xuICAgICAgYXR0ZW1wdHMrKztcbiAgICB9IHdoaWxlICh0aGlzLm1lbnVJdGVtc1tuZXdJbmRleF0/LmRpc2FibGVkICYmIGF0dGVtcHRzIDwgbWF4QXR0ZW1wdHMpO1xuXG4gICAgaWYgKG5ld0luZGV4ICE9PSB0aGlzLm1lbnVJbmRleCkge1xuICAgICAgdGhpcy5tZW51SW5kZXggPSBuZXdJbmRleDtcbiAgICAgIHRoaXMucmVuZGVyTWVudVBhbmVsKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvKipcbiAgICogU2VsZWN0IHRoZSBjdXJyZW50bHkgaGlnaGxpZ2h0ZWQgbWVudSBpdGVtLlxuICAgKiBAcmV0dXJucyB0cnVlIGlmIG1lbnUgY29uc3VtZWQgdGhlIHNlbGVjdGlvblxuICAgKi9cbiAgcHJpdmF0ZSBzZWxlY3RNZW51SXRlbSgpOiBib29sZWFuIHtcbiAgICBpZiAoIXRoaXMuaXNNZW51QWN0aXZlKCkpIHJldHVybiBmYWxzZTtcblxuICAgIGNvbnN0IGl0ZW0gPSB0aGlzLm1lbnVJdGVtc1t0aGlzLm1lbnVJbmRleF07XG4gICAgaWYgKCFpdGVtIHx8IGl0ZW0uZGlzYWJsZWQpIHJldHVybiB0cnVlOyAvLyBDb25zdW1lIGJ1dCBkb24ndCBzZWxlY3RcblxuICAgIGNvbnN0IGNhbGxiYWNrID0gdGhpcy5tZW51Q2FsbGJhY2s7XG4gICAgdGhpcy5tZW51SXRlbXMgPSBbXTtcbiAgICB0aGlzLm1lbnVJbmRleCA9IDA7XG4gICAgdGhpcy5tZW51VGl0bGUgPSBudWxsO1xuICAgIHRoaXMubWVudUNhbGxiYWNrID0gbnVsbDtcbiAgICB0aGlzLmNsZWFySW5saW5lUGFuZWwoKTtcbiAgICBjYWxsYmFjaz8uKGl0ZW0pO1xuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBwcml2YXRlIGxpbWl0SW5saW5lUGFuZWwobGluZXM6IHN0cmluZ1tdKTogc3RyaW5nW10ge1xuICAgIGNvbnN0IG1heExpbmVzID0gTWF0aC5tYXgoNCwgTWF0aC5taW4odGhpcy5tYXhJbmxpbmVQYW5lbExpbmVzLCBNYXRoLm1heCgyLCB0aGlzLnJvd3MgLSA4KSkpO1xuICAgIGlmIChsaW5lcy5sZW5ndGggPD0gbWF4TGluZXMpIHtcbiAgICAgIHJldHVybiBsaW5lcztcbiAgICB9XG4gICAgY29uc3Qgb3ZlcmZsb3cgPSBsaW5lcy5sZW5ndGggLSBtYXhMaW5lcztcbiAgICBjb25zdCBpbmRpY2F0b3IgPSB0aGVtZS51aS5tdXRlZChg4oCmICR7b3ZlcmZsb3d9IG1vcmUgbGluZXNgKTtcbiAgICBjb25zdCB0YWlsQ291bnQgPSBNYXRoLm1heCgxLCBtYXhMaW5lcyAtIDEpO1xuICAgIGNvbnN0IHRhaWwgPSBsaW5lcy5zbGljZSgtdGFpbENvdW50KTtcbiAgICByZXR1cm4gW2luZGljYXRvciwgLi4udGFpbF07XG4gIH1cblxuICAvLyAtLS0tLS0tLS0tLS0gUHJvbXB0IHJlbmRlcmluZyAtLS0tLS0tLS0tLS1cblxuICBwcml2YXRlIHJlbmRlclByb21wdCgpOiB2b2lkIHtcbiAgICAvLyBEb24ndCByZW5kZXIgaWYgZGlzcG9zZWQgb3Igc3RpbGwgaW5pdGlhbGl6aW5nIChiZWZvcmUgYmFubmVyIHNob3duKVxuICAgIGlmICh0aGlzLmRpc3Bvc2VkIHx8IHRoaXMuaW5pdGlhbGl6aW5nKSByZXR1cm47XG5cbiAgICAvLyBUaHJvdHRsZSByZW5kZXJzIHRvIHByZXZlbnQgZXhjZXNzaXZlIHJlZHJhd3MgZHVyaW5nIHJhcGlkIGlucHV0XG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICBpZiAobm93IC0gdGhpcy5sYXN0UmVuZGVyVGltZSA8IHRoaXMucmVuZGVyVGhyb3R0bGVNcykge1xuICAgICAgaWYgKCF0aGlzLnBlbmRpbmdSZW5kZXIpIHtcbiAgICAgICAgdGhpcy5wZW5kaW5nUmVuZGVyID0gdHJ1ZTtcbiAgICAgICAgLy8gVHJhY2sgdGhlIHRpbWVyIGZvciBjbGVhbnVwXG4gICAgICAgIHRoaXMucmVuZGVyVGhyb3R0bGVUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHRoaXMucmVuZGVyVGhyb3R0bGVUaW1lciA9IG51bGw7XG4gICAgICAgICAgdGhpcy5wZW5kaW5nUmVuZGVyID0gZmFsc2U7XG4gICAgICAgICAgaWYgKCF0aGlzLmRpc3Bvc2VkKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlclByb21wdEltbWVkaWF0ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgdGhpcy5yZW5kZXJUaHJvdHRsZU1zKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5yZW5kZXJQcm9tcHRJbW1lZGlhdGUoKTtcbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyUHJvbXB0SW1tZWRpYXRlKCk6IHZvaWQge1xuICAgIC8vIERvbid0IHJlbmRlciBpZiBkaXNwb3NlZCBvciBzdGlsbCBpbml0aWFsaXppbmcgKGJlZm9yZSBiYW5uZXIgc2hvd24pXG4gICAgaWYgKHRoaXMuZGlzcG9zZWQgfHwgdGhpcy5pbml0aWFsaXppbmcpIHJldHVybjtcblxuICAgIC8vIFBlcmZvcm1hbmNlIG9wdGltaXphdGlvbjogU2tpcCByZW5kZXIgaWYgbm90aGluZyBjaGFuZ2VkIChkdXJpbmcgaWRsZSBtb2RlIG9ubHkpXG4gICAgLy8gRHVyaW5nIHN0cmVhbWluZyBtb2RlLCB3ZSBuZWVkIHRvIHVwZGF0ZSBhbmltYXRpb25zIGFuZCBzdGF0dXNcbiAgICBpZiAoIXRoaXMuZm9yY2VOZXh0UmVuZGVyICYmXG4gICAgICAgIHRoaXMubW9kZSA9PT0gJ2lkbGUnICYmXG4gICAgICAgIHRoaXMuYnVmZmVyID09PSB0aGlzLmxhc3RSZW5kZXJlZEJ1ZmZlciAmJlxuICAgICAgICB0aGlzLmN1cnNvciA9PT0gdGhpcy5sYXN0UmVuZGVyZWRDdXJzb3IgJiZcbiAgICAgICAgdGhpcy5tb2RlID09PSB0aGlzLmxhc3RSZW5kZXJlZE1vZGUgJiZcbiAgICAgICAgdGhpcy5sYXN0T3ZlcmxheSAhPT0gbnVsbCkge1xuICAgICAgLy8gQ29udGVudCB1bmNoYW5nZWQsIHNraXAgZXhwZW5zaXZlIHJlLXJlbmRlclxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmZvcmNlTmV4dFJlbmRlciA9IGZhbHNlO1xuXG4gICAgLy8gU3VwcHJlc3MgcmVuZGVyIGR1cmluZyBwYXN0ZSBidXJzdCB0byBwcmV2ZW50IHZpc3VhbCBsZWFrXG4gICAgLy8gT25seSBhbGxvdyByZW5kZXIgaWYgd2UgaGF2ZSBhIGNvbGxhcHNlZCBwYXN0ZSB0byBzaG93XG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICBjb25zdCBidXJzdEFjdGl2ZSA9IHRoaXMucGFzdGVCdXJzdFdpbmRvd1N0YXJ0ID4gMCAmJiBub3cgLSB0aGlzLnBhc3RlQnVyc3RXaW5kb3dTdGFydCA8PSB0aGlzLnBsYWluUGFzdGVXaW5kb3dNcztcbiAgICBjb25zdCBpbkVtaXRQYXN0ZSA9IHRoaXMuZW1pdFBhc3RlQnVmZmVyLmxlbmd0aCA+IDAgfHwgdGhpcy5lbWl0UGFzdGVUaW1lciAhPT0gbnVsbDtcbiAgICBpZiAoKGJ1cnN0QWN0aXZlIHx8IHRoaXMuaW5QbGFpblBhc3RlIHx8IHRoaXMuaW5CcmFja2V0ZWRQYXN0ZSB8fCBpbkVtaXRQYXN0ZSkgJiYgIXRoaXMuY29sbGFwc2VkUGFzdGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmxhc3RSZW5kZXJUaW1lID0gRGF0ZS5ub3coKTtcbiAgICB0aGlzLmxhc3RSZW5kZXJlZEJ1ZmZlciA9IHRoaXMuYnVmZmVyO1xuICAgIHRoaXMubGFzdFJlbmRlcmVkQ3Vyc29yID0gdGhpcy5jdXJzb3I7XG4gICAgdGhpcy5sYXN0UmVuZGVyZWRNb2RlID0gdGhpcy5tb2RlO1xuXG4gICAgaWYgKCF0aGlzLmludGVyYWN0aXZlKSB7XG4gICAgICB0aGlzLmlzUHJvbXB0QWN0aXZlID0gZmFsc2U7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMucHJvbXB0UmVuZGVyaW5nU3VzcGVuZGVkKSB7XG4gICAgICB0aGlzLmlzUHJvbXB0QWN0aXZlID0gZmFsc2U7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMucGxhaW5Nb2RlKSB7XG4gICAgICBjb25zdCBsaW5lID0gYD4gJHt0aGlzLmJ1ZmZlcn1gO1xuICAgICAgaWYgKCF0aGlzLmlzUHJvbXB0QWN0aXZlICYmICF0aGlzLmxhc3RPdXRwdXRFbmRlZFdpdGhOZXdsaW5lKSB7XG4gICAgICAgIHRoaXMud3JpdGUoJ1xcbicpO1xuICAgICAgICB0aGlzLmxhc3RPdXRwdXRFbmRlZFdpdGhOZXdsaW5lID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHRoaXMud3JpdGUoYFxcciR7RVNDLkNMRUFSX0xJTkV9JHtsaW5lfWApO1xuICAgICAgdGhpcy5jdXJzb3JWaXNpYmxlQ29sdW1uID0gbGluZS5sZW5ndGggKyAxO1xuICAgICAgdGhpcy5oYXNSZW5kZXJlZFByb21wdCA9IHRydWU7XG4gICAgICB0aGlzLmlzUHJvbXB0QWN0aXZlID0gdHJ1ZTtcbiAgICAgIHRoaXMubGFzdE91dHB1dEVuZGVkV2l0aE5ld2xpbmUgPSBmYWxzZTsgLy8gcHJvbXB0IGVuZHMgbWlkLWxpbmUgYnkgZGVzaWduXG4gICAgICB0aGlzLnByb21wdEhlaWdodCA9IDE7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLmFsbG93UHJvbXB0UmVuZGVyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gUmljaCBpbmxpbmUgbW9kZTogcHJvbXB0IGZsb3dzIG5hdHVyYWxseSB3aXRoIGNvbnRlbnRcbiAgICB0aGlzLnVwZGF0ZVRlcm1pbmFsU2l6ZSgpO1xuICAgIGNvbnN0IG1heFdpZHRoID0gdGhpcy5zYWZlV2lkdGgoKTtcbiAgICB0aGlzLmxhc3RSZW5kZXJXaWR0aCA9IG1heFdpZHRoO1xuXG4gICAgY29uc3Qgb3ZlcmxheSA9IHRoaXMuYnVpbGRPdmVybGF5TGluZXMoKTtcbiAgICBpZiAoIW92ZXJsYXkubGluZXMubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgcmVuZGVyZWRMaW5lcyA9IG92ZXJsYXkubGluZXMubWFwKGxpbmUgPT4gdGhpcy50cnVuY2F0ZUxpbmUobGluZSwgbWF4V2lkdGgpKTtcbiAgICBpZiAoIXJlbmRlcmVkTGluZXMubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgcHJvbXB0SW5kZXggPSBNYXRoLm1heCgwLCBNYXRoLm1pbihvdmVybGF5LnByb21wdEluZGV4LCByZW5kZXJlZExpbmVzLmxlbmd0aCAtIDEpKTtcbiAgICBjb25zdCBoZWlnaHQgPSByZW5kZXJlZExpbmVzLmxlbmd0aDtcblxuICAgIC8vIEJhdGNoIGFsbCBBTlNJIG9wZXJhdGlvbnMgaW50byBhIHNpbmdsZSB3cml0ZSB0byBwcmV2ZW50IGZsaWNrZXJpbmdcbiAgICAvLyBUaGlzIGVsaW1pbmF0ZXMgdGhlIHZpc3VhbCBqaXR0ZXIgY2F1c2VkIGJ5IG11bHRpcGxlIHNlcXVlbnRpYWwgdGVybWluYWwgd3JpdGVzXG4gICAgY29uc3QgYnVmZmVyOiBzdHJpbmdbXSA9IFtdO1xuXG4gICAgLy8gSGlkZSBjdXJzb3IgZHVyaW5nIHJlbmRlciB0byBwcmV2ZW50IHZpc3VhbCBhcnRpZmFjdHNcbiAgICBidWZmZXIucHVzaCgnXFx4MWJbPzI1bCcpO1xuXG4gICAgLy8gQ2xlYXIgcHJldmlvdXMgcHJvbXB0IGFuZCBoYW5kbGUgaGVpZ2h0IGNoYW5nZXNcbiAgICAvLyBJTVBPUlRBTlQ6IE9ubHkgY2xlYXIgaWYgd2UgaGF2ZSB2YWxpZCBvdmVybGF5IHN0YXRlIHRvIGF2b2lkIGN1cnNvciBwb3NpdGlvbiBidWdzXG4gICAgLy8gdGhhdCBjYXVzZSBzZXBhcmF0b3IgbGluZXMgdG8gYWNjdW11bGF0ZSBpbiBzY3JvbGxiYWNrXG4gICAgaWYgKHRoaXMuaGFzRXZlclJlbmRlcmVkT3ZlcmxheSAmJiB0aGlzLmxhc3RPdmVybGF5SGVpZ2h0ID4gMCAmJiB0aGlzLmxhc3RPdmVybGF5ICE9PSBudWxsKSB7XG4gICAgICAvLyBNb3ZlIHVwIGZyb20gcHJvbXB0IHJvdyB0byB0b3Agb2Ygb3ZlcmxheVxuICAgICAgY29uc3QgbGluZXNUb1RvcCA9IHRoaXMubGFzdE92ZXJsYXkucHJvbXB0SW5kZXg7XG4gICAgICBpZiAobGluZXNUb1RvcCA+IDApIHtcbiAgICAgICAgYnVmZmVyLnB1c2goYFxceDFiWyR7bGluZXNUb1RvcH1BYCk7XG4gICAgICB9XG5cbiAgICAgIC8vIENsZWFyIGV4YWN0bHkgdGhlIG9sZCBvdmVybGF5IGxpbmVzIHVzaW5nIGF0b21pYyBlc2NhcGUgc2VxdWVuY2UgYmF0Y2hcbiAgICAgIGNvbnN0IGNsZWFySGVpZ2h0ID0gdGhpcy5sYXN0T3ZlcmxheUhlaWdodDtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2xlYXJIZWlnaHQ7IGkrKykge1xuICAgICAgICBidWZmZXIucHVzaCgnXFxyJyk7XG4gICAgICAgIGJ1ZmZlci5wdXNoKEVTQy5DTEVBUl9MSU5FKTtcbiAgICAgICAgaWYgKGkgPCBjbGVhckhlaWdodCAtIDEpIHtcbiAgICAgICAgICBidWZmZXIucHVzaCgnXFx4MWJbQicpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIENsZWFyIGFueXRoaW5nIGJlbG93IHRoZSBvbGQgb3ZlcmxheSAoaGFuZGxlcyBlZGdlIGNhc2VzKVxuICAgICAgYnVmZmVyLnB1c2goJ1xceDFiW0onKTtcblxuICAgICAgLy8gQWZ0ZXIgY2xlYXJpbmcsIGN1cnNvciBpcyBhdCBsYXN0IGNsZWFyZWQgbGluZVxuICAgICAgLy8gTW92ZSBiYWNrIHVwIHRvIHRoZSB0b3Agd2hlcmUgbmV3IG92ZXJsYXkgc2hvdWxkIHN0YXJ0XG4gICAgICBjb25zdCBtb3ZlQmFja1VwID0gY2xlYXJIZWlnaHQgLSAxO1xuICAgICAgaWYgKG1vdmVCYWNrVXAgPiAwKSB7XG4gICAgICAgIGJ1ZmZlci5wdXNoKGBcXHgxYlske21vdmVCYWNrVXB9QWApO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodGhpcy5oYXNFdmVyUmVuZGVyZWRPdmVybGF5KSB7XG4gICAgICAvLyBPdmVybGF5IHdhcyBjbGVhcmVkIGJ1dCB3ZSdyZSByZS1yZW5kZXJpbmcgLSBlbnN1cmUgY2xlYW4gc2xhdGVcbiAgICAgIC8vIFVzZSBlcmFzZS10by1lbmQtb2Ytc2NyZWVuIGZyb20gY3VycmVudCBwb3NpdGlvblxuICAgICAgYnVmZmVyLnB1c2goJ1xccicpO1xuICAgICAgYnVmZmVyLnB1c2goJ1xceDFiW0onKTtcbiAgICB9XG5cbiAgICAvLyBXcml0ZSBwcm9tcHQgbGluZXMgKG5vIHRyYWlsaW5nIG5ld2xpbmUgb24gbGFzdCBsaW5lKVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVuZGVyZWRMaW5lcy5sZW5ndGg7IGkrKykge1xuICAgICAgYnVmZmVyLnB1c2goJ1xccicpO1xuICAgICAgYnVmZmVyLnB1c2goRVNDLkNMRUFSX0xJTkUpO1xuICAgICAgYnVmZmVyLnB1c2gocmVuZGVyZWRMaW5lc1tpXSB8fCAnJyk7XG4gICAgICBpZiAoaSA8IHJlbmRlcmVkTGluZXMubGVuZ3RoIC0gMSkge1xuICAgICAgICBidWZmZXIucHVzaCgnXFxuJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gSWYgb2xkIG92ZXJsYXkgd2FzIHRhbGxlciwgY2xlYXIgYW55IHJlbWFpbmluZyBzdGFsZSBsaW5lcyBiZWxvd1xuICAgIC8vIGFuZCB1c2UgQ1NJIEogKGVyYXNlIGZyb20gY3Vyc29yIHRvIGVuZCBvZiBzY3JlZW4pIHRvIGNsZWFuIHVwXG4gICAgaWYgKHRoaXMubGFzdE92ZXJsYXlIZWlnaHQgPiBoZWlnaHQpIHtcbiAgICAgIGJ1ZmZlci5wdXNoKCdcXG4nKTsgLy8gTW92ZSB0byBsaW5lIGJlbG93IGxhc3QgY29udGVudFxuICAgICAgYnVmZmVyLnB1c2goJ1xceDFiW0onKTsgLy8gQ2xlYXIgZnJvbSBjdXJzb3IgdG8gZW5kIG9mIHNjcmVlblxuICAgICAgYnVmZmVyLnB1c2goJ1xceDFiW0EnKTsgLy8gTW92ZSBiYWNrIHVwIHRvIGxhc3QgY29udGVudCBsaW5lXG4gICAgfVxuXG4gICAgLy8gUG9zaXRpb24gY3Vyc29yIGF0IHByb21wdCBpbnB1dCBsaW5lXG4gICAgY29uc3QgcHJvbXB0Q29sID0gTWF0aC5taW4oTWF0aC5tYXgoMSwgMyArIHRoaXMuY3Vyc29yKSwgdGhpcy5jb2xzIHx8IDgwKTtcbiAgICAvLyBDdXJzb3IgaXMgbm93IGF0IHRoZSBsYXN0IGxpbmUuIE1vdmUgdXAgdG8gdGhlIHByb21wdCByb3cuXG4gICAgY29uc3QgbGluZXNUb01vdmVVcCA9IGhlaWdodCAtIDEgLSBwcm9tcHRJbmRleDtcbiAgICBpZiAobGluZXNUb01vdmVVcCA+IDApIHtcbiAgICAgIGJ1ZmZlci5wdXNoKGBcXHgxYlske2xpbmVzVG9Nb3ZlVXB9QWApO1xuICAgIH1cbiAgICBidWZmZXIucHVzaChgXFx4MWJbJHtwcm9tcHRDb2x9R2ApO1xuXG4gICAgLy8gU2hvdyBjdXJzb3IgYWdhaW4gYWZ0ZXIgcG9zaXRpb25pbmdcbiAgICBidWZmZXIucHVzaCgnXFx4MWJbPzI1aCcpO1xuXG4gICAgLy8gU2luZ2xlIGF0b21pYyB3cml0ZSB0byBwcmV2ZW50IGZsaWNrZXJpbmdcbiAgICB0aGlzLndyaXRlKGJ1ZmZlci5qb2luKCcnKSk7XG5cbiAgICB0aGlzLmN1cnNvclZpc2libGVDb2x1bW4gPSBwcm9tcHRDb2w7XG4gICAgdGhpcy5oYXNSZW5kZXJlZFByb21wdCA9IHRydWU7XG4gICAgdGhpcy5oYXNFdmVyUmVuZGVyZWRPdmVybGF5ID0gdHJ1ZTtcbiAgICB0aGlzLmlzUHJvbXB0QWN0aXZlID0gdHJ1ZTtcbiAgICB0aGlzLmxhc3RPdmVybGF5SGVpZ2h0ID0gaGVpZ2h0O1xuICAgIHRoaXMubGFzdE92ZXJsYXkgPSB7IGxpbmVzOiByZW5kZXJlZExpbmVzLCBwcm9tcHRJbmRleCB9O1xuICAgIHRoaXMubGFzdE91dHB1dEVuZGVkV2l0aE5ld2xpbmUgPSBmYWxzZTtcbiAgICB0aGlzLnByb21wdEhlaWdodCA9IGhlaWdodDtcbiAgfVxuXG4gIHByaXZhdGUgYnVpbGRPdmVybGF5TGluZXMoKTogeyBsaW5lczogc3RyaW5nW107IHByb21wdEluZGV4OiBudW1iZXIgfSB7XG4gICAgY29uc3QgbGluZXM6IHN0cmluZ1tdID0gW107XG4gICAgY29uc3QgbWF4V2lkdGggPSB0aGlzLnNhZmVXaWR0aCgpO1xuICAgIC8vIFNpbXBsZSBob3Jpem9udGFsIGRpdmlkZXIgLSBjbGVhbiBhbmQgcmVsaWFibGVcbiAgICBjb25zdCBkaXZpZGVyID0gdGhlbWUudWkubXV0ZWQoJ+KUgCcucmVwZWF0KG1heFdpZHRoKSk7XG5cbiAgICBjb25zdCBmYWxsYmFja0FjdGl2aXR5ID0gKCgpID0+IHtcbiAgICAgIGNvbnN0IHJhdyA9IHRoaXMuc3RhdHVzU3RyZWFtaW5nIHx8IHRoaXMuc3RhdHVzT3ZlcnJpZGUgfHwgdGhpcy5zdGF0dXNNZXNzYWdlO1xuICAgICAgaWYgKCFyYXcpIHJldHVybiBudWxsO1xuICAgICAgY29uc3QgY2xlYW5lZCA9IHRoaXMuc3RyaXBBbnNpKHJhdykucmVwbGFjZSgvXlvij7rigKJdXFxzKi8sICcnKS50cmltKCk7XG4gICAgICByZXR1cm4gY2xlYW5lZCB8fCBudWxsO1xuICAgIH0pKCk7XG5cbiAgICAvLyBBY3Rpdml0eSBsaW5lIChvbmx5IHdoZW4gc3RyZWFtaW5nKSAtIHNob3dzOiDil5AgV29ya2luZ+KApiAoZXNjIHRvIGludGVycnVwdCDCtyAzNHMpXG4gICAgaWYgKHRoaXMubW9kZSA9PT0gJ3N0cmVhbWluZycgJiYgKHRoaXMuYWN0aXZpdHlNZXNzYWdlIHx8IGZhbGxiYWNrQWN0aXZpdHkpKSB7XG4gICAgICAvLyBDbGVhbiBzcGlubmVyIGFuaW1hdGlvbiB1c2luZyBicmFpbGxlIGRvdHMgKyBzaGltbWVyIGFjY2VudCBmb3IgYSByaWNoZXIgZmVlbFxuICAgICAgY29uc3Qgc3Bpbm5lckNoYXJzID0gc3Bpbm5lckZyYW1lcy5icmFpbGxlO1xuICAgICAgY29uc3Qgc3Bpbm5lckNoYXIgPSBzcGlubmVyQ2hhcnNbdGhpcy5zcGlubmVyRnJhbWUgJSBzcGlubmVyQ2hhcnMubGVuZ3RoXSA/PyAn4qCLJztcbiAgICAgIGNvbnN0IHN0YXJDaGFyID0gdGhpcy5hY3Rpdml0eVN0YXJGcmFtZXNbdGhpcy5hY3Rpdml0eVN0YXJGcmFtZSAlIHRoaXMuYWN0aXZpdHlTdGFyRnJhbWVzLmxlbmd0aF0gPz8gJ+Kctic7XG4gICAgICBjb25zdCBzcGlubmVyRGVjb3JhdGVkID0gYCR7dGhlbWUuaW5mbyhzcGlubmVyQ2hhcil9JHt0aGVtZS5hY2NlbnQgPyB0aGVtZS5hY2NlbnQoc3RhckNoYXIpIDogc3RhckNoYXJ9YDtcbiAgICAgIGNvbnN0IGVsYXBzZWQgPSB0aGlzLmZvcm1hdFN0cmVhbWluZ0VsYXBzZWQoKTtcbiAgICAgIGNvbnN0IGdlbmVyaWNBY3Rpdml0aWVzID0gWydTdHJlYW1pbmcnLCAnVGhpbmtpbmcnLCAnUHJvY2Vzc2luZyddO1xuICAgICAgbGV0IGRpc3BsYXlBY3Rpdml0eSA9IHRoaXMuYWN0aXZpdHlNZXNzYWdlIHx8IGZhbGxiYWNrQWN0aXZpdHkgfHwgJyc7XG4gICAgICBpZiAoZ2VuZXJpY0FjdGl2aXRpZXMuaW5jbHVkZXMoZGlzcGxheUFjdGl2aXR5KSAmJiBmYWxsYmFja0FjdGl2aXR5KSB7XG4gICAgICAgIGRpc3BsYXlBY3Rpdml0eSA9IGZhbGxiYWNrQWN0aXZpdHk7XG4gICAgICB9XG4gICAgICBpZiAoIWRpc3BsYXlBY3Rpdml0eS50cmltKCkpIHtcbiAgICAgICAgZGlzcGxheUFjdGl2aXR5ID0gZmFsbGJhY2tBY3Rpdml0eSB8fCAnV29ya2luZyc7XG4gICAgICB9XG4gICAgICBjb25zdCBuZWVkc0VsbGlwc2lzID0gIWRpc3BsYXlBY3Rpdml0eS50cmltRW5kKCkuZW5kc1dpdGgoJ+KApicpICYmICFkaXNwbGF5QWN0aXZpdHkudHJpbUVuZCgpLmVuZHNXaXRoKCcuLi4nKTtcbiAgICAgIC8vIEZvcm1hdDog4qCLIFdvcmtpbmfigKYgKGVzYyB0byBpbnRlcnJ1cHQgwrcgMW0gMTlzIMK3IOKGkTEuMmsgdG9rZW5zKVxuICAgICAgLy8gQnVpbGQgcGFydHMgd2l0aCBhbmltYXRlZCBlbGFwc2VkIHRpbWUgY29sb3JcbiAgICAgIGNvbnN0IGVsYXBzZWRDb2xvciA9IGNoYWxrLmhleCh0aGlzLmVsYXBzZWRDb2xvckZyYW1lc1t0aGlzLmVsYXBzZWRDb2xvckZyYW1lICUgdGhpcy5lbGFwc2VkQ29sb3JGcmFtZXMubGVuZ3RoXSA/PyAnI0Y1OUUwQicpO1xuICAgICAgY29uc3QgcGFydHM6IHN0cmluZ1tdID0gWydlc2MgdG8gaW50ZXJydXB0J107XG4gICAgICBpZiAoZWxhcHNlZCkgcGFydHMucHVzaChlbGFwc2VkQ29sb3IoZWxhcHNlZCkpO1xuICAgICAgaWYgKHRoaXMuc3RyZWFtaW5nVG9rZW5zID4gMCkge1xuICAgICAgICBwYXJ0cy5wdXNoKGDihpEke3RoaXMuZm9ybWF0VG9rZW5Db3VudCh0aGlzLnN0cmVhbWluZ1Rva2Vucyl9IHRva2Vuc2ApO1xuICAgICAgfVxuICAgICAgY29uc3QgcHJlZml4ID0gYCR7c3Bpbm5lckRlY29yYXRlZH0gYDtcbiAgICAgIGNvbnN0IGFjdGl2aXR5VGV4dCA9IGAke2Rpc3BsYXlBY3Rpdml0eS50cmltKCl9JHtuZWVkc0VsbGlwc2lzID8gJ+KApicgOiAnJ31gO1xuICAgICAgY29uc3Qgc3VmZml4ID0gYCAke3RoZW1lLnVpLm11dGVkKCcoJyl9JHtwYXJ0cy5qb2luKHRoZW1lLnVpLm11dGVkKCcgwrcgJykpfSR7dGhlbWUudWkubXV0ZWQoJyknKX1gO1xuXG4gICAgICAvLyBCdWlsZCB0aGUgZnVsbCBhY3Rpdml0eSBsaW5lIHdpdGggYW5pbWF0ZWQgY29sb3IgZm9yIGVsYXBzZWQgdGltZVxuICAgICAgY29uc3QgYWN0aXZpdHlMaW5lID0gYCR7cHJlZml4fSR7YWN0aXZpdHlUZXh0fSR7c3VmZml4fWA7XG5cbiAgICAgIC8vIEFsd2F5cyBzaG93IGZ1bGwgdGV4dCAtIHdyYXAgdG8gbXVsdGlwbGUgbGluZXMgaWYgbmVlZGVkXG4gICAgICBjb25zdCBpbmRlbnQgPSAnICcucmVwZWF0KHRoaXMudmlzaWJsZUxlbmd0aChwcmVmaXgpKTtcbiAgICAgIGNvbnN0IHdyYXBwZWQgPSB0aGlzLndyYXBPdmVybGF5TGluZShhY3Rpdml0eUxpbmUsIG1heFdpZHRoLCBpbmRlbnQpO1xuICAgICAgbGluZXMucHVzaCguLi53cmFwcGVkKTtcbiAgICB9XG5cbiAgICAvLyBUb3AgZGl2aWRlclxuICAgIGxpbmVzLnB1c2goZGl2aWRlcik7XG5cbiAgICAvLyBJbnB1dCBwcm9tcHQgbGluZVxuICAgIGNvbnN0IHByb21wdEluZGV4ID0gbGluZXMubGVuZ3RoO1xuICAgIGNvbnN0IGlucHV0TGluZSA9IHRoaXMuYnVpbGRJbnB1dExpbmUoKTtcbiAgICAvLyBIYW5kbGUgbXVsdGktbGluZSBpbnB1dCBieSBzcGxpdHRpbmcgb24gbmV3bGluZXNcbiAgICAvLyBGaWx0ZXIgb3V0IGVtcHR5IGxpbmVzIHRvIHByZXZlbnQgZHVwbGljYXRlIGRpdmlkZXIgYXBwZWFyYW5jZSBmcm9tIGxlYWRpbmcvdHJhaWxpbmcgbmV3bGluZXNcbiAgICBjb25zdCBpbnB1dExpbmVzID0gaW5wdXRMaW5lLnNwbGl0KCdcXG4nKS5maWx0ZXIoKGxpbmUsIGlkeCwgYXJyKSA9PiB7XG4gICAgICAvLyBLZWVwIG5vbi1lbXB0eSBsaW5lcywgYnV0IHByZXNlcnZlIHNpbmdsZSBlbXB0eSBsaW5lIGlmIGl0J3MgaW50ZW50aW9uYWwgKGUuZy4sIGJldHdlZW4gY29udGVudClcbiAgICAgIC8vIE9ubHkgZmlsdGVyIGxlYWRpbmcvdHJhaWxpbmcgZW1wdHkgbGluZXNcbiAgICAgIGlmIChsaW5lLnRyaW0oKSA9PT0gJycpIHtcbiAgICAgICAgLy8gRmlsdGVyIGlmIGl0J3MgdGhlIGZpcnN0IGxpbmUgKGxlYWRpbmcgZW1wdHkpIG9yIGxhc3QgbGluZSAodHJhaWxpbmcgZW1wdHkpXG4gICAgICAgIGlmIChpZHggPT09IDAgfHwgaWR4ID09PSBhcnIubGVuZ3RoIC0gMSkgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSk7XG4gICAgLy8gRW5zdXJlIGF0IGxlYXN0IG9uZSBsaW5lIGZvciB0aGUgcHJvbXB0XG4gICAgaWYgKGlucHV0TGluZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICBpbnB1dExpbmVzLnB1c2godGhlbWUucHJpbWFyeSgnPiAnKSk7XG4gICAgfVxuICAgIGZvciAoY29uc3QgbGluZSBvZiBpbnB1dExpbmVzKSB7XG4gICAgICBsaW5lcy5wdXNoKHRoaXMudHJ1bmNhdGVMaW5lKGxpbmUsIG1heFdpZHRoKSk7XG4gICAgfVxuXG4gICAgLy8gQm90dG9tIGRpdmlkZXJcbiAgICBsaW5lcy5wdXNoKGRpdmlkZXIpO1xuXG4gICAgLy8gSW5saW5lIHBhbmVsIChwaW5uZWQgc2Nyb2xsIGJveCBmb3IgbGl2ZSBvdXRwdXQvbWVudXMpXG4gICAgaWYgKHRoaXMuaW5saW5lUGFuZWwubGVuZ3RoID4gMCkge1xuICAgICAgZm9yIChjb25zdCBwYW5lbExpbmUgb2YgdGhpcy5pbmxpbmVQYW5lbCkge1xuICAgICAgICBsaW5lcy5wdXNoKHRoaXMudHJ1bmNhdGVMaW5lKGAgICR7cGFuZWxMaW5lfWAsIG1heFdpZHRoKSk7XG4gICAgICB9XG4gICAgICAvLyBTZXBhcmF0ZSBpbmxpbmUgY29udGVudCBmcm9tIHN1Z2dlc3Rpb25zL3RvZ2dsZXNcbiAgICAgIGxpbmVzLnB1c2goZGl2aWRlcik7XG4gICAgfVxuXG4gICAgLy8gU2xhc2ggY29tbWFuZCBzdWdnZXN0aW9uc1xuICAgIGlmICh0aGlzLnN1Z2dlc3Rpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLnN1Z2dlc3Rpb25zLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICBjb25zdCBzdWdnZXN0aW9uID0gdGhpcy5zdWdnZXN0aW9uc1tpbmRleF0hO1xuICAgICAgICBjb25zdCBpc0FjdGl2ZSA9IGluZGV4ID09PSB0aGlzLnN1Z2dlc3Rpb25JbmRleDtcbiAgICAgICAgY29uc3QgbWFya2VyID0gaXNBY3RpdmUgPyB0aGVtZS5wcmltYXJ5KCfilrgnKSA6IHRoZW1lLnVpLm11dGVkKCcgJyk7XG4gICAgICAgIGNvbnN0IGNtZFRleHQgPSBpc0FjdGl2ZSA/IHRoZW1lLnByaW1hcnkoc3VnZ2VzdGlvbi5jb21tYW5kKSA6IHRoZW1lLnVpLm11dGVkKHN1Z2dlc3Rpb24uY29tbWFuZCk7XG4gICAgICAgIGNvbnN0IGRlc2NUZXh0ID0gaXNBY3RpdmUgPyBzdWdnZXN0aW9uLmRlc2NyaXB0aW9uIDogdGhlbWUudWkubXV0ZWQoc3VnZ2VzdGlvbi5kZXNjcmlwdGlvbik7XG4gICAgICAgIGxpbmVzLnB1c2godGhpcy50cnVuY2F0ZUxpbmUoYCAgJHttYXJrZXJ9ICR7Y21kVGV4dH0g4oCUICR7ZGVzY1RleHR9YCwgbWF4V2lkdGgpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBDb21wYWN0IHN0YXR1cyBsaW5lOiBtb2RlbCDCtyBjb250ZXh0JSDCtyBwcm9maWxlIMK3IGRpclxuICAgIGNvbnN0IGNvbXBhY3RTdGF0dXMgPSB0aGlzLmJ1aWxkQ29tcGFjdFN0YXR1c0xpbmUoKTtcbiAgICBpZiAoY29tcGFjdFN0YXR1cykge1xuICAgICAgbGluZXMucHVzaCh0aGlzLnRydW5jYXRlTGluZShgICAke2NvbXBhY3RTdGF0dXN9YCwgbWF4V2lkdGgpKTtcbiAgICB9XG5cbiAgICAvLyBNb2RlIHRvZ2dsZXMgKGNvbXBhY3Qgc2luZ2xlIGxpbmUgd2hlbiBwb3NzaWJsZSlcbiAgICBjb25zdCB0b2dnbGVMaW5lID0gdGhpcy5idWlsZFRvZ2dsZUxpbmUoKTtcbiAgICBpZiAodG9nZ2xlTGluZSkge1xuICAgICAgbGluZXMucHVzaCh0aGlzLnRydW5jYXRlTGluZShgICAke3RvZ2dsZUxpbmV9YCwgbWF4V2lkdGgpKTtcbiAgICB9XG5cbiAgICByZXR1cm4geyBsaW5lcywgcHJvbXB0SW5kZXggfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBCdWlsZCBhIHNpbmdsZSBjb21wYWN0IHN0YXR1cyBsaW5lIHdpdGggYWxsIGVzc2VudGlhbCBpbmZvXG4gICAqIEZvcm1hdDogZGVlcHNlZWstcmVhc29uZXIgwrcg4paR4paR4paR4paR4paR4paRIDUlIMK3IGFnaS1jb2RlIMK3IH4vR2l0SHViXG4gICAqL1xuICBwcml2YXRlIGJ1aWxkQ29tcGFjdFN0YXR1c0xpbmUoKTogc3RyaW5nIHwgbnVsbCB7XG4gICAgY29uc3QgcGFydHM6IHN0cmluZ1tdID0gW107XG5cbiAgICAvLyBNb2RlbCAoY29tcGFjdDoganVzdCBtb2RlbCBuYW1lLCBub3QgcHJvdmlkZXIvbW9kZWwpXG4gICAgY29uc3QgbW9kZWwgPSB0aGlzLnN0YXR1c01ldGEubW9kZWwgfHwgdGhpcy5zdGF0dXNNZXRhLnByb3ZpZGVyO1xuICAgIGlmIChtb2RlbCkge1xuICAgICAgcGFydHMucHVzaCh0aGVtZS5pbmZvKG1vZGVsKSk7XG4gICAgfVxuXG4gICAgLy8gQ29udGV4dCBtZXRlciAoY29tcGFjdCBtaW5pIGJhcilcbiAgICBpZiAodGhpcy5zdGF0dXNNZXRhLmNvbnRleHRQZXJjZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGNvbnN0IHVzZWQgPSBjbGFtcFBlcmNlbnRhZ2UodGhpcy5zdGF0dXNNZXRhLmNvbnRleHRQZXJjZW50KTtcbiAgICAgIGNvbnN0IGJhcldpZHRoID0gNTtcbiAgICAgIGNvbnN0IGZpbGxlZCA9IE1hdGgucm91bmQoKHVzZWQgLyAxMDApICogYmFyV2lkdGgpO1xuICAgICAgY29uc3QgZW1wdHkgPSBNYXRoLm1heCgwLCBiYXJXaWR0aCAtIGZpbGxlZCk7XG4gICAgICBjb25zdCBiYXJDb2xvciA9IGdldENvbnRleHRDb2xvcih1c2VkLCB7XG4gICAgICAgIGVycm9yOiB0aGVtZS5lcnJvcixcbiAgICAgICAgd2FybmluZzogdGhlbWUud2FybmluZyxcbiAgICAgICAgaW5mbzogdGhlbWUuaW5mbyxcbiAgICAgICAgc3VjY2VzczogdGhlbWUuc3VjY2VzcyxcbiAgICAgIH0pO1xuICAgICAgY29uc3QgYmFyID0gYmFyQ29sb3IoJ+KWiCcucmVwZWF0KGZpbGxlZCkpICsgdGhlbWUudWkubXV0ZWQoJ+KWkScucmVwZWF0KGVtcHR5KSk7XG4gICAgICBwYXJ0cy5wdXNoKGAke2Jhcn0gJHtiYXJDb2xvcihgJHt1c2VkfSVgKX1gKTtcbiAgICB9XG5cbiAgICAvLyBQcm9maWxlIChpZiBzZXQpXG4gICAgaWYgKHRoaXMuc3RhdHVzTWV0YS5wcm9maWxlKSB7XG4gICAgICBwYXJ0cy5wdXNoKHRoZW1lLnNlY29uZGFyeSh0aGlzLnN0YXR1c01ldGEucHJvZmlsZSkpO1xuICAgIH1cblxuICAgIC8vIERpcmVjdG9yeSAoYWJicmV2aWF0ZWQpXG4gICAgY29uc3Qgd29ya3NwYWNlID0gdGhpcy5zdGF0dXNNZXRhLndvcmtzcGFjZSB8fCB0aGlzLnN0YXR1c01ldGEuZGlyZWN0b3J5O1xuICAgIGlmICh3b3Jrc3BhY2UpIHtcbiAgICAgIHBhcnRzLnB1c2godGhlbWUudWkubXV0ZWQodGhpcy5hYmJyZXZpYXRlUGF0aCh3b3Jrc3BhY2UpKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBhcnRzLmxlbmd0aCA+IDAgPyBwYXJ0cy5qb2luKHRoZW1lLnVpLm11dGVkKCcgwrcgJykpIDogbnVsbDtcbiAgfVxuXG4gIHByaXZhdGUgYnVpbGRDaHJvbWVMaW5lcygpOiBzdHJpbmdbXSB7XG4gICAgY29uc3QgbWF4V2lkdGggPSB0aGlzLnNhZmVXaWR0aCgpO1xuICAgIGNvbnN0IHN0YXR1c0xpbmVzID0gdGhpcy5idWlsZFN0YXR1c0Jsb2NrKG1heFdpZHRoKTtcbiAgICBjb25zdCBtZXRhTGluZXMgPSB0aGlzLmJ1aWxkTWV0YUJsb2NrKG1heFdpZHRoKTtcbiAgICByZXR1cm4gWy4uLnN0YXR1c0xpbmVzLCAuLi5tZXRhTGluZXNdO1xuICB9XG5cbiAgcHJpdmF0ZSBhYmJyZXZpYXRlUGF0aChwYXRoVmFsdWU6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgY29uc3QgaG9tZSA9IGhvbWVkaXIoKTtcbiAgICBpZiAoaG9tZSAmJiBwYXRoVmFsdWUuc3RhcnRzV2l0aChob21lKSkge1xuICAgICAgcmV0dXJuIHBhdGhWYWx1ZS5yZXBsYWNlKGhvbWUsICd+Jyk7XG4gICAgfVxuICAgIHJldHVybiBwYXRoVmFsdWU7XG4gIH1cblxuICBwcml2YXRlIGJ1aWxkU3RhdHVzQmxvY2sobWF4V2lkdGg6IG51bWJlcik6IHN0cmluZ1tdIHtcbiAgICBjb25zdCBzZWdtZW50czogc3RyaW5nW10gPSBbXTtcblxuICAgIC8vIFNraXAgc3RhdHVzIGxhYmVsIHdoZW4gc3RyZWFtaW5nIC0gdGhlIGFjdGl2aXR5IGxpbmUgYWxyZWFkeSBzaG93cyB0aGUgYW5pbWF0ZWQgc3RhdHVzXG4gICAgLy8gVGhpcyBwcmV2ZW50cyBkdXBsaWNhdGUgXCJUaGlua2luZy4uLlwiIGRpc3BsYXlzXG4gICAgaWYgKHRoaXMubW9kZSAhPT0gJ3N0cmVhbWluZycpIHtcbiAgICAgIGNvbnN0IHN0YXR1c0xhYmVsID0gdGhpcy5jb21wb3NlU3RhdHVzTGFiZWwoKTtcbiAgICAgIGlmIChzdGF0dXNMYWJlbCkge1xuICAgICAgICBzZWdtZW50cy5wdXNoKGAke3RoZW1lLnVpLm11dGVkKCdzdGF0dXMnKX0gJHt0aGlzLmFwcGx5VG9uZShzdGF0dXNMYWJlbC50ZXh0LCBzdGF0dXNMYWJlbC50b25lKX1gKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5zdGF0dXNNZXRhLnNlc3Npb25UaW1lKSB7XG4gICAgICBzZWdtZW50cy5wdXNoKGAke3RoZW1lLnVpLm11dGVkKCdydW50aW1lJyl9ICR7dGhlbWUudWkubXV0ZWQodGhpcy5zdGF0dXNNZXRhLnNlc3Npb25UaW1lKX1gKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5zdGF0dXNNZXRhLmNvbnRleHRQZXJjZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIFVzZSBhbmltYXRlZCBjb250ZXh0IG1ldGVyIGZvciBzbW9vdGggY29sb3IgdHJhbnNpdGlvbnNcbiAgICAgIHRoaXMuY29udGV4dE1ldGVyLnVwZGF0ZSh0aGlzLnN0YXR1c01ldGEuY29udGV4dFBlcmNlbnQpO1xuICAgICAgc2VnbWVudHMucHVzaCh0aGlzLmNvbnRleHRNZXRlci5yZW5kZXIoKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNlZ21lbnRzLmxlbmd0aCA+IDAgPyB0aGlzLndyYXBTZWdtZW50cyhzZWdtZW50cywgbWF4V2lkdGgpIDogW107XG4gIH1cblxuICBwcml2YXRlIGJ1aWxkTWV0YUJsb2NrKG1heFdpZHRoOiBudW1iZXIpOiBzdHJpbmdbXSB7XG4gICAgY29uc3Qgc2VnbWVudHM6IHN0cmluZ1tdID0gW107XG5cbiAgICBpZiAodGhpcy5zdGF0dXNNZXRhLnByb2ZpbGUpIHtcbiAgICAgIHNlZ21lbnRzLnB1c2godGhpcy5mb3JtYXRNZXRhU2VnbWVudCgncHJvZmlsZScsIHRoaXMuc3RhdHVzTWV0YS5wcm9maWxlLCAnaW5mbycpKTtcbiAgICB9XG5cbiAgICBjb25zdCBtb2RlbCA9IHRoaXMuc3RhdHVzTWV0YS5wcm92aWRlciAmJiB0aGlzLnN0YXR1c01ldGEubW9kZWxcbiAgICAgID8gYCR7dGhpcy5zdGF0dXNNZXRhLnByb3ZpZGVyfSAvICR7dGhpcy5zdGF0dXNNZXRhLm1vZGVsfWBcbiAgICAgIDogdGhpcy5zdGF0dXNNZXRhLm1vZGVsIHx8IHRoaXMuc3RhdHVzTWV0YS5wcm92aWRlcjtcbiAgICBpZiAobW9kZWwpIHtcbiAgICAgIHNlZ21lbnRzLnB1c2godGhpcy5mb3JtYXRNZXRhU2VnbWVudCgnbW9kZWwnLCBtb2RlbCwgJ2luZm8nKSk7XG4gICAgfVxuXG4gICAgY29uc3Qgd29ya3NwYWNlID0gdGhpcy5zdGF0dXNNZXRhLndvcmtzcGFjZSB8fCB0aGlzLnN0YXR1c01ldGEuZGlyZWN0b3J5O1xuICAgIGlmICh3b3Jrc3BhY2UpIHtcbiAgICAgIHNlZ21lbnRzLnB1c2godGhpcy5mb3JtYXRNZXRhU2VnbWVudCgnZGlyJywgdGhpcy5hYmJyZXZpYXRlUGF0aCh3b3Jrc3BhY2UpLCAnbXV0ZWQnKSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuc3RhdHVzTWV0YS53cml0ZXMpIHtcbiAgICAgIHNlZ21lbnRzLnB1c2godGhpcy5mb3JtYXRNZXRhU2VnbWVudCgnd3JpdGVzJywgdGhpcy5zdGF0dXNNZXRhLndyaXRlcywgJ211dGVkJykpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnN0YXR1c01ldGEudG9vbFN1bW1hcnkpIHtcbiAgICAgIHNlZ21lbnRzLnB1c2godGhpcy5mb3JtYXRNZXRhU2VnbWVudCgndG9vbHMnLCB0aGlzLnN0YXR1c01ldGEudG9vbFN1bW1hcnksICdtdXRlZCcpKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5zdGF0dXNNZXRhLnNlc3Npb25MYWJlbCkge1xuICAgICAgc2VnbWVudHMucHVzaCh0aGlzLmZvcm1hdE1ldGFTZWdtZW50KCdzZXNzaW9uJywgdGhpcy5zdGF0dXNNZXRhLnNlc3Npb25MYWJlbCwgJ211dGVkJykpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnN0YXR1c01ldGEudmVyc2lvbikge1xuICAgICAgc2VnbWVudHMucHVzaCh0aGlzLmZvcm1hdE1ldGFTZWdtZW50KCdidWlsZCcsIGB2JHt0aGlzLnN0YXR1c01ldGEudmVyc2lvbn1gLCAnbXV0ZWQnKSk7XG4gICAgfVxuXG4gICAgLy8gQWRkIFJMIGFnZW50IHN0YXR1cyB3aGVuIGR1YWwtUkwgbW9kZSBpcyBhY3RpdmVcbiAgICBjb25zdCBybFNlZ21lbnRzID0gdGhpcy5idWlsZFJMU3RhdHVzU2VnbWVudHMoKTtcbiAgICBpZiAocmxTZWdtZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICBzZWdtZW50cy5wdXNoKC4uLnJsU2VnbWVudHMpO1xuICAgIH1cblxuICAgIC8vIEFkZCBzZWN1cmUgVEFPIHRvb2xzIHN0YXR1c1xuICAgIGNvbnN0IHNlY3VyZVRvb2xzU2VnbWVudHMgPSB0aGlzLmJ1aWxkU2VjdXJlVG9vbHNTZWdtZW50cygpO1xuICAgIGlmIChzZWN1cmVUb29sc1NlZ21lbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgIHNlZ21lbnRzLnB1c2goLi4uc2VjdXJlVG9vbHNTZWdtZW50cyk7XG4gICAgfVxuXG4gICAgaWYgKHNlZ21lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLndyYXBTZWdtZW50cyhzZWdtZW50cywgbWF4V2lkdGgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEJ1aWxkIFJMIGFnZW50IHN0YXR1cyBzZWdtZW50cyBmb3IgZGlzcGxheSBkdXJpbmcgZHVhbC1STCBleGVjdXRpb24uXG4gICAqIFNob3dzOiB0b3VybmFtZW50IHNjb3JlYm9hcmQsIGFjdGl2ZSBhZ2VudCwgbW9kdWxlL3N0ZXAgcHJvZ3Jlc3MsIGFuZCBzY29yZXMuXG4gICAqL1xuICBwcml2YXRlIGJ1aWxkUkxTdGF0dXNTZWdtZW50cygpOiBzdHJpbmdbXSB7XG4gICAgY29uc3Qgc2VnbWVudHM6IHN0cmluZ1tdID0gW107XG4gICAgY29uc3QgcmwgPSB0aGlzLnJsU3RhdHVzO1xuXG4gICAgLy8gT25seSBzaG93IFJMIHN0YXR1cyB3aGVuIHRoZXJlJ3MgbWVhbmluZ2Z1bCBkYXRhXG4gICAgaWYgKCFybC5hY3RpdmVWYXJpYW50ICYmICFybC53aW5zICYmICFybC5jdXJyZW50TW9kdWxlKSB7XG4gICAgICByZXR1cm4gc2VnbWVudHM7XG4gICAgfVxuXG4gICAgLy8gVG91cm5hbWVudCBzY29yZWJvYXJkIChhbHdheXMgc2hvdyB3aGVuIHdpbnMgZXhpc3QpXG4gICAgaWYgKHJsLndpbnMgJiYgKHJsLndpbnMucHJpbWFyeSA+IDAgfHwgcmwud2lucy5yZWZpbmVyID4gMCB8fCBybC53aW5zLnRpZXMgPiAwKSkge1xuICAgICAgY29uc3QgdG90YWxHYW1lcyA9IHJsLndpbnMucHJpbWFyeSArIHJsLndpbnMucmVmaW5lciArIHJsLndpbnMudGllcztcbiAgICAgIGNvbnN0IGxlYWRlciA9IHJsLndpbnMucHJpbWFyeSA+IHJsLndpbnMucmVmaW5lciA/ICdwcmltYXJ5JyA6XG4gICAgICAgICAgICAgICAgICAgICBybC53aW5zLnJlZmluZXIgPiBybC53aW5zLnByaW1hcnkgPyAncmVmaW5lcicgOiAndGllJztcblxuICAgICAgLy8gU2NvcmVib2FyZCB3aXRoIGNvbG9ycyBiYXNlZCBvbiBsZWFkZXJcbiAgICAgIGNvbnN0IHBDb2xvciA9IGxlYWRlciA9PT0gJ3ByaW1hcnknID8gdGhlbWUuc3VjY2VzcyA6IHRoZW1lLmluZm87XG4gICAgICBjb25zdCByQ29sb3IgPSBsZWFkZXIgPT09ICdyZWZpbmVyJyA/IHRoZW1lLnN1Y2Nlc3MgOiB0aGVtZS53YXJuaW5nO1xuICAgICAgY29uc3QgcFNjb3JlID0gcENvbG9yKGAke3JsLndpbnMucHJpbWFyeX1gKTtcbiAgICAgIGNvbnN0IHJTY29yZSA9IHJDb2xvcihgJHtybC53aW5zLnJlZmluZXJ9YCk7XG5cbiAgICAgIC8vIFRyb3BoeSBmb3IgbGVhZGVyXG4gICAgICBjb25zdCB0cm9waHkgPSBsZWFkZXIgPT09ICdwcmltYXJ5JyA/IHRoZW1lLmluZm8oJ/Cfj4YnKSA6XG4gICAgICAgICAgICAgICAgICAgICBsZWFkZXIgPT09ICdyZWZpbmVyJyA/IHRoZW1lLndhcm5pbmcoJ/Cfj4YnKSA6ICfimpbvuI8nO1xuXG4gICAgICAvLyBXaW4gc3RyZWFrIGluZGljYXRvclxuICAgICAgY29uc3Qgc3RyZWFrVGV4dCA9IHJsLnN0cmVhayAmJiBybC5zdHJlYWsgPiAxID8gdGhlbWUudWkubXV0ZWQoYCDwn5SlJHtybC5zdHJlYWt9YCkgOiAnJztcblxuICAgICAgc2VnbWVudHMucHVzaChgJHt0cm9waHl9JHtwU2NvcmV9JHt0aGVtZS51aS5tdXRlZCgnOicpfSR7clNjb3JlfSR7c3RyZWFrVGV4dH1gKTtcblxuICAgICAgLy8gUHJvZ3Jlc3MgYmFyIHNob3dpbmcgcmVsYXRpdmUgd2luc1xuICAgICAgaWYgKHRvdGFsR2FtZXMgPiAwKSB7XG4gICAgICAgIGNvbnN0IGJhcldpZHRoID0gODtcbiAgICAgICAgY29uc3QgcEJhcnMgPSBNYXRoLnJvdW5kKChybC53aW5zLnByaW1hcnkgLyB0b3RhbEdhbWVzKSAqIGJhcldpZHRoKTtcbiAgICAgICAgY29uc3QgckJhcnMgPSBNYXRoLnJvdW5kKChybC53aW5zLnJlZmluZXIgLyB0b3RhbEdhbWVzKSAqIGJhcldpZHRoKTtcbiAgICAgICAgY29uc3QgdEJhcnMgPSBNYXRoLm1heCgwLCBiYXJXaWR0aCAtIHBCYXJzIC0gckJhcnMpO1xuICAgICAgICBjb25zdCBiYXIgPSB0aGVtZS5pbmZvKCfilognLnJlcGVhdChwQmFycykpICtcbiAgICAgICAgICAgICAgICAgICAgdGhlbWUudWkubXV0ZWQoJ+KWkScucmVwZWF0KHRCYXJzKSkgK1xuICAgICAgICAgICAgICAgICAgICB0aGVtZS53YXJuaW5nKCfilognLnJlcGVhdChyQmFycykpO1xuICAgICAgICBzZWdtZW50cy5wdXNoKGBbJHtiYXJ9XWApO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEFjdGl2ZSB2YXJpYW50IGluZGljYXRvclxuICAgIGlmIChybC5hY3RpdmVWYXJpYW50KSB7XG4gICAgICBjb25zdCBpc1BhcmFsbGVsID0gcmwucGFyYWxsZWxFeGVjdXRpb247XG4gICAgICBpZiAoaXNQYXJhbGxlbCkge1xuICAgICAgICAvLyBCb3RoIHJ1bm5pbmcgaW4gcGFyYWxsZWxcbiAgICAgICAgc2VnbWVudHMucHVzaChgJHt0aGVtZS5pbmZvKCfimqFQJyl9ICR7dGhlbWUudWkubXV0ZWQoJ+KIpScpfSAke3RoZW1lLndhcm5pbmcoJ+KaoVInKX1gKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHZhcmlhbnRJY29uID0gcmwuYWN0aXZlVmFyaWFudCA9PT0gJ3ByaW1hcnknID8gJ+KWticgOiAn4pa3JztcbiAgICAgICAgY29uc3QgdmFyaWFudExhYmVsID0gcmwuYWN0aXZlVmFyaWFudCA9PT0gJ3ByaW1hcnknID8gJ1AnIDogJ1InO1xuICAgICAgICBjb25zdCB2YXJpYW50Q29sb3IgPSBybC5hY3RpdmVWYXJpYW50ID09PSAncHJpbWFyeScgPyB0aGVtZS5pbmZvIDogdGhlbWUud2FybmluZztcbiAgICAgICAgc2VnbWVudHMucHVzaChgJHt2YXJpYW50SWNvbn0ke3ZhcmlhbnRDb2xvcih2YXJpYW50TGFiZWwpfWApO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIExhc3Qgd2lubmVyIGluZGljYXRvclxuICAgIGlmIChybC5sYXN0V2lubmVyICYmIHJsLmxhc3RXaW5uZXIgIT09ICd0aWUnKSB7XG4gICAgICBjb25zdCB3aW5uZXJJY29uID0gcmwubGFzdFdpbm5lciA9PT0gJ3ByaW1hcnknID8gdGhlbWUuaW5mbygn4pyTUCcpIDogdGhlbWUud2FybmluZygn4pyTUicpO1xuICAgICAgc2VnbWVudHMucHVzaCh3aW5uZXJJY29uKTtcbiAgICB9IGVsc2UgaWYgKHJsLmxhc3RXaW5uZXIgPT09ICd0aWUnKSB7XG4gICAgICBzZWdtZW50cy5wdXNoKHRoZW1lLnVpLm11dGVkKCfiiYgnKSk7XG4gICAgfVxuXG4gICAgLy8gQ3VycmVudCBtb2R1bGUvc3RlcCAoY29tcGFjdClcbiAgICBpZiAocmwuY3VycmVudE1vZHVsZSB8fCBybC5jdXJyZW50U3RlcCkge1xuICAgICAgY29uc3Qgc3RlcFRleHQgPSBybC5jdXJyZW50U3RlcCB8fCBybC5jdXJyZW50TW9kdWxlIHx8ICcnO1xuICAgICAgaWYgKHN0ZXBUZXh0KSB7XG4gICAgICAgIHNlZ21lbnRzLnB1c2godGhlbWUudWkubXV0ZWQodGhpcy50cnVuY2F0ZU1pZGRsZShzdGVwVGV4dCwgMTUpKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gUHJvZ3Jlc3MgaW5kaWNhdG9yIChzdGVwcyBjb21wbGV0ZWQgLyB0b3RhbClcbiAgICBpZiAodHlwZW9mIHJsLnN0ZXBzQ29tcGxldGVkID09PSAnbnVtYmVyJyAmJiB0eXBlb2YgcmwudG90YWxTdGVwcyA9PT0gJ251bWJlcicgJiYgcmwudG90YWxTdGVwcyA+IDApIHtcbiAgICAgIGNvbnN0IHBjdCA9IE1hdGgucm91bmQoKHJsLnN0ZXBzQ29tcGxldGVkIC8gcmwudG90YWxTdGVwcykgKiAxMDApO1xuICAgICAgc2VnbWVudHMucHVzaCh0aGVtZS51aS5tdXRlZChgJHtwY3R9JWApKTtcbiAgICB9XG5cbiAgICAvLyBDdXJyZW50IHJld2FyZCBzY29yZXMgKGNvbXBhY3QsIG9ubHkgZHVyaW5nIGFjdGl2ZSBjb21wYXJpc29uKVxuICAgIGlmIChybC5zY29yZXMgJiYgKHR5cGVvZiBybC5zY29yZXMucHJpbWFyeSA9PT0gJ251bWJlcicgfHwgdHlwZW9mIHJsLnNjb3Jlcy5yZWZpbmVyID09PSAnbnVtYmVyJykpIHtcbiAgICAgIGNvbnN0IHBTY29yZSA9IHR5cGVvZiBybC5zY29yZXMucHJpbWFyeSA9PT0gJ251bWJlcicgPyBybC5zY29yZXMucHJpbWFyeS50b0ZpeGVkKDIpIDogJy0nO1xuICAgICAgY29uc3QgclNjb3JlID0gdHlwZW9mIHJsLnNjb3Jlcy5yZWZpbmVyID09PSAnbnVtYmVyJyA/IHJsLnNjb3Jlcy5yZWZpbmVyLnRvRml4ZWQoMikgOiAnLSc7XG4gICAgICBjb25zdCBwVmFsID0gcmwuc2NvcmVzLnByaW1hcnkgPz8gMDtcbiAgICAgIGNvbnN0IHJWYWwgPSBybC5zY29yZXMucmVmaW5lciA/PyAwO1xuICAgICAgY29uc3QgcERpc3BsYXkgPSBwVmFsID4gclZhbCA/IHRoZW1lLnN1Y2Nlc3MocFNjb3JlKSA6IHRoZW1lLmluZm8ocFNjb3JlKTtcbiAgICAgIGNvbnN0IHJEaXNwbGF5ID0gclZhbCA+IHBWYWwgPyB0aGVtZS5zdWNjZXNzKHJTY29yZSkgOiB0aGVtZS53YXJuaW5nKHJTY29yZSk7XG4gICAgICBzZWdtZW50cy5wdXNoKGAke3BEaXNwbGF5fSR7dGhlbWUudWkubXV0ZWQoJy8nKX0ke3JEaXNwbGF5fWApO1xuICAgIH1cblxuICAgIC8vIEh1bWFuIGFjY3VyYWN5IGluZGljYXRvciAocmVsYXRpdmUgcmFua2luZyBxdWFsaXR5KVxuICAgIGlmIChybC5hY2N1cmFjeSAmJiAodHlwZW9mIHJsLmFjY3VyYWN5LnByaW1hcnkgPT09ICdudW1iZXInIHx8IHR5cGVvZiBybC5hY2N1cmFjeS5yZWZpbmVyID09PSAnbnVtYmVyJykpIHtcbiAgICAgIGNvbnN0IHBBY2MgPSBybC5hY2N1cmFjeS5wcmltYXJ5ICE9PSB1bmRlZmluZWQgPyBNYXRoLnJvdW5kKHJsLmFjY3VyYWN5LnByaW1hcnkgKiAxMDApIDogbnVsbDtcbiAgICAgIGNvbnN0IHJBY2MgPSBybC5hY2N1cmFjeS5yZWZpbmVyICE9PSB1bmRlZmluZWQgPyBNYXRoLnJvdW5kKHJsLmFjY3VyYWN5LnJlZmluZXIgKiAxMDApIDogbnVsbDtcbiAgICAgIGNvbnN0IHBEaXNwbGF5ID0gcEFjYyAhPT0gbnVsbCA/IHRoZW1lLmluZm8oYFAke3BBY2N9JWApIDogbnVsbDtcbiAgICAgIGNvbnN0IHJEaXNwbGF5ID0gckFjYyAhPT0gbnVsbCA/IHRoZW1lLndhcm5pbmcoYFIke3JBY2N9JWApIDogbnVsbDtcbiAgICAgIGNvbnN0IHBhcnRzID0gW3BEaXNwbGF5LCByRGlzcGxheV0uZmlsdGVyKEJvb2xlYW4pLmpvaW4odGhlbWUudWkubXV0ZWQoJ3wnKSk7XG4gICAgICBpZiAocGFydHMpIHtcbiAgICAgICAgc2VnbWVudHMucHVzaChwYXJ0cyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHNlZ21lbnRzO1xuICB9XG5cbiAgLyoqXG4gICAqIEJ1aWxkIHNlY3VyZSBUQU8gdG9vbHMgc3RhdHVzIHNlZ21lbnRzIGZvciBkaXNwbGF5LlxuICAgKiBTaG93czogdG9vbGtpdCBzdGF0dXMsIHRvb2wgaW52b2NhdGlvbiBjb3VudHMsIGFuZCBsYXN0IHRvb2wgdXNlZC5cbiAgICovXG4gIHByaXZhdGUgYnVpbGRTZWN1cmVUb29sc1NlZ21lbnRzKCk6IHN0cmluZ1tdIHtcbiAgICBjb25zdCBzZWdtZW50czogc3RyaW5nW10gPSBbXTtcbiAgICBjb25zdCBzdCA9IHRoaXMuc2VjdXJlVG9vbHNTdGF0dXM7XG5cbiAgICAvLyBPbmx5IHNob3cgc3RhdHVzIHdoZW4gdG9vbHMgaGF2ZSBiZWVuIHVzZWRcbiAgICBpZiAoIXN0LnRvdGFsSW52b2NhdGlvbnMgJiYgIXN0Lmxhc3RUb29sVXNlZCkge1xuICAgICAgLy8gU2hvdyB0b29sa2l0IHJlYWR5IGluZGljYXRvciBldmVuIHdoZW4gbm8gaW52b2NhdGlvbnNcbiAgICAgIGlmIChzdC50b29sa2l0UmVhZHkpIHtcbiAgICAgICAgc2VnbWVudHMucHVzaCh0aGVtZS5zdWNjZXNzKCfwn5SSJykgKyB0aGVtZS51aS5tdXRlZCgnIFRBTycpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzZWdtZW50cztcbiAgICB9XG5cbiAgICAvLyBTZWN1cml0eSBpbmRpY2F0b3Igd2l0aCBzYW5pdGl6YXRpb24gc3RhdHVzXG4gICAgY29uc3Qgc2VjSWNvbiA9IHN0LnNhbml0aXphdGlvbkFjdGl2ZSA/IHRoZW1lLnN1Y2Nlc3MoJ/CflJInKSA6IHRoZW1lLndhcm5pbmcoJ+KaoCcpO1xuICAgIHNlZ21lbnRzLnB1c2goc2VjSWNvbik7XG5cbiAgICAvLyBUb29sIHN0YXR1cyBpbmRpY2F0b3JzIChjb21wYWN0IGZvcm1hdClcbiAgICBjb25zdCB0b29sSW5kaWNhdG9yczogc3RyaW5nW10gPSBbXTtcblxuICAgIGlmIChzdC5leGVjdXRlPy5hY3RpdmUpIHtcbiAgICAgIGNvbnN0IGV4ZWNJY29uID0gc3QuZXhlY3V0ZS5sYXN0RXhpdENvZGUgPT09IDAgPyB0aGVtZS5zdWNjZXNzKCfinJMnKSA6IHRoZW1lLmVycm9yKCfinJcnKTtcbiAgICAgIGNvbnN0IGV4ZWNDb3VudCA9IHN0LmV4ZWN1dGUuZXhlY0NvdW50IHx8IDA7XG4gICAgICB0b29sSW5kaWNhdG9ycy5wdXNoKGAke3RoZW1lLmluZm8oJ0V4Jyl9JHtleGVjSWNvbn0ke2V4ZWNDb3VudCA+IDEgPyB0aGVtZS51aS5tdXRlZChgw5cke2V4ZWNDb3VudH1gKSA6ICcnfWApO1xuICAgIH1cblxuICAgIGlmIChzdC5wcm9iZT8uYWN0aXZlKSB7XG4gICAgICBjb25zdCBzdmNDb3VudCA9IHN0LnByb2JlLnNlcnZpY2VzRm91bmQgfHwgMDtcbiAgICAgIHRvb2xJbmRpY2F0b3JzLnB1c2goYCR7Y2hhbGsuY3lhbignUHInKX0ke3RoZW1lLnN1Y2Nlc3MoJ+KckycpfSR7c3ZjQ291bnQgPiAwID8gdGhlbWUudWkubXV0ZWQoYFske3N2Y0NvdW50fV1gKSA6ICcnfWApO1xuICAgIH1cblxuICAgIGlmIChzdC5zdGF0ZT8uYWN0aXZlKSB7XG4gICAgICBjb25zdCBzdGF0ZUljb24gPSBzdC5zdGF0ZS5wZXJzaXN0ZW50ID8gdGhlbWUuc3VjY2Vzcygn8J+SvicpIDogdGhlbWUuaW5mbygn8J+TnScpO1xuICAgICAgY29uc3Qga2V5c0NvdW50ID0gc3Quc3RhdGUua2V5c1N0b3JlZCB8fCAwO1xuICAgICAgdG9vbEluZGljYXRvcnMucHVzaChgJHtzdGF0ZUljb259JHtrZXlzQ291bnQgPiAwID8gdGhlbWUudWkubXV0ZWQoYCR7a2V5c0NvdW50fWtgKSA6ICcnfWApO1xuICAgIH1cblxuICAgIGlmICh0b29sSW5kaWNhdG9ycy5sZW5ndGggPiAwKSB7XG4gICAgICBzZWdtZW50cy5wdXNoKHRvb2xJbmRpY2F0b3JzLmpvaW4odGhlbWUudWkubXV0ZWQoJ8K3JykpKTtcbiAgICB9XG5cbiAgICAvLyBUb3RhbCBpbnZvY2F0aW9ucyBjb3VudGVyXG4gICAgaWYgKHN0LnRvdGFsSW52b2NhdGlvbnMgJiYgc3QudG90YWxJbnZvY2F0aW9ucyA+IDApIHtcbiAgICAgIHNlZ21lbnRzLnB1c2godGhlbWUudWkubXV0ZWQoYM6jJHtzdC50b3RhbEludm9jYXRpb25zfWApKTtcbiAgICB9XG5cbiAgICAvLyBMYXN0IHRvb2wgdXNlZCBpbmRpY2F0b3JcbiAgICBpZiAoc3QubGFzdFRvb2xVc2VkKSB7XG4gICAgICBjb25zdCB0b29sQ29sb3JzOiBSZWNvcmQ8c3RyaW5nLCAoczogc3RyaW5nKSA9PiBzdHJpbmc+ID0ge1xuICAgICAgICBFeGVjdXRlOiB0aGVtZS5pbmZvLFxuICAgICAgICBQcm9iZTogKHM6IHN0cmluZykgPT4gY2hhbGsuY3lhbihzKSxcbiAgICAgICAgU3RhdGU6IHRoZW1lLnN1Y2Nlc3MsXG4gICAgICAgIFRyYW5zZm9ybTogdGhlbWUud2FybmluZyxcbiAgICAgICAgVGFvT3BzOiAoczogc3RyaW5nKSA9PiBjaGFsay5tYWdlbnRhKHMpLFxuICAgICAgfTtcbiAgICAgIGNvbnN0IGNvbG9yID0gdG9vbENvbG9yc1tzdC5sYXN0VG9vbFVzZWRdIHx8IHRoZW1lLnVpLm11dGVkO1xuICAgICAgc2VnbWVudHMucHVzaChjb2xvcihg4oaSJHtzdC5sYXN0VG9vbFVzZWQuc2xpY2UoMCwgMil9YCkpO1xuICAgIH1cblxuICAgIHJldHVybiBzZWdtZW50cztcbiAgfVxuXG4gIC8qKlxuICAgKiBUcnVuY2F0ZSBhIHN0cmluZyBpbiB0aGUgbWlkZGxlLCBzaG93aW5nIHN0YXJ0IGFuZCBlbmQgd2l0aCBlbGxpcHNpcy5cbiAgICovXG4gIHByaXZhdGUgdHJ1bmNhdGVNaWRkbGUodGV4dDogc3RyaW5nLCBtYXhMZW46IG51bWJlcik6IHN0cmluZyB7XG4gICAgaWYgKHRleHQubGVuZ3RoIDw9IG1heExlbikgcmV0dXJuIHRleHQ7XG4gICAgY29uc3Qga2VlcExlbiA9IE1hdGguZmxvb3IoKG1heExlbiAtIDMpIC8gMik7XG4gICAgcmV0dXJuIGAke3RleHQuc2xpY2UoMCwga2VlcExlbil9Li4uJHt0ZXh0LnNsaWNlKC1rZWVwTGVuKX1gO1xuICB9XG5cbiAgcHJpdmF0ZSBjb21wb3NlU3RhdHVzTGFiZWwoKTogeyB0ZXh0OiBzdHJpbmc7IHRvbmU6ICdzdWNjZXNzJyB8ICdpbmZvJyB8ICd3YXJuJyB8ICdlcnJvcicgfSB8IG51bGwge1xuICAgIGNvbnN0IHN0YXR1c2VzID0gW3RoaXMuc3RhdHVzU3RyZWFtaW5nLCB0aGlzLnN0YXR1c092ZXJyaWRlLCB0aGlzLnN0YXR1c01lc3NhZ2VdLmZpbHRlcihcbiAgICAgICh2YWx1ZSwgaW5kZXgsIGFycik6IHZhbHVlIGlzIHN0cmluZyA9PiBCb29sZWFuKHZhbHVlKSAmJiBhcnIuaW5kZXhPZih2YWx1ZSkgPT09IGluZGV4XG4gICAgKTtcbiAgICBjb25zdCB0ZXh0ID0gc3RhdHVzZXMubGVuZ3RoID4gMCA/IHN0YXR1c2VzLmpvaW4oJyAvICcpIDogJ1JlYWR5IGZvciBwcm9tcHRzJztcbiAgICBpZiAoIXRleHQudHJpbSgpKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3Qgbm9ybWFsaXplZCA9IHRleHQudG9Mb3dlckNhc2UoKTtcbiAgICBjb25zdCB0b25lOiAnc3VjY2VzcycgfCAnaW5mbycgfCAnd2FybicgfCAnZXJyb3InID0gbm9ybWFsaXplZC5pbmNsdWRlcygncmVhZHknKSA/ICdzdWNjZXNzJyA6ICdpbmZvJztcbiAgICByZXR1cm4geyB0ZXh0LCB0b25lIH07XG4gIH1cblxuICBwcml2YXRlIGZvcm1hdE1ldGFTZWdtZW50KFxuICAgIGxhYmVsOiBzdHJpbmcsXG4gICAgdmFsdWU6IHN0cmluZyxcbiAgICB0b25lOiAnaW5mbycgfCAnc3VjY2VzcycgfCAnd2FybicgfCAnZXJyb3InIHwgJ211dGVkJ1xuICApOiBzdHJpbmcge1xuICAgIGNvbnN0IGNvbG9yaXplciA9XG4gICAgICB0b25lID09PSAnc3VjY2VzcydcbiAgICAgICAgPyB0aGVtZS5zdWNjZXNzXG4gICAgICAgIDogdG9uZSA9PT0gJ3dhcm4nXG4gICAgICAgICAgPyB0aGVtZS53YXJuaW5nXG4gICAgICAgICAgOiB0b25lID09PSAnZXJyb3InXG4gICAgICAgICAgICA/IHRoZW1lLmVycm9yXG4gICAgICAgICAgICA6IHRvbmUgPT09ICdtdXRlZCdcbiAgICAgICAgICAgICAgPyB0aGVtZS51aS5tdXRlZFxuICAgICAgICAgICAgICA6IHRoZW1lLmluZm87XG4gICAgcmV0dXJuIGAke3RoZW1lLnVpLm11dGVkKGxhYmVsKX0gJHtjb2xvcml6ZXIodmFsdWUpfWA7XG4gIH1cblxuICBwcml2YXRlIGFwcGx5VG9uZSh0ZXh0OiBzdHJpbmcsIHRvbmU6ICdzdWNjZXNzJyB8ICdpbmZvJyB8ICd3YXJuJyB8ICdlcnJvcicpOiBzdHJpbmcge1xuICAgIHN3aXRjaCAodG9uZSkge1xuICAgICAgY2FzZSAnc3VjY2Vzcyc6XG4gICAgICAgIHJldHVybiB0aGVtZS5zdWNjZXNzKHRleHQpO1xuICAgICAgY2FzZSAnd2Fybic6XG4gICAgICAgIHJldHVybiB0aGVtZS53YXJuaW5nKHRleHQpO1xuICAgICAgY2FzZSAnZXJyb3InOlxuICAgICAgICByZXR1cm4gdGhlbWUuZXJyb3IodGV4dCk7XG4gICAgICBjYXNlICdpbmZvJzpcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiB0aGVtZS5pbmZvKHRleHQpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgd3JhcFNlZ21lbnRzKHNlZ21lbnRzOiBzdHJpbmdbXSwgbWF4V2lkdGg6IG51bWJlcik6IHN0cmluZ1tdIHtcbiAgICBjb25zdCBsaW5lczogc3RyaW5nW10gPSBbXTtcbiAgICBjb25zdCBzZXBhcmF0b3IgPSB0aGVtZS51aS5tdXRlZCgnICB8ICAnKTtcblxuICAgIGxldCBjdXJyZW50ID0gJyc7XG4gICAgZm9yIChjb25zdCBzZWdtZW50IG9mIHNlZ21lbnRzKSB7XG4gICAgICBjb25zdCBub3JtYWxpemVkID0gc2VnbWVudC50cmltKCk7XG4gICAgICBpZiAoIW5vcm1hbGl6ZWQpIGNvbnRpbnVlO1xuICAgICAgaWYgKCFjdXJyZW50KSB7XG4gICAgICAgIGN1cnJlbnQgPSB0aGlzLnRydW5jYXRlTGluZShub3JtYWxpemVkLCBtYXhXaWR0aCk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgY29uc3QgY2FuZGlkYXRlID0gYCR7Y3VycmVudH0ke3NlcGFyYXRvcn0ke25vcm1hbGl6ZWR9YDtcbiAgICAgIGlmICh0aGlzLnZpc2libGVMZW5ndGgoY2FuZGlkYXRlKSA8PSBtYXhXaWR0aCkge1xuICAgICAgICBjdXJyZW50ID0gY2FuZGlkYXRlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGluZXMucHVzaCh0aGlzLnRydW5jYXRlTGluZShjdXJyZW50LCBtYXhXaWR0aCkpO1xuICAgICAgICBjdXJyZW50ID0gdGhpcy50cnVuY2F0ZUxpbmUobm9ybWFsaXplZCwgbWF4V2lkdGgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChjdXJyZW50KSB7XG4gICAgICBsaW5lcy5wdXNoKHRoaXMudHJ1bmNhdGVMaW5lKGN1cnJlbnQsIG1heFdpZHRoKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGxpbmVzO1xuICB9XG5cbiAgcHJpdmF0ZSBidWlsZENvbnRyb2xMaW5lcygpOiBzdHJpbmdbXSB7XG4gICAgY29uc3QgbGluZXM6IHN0cmluZ1tdID0gW107XG4gICAgY29uc3QgdG9nZ2xlTGluZSA9IHRoaXMuYnVpbGRUb2dnbGVMaW5lKCk7XG4gICAgaWYgKHRvZ2dsZUxpbmUpIHtcbiAgICAgIGxpbmVzLnB1c2goYCR7dGhlbWUudWkubXV0ZWQoJ21vZGVzJyl9ICR7dGhlbWUudWkubXV0ZWQoJ+KAuicpfSAke3RvZ2dsZUxpbmV9YCk7XG4gICAgfVxuXG4gICAgY29uc3Qgc2hvcnRjdXRMaW5lID0gdGhpcy5idWlsZFNob3J0Y3V0TGluZSgpO1xuICAgIGlmIChzaG9ydGN1dExpbmUpIHtcbiAgICAgIGxpbmVzLnB1c2goYCR7dGhlbWUudWkubXV0ZWQoJ2tleXMnKX0gICR7c2hvcnRjdXRMaW5lfWApO1xuICAgIH1cblxuICAgIHJldHVybiBsaW5lcztcbiAgfVxuXG4gIHByaXZhdGUgYnVpbGRUb2dnbGVMaW5lKCk6IHN0cmluZyB8IG51bGwge1xuICAgIGNvbnN0IHRvZ2dsZXM6IEFycmF5PHtcbiAgICAgIGxhYmVsOiBzdHJpbmc7XG4gICAgICBvbjogYm9vbGVhbjtcbiAgICAgIHZhbHVlPzogc3RyaW5nO1xuICAgICAgaG90a2V5Pzogc3RyaW5nIHwgbnVsbDtcbiAgICB9PiA9IFtdO1xuXG4gICAgY29uc3QgYWRkVG9nZ2xlID0gKGxhYmVsOiBzdHJpbmcsIG9uOiBib29sZWFuLCBob3RrZXk/OiBzdHJpbmcsIHZhbHVlPzogc3RyaW5nKSA9PiB7XG4gICAgICB0b2dnbGVzLnB1c2goeyBsYWJlbCwgb24sIGhvdGtleTogdGhpcy5mb3JtYXRIb3RrZXkoaG90a2V5KSwgdmFsdWUgfSk7XG4gICAgfTtcblxuICAgIC8vIEFscGhhWmVybyBtb2RlOiB0b2dnbGUgYmV0d2VlbiBOb3JtYWwgYW5kIEFscGhhWmVybyBkdWFsIHRvdXJuYW1lbnQgUkxcbiAgICBjb25zdCBhbHBoYVplcm9BY3RpdmUgPSB0aGlzLnRvZ2dsZVN0YXRlLmFscGhhWmVyb0VuYWJsZWQgPz8gZmFsc2U7XG4gICAgYWRkVG9nZ2xlKCdNb2RlJywgdHJ1ZSwgdGhpcy50b2dnbGVTdGF0ZS5hbHBoYVplcm9Ib3RrZXksIGFscGhhWmVyb0FjdGl2ZSA/ICdBbHBoYVplcm8nIDogJ05vcm1hbCcpO1xuXG4gICAgY29uc3QgYXBwcm92YWxNb2RlID0gdGhpcy50b2dnbGVTdGF0ZS5jcml0aWNhbEFwcHJvdmFsTW9kZSB8fCAnYXV0byc7XG4gICAgY29uc3QgYXBwcm92YWxBY3RpdmUgPSBhcHByb3ZhbE1vZGUgIT09ICdhdXRvJztcbiAgICBhZGRUb2dnbGUoXG4gICAgICAnQXBwcm92YWxzJyxcbiAgICAgIGFwcHJvdmFsQWN0aXZlLFxuICAgICAgdGhpcy50b2dnbGVTdGF0ZS5jcml0aWNhbEFwcHJvdmFsSG90a2V5LFxuICAgICAgYXBwcm92YWxNb2RlID09PSAnYXV0bycgPyAnYXV0bycgOiAnYXNrJ1xuICAgICk7XG5cbiAgICBjb25zdCBhdXRvQ29udGludWVBY3RpdmUgPSB0aGlzLnRvZ2dsZVN0YXRlLmF1dG9Db250aW51ZUVuYWJsZWQgPz8gZmFsc2U7XG4gICAgYWRkVG9nZ2xlKFxuICAgICAgJ0F1dG8nLFxuICAgICAgYXV0b0NvbnRpbnVlQWN0aXZlLFxuICAgICAgdGhpcy50b2dnbGVTdGF0ZS5hdXRvQ29udGludWVIb3RrZXksXG4gICAgICBhdXRvQ29udGludWVBY3RpdmUgPyAnb24nIDogJ29mZidcbiAgICApO1xuXG4gICAgY29uc3QgdGhpbmtpbmdMYWJlbFJhdyA9ICh0aGlzLnRvZ2dsZVN0YXRlLnRoaW5raW5nTW9kZUxhYmVsIHx8ICdiYWxhbmNlZCcpLnRyaW0oKTtcbiAgICBjb25zdCB0aGlua2luZ0xhYmVsID1cbiAgICAgIHRoaW5raW5nTGFiZWxSYXcudG9Mb3dlckNhc2UoKSA9PT0gJ2V4dGVuZGVkJyA/ICdkZWVwJyA6IHRoaW5raW5nTGFiZWxSYXcgfHwgJ2JhbGFuY2VkJztcbiAgICBjb25zdCB0aGlua2luZ0FjdGl2ZSA9IHRoaW5raW5nTGFiZWwubGVuZ3RoID4gMDtcbiAgICBhZGRUb2dnbGUoJ1RoaW5raW5nJywgdGhpbmtpbmdBY3RpdmUsIHRoaXMudG9nZ2xlU3RhdGUudGhpbmtpbmdIb3RrZXksIHRoaW5raW5nTGFiZWwpO1xuXG4gICAgY29uc3QgYnVpbGRMaW5lID0gKGluY2x1ZGVIb3RrZXlzOiBib29sZWFuKTogc3RyaW5nID0+IHtcbiAgICAgIHJldHVybiB0b2dnbGVzXG4gICAgICAgIC5tYXAodG9nZ2xlID0+IHtcbiAgICAgICAgICBjb25zdCBzdGF0ZVRleHQgPSB0b2dnbGUub24gPyB0aGVtZS5zdWNjZXNzKHRvZ2dsZS52YWx1ZSB8fCAnb24nKSA6IHRoZW1lLnVpLm11dGVkKHRvZ2dsZS52YWx1ZSB8fCAnb2ZmJyk7XG4gICAgICAgICAgY29uc3QgaG90a2V5VGV4dCA9XG4gICAgICAgICAgICBpbmNsdWRlSG90a2V5cyAmJiB0b2dnbGUuaG90a2V5ID8gdGhlbWUudWkubXV0ZWQoYCBbJHt0b2dnbGUuaG90a2V5fV1gKSA6ICcnO1xuICAgICAgICAgIHJldHVybiBgJHt0aGVtZS51aS5tdXRlZChgJHt0b2dnbGUubGFiZWx9OmApfSAke3N0YXRlVGV4dH0ke2hvdGtleVRleHR9YDtcbiAgICAgICAgfSlcbiAgICAgICAgLmpvaW4odGhlbWUudWkubXV0ZWQoJyAgJykpO1xuICAgIH07XG5cbiAgICBjb25zdCBtYXhXaWR0aCA9IHRoaXMuc2FmZVdpZHRoKCk7XG4gICAgbGV0IGxpbmUgPSBidWlsZExpbmUodHJ1ZSk7XG5cbiAgICAvLyBSZWNvcmQgd2hpY2ggaG90a2V5cyBhcmUgYWN0dWFsbHkgc2hvd24gc28gdGhlIHNob3J0Y3V0IGxpbmUgY2FuIGF2b2lkIGR1cGxpY2F0ZXNcbiAgICB0aGlzLmhvdGtleXNJblRvZ2dsZUxpbmUgPSBuZXcgU2V0KFxuICAgICAgdG9nZ2xlc1xuICAgICAgICAubWFwKHRvZ2dsZSA9PiAodG9nZ2xlLmhvdGtleSA/IHRvZ2dsZS5ob3RrZXkgOiBudWxsKSlcbiAgICAgICAgLmZpbHRlcigoa2V5KToga2V5IGlzIHN0cmluZyA9PiBCb29sZWFuKGtleSkpXG4gICAgKTtcblxuICAgIC8vIElmIHRoZSBsaW5lIGlzIHRvbyB3aWRlLCBkcm9wIGhvdGtleSBoaW50cyB0byBwcmVzZXJ2ZSBhbGwgdG9nZ2xlIGxhYmVsc1xuICAgIGlmICh0aGlzLnZpc2libGVMZW5ndGgobGluZSkgPiBtYXhXaWR0aCkge1xuICAgICAgdGhpcy5ob3RrZXlzSW5Ub2dnbGVMaW5lLmNsZWFyKCk7XG4gICAgICBsaW5lID0gYnVpbGRMaW5lKGZhbHNlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbGluZS50cmltKCkgPyBsaW5lIDogbnVsbDtcbiAgfVxuXG4gIHByaXZhdGUgYnVpbGRTaG9ydGN1dExpbmUoKTogc3RyaW5nIHwgbnVsbCB7XG4gICAgY29uc3QgcGFydHM6IHN0cmluZ1tdID0gW107XG5cbiAgICBjb25zdCBhZGRIb3RrZXkgPSAobGFiZWw6IHN0cmluZywgY29tYm8/OiBzdHJpbmcpID0+IHtcbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSB0aGlzLmZvcm1hdEhvdGtleShjb21ibyk7XG4gICAgICBpZiAoIW5vcm1hbGl6ZWQpIHJldHVybjtcbiAgICAgIGlmICh0aGlzLmhvdGtleXNJblRvZ2dsZUxpbmUuaGFzKG5vcm1hbGl6ZWQpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHBhcnRzLnB1c2goYCR7dGhlbWUuaW5mbyhub3JtYWxpemVkKX0gJHt0aGVtZS51aS5tdXRlZChsYWJlbCl9YCk7XG4gICAgfTtcblxuICAgIC8vIENvcmUgY29udHJvbHNcbiAgICBhZGRIb3RrZXkoJ2ludGVycnVwdCcsICdDdHJsK0MnKTtcbiAgICBhZGRIb3RrZXkoJ2NsZWFyIGlucHV0JywgJ0N0cmwrVScpO1xuXG4gICAgLy8gRmVhdHVyZSB0b2dnbGVzIChvbmx5IGlmIGhvdGtleXMgYXJlIGRlZmluZWQpXG4gICAgYWRkSG90a2V5KCdhdXRvJywgdGhpcy50b2dnbGVTdGF0ZS5hdXRvQ29udGludWVIb3RrZXkpO1xuICAgIGFkZEhvdGtleSgndGhpbmtpbmcnLCB0aGlzLnRvZ2dsZVN0YXRlLnRoaW5raW5nSG90a2V5KTtcbiAgICBhZGRIb3RrZXkoJ21vZGUnLCB0aGlzLnRvZ2dsZVN0YXRlLmFscGhhWmVyb0hvdGtleSk7XG5cbiAgICBpZiAocGFydHMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIHBhcnRzLmpvaW4odGhlbWUudWkubXV0ZWQoJyAgICcpKTtcbiAgfVxuXG5cbiAgcHJpdmF0ZSBidWlsZElucHV0TGluZSgpOiBzdHJpbmcge1xuICAgIGlmICh0aGlzLmNvbGxhcHNlZFBhc3RlKSB7XG4gICAgICAvLyBDbGVhbiBwYXN0ZSBpbmRpY2F0b3IgLSBqdXN0IHNob3cgdGhlIHN1bW1hcnksIG5vIGFjdGlvbiBoaW50c1xuICAgICAgY29uc3QgbGluZXNUZXh0ID0gdGhpcy5jb2xsYXBzZWRQYXN0ZS5saW5lcyA9PT0gMSA/ICcxIGxpbmUnIDogYCR7dGhpcy5jb2xsYXBzZWRQYXN0ZS5saW5lc30gbGluZXNgO1xuICAgICAgY29uc3QgY2hhcnNUZXh0ID0gdHlwZW9mIHRoaXMuY29sbGFwc2VkUGFzdGUuY2hhcnMgPT09ICdudW1iZXInID9cbiAgICAgICAgYCR7dGhpcy5jb2xsYXBzZWRQYXN0ZS5jaGFyc30gY2hhcnNgIDpcbiAgICAgICAgYCR7dGhpcy5jb2xsYXBzZWRQYXN0ZS5jaGFyc31gO1xuICAgICAgY29uc3Qgc3VtbWFyeSA9IHRoZW1lLnN1Y2Nlc3MoYFvwn5OLICR7bGluZXNUZXh0fSwgJHtjaGFyc1RleHR9XWApO1xuICAgICAgcmV0dXJuIHRoaXMudHJ1bmNhdGVMaW5lKGAke3RoZW1lLnByaW1hcnkoJz4gJyl9JHtzdW1tYXJ5fWAsIHRoaXMuc2FmZVdpZHRoKCkpO1xuICAgIH1cblxuICAgIC8vIFdoaWxlIGRldGVjdGluZyBwYXN0ZSAob3IgaW4gYnVyc3QgZGV0ZWN0aW9uIHBoYXNlKSwgc3VwcHJlc3MgYnVmZmVyIGRpc3BsYXlcbiAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICAgIGNvbnN0IGJ1cnN0QWN0aXZlID0gdGhpcy5wYXN0ZUJ1cnN0V2luZG93U3RhcnQgPiAwICYmIG5vdyAtIHRoaXMucGFzdGVCdXJzdFdpbmRvd1N0YXJ0IDw9IHRoaXMucGxhaW5QYXN0ZVdpbmRvd01zO1xuICAgIGlmICh0aGlzLmluUGxhaW5QYXN0ZSB8fCB0aGlzLmluQnJhY2tldGVkUGFzdGUgfHwgYnVyc3RBY3RpdmUpIHtcbiAgICAgIGNvbnN0IGNoYXJzID0gdGhpcy5wbGFpblBhc3RlQnVmZmVyLmxlbmd0aCB8fCB0aGlzLnBhc3RlQnVmZmVyLmxlbmd0aCB8fCB0aGlzLnBlbmRpbmdJbnNlcnRCdWZmZXIubGVuZ3RoIHx8IDA7XG4gICAgICBpZiAoY2hhcnMgPiAwKSB7XG4gICAgICAgIGNvbnN0IGluZGljYXRvciA9IHRoZW1lLnVpLm11dGVkKGBb8J+TiyBwYXN0aW5nLi4uICR7Y2hhcnN9IGNoYXJzXWApO1xuICAgICAgICByZXR1cm4gdGhpcy50cnVuY2F0ZUxpbmUoYCR7dGhlbWUucHJpbWFyeSgnPiAnKX0ke2luZGljYXRvcn1gLCB0aGlzLnNhZmVXaWR0aCgpKTtcbiAgICAgIH1cbiAgICAgIC8vIEV2ZW4gaWYgbm8gY2hhcnMgeWV0LCBzaG93IGVtcHR5IHByb21wdCBkdXJpbmcgYnVyc3QgdG8gcHJldmVudCBmbGlja2VyXG4gICAgICBpZiAoYnVyc3RBY3RpdmUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudHJ1bmNhdGVMaW5lKGAke3RoZW1lLnByaW1hcnkoJz4gJyl9YCwgdGhpcy5zYWZlV2lkdGgoKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ2xhdWRlIENvZGUgdXNlcyBzaW1wbGUgJz4nIHByb21wdFxuICAgIGNvbnN0IHByb21wdCA9IHRoZW1lLnByaW1hcnkoJz4gJyk7XG4gICAgY29uc3QgcHJvbXB0V2lkdGggPSB0aGlzLnZpc2libGVMZW5ndGgocHJvbXB0KTtcbiAgICBjb25zdCBtYXhXaWR0aCA9IHRoaXMuc2FmZVdpZHRoKCk7XG4gICAgY29uc3QgY29udGludWF0aW9uSW5kZW50ID0gJyAgJzsgLy8gMiBzcGFjZXMgZm9yIGNvbnRpbnVhdGlvbiBsaW5lc1xuICAgIGNvbnN0IGNvbnRpbnVhdGlvbldpZHRoID0gY29udGludWF0aW9uSW5kZW50Lmxlbmd0aDtcblxuICAgIC8vIEhhbmRsZSBtdWx0aS1saW5lIGlucHV0IC0gc3BsaXQgYnVmZmVyIG9uIG5ld2xpbmVzIGZpcnN0XG4gICAgLy8gSW4gc2VjcmV0IG1vZGUsIG1hc2sgYWxsIGNoYXJhY3RlcnMgd2l0aCBidWxsZXRzXG4gICAgY29uc3QgcmF3QnVmZmVyID0gdGhpcy5idWZmZXIucmVwbGFjZSgvXFxyL2csICdcXG4nKTtcbiAgICBjb25zdCBub3JtYWxpemVkID0gdGhpcy5zZWNyZXRNb2RlID8gJ+KAoicucmVwZWF0KHJhd0J1ZmZlci5sZW5ndGgpIDogcmF3QnVmZmVyO1xuICAgIGNvbnN0IGJ1ZmZlckxpbmVzID0gbm9ybWFsaXplZC5zcGxpdCgnXFxuJyk7XG5cbiAgICAvLyBXcmFwIGVhY2ggbG9naWNhbCBsaW5lIHRvIGZpdCB0ZXJtaW5hbCB3aWR0aCwgZXhwYW5kaW5nIHZlcnRpY2FsbHlcbiAgICBjb25zdCByZXN1bHQ6IHN0cmluZ1tdID0gW107XG4gICAgbGV0IHRvdGFsQ2hhcnMgPSAwO1xuICAgIGxldCBjdXJzb3JMaW5lID0gMDtcbiAgICBsZXQgY3Vyc29yQ29sID0gMDtcbiAgICBsZXQgZm91bmRDdXJzb3IgPSBmYWxzZTtcblxuICAgIGZvciAobGV0IGxpbmVJbmRleCA9IDA7IGxpbmVJbmRleCA8IGJ1ZmZlckxpbmVzLmxlbmd0aDsgbGluZUluZGV4KyspIHtcbiAgICAgIGNvbnN0IGxpbmUgPSBidWZmZXJMaW5lc1tsaW5lSW5kZXhdID8/ICcnO1xuICAgICAgY29uc3QgaXNGaXJzdExvZ2ljYWxMaW5lID0gbGluZUluZGV4ID09PSAwO1xuICAgICAgY29uc3QgbGluZVN0YXJ0Q2hhciA9IHRvdGFsQ2hhcnM7XG5cbiAgICAgIC8vIERldGVybWluZSBhdmFpbGFibGUgd2lkdGggZm9yIHRoaXMgbGluZVxuICAgICAgY29uc3QgZmlyc3RMaW5lV2lkdGggPSBtYXhXaWR0aCAtIHByb21wdFdpZHRoO1xuICAgICAgY29uc3QgY29udExpbmVXaWR0aCA9IG1heFdpZHRoIC0gY29udGludWF0aW9uV2lkdGg7XG5cbiAgICAgIC8vIFdyYXAgdGhpcyBsb2dpY2FsIGxpbmUgaW50byBkaXNwbGF5IGxpbmVzXG4gICAgICBsZXQgcmVtYWluaW5nID0gbGluZTtcbiAgICAgIGxldCBpc0ZpcnN0RGlzcGxheUxpbmUgPSB0cnVlO1xuXG4gICAgICB3aGlsZSAocmVtYWluaW5nLmxlbmd0aCA+IDAgfHwgaXNGaXJzdERpc3BsYXlMaW5lKSB7XG4gICAgICAgIGNvbnN0IGF2YWlsYWJsZVdpZHRoID0gKGlzRmlyc3RMb2dpY2FsTGluZSAmJiBpc0ZpcnN0RGlzcGxheUxpbmUpID8gZmlyc3RMaW5lV2lkdGggOiBjb250TGluZVdpZHRoO1xuICAgICAgICBjb25zdCBjaHVuayA9IHJlbWFpbmluZy5zbGljZSgwLCBhdmFpbGFibGVXaWR0aCk7XG4gICAgICAgIHJlbWFpbmluZyA9IHJlbWFpbmluZy5zbGljZShhdmFpbGFibGVXaWR0aCk7XG5cbiAgICAgICAgLy8gQnVpbGQgdGhlIGRpc3BsYXkgbGluZVxuICAgICAgICBsZXQgZGlzcGxheUxpbmU6IHN0cmluZztcbiAgICAgICAgaWYgKGlzRmlyc3RMb2dpY2FsTGluZSAmJiBpc0ZpcnN0RGlzcGxheUxpbmUpIHtcbiAgICAgICAgICBkaXNwbGF5TGluZSA9IGAke3Byb21wdH0ke2NodW5rfWA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGlzcGxheUxpbmUgPSBgJHtjb250aW51YXRpb25JbmRlbnR9JHtjaHVua31gO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVHJhY2sgY3Vyc29yIHBvc2l0aW9uXG4gICAgICAgIGlmICghZm91bmRDdXJzb3IpIHtcbiAgICAgICAgICBjb25zdCBjaHVua1N0YXJ0ID0gbGluZVN0YXJ0Q2hhciArIChsaW5lLmxlbmd0aCAtIHJlbWFpbmluZy5sZW5ndGggLSBjaHVuay5sZW5ndGgpO1xuICAgICAgICAgIGNvbnN0IGNodW5rRW5kID0gY2h1bmtTdGFydCArIGNodW5rLmxlbmd0aDtcbiAgICAgICAgICBpZiAodGhpcy5jdXJzb3IgPj0gY2h1bmtTdGFydCAmJiB0aGlzLmN1cnNvciA8PSBjaHVua0VuZCkge1xuICAgICAgICAgICAgY3Vyc29yTGluZSA9IHJlc3VsdC5sZW5ndGg7XG4gICAgICAgICAgICBjb25zdCBvZmZzZXRJbkNodW5rID0gdGhpcy5jdXJzb3IgLSBjaHVua1N0YXJ0O1xuICAgICAgICAgICAgY3Vyc29yQ29sID0gKChpc0ZpcnN0TG9naWNhbExpbmUgJiYgaXNGaXJzdERpc3BsYXlMaW5lKSA/IHByb21wdFdpZHRoIDogY29udGludWF0aW9uV2lkdGgpICsgb2Zmc2V0SW5DaHVuaztcbiAgICAgICAgICAgIGZvdW5kQ3Vyc29yID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXN1bHQucHVzaChkaXNwbGF5TGluZSk7XG4gICAgICAgIGlzRmlyc3REaXNwbGF5TGluZSA9IGZhbHNlO1xuXG4gICAgICAgIC8vIElmIG5vdGhpbmcgbGVmdCBhbmQgdGhpcyB3YXMgYW4gZW1wdHkgbGluZSwgd2UgYWxyZWFkeSBhZGRlZCBpdFxuICAgICAgICBpZiAocmVtYWluaW5nLmxlbmd0aCA9PT0gMCAmJiBjaHVuay5sZW5ndGggPT09IDApIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICB0b3RhbENoYXJzICs9IGxpbmUubGVuZ3RoICsgMTsgLy8gKzEgZm9yIHRoZSBuZXdsaW5lIHNlcGFyYXRvclxuICAgIH1cblxuICAgIC8vIEhhbmRsZSBjdXJzb3IgYXQgdmVyeSBlbmRcbiAgICBpZiAoIWZvdW5kQ3Vyc29yKSB7XG4gICAgICBjdXJzb3JMaW5lID0gTWF0aC5tYXgoMCwgcmVzdWx0Lmxlbmd0aCAtIDEpO1xuICAgICAgY29uc3QgbGFzdExpbmUgPSByZXN1bHRbY3Vyc29yTGluZV0gPz8gJyc7XG4gICAgICBjdXJzb3JDb2wgPSB0aGlzLnZpc2libGVMZW5ndGgobGFzdExpbmUpO1xuICAgIH1cblxuICAgIC8vIEFkZCBjdXJzb3IgaGlnaGxpZ2h0IHRvIHRoZSBhcHByb3ByaWF0ZSBwb3NpdGlvblxuICAgIGlmIChyZXN1bHQubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgdGFyZ2V0TGluZSA9IHJlc3VsdFtjdXJzb3JMaW5lXSA/PyAnJztcbiAgICAgIGNvbnN0IHZpc2libGVQYXJ0ID0gdGhpcy5zdHJpcEFuc2kodGFyZ2V0TGluZSk7XG4gICAgICBjb25zdCBjdXJzb3JQb3MgPSBNYXRoLm1pbihjdXJzb3JDb2wsIHZpc2libGVQYXJ0Lmxlbmd0aCk7XG5cbiAgICAgIC8vIFJlYnVpbGQgdGhlIGxpbmUgd2l0aCBjdXJzb3IgaGlnaGxpZ2h0XG4gICAgICBjb25zdCBiZWZvcmUgPSB2aXNpYmxlUGFydC5zbGljZSgwLCBjdXJzb3JQb3MpO1xuICAgICAgY29uc3QgYXQgPSB2aXNpYmxlUGFydC5jaGFyQXQoY3Vyc29yUG9zKSB8fCAnICc7XG4gICAgICBjb25zdCBhZnRlciA9IHZpc2libGVQYXJ0LnNsaWNlKGN1cnNvclBvcyArIDEpO1xuXG4gICAgICAvLyBQcmVzZXJ2ZSB0aGUgcHJvbXB0L2luZGVudCBzdHlsaW5nXG4gICAgICBjb25zdCBwcmVmaXggPSBjdXJzb3JMaW5lID09PSAwID8gcHJvbXB0IDogY29udGludWF0aW9uSW5kZW50O1xuICAgICAgY29uc3QgdGV4dFBhcnQgPSBjdXJzb3JMaW5lID09PSAwID8gYmVmb3JlLnNsaWNlKHByb21wdFdpZHRoKSA6IGJlZm9yZS5zbGljZShjb250aW51YXRpb25XaWR0aCk7XG4gICAgICByZXN1bHRbY3Vyc29yTGluZV0gPSBgJHtwcmVmaXh9JHt0ZXh0UGFydH0ke0VTQy5SRVZFUlNFfSR7YXR9JHtFU0MuUkVTRVR9JHthZnRlcn1gO1xuICAgIH1cblxuICAgIC8vIFN0b3JlIGN1cnNvciBjb2x1bW4gZm9yIHRlcm1pbmFsIHBvc2l0aW9uaW5nXG4gICAgdGhpcy5jdXJzb3JWaXNpYmxlQ29sdW1uID0gY3Vyc29yQ29sICsgMTtcblxuICAgIHJldHVybiByZXN1bHQuam9pbignXFxuJyk7XG4gIH1cblxuICBwcml2YXRlIGJ1aWxkSW5wdXRXaW5kb3coYXZhaWxhYmxlOiBudW1iZXIpOiB7IHRleHQ6IHN0cmluZzsgY3Vyc29yOiBudW1iZXIgfSB7XG4gICAgaWYgKGF2YWlsYWJsZSA8PSAwKSB7XG4gICAgICByZXR1cm4geyB0ZXh0OiAnJywgY3Vyc29yOiAwIH07XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuY29sbGFwc2VkUGFzdGUpIHtcbiAgICAgIHJldHVybiB7IHRleHQ6ICcnLCBjdXJzb3I6IDAgfTtcbiAgICB9XG5cbiAgICBjb25zdCBub3JtYWxpemVkID0gdGhpcy5idWZmZXIucmVwbGFjZSgvXFxyL2csICdcXG4nKTtcbiAgICBjb25zdCBjdXJzb3JJbmRleCA9IE1hdGgubWluKHRoaXMuY3Vyc29yLCBub3JtYWxpemVkLmxlbmd0aCk7XG5cbiAgICBsZXQgb2Zmc2V0ID0gdGhpcy5pbnB1dFJlbmRlck9mZnNldDtcbiAgICBpZiAoY3Vyc29ySW5kZXggPCBvZmZzZXQpIHtcbiAgICAgIG9mZnNldCA9IGN1cnNvckluZGV4O1xuICAgIH1cbiAgICBjb25zdCBvdmVyZmxvdyA9IGN1cnNvckluZGV4IC0gb2Zmc2V0IC0gYXZhaWxhYmxlICsgMTtcbiAgICBpZiAob3ZlcmZsb3cgPiAwKSB7XG4gICAgICBvZmZzZXQgKz0gb3ZlcmZsb3c7XG4gICAgfVxuICAgIGNvbnN0IG1heE9mZnNldCA9IE1hdGgubWF4KDAsIG5vcm1hbGl6ZWQubGVuZ3RoIC0gYXZhaWxhYmxlKTtcbiAgICBpZiAob2Zmc2V0ID4gbWF4T2Zmc2V0KSB7XG4gICAgICBvZmZzZXQgPSBtYXhPZmZzZXQ7XG4gICAgfVxuICAgIHRoaXMuaW5wdXRSZW5kZXJPZmZzZXQgPSBvZmZzZXQ7XG5cbiAgICBjb25zdCB3aW5kb3cgPSBub3JtYWxpemVkLnNsaWNlKG9mZnNldCwgb2Zmc2V0ICsgYXZhaWxhYmxlKTtcbiAgICBjb25zdCBkaXNwbGF5ID0gd2luZG93LnNwbGl0KCcnKS5tYXAoY2hhciA9PiAoY2hhciA9PT0gJ1xcbicgPyBORVdMSU5FX1BMQUNFSE9MREVSIDogY2hhcikpLmpvaW4oJycpO1xuICAgIGNvbnN0IGN1cnNvckluV2luZG93ID0gTWF0aC5taW4oZGlzcGxheS5sZW5ndGgsIE1hdGgubWF4KDAsIGN1cnNvckluZGV4IC0gb2Zmc2V0KSk7XG5cbiAgICBjb25zdCBiZWZvcmUgPSBkaXNwbGF5LnNsaWNlKDAsIGN1cnNvckluV2luZG93KTtcbiAgICBjb25zdCBhdCA9IGRpc3BsYXkuY2hhckF0KGN1cnNvckluV2luZG93KSB8fCAnICc7XG4gICAgY29uc3QgYWZ0ZXIgPSBkaXNwbGF5LnNsaWNlKGN1cnNvckluV2luZG93ICsgMSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgdGV4dDogYCR7YmVmb3JlfSR7RVNDLlJFVkVSU0V9JHthdH0ke0VTQy5SRVNFVH0ke2FmdGVyfWAsXG4gICAgICBjdXJzb3I6IGN1cnNvckluV2luZG93LFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogRXhwYW5kIGNvbGxhcHNlZCBwYXN0ZSBpbnRvIHRoZSBidWZmZXIgd2l0aG91dCBzdWJtaXR0aW5nIChDdHJsK0wpLlxuICAgKiBBbGxvd3MgdXNlciB0byBlZGl0IHRoZSBwYXN0ZWQgY29udGVudCBiZWZvcmUgc3VibWlzc2lvbi5cbiAgICovXG4gIHByaXZhdGUgZXhwYW5kQ29sbGFwc2VkUGFzdGVUb0J1ZmZlcigpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuY29sbGFwc2VkUGFzdGUpIHJldHVybjtcbiAgICBjb25zdCB0ZXh0ID0gdGhpcy5jb2xsYXBzZWRQYXN0ZS50ZXh0O1xuICAgIHRoaXMuY29sbGFwc2VkUGFzdGUgPSBudWxsO1xuICAgIC8vIFB1dCB0aGUgcGFzdGVkIGNvbnRlbnQgaW50byB0aGUgYnVmZmVyIGZvciBlZGl0aW5nXG4gICAgdGhpcy5idWZmZXIgPSB0ZXh0O1xuICAgIHRoaXMuY3Vyc29yID0gdGV4dC5sZW5ndGg7XG4gICAgdGhpcy51cGRhdGVTdWdnZXN0aW9ucygpO1xuICAgIHRoaXMucmVuZGVyUHJvbXB0KCk7XG4gICAgdGhpcy5lbWl0SW5wdXRDaGFuZ2UoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFeHBhbmQgY29sbGFwc2VkIHBhc3RlIGFuZCBzdWJtaXQgaW1tZWRpYXRlbHkuXG4gICAqIFVzZWZ1bCBmb3IgcHJvZ3JhbW1hdGljIHN1Ym1pc3Npb25zIHdoZW4gYSBwYXN0ZSBjaGlwIGlzIGFjdGl2ZS5cbiAgICovXG4gIHByaXZhdGUgZXhwYW5kQ29sbGFwc2VkUGFzdGUoKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmNvbGxhcHNlZFBhc3RlKSByZXR1cm47XG4gICAgY29uc3QgdGV4dCA9IHRoaXMuY29sbGFwc2VkUGFzdGUudGV4dDtcbiAgICB0aGlzLmNvbGxhcHNlZFBhc3RlID0gbnVsbDtcbiAgICAvLyBDbGVhciB0aGUgYnVmZmVyIGZpcnN0IHRvIGF2b2lkIGFueSB2aXN1YWwgZHVwbGljYXRpb25cbiAgICB0aGlzLmJ1ZmZlciA9ICcnO1xuICAgIHRoaXMuY3Vyc29yID0gMDtcbiAgICB0aGlzLnVwZGF0ZVN1Z2dlc3Rpb25zKCk7XG4gICAgdGhpcy5yZW5kZXJQcm9tcHQoKTtcbiAgICB0aGlzLmVtaXRJbnB1dENoYW5nZSgpO1xuICAgIC8vIFN1Ym1pdCB0aGUgcGFzdGUgY29udGVudCAoZGlzcGxheVVzZXJQcm9tcHQgaXMgY2FsbGVkIHdpdGhpbiBzdWJtaXRUZXh0IGZvciBub24tc2xhc2ggY29tbWFuZHMpXG4gICAgdGhpcy5zdWJtaXRUZXh0KHRleHQpO1xuICB9XG5cbiAgY2FwdHVyZUlucHV0KG9wdGlvbnM6IHsgYWxsb3dFbXB0eT86IGJvb2xlYW47IHRyaW0/OiBib29sZWFuOyByZXNldEJ1ZmZlcj86IGJvb2xlYW4gfSA9IHt9KTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICBpZiAodGhpcy5pbnB1dENhcHR1cmUpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ0lucHV0IGNhcHR1cmUgYWxyZWFkeSBpbiBwcm9ncmVzcycpKTtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy5yZXNldEJ1ZmZlcikge1xuICAgICAgdGhpcy5idWZmZXIgPSAnJztcbiAgICAgIHRoaXMuY3Vyc29yID0gMDtcbiAgICAgIHRoaXMuaW5wdXRSZW5kZXJPZmZzZXQgPSAwO1xuICAgICAgdGhpcy5yZXNldFN1Z2dlc3Rpb25zKCk7XG4gICAgICB0aGlzLnJlbmRlclByb21wdCgpO1xuICAgICAgdGhpcy5lbWl0SW5wdXRDaGFuZ2UoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2U8c3RyaW5nPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICB0aGlzLmlucHV0Q2FwdHVyZSA9IHtcbiAgICAgICAgcmVzb2x2ZSxcbiAgICAgICAgcmVqZWN0LFxuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgdHJpbTogb3B0aW9ucy50cmltICE9PSBmYWxzZSxcbiAgICAgICAgICBhbGxvd0VtcHR5OiBvcHRpb25zLmFsbG93RW1wdHkgPz8gZmFsc2UsXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBjYW5jZWxJbnB1dENhcHR1cmUocmVhc29uPzogdW5rbm93bik6IHZvaWQge1xuICAgIGlmICghdGhpcy5pbnB1dENhcHR1cmUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgY2FwdHVyZSA9IHRoaXMuaW5wdXRDYXB0dXJlO1xuICAgIHRoaXMuaW5wdXRDYXB0dXJlID0gbnVsbDtcbiAgICBjYXB0dXJlLnJlamVjdD8uKHJlYXNvbiA/PyBuZXcgRXJyb3IoJ0lucHV0IGNhcHR1cmUgY2FuY2VsbGVkJykpO1xuICB9XG5cblxuICAvLyAtLS0tLS0tLS0tLS0gSGVscGVycyAtLS0tLS0tLS0tLS1cblxuICBwcml2YXRlIHdyYXBPdmVybGF5TGluZSh0ZXh0OiBzdHJpbmcsIHdpZHRoOiBudW1iZXIsIGluZGVudDogc3RyaW5nKTogc3RyaW5nW10ge1xuICAgIGNvbnN0IHdvcmRzID0gdGV4dC5zcGxpdCgvKFxccyspLyk7XG4gICAgY29uc3QgbGluZXM6IHN0cmluZ1tdID0gW107XG4gICAgbGV0IGN1cnJlbnQgPSAnJztcblxuICAgIGZvciAoY29uc3Qgd29yZCBvZiB3b3Jkcykge1xuICAgICAgY29uc3QgbmV4dCA9IGN1cnJlbnQgKyB3b3JkO1xuICAgICAgaWYgKHRoaXMudmlzaWJsZUxlbmd0aChuZXh0KSA+IHdpZHRoICYmIGN1cnJlbnQudHJpbSgpKSB7XG4gICAgICAgIC8vIERvbid0IHRydW5jYXRlIC0ganVzdCBwdXNoIHRoZSBsaW5lIGFzLWlzIChpdCBmaXRzIHdpdGhpbiB3aWR0aClcbiAgICAgICAgbGluZXMucHVzaChjdXJyZW50LnRyaW1FbmQoKSk7XG4gICAgICAgIGN1cnJlbnQgPSBpbmRlbnQgKyB3b3JkLnRyaW1TdGFydCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3VycmVudCA9IG5leHQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGN1cnJlbnQudHJpbSgpKSB7XG4gICAgICBsaW5lcy5wdXNoKGN1cnJlbnQudHJpbUVuZCgpKTtcbiAgICB9XG5cbiAgICAvLyBJZiBubyBsaW5lcyB3ZXJlIHByb2R1Y2VkLCByZXR1cm4gdGhlIG9yaWdpbmFsIHRleHQgd2l0aG91dCB0cnVuY2F0aW9uXG4gICAgcmV0dXJuIGxpbmVzLmxlbmd0aCA/IGxpbmVzIDogW3RleHRdO1xuICB9XG5cbiAgcHJpdmF0ZSBzYWZlV2lkdGgoKTogbnVtYmVyIHtcbiAgICBjb25zdCBjb2xzID0gdGhpcy5vdXRwdXQuaXNUVFkgPyB0aGlzLmNvbHMgfHwgODAgOiA4MDtcbiAgICByZXR1cm4gTWF0aC5tYXgoMSwgY29scyAtIDEpO1xuICB9XG5cbiAgcHJpdmF0ZSB2aXNpYmxlTGVuZ3RoKHZhbHVlOiBzdHJpbmcpOiBudW1iZXIge1xuICAgIGlmICghdmFsdWUpIHJldHVybiAwO1xuICAgIHJldHVybiB0aGlzLnN0cmlwQW5zaSh2YWx1ZSkubGVuZ3RoO1xuICB9XG5cbiAgcHJpdmF0ZSBzdHJpcEFuc2kodmFsdWU6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgaWYgKCF2YWx1ZSkgcmV0dXJuICcnO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb250cm9sLXJlZ2V4XG4gICAgcmV0dXJuIHZhbHVlLnJlcGxhY2UoL1xcdTAwMUJcXFtbMC0/XSpbIC0vXSpbQC1+XS9nLCAnJyk7XG4gIH1cblxuICBwcml2YXRlIHRydW5jYXRlTGluZSh2YWx1ZTogc3RyaW5nLCB3aWR0aDogbnVtYmVyKTogc3RyaW5nIHtcbiAgICBpZiAoIXZhbHVlKSByZXR1cm4gJyc7XG4gICAgY29uc3QgbGltaXQgPSBNYXRoLm1heCgxLCB3aWR0aCk7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnRyb2wtcmVnZXhcbiAgICBjb25zdCB0b2tlbnMgPSB2YWx1ZS5zcGxpdCgvKFxceDFiXFxbWzAtOTtdKm0pL3UpO1xuICAgIGxldCB2aXNpYmxlID0gMDtcbiAgICBsZXQgdHJ1bmNhdGVkID0gZmFsc2U7XG4gICAgbGV0IHJlc3VsdCA9ICcnO1xuXG4gICAgZm9yIChjb25zdCB0b2tlbiBvZiB0b2tlbnMpIHtcbiAgICAgIGlmICghdG9rZW4pIGNvbnRpbnVlO1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnRyb2wtcmVnZXhcbiAgICAgIGlmICgvXlxceDFiXFxbWzAtOTtdKm0kL3UudGVzdCh0b2tlbikpIHtcbiAgICAgICAgcmVzdWx0ICs9IHRva2VuO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmICh2aXNpYmxlID49IGxpbWl0KSB7XG4gICAgICAgIHRydW5jYXRlZCA9IHRydWU7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVtYWluaW5nID0gbGltaXQgLSB2aXNpYmxlO1xuICAgICAgaWYgKHRva2VuLmxlbmd0aCA8PSByZW1haW5pbmcpIHtcbiAgICAgICAgcmVzdWx0ICs9IHRva2VuO1xuICAgICAgICB2aXNpYmxlICs9IHRva2VuLmxlbmd0aDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHNsaWNlTGVuZ3RoID0gTWF0aC5tYXgoMCwgcmVtYWluaW5nIC0gMSk7XG4gICAgICAgIGlmIChzbGljZUxlbmd0aCA+IDApIHtcbiAgICAgICAgICByZXN1bHQgKz0gdG9rZW4uc2xpY2UoMCwgc2xpY2VMZW5ndGgpO1xuICAgICAgICAgIHZpc2libGUgKz0gc2xpY2VMZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0ICs9ICfigKYnO1xuICAgICAgICB0cnVuY2F0ZWQgPSB0cnVlO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodHJ1bmNhdGVkICYmICFyZXN1bHQuZW5kc1dpdGgoRVNDLlJFU0VUKSkge1xuICAgICAgcmVzdWx0ICs9IEVTQy5SRVNFVDtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgZ2V0QnVmZmVyKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuYnVmZmVyO1xuICB9XG5cbiAgZ2V0Q3Vyc29yKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuY3Vyc29yO1xuICB9XG5cbiAgc2V0QnVmZmVyKHRleHQ6IHN0cmluZywgY3Vyc29yUG9zPzogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5idWZmZXIgPSB0ZXh0O1xuICAgIC8vIFZhbGlkYXRlIGN1cnNvciBwb3NpdGlvbiB0byBwcmV2ZW50IG91dC1vZi1ib3VuZHMgaXNzdWVzXG4gICAgY29uc3QgcmVxdWVzdGVkQ3Vyc29yID0gY3Vyc29yUG9zID8/IHRleHQubGVuZ3RoO1xuICAgIHRoaXMuY3Vyc29yID0gTWF0aC5tYXgoMCwgTWF0aC5taW4ocmVxdWVzdGVkQ3Vyc29yLCB0ZXh0Lmxlbmd0aCkpO1xuICAgIHRoaXMuaW5wdXRSZW5kZXJPZmZzZXQgPSAwO1xuICAgIHRoaXMudXBkYXRlU3VnZ2VzdGlvbnMoKTtcbiAgICB0aGlzLnJlbmRlclByb21wdCgpO1xuICAgIHRoaXMuZW1pdElucHV0Q2hhbmdlKCk7XG4gIH1cblxuICBzZXRTZWNyZXRNb2RlKGVuYWJsZWQ6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICB0aGlzLnNlY3JldE1vZGUgPSBlbmFibGVkO1xuICAgIHRoaXMucmVuZGVyUHJvbXB0KCk7XG4gIH1cblxuICBjbGVhckJ1ZmZlcigpOiB2b2lkIHtcbiAgICB0aGlzLmNhbmNlbFBsYWluUGFzdGVDYXB0dXJlKCk7XG4gICAgdGhpcy5idWZmZXIgPSAnJztcbiAgICB0aGlzLmN1cnNvciA9IDA7XG4gICAgdGhpcy5pbnB1dFJlbmRlck9mZnNldCA9IDA7XG4gICAgdGhpcy5zdWdnZXN0aW9ucyA9IFtdO1xuICAgIHRoaXMuc3VnZ2VzdGlvbkluZGV4ID0gLTE7XG4gICAgdGhpcy5yZW5kZXJQcm9tcHQoKTtcbiAgICB0aGlzLmVtaXRJbnB1dENoYW5nZSgpO1xuICB9XG5cbiAgc2V0TW9kZVN0YXR1cyhzdGF0dXM6IHN0cmluZyB8IG51bGwpOiB2b2lkIHtcbiAgICB0aGlzLnVwZGF0ZVN0YXR1cyhzdGF0dXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNob3cgYSBjb21wYWN0aW5nIHN0YXR1cyB3aXRoIGFuaW1hdGVkIHNwaW5uZXIgKENsYXVkZSBDb2RlIHN0eWxlKVxuICAgKiBVc2VzIOKcuyBjaGFyYWN0ZXIgd2l0aCBhbmltYXRpb24gdG8gaW5kaWNhdGUgY29udGV4dCBjb21wYWN0aW9uIGluIHByb2dyZXNzXG4gICAqL1xuICBzaG93Q29tcGFjdGluZ1N0YXR1cyhtZXNzYWdlOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLnN0YXR1c01lc3NhZ2UgPSBtZXNzYWdlO1xuICAgIGlmICghdGhpcy5zcGlubmVySW50ZXJ2YWwpIHtcbiAgICAgIHRoaXMuc3Bpbm5lckludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICB0aGlzLnNwaW5uZXJGcmFtZSsrO1xuICAgICAgICAvLyBDeWNsZSBhY3Rpdml0eSBwaHJhc2UgZXZlcnkgfjQgc2Vjb25kcyAoNTAgZnJhbWVzIGF0IDgwbXMpXG4gICAgICAgIGlmICh0aGlzLnNwaW5uZXJGcmFtZSAlIDUwID09PSAwKSB7XG4gICAgICAgICAgdGhpcy5hY3Rpdml0eVBocmFzZUluZGV4Kys7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZW5kZXJQcm9tcHQoKTtcbiAgICAgIH0sIDgwKTtcbiAgICB9XG4gICAgdGhpcy5yZW5kZXJQcm9tcHQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIaWRlIHRoZSBjb21wYWN0aW5nIHN0YXR1cyBhbmQgc3RvcCBzcGlubmVyIGFuaW1hdGlvblxuICAgKi9cbiAgaGlkZUNvbXBhY3RpbmdTdGF0dXMoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuc3Bpbm5lckludGVydmFsKSB7XG4gICAgICBjbGVhckludGVydmFsKHRoaXMuc3Bpbm5lckludGVydmFsKTtcbiAgICAgIHRoaXMuc3Bpbm5lckludGVydmFsID0gbnVsbDtcbiAgICB9XG4gICAgdGhpcy5zdGF0dXNNZXNzYWdlID0gbnVsbDtcbiAgICB0aGlzLnJlbmRlclByb21wdCgpO1xuICB9XG5cbiAgZW1pdFByb21wdChjb250ZW50OiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLnB1c2hQcm9tcHRFdmVudChjb250ZW50KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEaXNwbGF5IHVzZXIgcHJvbXB0IGltbWVkaWF0ZWx5IGluIHNjcm9sbGJhY2sgKENsYXVkZSBDb2RlIHN0eWxlKVxuICAgKiBXcml0ZXMgc3luY2hyb25vdXNseSB0byBlbnN1cmUgaXQgYXBwZWFycyBPTkNFIGluIHNjcm9sbGJhY2sgYmVmb3JlIHN0YXR1cyB1cGRhdGVzLlxuICAgKiBUaGUgcHJvbXB0IGlucHV0IGFyZWEgd2lsbCB0aGVuIGZsb2F0IGJlbG93IHRoaXMgYW5kIGFsbCBzdWJzZXF1ZW50IGV2ZW50cy5cbiAgICovXG4gIHByaXZhdGUgZGlzcGxheVVzZXJQcm9tcHQodGV4dDogc3RyaW5nKTogdm9pZCB7XG4gICAgY29uc3Qgbm9ybWFsaXplZCA9IHRleHQ/LnRyaW0oKTtcbiAgICBpZiAoIW5vcm1hbGl6ZWQpIHJldHVybjtcblxuICAgIC8vIFByZXZlbnQgZHVwbGljYXRlIHByb21wdCBkaXNwbGF5IHdpdGhpbiAxLjUgc2Vjb25kc1xuICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgaWYgKHRoaXMubGFzdFByb21wdEV2ZW50ICYmIHRoaXMubGFzdFByb21wdEV2ZW50LnRleHQgPT09IG5vcm1hbGl6ZWQgJiYgbm93IC0gdGhpcy5sYXN0UHJvbXB0RXZlbnQuYXQgPCAxNTAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMubGFzdFByb21wdEV2ZW50ID0geyB0ZXh0OiBub3JtYWxpemVkLCBhdDogbm93IH07XG5cbiAgICAvLyBBZGQgdG8gZXZlbnQgcXVldWUgaW5zdGVhZCBvZiB3cml0aW5nIGRpcmVjdGx5IHRvIGVuc3VyZSBwcm9wZXIgcmVuZGVyaW5nXG4gICAgdGhpcy5hZGRFdmVudCgncHJvbXB0Jywgbm9ybWFsaXplZCk7XG4gIH1cblxuICByZW5kZXIoKTogdm9pZCB7XG4gICAgdGhpcy5yZW5kZXJQcm9tcHQoKTtcbiAgfVxuXG4gIHByaXZhdGUgZGVsYXkobXM6IG51bWJlcik6IFByb21pc2U8dm9pZD4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgbXMpKTtcbiAgfVxuXG4gIC8vIC0tLS0tLS0tLS0tLSBMb3ctbGV2ZWwgaGVscGVycyAtLS0tLS0tLS0tLS1cblxuICBwcml2YXRlIHdyaXRlKGRhdGE6IHN0cmluZyk6IHZvaWQge1xuICAgIHRoaXMub3V0cHV0LndyaXRlKGRhdGEpO1xuICB9XG5cbiAgcHJpdmF0ZSBwdXNoUHJvbXB0RXZlbnQodGV4dDogc3RyaW5nKTogdm9pZCB7XG4gICAgY29uc3Qgbm9ybWFsaXplZCA9IHRleHQ/LnRyaW0oKTtcbiAgICBpZiAoIW5vcm1hbGl6ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICBpZiAodGhpcy5sYXN0UHJvbXB0RXZlbnQgJiYgdGhpcy5sYXN0UHJvbXB0RXZlbnQudGV4dCA9PT0gbm9ybWFsaXplZCAmJiBub3cgLSB0aGlzLmxhc3RQcm9tcHRFdmVudC5hdCA8IDE1MDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5sYXN0UHJvbXB0RXZlbnQgPSB7IHRleHQ6IG5vcm1hbGl6ZWQsIGF0OiBub3cgfTtcbiAgICB0aGlzLmFkZEV2ZW50KCdwcm9tcHQnLCBub3JtYWxpemVkKTtcbiAgfVxuXG4gIHByaXZhdGUgY2xlYXJQcm9tcHRBcmVhKCk6IHZvaWQge1xuICAgIGNvbnN0IGhlaWdodCA9IHRoaXMubGFzdE92ZXJsYXk/LmxpbmVzLmxlbmd0aCA/PyB0aGlzLnByb21wdEhlaWdodCA/PyAwO1xuICAgIGlmIChoZWlnaHQgPT09IDApIHJldHVybjtcblxuICAgIC8vIFVzZSBiYXRjaGVkIGF0b21pYyB3cml0ZSB0byBwcmV2ZW50IHZpc3VhbCBnbGl0Y2hlcyBmcm9tIG5vbi1hdG9taWMgZXNjYXBlIHNlcXVlbmNlc1xuICAgIGNvbnN0IGJ1ZmZlcjogc3RyaW5nW10gPSBbXTtcblxuICAgIC8vIEhpZGUgY3Vyc29yIGR1cmluZyBjbGVhcmluZyB0byBwcmV2ZW50IHZpc3VhbCBhcnRpZmFjdHNcbiAgICBidWZmZXIucHVzaCgnXFx4MWJbPzI1bCcpO1xuXG4gICAgLy8gQ3Vyc29yIGlzIGF0IHByb21wdCByb3cuIE1vdmUgdXAgdG8gdG9wIG9mIG92ZXJsYXkgZmlyc3QuXG4gICAgaWYgKHRoaXMubGFzdE92ZXJsYXkpIHtcbiAgICAgIGNvbnN0IGxpbmVzVG9Ub3AgPSB0aGlzLmxhc3RPdmVybGF5LnByb21wdEluZGV4O1xuICAgICAgaWYgKGxpbmVzVG9Ub3AgPiAwKSB7XG4gICAgICAgIGJ1ZmZlci5wdXNoKGBcXHgxYlske2xpbmVzVG9Ub3B9QWApO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIE5vdyBhdCB0b3AsIGNsZWFyIGVhY2ggbGluZSBkb3dud2FyZFxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaGVpZ2h0OyBpKyspIHtcbiAgICAgIGJ1ZmZlci5wdXNoKCdcXHInKTtcbiAgICAgIGJ1ZmZlci5wdXNoKEVTQy5DTEVBUl9MSU5FKTtcbiAgICAgIGlmIChpIDwgaGVpZ2h0IC0gMSkge1xuICAgICAgICBidWZmZXIucHVzaCgnXFx4MWJbQicpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIE1vdmUgYmFjayB0byB0b3AgKHdoZXJlIGNvbnRlbnQgc2hvdWxkIGNvbnRpbnVlIGZyb20pXG4gICAgaWYgKGhlaWdodCA+IDEpIHtcbiAgICAgIGJ1ZmZlci5wdXNoKGBcXHgxYlske2hlaWdodCAtIDF9QWApO1xuICAgIH1cbiAgICBidWZmZXIucHVzaCgnXFxyJyk7XG5cbiAgICAvLyBTaG93IGN1cnNvciBhZ2FpblxuICAgIGJ1ZmZlci5wdXNoKCdcXHgxYls/MjVoJyk7XG5cbiAgICAvLyBTaW5nbGUgYXRvbWljIHdyaXRlXG4gICAgdGhpcy53cml0ZShidWZmZXIuam9pbignJykpO1xuXG4gICAgdGhpcy5sYXN0T3ZlcmxheSA9IG51bGw7XG4gICAgdGhpcy5wcm9tcHRIZWlnaHQgPSAwO1xuICAgIHRoaXMubGFzdE92ZXJsYXlIZWlnaHQgPSAwO1xuICAgIHRoaXMuaXNQcm9tcHRBY3RpdmUgPSBmYWxzZTtcbiAgfVxuXG4gIHByaXZhdGUgdXBkYXRlVGVybWluYWxTaXplKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLm91dHB1dC5pc1RUWSkge1xuICAgICAgdGhpcy5yb3dzID0gdGhpcy5vdXRwdXQucm93cyB8fCAyNDtcbiAgICAgIHRoaXMuY29scyA9IHRoaXMub3V0cHV0LmNvbHVtbnMgfHwgODA7XG4gICAgfVxuICB9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQVdBLElBQUFBLFFBQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLFdBQUEsR0FBQUQsT0FBQTtBQUNBLElBQUFFLE9BQUEsR0FBQUYsT0FBQTtBQUNBLElBQUFHLE1BQUEsR0FB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