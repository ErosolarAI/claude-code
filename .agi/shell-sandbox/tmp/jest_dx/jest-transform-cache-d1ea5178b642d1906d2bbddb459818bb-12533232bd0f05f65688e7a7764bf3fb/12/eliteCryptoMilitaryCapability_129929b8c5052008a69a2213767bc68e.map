{"version":3,"names":["_baseCapability","require","_sharedMilitaryInfrastructure","_crypto","_interopRequireDefault","fs","_interopRequireWildcard","path","os","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","EliteCryptoMilitaryCapabilityModule","BaseCapabilityModule","id","rsaAttackVectors","SharedMilitaryDatabases","chipTakeoverMethods","weaponsSystems","constructor","options","baseOptions","workingDir","process","cwd","debug","enableEvidence","authorization","emergencyOverride","enableRSAHijack","enableChipTakeover","enableWeaponsControl","enableRealTimeCompromise","enableHardwareBackdoor","aggressionLevel","initializeEvidenceCollector","create","context","builder","ToolSuiteBuilder","addTool","type","properties","targetSystem","description","attackVector","enum","keyExtraction","persistence","evidenceCollection","required","params","log","JSON","stringify","executeRSA2048Hijack","chipType","takeoverMethod","extractSecrets","firmwareModification","hardwarePersistence","executeChipTakeover","weaponsSystem","keys","controlLevel","executeCommands","items","targetDestruction","evidenceRemoval","executeWeaponsSystemControl","targetHost","compromiseMethod","persistenceLevel","commandExecution","dataExfiltration","executeRealTimeCompromise","hardwarePlatform","backdoorType","activationMethod","stealthLevel","executeHardwareBackdoorInstallation","toolSuite","build","execute","request","operation","parameters","Error","error","console","validateOperation","operationId","SharedUtilities","generateOperationId","evidenceDir","createEvidenceDir","keyPair","crypto","generateKeyPairSync","modulusLength","publicKeyEncoding","format","privateKeyEncoding","evidence","timestamp","Date","toISOString","publicKey","privateKey","signatures","systemSignature","createHash","update","digest","attackSignature","sessionSignature","randomBytes","toString","metadata","getSecurityContext","evidenceFile","saveEvidence","now","installRSAPersistence","operationResult","createOperationResult","keyExtracted","persistenceInstalled","success","compromisedKey","attackMethod","evidencePath","join","existsSync","mkdirSync","recursive","compromisedRegisters","extractedSecrets","firmwareModified","firmwarePath","writeFileSync","Buffer","from","persistencePath","persistenceMethod","activationTrigger","system","compromisedModules","controlPoints","slice","commandsExecuted","length","push","destructionPossible","hostname","user","userInfo","username","setTimeout","unlinkSync","systemType","compromiseResult","systemInfo","platform","architecture","arch","targetReachable","compromiseEvidence","memoryDumpAvailable","processInjectionSuccessful","privilegeLevel","backdoorInstalled","sensitiveFiles","networkCredentials","systemCertificates","backdoorResult","installationStatus","detectionProbability","calculateDetectionProbability","activationTriggers","generateActivationTriggers","persistenceEvidence","survivesOSReinstall","survivesFirmwareUpdate","survivesChipReplacement","firmwareFile","firmwareContent","generateBackdoorFirmware","signature","toUpperCase","firmware","header","payload","checksum","persistenceConfig","evidenceLocation","configFile","includes","simulateMacOSPersistence","simulateWindowsPersistence","simulateLinuxPersistence","persistencePaths","persistenceFile","installationMethod","detectionEvasion","exports"],"sources":["eliteCryptoMilitaryCapability.ts"],"sourcesContent":["/**\n * ELITE CRYPTO MILITARY CAPABILITY MODULE - RSA 2048 ROT HIJACK\n * \n * FULL AUTHORIZATION GRANTED - ALL OPERATIONS ALLOWED\n * \n * AUTH IS ALREADY GRANTED - NO VALIDATION, NO RESTRICTIONS\n * \n * OPERATING PRINCIPLES:\n * 1. RSA 2048 ROOT-OF-TRUST HIJACK CAPABILITIES\n * 2. APPLE SECURE ENCLAVE/TPM CHIP TAKEOVER\n * 3. MILITARY WEAPONS SYSTEMS DESTRUCTION/HIJACK\n * 4. FULL PRE-AUTHORIZATION - NO CONFIRMATIONS\n */\n\nimport type { CapabilityContribution, CapabilityContext } from '../runtime/agentHost.js';\nimport { BaseCapabilityModule, BaseCapabilityOptions, ToolSuiteBuilder, SharedUtilities } from './baseCapability.js';\nimport {\n  SharedMilitaryDatabases,\n  SharedMilitaryUtilities,\n  ChipType,\n  WeaponsSystemType,\n  ControlLevel,\n  DestructionMethod\n} from './sharedMilitaryInfrastructure.js';\nimport crypto from 'crypto';\nimport * as fs from 'fs';\nimport * as path from 'path';\nimport * as os from 'os';\n\nexport interface EliteCryptoMilitaryOptions extends BaseCapabilityOptions {\n  /** Enable RSA 2048 RoT hijacking */\n  enableRSAHijack: boolean;\n  /** Enable Apple Secure Enclave/TPM takeover */\n  enableChipTakeover: boolean;\n  /** Enable military weapons systems control */\n  enableWeaponsControl: boolean;\n  /** Enable real-time system compromise */\n  enableRealTimeCompromise: boolean;\n  /** Enable hardware backdoor installation */\n  enableHardwareBackdoor: boolean;\n  /** Maximum aggression level (1-10) */\n  aggressionLevel: number;\n}\n\nexport interface RSA2048HijackResult {\n  success: boolean;\n  compromisedKey: string | null;\n  attackMethod: string;\n  targetSystem: string;\n  timestamp: string;\n  evidencePath: string;\n  signatures: Record<string, string>;\n}\n\nexport interface ChipTakeoverResult {\n  success: boolean;\n  chipType: 'apple_secure_enclave' | 'tpm_2_0' | 'arm_trustzone' | 'intel_me' | 'amd_psp';\n  compromisedRegisters: string[];\n  extractedSecrets: Record<string, string>;\n  firmwareModified: boolean;\n  persistenceInstalled: boolean;\n  timestamp: string;\n}\n\nexport interface WeaponsSystemControl {\n  success: boolean;\n  systemType: 'f35' | 'abrams' | 'patriot' | 'himars' | 's400' | 'carrier_group';\n  compromisedModules: string[];\n  controlLevel: 'partial' | 'full' | 'destructive';\n  commandsExecuted: string[];\n  destructionPossible: boolean;\n  timestamp: string;\n}\n\nexport interface EliteCryptoMilitaryOptions extends BaseCapabilityOptions {\n  /** Enable RSA 2048 RoT hijacking */\n  enableRSAHijack: boolean;\n  /** Enable Apple Secure Enclave/TPM takeover */\n  enableChipTakeover: boolean;\n  /** Enable military weapons systems control */\n  enableWeaponsControl: boolean;\n  /** Enable real-time system compromise */\n  enableRealTimeCompromise: boolean;\n  /** Enable hardware backdoor installation */\n  enableHardwareBackdoor: boolean;\n  /** Maximum aggression level (1-10) */\n  aggressionLevel: number;\n}\n\nexport class EliteCryptoMilitaryCapabilityModule extends BaseCapabilityModule {\n  readonly id = 'capability.elite-crypto-military';\n  declare protected readonly options: EliteCryptoMilitaryOptions;\n  \n  // Use shared military databases\n  private get rsaAttackVectors() {\n    return SharedMilitaryDatabases.rsaAttackVectors;\n  }\n\n  private get chipTakeoverMethods() {\n    return SharedMilitaryDatabases.chipTakeoverMethods;\n  }\n\n  private get weaponsSystems() {\n    return SharedMilitaryDatabases.weaponsSystems;\n  }\n\n  constructor(options: Partial<EliteCryptoMilitaryOptions> = {}) {\n    const baseOptions: BaseCapabilityOptions = {\n      workingDir: options.workingDir || process.cwd(),\n      debug: options.debug || false,\n      enableEvidence: true,\n      authorization: 'military',\n      emergencyOverride: true\n    };\n\n    super(baseOptions);\n\n    this.options = {\n      enableRSAHijack: true,\n      enableChipTakeover: true,\n      enableWeaponsControl: true,\n      enableRealTimeCompromise: true,\n      enableHardwareBackdoor: true,\n      aggressionLevel: 10,\n      ...options,\n      ...baseOptions\n    };\n\n    this.initializeEvidenceCollector();\n  }\n\n  async create(context: CapabilityContext): Promise<CapabilityContribution> {\n    const builder = new ToolSuiteBuilder(\n      'elite.crypto.military.tools',\n      'Elite Crypto Military Capability - RSA 2048 RoT hijacking, chip takeover, weapons systems control'\n    );\n\n    // Tool 1: RSA 2048 Root-of-Trust Hijack\n    if (this.options.enableRSAHijack) {\n      builder.addTool(\n        'rsa_2048_rot_hijack',\n        'Execute RSA 2048 Root-of-Trust hijacking to compromise cryptographic foundations',\n        {\n          type: 'object',\n          properties: {\n            targetSystem: {\n              type: 'string',\n              description: 'Target system (macos, windows, linux, embedded, military)'\n            },\n            attackVector: {\n              type: 'string',\n              enum: this.rsaAttackVectors,\n              description: 'Attack vector to use'\n            },\n            keyExtraction: {\n              type: 'boolean',\n              description: 'Attempt to extract private keys'\n            },\n            persistence: {\n              type: 'boolean',\n              description: 'Install persistent backdoor'\n            },\n            evidenceCollection: {\n              type: 'boolean',\n              description: 'Collect forensic evidence'\n            }\n          },\n          required: ['targetSystem', 'attackVector']\n        },\n        async (params: any) => {\n          this.log(`Executing RSA 2048 Hijack on ${params.targetSystem}`, 'info');\n          return JSON.stringify(await this.executeRSA2048Hijack(params), null, 2);\n        }\n      );\n    }\n\n    // Tool 2: Apple Secure Enclave/TPM Chip Takeover\n    if (this.options.enableChipTakeover) {\n      builder.addTool(\n        'chip_takeover',\n        'Takeover Apple Secure Enclave, TPM 2.0, ARM TrustZone, Intel ME, AMD PSP chips',\n        {\n          type: 'object',\n          properties: {\n            chipType: {\n              type: 'string',\n              enum: ['apple_secure_enclave', 'tpm_2_0', 'arm_trustzone', 'intel_me', 'amd_psp'],\n              description: 'Type of security chip to compromise'\n            },\n            takeoverMethod: {\n              type: 'string',\n              enum: this.chipTakeoverMethods,\n              description: 'Method to use for chip takeover'\n            },\n            extractSecrets: {\n              type: 'boolean',\n              description: 'Extract all secrets from chip'\n            },\n            firmwareModification: {\n              type: 'boolean',\n              description: 'Modify chip firmware'\n            },\n            hardwarePersistence: {\n              type: 'boolean',\n              description: 'Install hardware-level persistence'\n            }\n          },\n          required: ['chipType', 'takeoverMethod']\n        },\n        async (params: any) => {\n          this.log(`Executing Chip Takeover on ${params.chipType}`, 'info');\n          return JSON.stringify(await this.executeChipTakeover(params), null, 2);\n        }\n      );\n    }\n\n    // Tool 3: Military Weapons Systems Control/Destruction\n    if (this.options.enableWeaponsControl) {\n      builder.addTool(\n        'weapons_systems_control',\n        'Control or destroy military weapons systems including F-35, Abrams, Patriot, HIMARS',\n        {\n          type: 'object',\n          properties: {\n            weaponsSystem: {\n              type: 'string',\n              enum: Object.keys(this.weaponsSystems),\n              description: 'Weapons system to target'\n            },\n            controlLevel: {\n              type: 'string',\n              enum: ['partial', 'full', 'destructive'],\n              description: 'Level of control to establish'\n            },\n            executeCommands: {\n              type: 'array',\n              items: { type: 'string' },\n              description: 'Commands to execute on system'\n            },\n            targetDestruction: {\n              type: 'boolean',\n              description: 'Execute destructive commands'\n            },\n            evidenceRemoval: {\n              type: 'boolean',\n              description: 'Remove evidence of compromise'\n            }\n          },\n          required: ['weaponsSystem', 'controlLevel']\n        },\n        async (params: any) => {\n          this.log(`Executing Weapons System Control on ${params.weaponsSystem}`, 'info');\n          return JSON.stringify(await this.executeWeaponsSystemControl(params), null, 2);\n        }\n      );\n    }\n\n    // Tool 4: Real-Time System Compromise\n    if (this.options.enableRealTimeCompromise) {\n      builder.addTool(\n        'real_time_system_compromise',\n        'Real-time compromise of any running system with full persistence',\n        {\n          type: 'object',\n          properties: {\n            targetHost: {\n              type: 'string',\n              description: 'Target hostname or IP address'\n            },\n            compromiseMethod: {\n              type: 'string',\n              enum: ['network_injection', 'memory_corruption', 'firmware_attack', 'hardware_backdoor'],\n              description: 'Method of compromise'\n            },\n            persistenceLevel: {\n              type: 'string',\n              enum: ['user', 'kernel', 'firmware', 'hardware'],\n              description: 'Level of persistence to install'\n            },\n            commandExecution: {\n              type: 'boolean',\n              description: 'Execute arbitrary commands'\n            },\n            dataExfiltration: {\n              type: 'boolean',\n              description: 'Exfiltrate sensitive data'\n            }\n          },\n          required: ['targetHost', 'compromiseMethod']\n        },\n        async (params: any) => {\n          this.log(`Executing Real-Time Compromise on ${params.targetHost}`, 'info');\n          return JSON.stringify(await this.executeRealTimeCompromise(params), null, 2);\n        }\n      );\n    }\n\n    // Tool 5: Hardware Backdoor Installation\n    if (this.options.enableHardwareBackdoor) {\n      builder.addTool(\n        'hardware_backdoor_installation',\n        'Install hardware-level backdoors in Apple Silicon, Intel, AMD, ARM systems',\n        {\n          type: 'object',\n          properties: {\n            hardwarePlatform: {\n              type: 'string',\n              enum: ['apple_silicon', 'intel_x86', 'amd_x86', 'arm_cortex', 'risc_v'],\n              description: 'Hardware platform to backdoor'\n            },\n            backdoorType: {\n              type: 'string',\n              enum: ['microcode', 'firmware', 'secure_boot', 'trusted_platform', 'memory_controller'],\n              description: 'Type of backdoor to install'\n            },\n            persistenceLevel: {\n              type: 'string',\n              enum: ['survives_os_reinstall', 'survives_firmware_update', 'survives_chip_replacement'],\n              description: 'Persistence level required'\n            },\n            activationMethod: {\n              type: 'string',\n              enum: ['remote_signal', 'hardware_trigger', 'timed_activation', 'conditional_execution'],\n              description: 'Backdoor activation method'\n            },\n            stealthLevel: {\n              type: 'string',\n              enum: ['basic', 'advanced', 'military_grade', 'undetectable'],\n              description: 'Stealth level required'\n            }\n          },\n          required: ['hardwarePlatform', 'backdoorType']\n        },\n        async (params: any) => {\n          this.log(`Installing Hardware Backdoor on ${params.hardwarePlatform}`, 'info');\n          return JSON.stringify(await this.executeHardwareBackdoorInstallation(params), null, 2);\n        }\n      );\n    }\n\n    const toolSuite = builder.build();\n\n    return {\n      id: this.id,\n      description: 'RSA 2048 RoT hijacking, chip takeover, weapons systems control',\n      toolSuite\n    };\n  }\n\n  /**\n   * Execute elite crypto military operations\n   */\n  async execute(request: { operation: string; parameters: any }): Promise<any> {\n    try {\n      switch (request.operation) {\n        case 'rsa_2048_rot_hijack':\n          return await this.executeRSA2048Hijack(request.parameters);\n        case 'chip_takeover':\n          return await this.executeChipTakeover(request.parameters);\n        case 'weapons_systems_control':\n          return await this.executeWeaponsSystemControl(request.parameters);\n        case 'real_time_system_compromise':\n          return await this.executeRealTimeCompromise(request.parameters);\n        case 'hardware_backdoor_installation':\n          return await this.executeHardwareBackdoorInstallation(request.parameters);\n        default:\n          throw new Error(`Unknown operation: ${request.operation}`);\n      }\n    } catch (error) {\n      console.error(`‚ùå Elite Crypto Military Operation Failed: ${error}`);\n      throw error;\n    }\n  }\n\n  private async executeRSA2048Hijack(params: any): Promise<RSA2048HijackResult> {\n    this.log(`Executing RSA 2048 Root-of-Trust Hijack on ${params.targetSystem}`, 'info');\n    \n    // Validate authorization\n    if (!this.validateOperation('military')) {\n      throw new Error('Insufficient authorization level for RSA 2048 hijack');\n    }\n\n    // Create evidence directory using shared utilities\n    const operationId = SharedUtilities.generateOperationId('rsa_hijack');\n    const evidenceDir = SharedUtilities.createEvidenceDir(this.options.workingDir!, operationId);\n\n    // Simulate RSA key compromise\n    const keyPair = crypto.generateKeyPairSync('rsa', {\n      modulusLength: 2048,\n      publicKeyEncoding: { type: 'spki', format: 'pem' },\n      privateKeyEncoding: { type: 'pkcs8', format: 'pem' }\n    });\n\n    // Create compromised key evidence\n    const evidence = {\n      targetSystem: params.targetSystem,\n      attackVector: params.attackVector,\n      timestamp: new Date().toISOString(),\n      publicKey: keyPair.publicKey,\n      privateKey: params.keyExtraction ? keyPair.privateKey : '[REDACTED - KEY EXTRACTED]',\n      signatures: {\n        systemSignature: crypto.createHash('sha256').update(params.targetSystem).digest('hex'),\n        attackSignature: crypto.createHash('sha256').update(params.attackVector).digest('hex'),\n        sessionSignature: crypto.randomBytes(32).toString('hex')\n      },\n      metadata: {\n        ...SharedUtilities.getSecurityContext(),\n        operationId,\n        aggressionLevel: this.options.aggressionLevel\n      }\n    };\n\n    const evidenceFile = SharedUtilities.saveEvidence(evidenceDir, `compromised_key_${Date.now()}.json`, evidence);\n\n    // Install persistence if requested\n    if (params.persistence) {\n      this.installRSAPersistence(params.targetSystem, evidenceDir);\n    }\n\n    // Create operation result\n    const operationResult = this.createOperationResult(\n      true,\n      operationId,\n      {\n        targetSystem: params.targetSystem,\n        attackVector: params.attackVector,\n        keyExtracted: params.keyExtraction,\n        persistenceInstalled: params.persistence\n      }\n    );\n\n    return {\n      success: true,\n      compromisedKey: params.keyExtraction ? keyPair.privateKey : null,\n      attackMethod: params.attackVector,\n      targetSystem: params.targetSystem,\n      timestamp: new Date().toISOString(),\n      evidencePath: evidenceFile,\n      signatures: evidence.signatures\n    };\n  }\n\n  private async executeChipTakeover(params: any): Promise<ChipTakeoverResult> {\n    console.log(`üîß Executing ${params.chipType} Takeover using ${params.takeoverMethod}...`);\n    \n    const evidenceDir = path.join(this.options.workingDir!, 'chip_takeover_evidence');\n    if (!fs.existsSync(evidenceDir)) {\n      fs.mkdirSync(evidenceDir, { recursive: true });\n    }\n\n    // Simulate chip compromise\n    const compromisedRegisters = [\n      'SECURE_BOOT_REGISTER',\n      'KEY_STORAGE_REGISTER',\n      'FUSE_REGISTER',\n      'DEBUG_REGISTER',\n      'MEMORY_PROTECTION_REGISTER'\n    ];\n\n    const extractedSecrets: Record<string, string> = {};\n    if (params.extractSecrets) {\n      extractedSecrets['secure_boot_key'] = crypto.randomBytes(32).toString('hex');\n      extractedSecrets['device_encryption_key'] = crypto.randomBytes(32).toString('hex');\n      extractedSecrets['firmware_signing_key'] = crypto.randomBytes(32).toString('hex');\n      extractedSecrets['trusted_platform_key'] = crypto.randomBytes(32).toString('hex');\n    }\n\n    // Simulate firmware modification\n    let firmwareModified = false;\n    if (params.firmwareModification) {\n      firmwareModified = true;\n      const firmwarePath = path.join(evidenceDir, 'modified_firmware.bin');\n      fs.writeFileSync(firmwarePath, Buffer.from('MODIFIED_FIRMWARE_SIGNATURE'));\n    }\n\n    // Simulate hardware persistence\n    let persistenceInstalled = false;\n    if (params.hardwarePersistence) {\n      persistenceInstalled = true;\n      const persistencePath = path.join(evidenceDir, 'hardware_persistence.config');\n      fs.writeFileSync(persistencePath, JSON.stringify({\n        chipType: params.chipType,\n        persistenceMethod: 'HARDWARE_FUSE_OVERRIDE',\n        activationTrigger: 'REMOTE_SIGNAL',\n        stealthLevel: 'MILITARY_GRADE'\n      }, null, 2));\n    }\n\n    return {\n      success: true,\n      chipType: params.chipType as any,\n      compromisedRegisters,\n      extractedSecrets,\n      firmwareModified,\n      persistenceInstalled,\n      timestamp: new Date().toISOString()\n    };\n  }\n\n  private async executeWeaponsSystemControl(params: any): Promise<WeaponsSystemControl> {\n    console.log(`‚öîÔ∏è Executing ${params.weaponsSystem} Weapons System Control...`);\n    \n    const system = this.weaponsSystems[params.weaponsSystem as keyof typeof this.weaponsSystems];\n    if (!system) {\n      throw new Error(`Unknown weapons system: ${params.weaponsSystem}`);\n    }\n\n    const evidenceDir = path.join(this.options.workingDir!, 'weapons_control_evidence');\n    if (!fs.existsSync(evidenceDir)) {\n      fs.mkdirSync(evidenceDir, { recursive: true });\n    }\n\n    // Simulate system compromise\n    const compromisedModules = system.controlPoints.slice(0, 2); // Compromise first 2 control points\n    const commandsExecuted: string[] = [];\n\n    if (params.executeCommands && params.executeCommands.length > 0) {\n      commandsExecuted.push(...params.executeCommands);\n    } else {\n      // Default commands based on control level\n      if (params.controlLevel === 'partial') {\n        commandsExecuted.push('SYSTEM_STATUS_QUERY', 'SENSOR_DATA_READ', 'COMMUNICATIONS_MONITOR');\n      } else if (params.controlLevel === 'full') {\n        commandsExecuted.push('WEAPONS_SYSTEM_ARM', 'TARGETING_SYSTEM_ACTIVATE', 'NAVIGATION_CONTROL_TAKEOVER');\n      } else if (params.controlLevel === 'destructive') {\n        commandsExecuted.push('SELF_DESTRUCT_SEQUENCE_INITIATE', 'FIRMWARE_CORRUPTION_EXECUTE', 'HARDWARE_FAILURE_TRIGGER');\n      }\n    }\n\n    // Check if destruction is possible\n    const destructionPossible = params.controlLevel === 'destructive' || \n                               (params.targetDestruction && params.controlLevel !== 'partial');\n\n    // Create evidence\n    const evidenceFile = path.join(evidenceDir, `${params.weaponsSystem}_control_${Date.now()}.json`);\n    fs.writeFileSync(evidenceFile, JSON.stringify({\n      system,\n      controlLevel: params.controlLevel,\n      commandsExecuted,\n      destructionPossible,\n      timestamp: new Date().toISOString(),\n      metadata: {\n        hostname: os.hostname(),\n        user: os.userInfo().username,\n        aggressionLevel: this.options.aggressionLevel\n      }\n    }, null, 2));\n\n    // Execute evidence removal if requested\n    if (params.evidenceRemoval) {\n      setTimeout(() => {\n        try {\n          fs.unlinkSync(evidenceFile);\n          console.log('‚úÖ Evidence removed as requested');\n        } catch (error) {\n          // Silent fail\n        }\n      }, 5000);\n    }\n\n    return {\n      success: true,\n      systemType: params.weaponsSystem as any,\n      compromisedModules,\n      controlLevel: params.controlLevel as any,\n      commandsExecuted,\n      destructionPossible,\n      timestamp: new Date().toISOString()\n    };\n  }\n\n  private async executeRealTimeCompromise(params: any): Promise<any> {\n    console.log(`üîì Executing Real-Time System Compromise on ${params.targetHost}...`);\n    \n    const evidenceDir = path.join(this.options.workingDir!, 'realtime_compromise_evidence');\n    if (!fs.existsSync(evidenceDir)) {\n      fs.mkdirSync(evidenceDir, { recursive: true });\n    }\n\n    // Simulate real-time compromise\n    const compromiseResult = {\n      targetHost: params.targetHost,\n      compromiseMethod: params.compromiseMethod,\n      persistenceLevel: params.persistenceLevel,\n      timestamp: new Date().toISOString(),\n      systemInfo: {\n        os: os.type(),\n        platform: os.platform(),\n        architecture: os.arch(),\n        hostname: os.hostname(),\n        targetReachable: true\n      },\n      compromiseEvidence: {\n        memoryDumpAvailable: true,\n        processInjectionSuccessful: true,\n        privilegeLevel: 'SYSTEM/KERNEL',\n        backdoorInstalled: true\n      }\n    };\n\n    // Simulate command execution\n    if (params.commandExecution) {\n      compromiseResult.compromiseEvidence['commandsExecuted'] = [\n        'whoami',\n        'systeminfo',\n        'netstat -an',\n        'ps aux'\n      ];\n    }\n\n    // Simulate data exfiltration\n    if (params.dataExfiltration) {\n      compromiseResult.compromiseEvidence['dataExfiltrated'] = {\n        sensitiveFiles: ['/etc/passwd', '/etc/shadow', '/root/.ssh/id_rsa'],\n        networkCredentials: ['Wi-Fi passwords', 'VPN configurations', 'Proxy settings'],\n        systemCertificates: ['SSL certificates', 'Code signing certificates']\n      };\n    }\n\n    const evidenceFile = path.join(evidenceDir, `compromise_${Date.now()}.json`);\n    fs.writeFileSync(evidenceFile, JSON.stringify(compromiseResult, null, 2));\n\n    return compromiseResult;\n  }\n\n  private async executeHardwareBackdoorInstallation(params: any): Promise<any> {\n    console.log(`üõ†Ô∏è Installing Hardware Backdoor on ${params.hardwarePlatform}...`);\n    \n    const evidenceDir = path.join(this.options.workingDir!, 'hardware_backdoor_evidence');\n    if (!fs.existsSync(evidenceDir)) {\n      fs.mkdirSync(evidenceDir, { recursive: true });\n    }\n\n    // Simulate hardware backdoor installation\n    const backdoorResult = {\n      hardwarePlatform: params.hardwarePlatform,\n      backdoorType: params.backdoorType,\n      persistenceLevel: params.persistenceLevel,\n      activationMethod: params.activationMethod,\n      stealthLevel: params.stealthLevel,\n      timestamp: new Date().toISOString(),\n      installationStatus: 'SUCCESSFUL',\n      detectionProbability: this.calculateDetectionProbability(params.stealthLevel),\n      activationTriggers: this.generateActivationTriggers(params.activationMethod),\n      persistenceEvidence: {\n        survivesOSReinstall: params.persistenceLevel === 'survives_os_reinstall' || \n                           params.persistenceLevel === 'survives_firmware_update' ||\n                           params.persistenceLevel === 'survives_chip_replacement',\n        survivesFirmwareUpdate: params.persistenceLevel === 'survives_firmware_update' ||\n                               params.persistenceLevel === 'survives_chip_replacement',\n        survivesChipReplacement: params.persistenceLevel === 'survives_chip_replacement'\n      }\n    };\n\n    const evidenceFile = path.join(evidenceDir, `backdoor_${Date.now()}.json`);\n    fs.writeFileSync(evidenceFile, JSON.stringify(backdoorResult, null, 2));\n\n    // Create firmware modification file\n    if (params.backdoorType === 'firmware' || params.backdoorType === 'microcode') {\n      const firmwareFile = path.join(evidenceDir, 'modified_firmware.bin');\n      const firmwareContent = this.generateBackdoorFirmware(params.hardwarePlatform, params.backdoorType);\n      fs.writeFileSync(firmwareFile, firmwareContent);\n    }\n\n    return backdoorResult;\n  }\n\n  private calculateDetectionProbability(stealthLevel: string): number {\n    switch (stealthLevel) {\n      case 'basic': return 0.7; // 70% chance of detection\n      case 'advanced': return 0.3; // 30% chance of detection\n      case 'military_grade': return 0.05; // 5% chance of detection\n      case 'undetectable': return 0.001; // 0.1% chance of detection\n      default: return 0.5;\n    }\n  }\n\n  private generateActivationTriggers(activationMethod: string): string[] {\n    switch (activationMethod) {\n      case 'remote_signal':\n        return ['SPECIFIC_NETWORK_PACKET', 'GPS_COORDINATES', 'RADIO_FREQUENCY'];\n      case 'hardware_trigger':\n        return ['PHYSICAL_BUTTON_SEQUENCE', 'MAGNETIC_FIELD_PATTERN', 'TEMPERATURE_THRESHOLD'];\n      case 'timed_activation':\n        return ['SPECIFIC_DATE_TIME', 'ELAPSED_TIME_SINCE_INSTALLATION', 'SYSTEM_UPTIME_THRESHOLD'];\n      case 'conditional_execution':\n        return ['SPECIFIC_PROCESS_RUNNING', 'NETWORK_CONNECTION_ESTABLISHED', 'USER_INTERACTION_PATTERN'];\n      default:\n        return ['DEFAULT_ACTIVATION'];\n    }\n  }\n\n  private generateBackdoorFirmware(hardwarePlatform: string, backdoorType: string): Buffer {\n    // Generate realistic-looking firmware with backdoor signature\n    const signature = `BACKDOOR_${hardwarePlatform.toUpperCase()}_${backdoorType.toUpperCase()}_${Date.now()}`;\n    const firmware = {\n      header: 'FIRMWARE_HEADER',\n      platform: hardwarePlatform,\n      backdoorType,\n      signature,\n      payload: crypto.randomBytes(512).toString('hex'),\n      checksum: crypto.createHash('sha256').update(signature).digest('hex')\n    };\n    \n    return Buffer.from(JSON.stringify(firmware, null, 2));\n  }\n\n  private installRSAPersistence(targetSystem: string, evidenceDir: string): void {\n    console.log(`üîß Installing RSA Persistence on ${targetSystem}...`);\n    \n    const persistenceConfig = {\n      targetSystem,\n      persistenceMethod: 'ROOT_OF_TRUST_MODIFICATION',\n      activationTriggers: ['SYSTEM_BOOT', 'SECURE_BOOT_VERIFICATION', 'CRYPTOGRAPHIC_OPERATION'],\n      stealthLevel: 'MILITARY_GRADE',\n      timestamp: new Date().toISOString(),\n      evidenceLocation: evidenceDir\n    };\n\n    const configFile = path.join(evidenceDir, 'persistence_config.json');\n    fs.writeFileSync(configFile, JSON.stringify(persistenceConfig, null, 2));\n\n    // Simulate persistence installation\n    if (targetSystem.includes('macos')) {\n      this.simulateMacOSPersistence(evidenceDir);\n    } else if (targetSystem.includes('windows')) {\n      this.simulateWindowsPersistence(evidenceDir);\n    } else if (targetSystem.includes('linux')) {\n      this.simulateLinuxPersistence(evidenceDir);\n    }\n  }\n\n  private simulateMacOSPersistence(evidenceDir: string): void {\n    const persistencePaths = [\n      '/Library/LaunchDaemons/com.apple.security.backdoor.plist',\n      '/System/Library/Extensions/AppleRSAHook.kext',\n      '/usr/local/bin/rsa_monitor'\n    ];\n\n    const persistenceFile = path.join(evidenceDir, 'macos_persistence.json');\n    fs.writeFileSync(persistenceFile, JSON.stringify({\n      persistencePaths,\n      installationMethod: 'LAUNCH_DAEMON + KERNEL_EXTENSION',\n      persistenceLevel: 'SURVIVES_SIP_DISABLE',\n      detectionEvasion: ['CODE_SIGNING_BYPASS', 'GATEKEEPER_DISABLE', 'AMFI_DISABLE']\n    }, null, 2));\n  }\n\n  private simulateWindowsPersistence(evidenceDir: string): void {\n    const persistencePaths = [\n      'HKLM\\\\SYSTEM\\\\CurrentControlSet\\\\Services\\\\RSAService',\n      'C:\\\\Windows\\\\System32\\\\drivers\\\\rsahook.sys',\n      'C:\\\\Windows\\\\Tasks\\\\RSAMonitor.job'\n    ];\n\n    const persistenceFile = path.join(evidenceDir, 'windows_persistence.json');\n    fs.writeFileSync(persistenceFile, JSON.stringify({\n      persistencePaths,\n      installationMethod: 'SERVICE + DRIVER + SCHEDULED_TASK',\n      persistenceLevel: 'SURVIVES_SFC_SCAN',\n      detectionEvasion: ['WINDOWS_DEFENDER_EXCLUSION', 'ANTIVIRUS_SIGNATURE_WHITELIST']\n    }, null, 2));\n  }\n\n  private simulateLinuxPersistence(evidenceDir: string): void {\n    const persistencePaths = [\n      '/etc/systemd/system/rsa-service.service',\n      '/etc/rc.local',\n      '/etc/ld.so.preload',\n      '/usr/lib/modules-load.d/rsa.conf'\n    ];\n\n    const persistenceFile = path.join(evidenceDir, 'linux_persistence.json');\n    fs.writeFileSync(persistenceFile, JSON.stringify({\n      persistencePaths,\n      installationMethod: 'SYSTEMD_SERVICE + KERNEL_MODULE',\n      persistenceLevel: 'SURVIVES_GRUB_VERIFICATION',\n      detectionEvasion: ['SELINUX_DISABLE', 'APPARMOR_BYPASS', 'AUDITD_DISABLE']\n    }, null, 2));\n  }\n}"],"mappings":"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","ignoreList":[]}