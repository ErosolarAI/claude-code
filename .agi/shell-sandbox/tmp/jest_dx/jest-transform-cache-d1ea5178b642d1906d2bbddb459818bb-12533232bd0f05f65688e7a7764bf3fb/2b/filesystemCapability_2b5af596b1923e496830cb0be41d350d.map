{"version":3,"names":["_fileTools","require","FilesystemCapabilityModule","id","options","constructor","create","context","workingDir","description","toolSuite","tools","createFileTools","metadata","exports"],"sources":["filesystemCapability.ts"],"sourcesContent":["import type { CapabilityContribution, CapabilityContext, CapabilityModule } from '../runtime/agentHost.js';\nimport { createFileTools } from '../tools/fileTools.js';\n\nexport interface FilesystemCapabilityOptions {\n  workingDir?: string;\n  id?: string;\n  description?: string;\n}\n\nexport class FilesystemCapabilityModule implements CapabilityModule {\n  readonly id = 'capability.filesystem';\n  private readonly options: FilesystemCapabilityOptions;\n\n  constructor(options: FilesystemCapabilityOptions = {}) {\n    this.options = options;\n  }\n\n  async create(context: CapabilityContext): Promise<CapabilityContribution> {\n    const workingDir = this.options.workingDir ?? context.workingDir;\n    return {\n      id: this.options.id ?? 'filesystem.tools.local',\n      description: this.options.description ?? 'Local file system access with deterministic diff summaries.',\n      toolSuite: {\n        id: 'fs',\n        description: 'File operations',\n        tools: createFileTools(workingDir),\n      },\n      metadata: {\n        workingDir,\n      },\n    };\n  }\n}\n"],"mappings":";;;;;;AACA,IAAAA,UAAA,GAAAC,OAAA;AAQO,MAAMC,0BAA0B,CAA6B;EACzDC,EAAE,GAAG,uBAAuB;EACpBC,OAAO;EAExBC,WAAWA,CAACD,OAAoC,GAAG,CAAC,CAAC,EAAE;IACrD,IAAI,CAACA,OAAO,GAAGA,OAAO;EACxB;EAEA,MAAME,MAAMA,CAACC,OAA0B,EAAmC;IACxE,MAAMC,UAAU,GAAG,IAAI,CAACJ,OAAO,CAACI,UAAU,IAAID,OAAO,CAACC,UAAU;IAChE,OAAO;MACLL,EAAE,EAAE,IAAI,CAACC,OAAO,CAACD,EAAE,IAAI,wBAAwB;MAC/CM,WAAW,EAAE,IAAI,CAACL,OAAO,CAACK,WAAW,IAAI,6DAA6D;MACtGC,SAAS,EAAE;QACTP,EAAE,EAAE,IAAI;QACRM,WAAW,EAAE,iBAAiB;QAC9BE,KAAK,EAAE,IAAAC,0BAAe,EAACJ,UAAU;MACnC,CAAC;MACDK,QAAQ,EAAE;QACRL;MACF;IACF,CAAC;EACH;AACF;AAACM,OAAA,CAAAZ,0BAAA,GAAAA,0BAAA","ignoreList":[]}