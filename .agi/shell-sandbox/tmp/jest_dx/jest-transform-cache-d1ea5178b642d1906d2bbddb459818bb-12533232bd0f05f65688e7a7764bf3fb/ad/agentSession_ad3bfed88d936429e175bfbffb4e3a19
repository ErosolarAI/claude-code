978806e123c112d57bd5d7f732ce5419
/* istanbul ignore next */
function cov_a6gegww43() {
  var path = "/Volumes/4TB/GitHub/src/runtime/agentSession.ts";
  var hash = "5181f1979a4239de0b1b5bf32aa21868a1bf0422";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/Volumes/4TB/GitHub/src/runtime/agentSession.ts",
    statementMap: {
      "0": {
        start: {
          line: 19,
          column: 38
        },
        end: {
          line: 23,
          column: 61
        }
      },
      "1": {
        start: {
          line: 61,
          column: 4
        },
        end: {
          line: 61,
          column: 37
        }
      },
      "2": {
        start: {
          line: 62,
          column: 26
        },
        end: {
          line: 62,
          column: 89
        }
      },
      "3": {
        start: {
          line: 63,
          column: 46
        },
        end: {
          line: 68,
          column: 5
        }
      },
      "4": {
        start: {
          line: 71,
          column: 27
        },
        end: {
          line: 71,
          column: 84
        }
      },
      "5": {
        start: {
          line: 73,
          column: 23
        },
        end: {
          line: 73,
          column: 72
        }
      },
      "6": {
        start: {
          line: 74,
          column: 24
        },
        end: {
          line: 81,
          column: 5
        }
      },
      "7": {
        start: {
          line: 83,
          column: 4
        },
        end: {
          line: 92,
          column: 6
        }
      },
      "8": {
        start: {
          line: 100,
          column: 57
        },
        end: {
          line: 150,
          column: 5
        }
      },
      "9": {
        start: {
          line: 101,
          column: 6
        },
        end: {
          line: 149,
          column: 7
        }
      },
      "10": {
        start: {
          line: 103,
          column: 25
        },
        end: {
          line: 108,
          column: 10
        }
      },
      "11": {
        start: {
          line: 111,
          column: 55
        },
        end: {
          line: 116,
          column: 9
        }
      },
      "12": {
        start: {
          line: 118,
          column: 27
        },
        end: {
          line: 123,
          column: 10
        }
      },
      "13": {
        start: {
          line: 126,
          column: 27
        },
        end: {
          line: 126,
          column: 105
        }
      },
      "14": {
        start: {
          line: 126,
          column: 49
        },
        end: {
          line: 126,
          column: 70
        }
      },
      "15": {
        start: {
          line: 126,
          column: 89
        },
        end: {
          line: 126,
          column: 104
        }
      },
      "16": {
        start: {
          line: 128,
          column: 8
        },
        end: {
          line: 130,
          column: 9
        }
      },
      "17": {
        start: {
          line: 129,
          column: 10
        },
        end: {
          line: 129,
          column: 45
        }
      },
      "18": {
        start: {
          line: 133,
          column: 23
        },
        end: {
          line: 133,
          column: 54
        }
      },
      "19": {
        start: {
          line: 136,
          column: 29
        },
        end: {
          line: 136,
          column: 31
        }
      },
      "20": {
        start: {
          line: 137,
          column: 8
        },
        end: {
          line: 143,
          column: 9
        }
      },
      "21": {
        start: {
          line: 138,
          column: 25
        },
        end: {
          line: 140,
          column: 79
        }
      },
      "22": {
        start: {
          line: 142,
          column: 10
        },
        end: {
          line: 142,
          column: 66
        }
      },
      "23": {
        start: {
          line: 145,
          column: 8
        },
        end: {
          line: 145,
          column: 63
        }
      },
      "24": {
        start: {
          line: 148,
          column: 8
        },
        end: {
          line: 148,
          column: 101
        }
      },
      "25": {
        start: {
          line: 152,
          column: 4
        },
        end: {
          line: 155,
          column: 28
        }
      },
      "26": {
        start: {
          line: 160,
          column: 4
        },
        end: {
          line: 160,
          column: 30
        }
      },
      "27": {
        start: {
          line: 164,
          column: 4
        },
        end: {
          line: 164,
          column: 36
        }
      },
      "28": {
        start: {
          line: 168,
          column: 4
        },
        end: {
          line: 168,
          column: 47
        }
      },
      "29": {
        start: {
          line: 172,
          column: 4
        },
        end: {
          line: 172,
          column: 34
        }
      },
      "30": {
        start: {
          line: 176,
          column: 4
        },
        end: {
          line: 176,
          column: 34
        }
      },
      "31": {
        start: {
          line: 185,
          column: 21
        },
        end: {
          line: 185,
          column: 64
        }
      },
      "32": {
        start: {
          line: 186,
          column: 25
        },
        end: {
          line: 186,
          column: 97
        }
      },
      "33": {
        start: {
          line: 188,
          column: 4
        },
        end: {
          line: 195,
          column: 7
        }
      },
      "34": {
        start: {
          line: 200,
          column: 4
        },
        end: {
          line: 204,
          column: 6
        }
      },
      "35": {
        start: {
          line: 208,
          column: 21
        },
        end: {
          line: 208,
          column: 79
        }
      },
      "36": {
        start: {
          line: 209,
          column: 4
        },
        end: {
          line: 209,
          column: 51
        }
      },
      "37": {
        start: {
          line: 211,
          column: 4
        },
        end: {
          line: 214,
          column: 6
        }
      },
      "38": {
        start: {
          line: 215,
          column: 4
        },
        end: {
          line: 219,
          column: 6
        }
      },
      "39": {
        start: {
          line: 220,
          column: 4
        },
        end: {
          line: 227,
          column: 6
        }
      },
      "40": {
        start: {
          line: 228,
          column: 4
        },
        end: {
          line: 228,
          column: 36
        }
      },
      "41": {
        start: {
          line: 232,
          column: 4
        },
        end: {
          line: 232,
          column: 37
        }
      },
      "42": {
        start: {
          line: 236,
          column: 4
        },
        end: {
          line: 236,
          column: 33
        }
      },
      "43": {
        start: {
          line: 244,
          column: 2
        },
        end: {
          line: 255,
          column: 3
        }
      },
      "44": {
        start: {
          line: 246,
          column: 6
        },
        end: {
          line: 246,
          column: 40
        }
      },
      "45": {
        start: {
          line: 248,
          column: 6
        },
        end: {
          line: 248,
          column: 45
        }
      },
      "46": {
        start: {
          line: 250,
          column: 6
        },
        end: {
          line: 250,
          column: 70
        }
      },
      "47": {
        start: {
          line: 252,
          column: 6
        },
        end: {
          line: 252,
          column: 42
        }
      },
      "48": {
        start: {
          line: 254,
          column: 6
        },
        end: {
          line: 254,
          column: 16
        }
      },
      "49": {
        start: {
          line: 262,
          column: 27
        },
        end: {
          line: 262,
          column: 29
        }
      },
      "50": {
        start: {
          line: 263,
          column: 15
        },
        end: {
          line: 263,
          column: 17
        }
      },
      "51": {
        start: {
          line: 265,
          column: 2
        },
        end: {
          line: 273,
          column: 3
        }
      },
      "52": {
        start: {
          line: 266,
          column: 20
        },
        end: {
          line: 266,
          column: 51
        }
      },
      "53": {
        start: {
          line: 267,
          column: 4
        },
        end: {
          line: 271,
          column: 5
        }
      },
      "54": {
        start: {
          line: 268,
          column: 6
        },
        end: {
          line: 268,
          column: 33
        }
      },
      "55": {
        start: {
          line: 269,
          column: 6
        },
        end: {
          line: 269,
          column: 21
        }
      },
      "56": {
        start: {
          line: 270,
          column: 6
        },
        end: {
          line: 270,
          column: 15
        }
      },
      "57": {
        start: {
          line: 272,
          column: 4
        },
        end: {
          line: 272,
          column: 46
        }
      },
      "58": {
        start: {
          line: 275,
          column: 2
        },
        end: {
          line: 277,
          column: 3
        }
      },
      "59": {
        start: {
          line: 276,
          column: 4
        },
        end: {
          line: 276,
          column: 31
        }
      },
      "60": {
        start: {
          line: 279,
          column: 2
        },
        end: {
          line: 279,
          column: 16
        }
      },
      "61": {
        start: {
          line: 283,
          column: 2
        },
        end: {
          line: 293,
          column: 4
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 60,
            column: 2
          },
          end: {
            line: 60,
            column: 3
          }
        },
        loc: {
          start: {
            line: 60,
            column: 44
          },
          end: {
            line: 93,
            column: 3
          }
        },
        line: 60
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 98,
            column: 2
          },
          end: {
            line: 98,
            column: 3
          }
        },
        loc: {
          start: {
            line: 98,
            column: 102
          },
          end: {
            line: 156,
            column: 3
          }
        },
        line: 98
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 100,
            column: 57
          },
          end: {
            line: 100,
            column: 58
          }
        },
        loc: {
          start: {
            line: 100,
            column: 100
          },
          end: {
            line: 150,
            column: 5
          }
        },
        line: 100
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 126,
            column: 40
          },
          end: {
            line: 126,
            column: 41
          }
        },
        loc: {
          start: {
            line: 126,
            column: 49
          },
          end: {
            line: 126,
            column: 70
          }
        },
        line: 126
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 126,
            column: 79
          },
          end: {
            line: 126,
            column: 80
          }
        },
        loc: {
          start: {
            line: 126,
            column: 89
          },
          end: {
            line: 126,
            column: 104
          }
        },
        line: 126
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 159,
            column: 2
          },
          end: {
            line: 159,
            column: 3
          }
        },
        loc: {
          start: {
            line: 159,
            column: 29
          },
          end: {
            line: 161,
            column: 3
          }
        },
        line: 159
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 163,
            column: 2
          },
          end: {
            line: 163,
            column: 3
          }
        },
        loc: {
          start: {
            line: 163,
            column: 45
          },
          end: {
            line: 165,
            column: 3
          }
        },
        line: 163
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 167,
            column: 2
          },
          end: {
            line: 167,
            column: 3
          }
        },
        loc: {
          start: {
            line: 167,
            column: 40
          },
          end: {
            line: 169,
            column: 3
          }
        },
        line: 167
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 171,
            column: 2
          },
          end: {
            line: 171,
            column: 3
          }
        },
        loc: {
          start: {
            line: 171,
            column: 33
          },
          end: {
            line: 173,
            column: 3
          }
        },
        line: 171
      },
      "9": {
        name: "(anonymous_9)",
        decl: {
          start: {
            line: 175,
            column: 2
          },
          end: {
            line: 175,
            column: 3
          }
        },
        loc: {
          start: {
            line: 175,
            column: 42
          },
          end: {
            line: 177,
            column: 3
          }
        },
        line: 175
      },
      "10": {
        name: "(anonymous_10)",
        decl: {
          start: {
            line: 179,
            column: 2
          },
          end: {
            line: 179,
            column: 3
          }
        },
        loc: {
          start: {
            line: 184,
            column: 18
          },
          end: {
            line: 196,
            column: 3
          }
        },
        line: 184
      },
      "11": {
        name: "(anonymous_11)",
        decl: {
          start: {
            line: 198,
            column: 2
          },
          end: {
            line: 198,
            column: 3
          }
        },
        loc: {
          start: {
            line: 198,
            column: 53
          },
          end: {
            line: 205,
            column: 3
          }
        },
        line: 198
      },
      "12": {
        name: "(anonymous_12)",
        decl: {
          start: {
            line: 207,
            column: 2
          },
          end: {
            line: 207,
            column: 3
          }
        },
        loc: {
          start: {
            line: 207,
            column: 82
          },
          end: {
            line: 229,
            column: 3
          }
        },
        line: 207
      },
      "13": {
        name: "(anonymous_13)",
        decl: {
          start: {
            line: 231,
            column: 2
          },
          end: {
            line: 231,
            column: 3
          }
        },
        loc: {
          start: {
            line: 231,
            column: 39
          },
          end: {
            line: 233,
            column: 3
          }
        },
        line: 231
      },
      "14": {
        name: "(anonymous_14)",
        decl: {
          start: {
            line: 235,
            column: 2
          },
          end: {
            line: 235,
            column: 3
          }
        },
        loc: {
          start: {
            line: 235,
            column: 32
          },
          end: {
            line: 237,
            column: 3
          }
        },
        line: 235
      },
      "15": {
        name: "serializeMessage",
        decl: {
          start: {
            line: 243,
            column: 9
          },
          end: {
            line: 243,
            column: 25
          }
        },
        loc: {
          start: {
            line: 243,
            column: 64
          },
          end: {
            line: 256,
            column: 1
          }
        },
        line: 243
      },
      "16": {
        name: "chunkMessages",
        decl: {
          start: {
            line: 261,
            column: 9
          },
          end: {
            line: 261,
            column: 22
          }
        },
        loc: {
          start: {
            line: 261,
            column: 81
          },
          end: {
            line: 280,
            column: 1
          }
        },
        line: 261
      },
      "17": {
        name: "asProviderConfig",
        decl: {
          start: {
            line: 282,
            column: 9
          },
          end: {
            line: 282,
            column: 25
          }
        },
        loc: {
          start: {
            line: 282,
            column: 69
          },
          end: {
            line: 294,
            column: 1
          }
        },
        line: 282
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 73,
            column: 23
          },
          end: {
            line: 73,
            column: 72
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 73,
            column: 44
          },
          end: {
            line: 73,
            column: 67
          }
        }, {
          start: {
            line: 73,
            column: 70
          },
          end: {
            line: 73,
            column: 72
          }
        }],
        line: 73
      },
      "1": {
        loc: {
          start: {
            line: 128,
            column: 8
          },
          end: {
            line: 130,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 128,
            column: 8
          },
          end: {
            line: 130,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 128
      },
      "2": {
        loc: {
          start: {
            line: 138,
            column: 25
          },
          end: {
            line: 140,
            column: 79
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 139,
            column: 14
          },
          end: {
            line: 139,
            column: 167
          }
        }, {
          start: {
            line: 140,
            column: 14
          },
          end: {
            line: 140,
            column: 79
          }
        }],
        line: 138
      },
      "3": {
        loc: {
          start: {
            line: 145,
            column: 15
          },
          end: {
            line: 145,
            column: 62
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 145,
            column: 15
          },
          end: {
            line: 145,
            column: 29
          }
        }, {
          start: {
            line: 145,
            column: 33
          },
          end: {
            line: 145,
            column: 62
          }
        }],
        line: 145
      },
      "4": {
        loc: {
          start: {
            line: 148,
            column: 41
          },
          end: {
            line: 148,
            column: 97
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 148,
            column: 66
          },
          end: {
            line: 148,
            column: 79
          }
        }, {
          start: {
            line: 148,
            column: 82
          },
          end: {
            line: 148,
            column: 97
          }
        }],
        line: 148
      },
      "5": {
        loc: {
          start: {
            line: 168,
            column: 11
          },
          end: {
            line: 168,
            column: 46
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 168,
            column: 11
          },
          end: {
            line: 168,
            column: 38
          }
        }, {
          start: {
            line: 168,
            column: 42
          },
          end: {
            line: 168,
            column: 46
          }
        }],
        line: 168
      },
      "6": {
        loc: {
          start: {
            line: 186,
            column: 26
          },
          end: {
            line: 186,
            column: 89
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 186,
            column: 26
          },
          end: {
            line: 186,
            column: 48
          }
        }, {
          start: {
            line: 186,
            column: 52
          },
          end: {
            line: 186,
            column: 89
          }
        }],
        line: 186
      },
      "7": {
        loc: {
          start: {
            line: 190,
            column: 19
          },
          end: {
            line: 190,
            column: 64
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 190,
            column: 19
          },
          end: {
            line: 190,
            column: 38
          }
        }, {
          start: {
            line: 190,
            column: 42
          },
          end: {
            line: 190,
            column: 64
          }
        }],
        line: 190
      },
      "8": {
        loc: {
          start: {
            line: 244,
            column: 2
          },
          end: {
            line: 255,
            column: 3
          }
        },
        type: "switch",
        locations: [{
          start: {
            line: 245,
            column: 4
          },
          end: {
            line: 246,
            column: 40
          }
        }, {
          start: {
            line: 247,
            column: 4
          },
          end: {
            line: 248,
            column: 45
          }
        }, {
          start: {
            line: 249,
            column: 4
          },
          end: {
            line: 250,
            column: 70
          }
        }, {
          start: {
            line: 251,
            column: 4
          },
          end: {
            line: 252,
            column: 42
          }
        }, {
          start: {
            line: 253,
            column: 4
          },
          end: {
            line: 254,
            column: 16
          }
        }],
        line: 244
      },
      "9": {
        loc: {
          start: {
            line: 250,
            column: 21
          },
          end: {
            line: 250,
            column: 46
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 250,
            column: 21
          },
          end: {
            line: 250,
            column: 33
          }
        }, {
          start: {
            line: 250,
            column: 37
          },
          end: {
            line: 250,
            column: 46
          }
        }],
        line: 250
      },
      "10": {
        loc: {
          start: {
            line: 266,
            column: 20
          },
          end: {
            line: 266,
            column: 51
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 266,
            column: 29
          },
          end: {
            line: 266,
            column: 43
          }
        }, {
          start: {
            line: 266,
            column: 46
          },
          end: {
            line: 266,
            column: 51
          }
        }],
        line: 266
      },
      "11": {
        loc: {
          start: {
            line: 267,
            column: 4
          },
          end: {
            line: 271,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 267,
            column: 4
          },
          end: {
            line: 271,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 267
      },
      "12": {
        loc: {
          start: {
            line: 267,
            column: 8
          },
          end: {
            line: 267,
            column: 67
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 267,
            column: 8
          },
          end: {
            line: 267,
            column: 14
          }
        }, {
          start: {
            line: 267,
            column: 18
          },
          end: {
            line: 267,
            column: 67
          }
        }],
        line: 267
      },
      "13": {
        loc: {
          start: {
            line: 272,
            column: 14
          },
          end: {
            line: 272,
            column: 45
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 272,
            column: 23
          },
          end: {
            line: 272,
            column: 37
          }
        }, {
          start: {
            line: 272,
            column: 40
          },
          end: {
            line: 272,
            column: 45
          }
        }],
        line: 272
      },
      "14": {
        loc: {
          start: {
            line: 275,
            column: 2
          },
          end: {
            line: 277,
            column: 3
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 275,
            column: 2
          },
          end: {
            line: 277,
            column: 3
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 275
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0,
      "52": 0,
      "53": 0,
      "54": 0,
      "55": 0,
      "56": 0,
      "57": 0,
      "58": 0,
      "59": 0,
      "60": 0,
      "61": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0, 0, 0, 0],
      "9": [0, 0],
      "10": [0, 0],
      "11": [0, 0],
      "12": [0, 0],
      "13": [0, 0],
      "14": [0, 0]
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "5181f1979a4239de0b1b5bf32aa21868a1bf0422"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_a6gegww43 = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_a6gegww43();
import { resolveProfileConfig } from '../config.js';
import { createDefaultToolRuntime } from '../core/toolRuntime.js';
import { createProvider } from '../providers/providerFactory.js';
import { AgentRuntime } from '../core/agent.js';
import { registerDefaultProviderPlugins } from '../plugins/providers/index.js';
import { createDefaultContextManager } from '../core/contextManager.js';
/**
 * System prompt for context summarization
 * Instructs the LLM to create concise summaries of conversation history
 */
const CONTEXT_CLEANUP_SYSTEM_PROMPT =
/* istanbul ignore next */
(cov_a6gegww43().s[0]++, `Summarize earlier conversation logs to preserve context while staying within token limits.
- Merge any prior summary with the new chunk.
- Capture decisions, tasks, file changes/paths, tool observations, and open questions.
- Separate completed work from follow-ups; keep it under ~180 words with tight bullets.
- Respond in plain Markdown only (no tool or command calls).`);
export class AgentSession {
  state;
  constructor(options) {
    /* istanbul ignore next */
    cov_a6gegww43().f[0]++;
    cov_a6gegww43().s[1]++;
    registerDefaultProviderPlugins();
    const profileConfig =
    /* istanbul ignore next */
    (cov_a6gegww43().s[2]++, resolveProfileConfig(options.profile, options.workspaceContext));
    const toolContext =
    /* istanbul ignore next */
    (cov_a6gegww43().s[3]++, {
      profileName: profileConfig.profile,
      provider: profileConfig.provider,
      model: profileConfig.model,
      workspaceContext: options.workspaceContext
    });

    // Create context manager with LLM-based summarization callback
    const contextManager =
    /* istanbul ignore next */
    (cov_a6gegww43().s[4]++, this.createContextManagerWithSummarization(profileConfig));
    const toolSuites =
    /* istanbul ignore next */
    (cov_a6gegww43().s[5]++, options.toolSuites ?
    /* istanbul ignore next */
    (cov_a6gegww43().b[0][0]++, [...options.toolSuites]) :
    /* istanbul ignore next */
    (cov_a6gegww43().b[0][1]++, []));
    const toolRuntime =
    /* istanbul ignore next */
    (cov_a6gegww43().s[6]++, createDefaultToolRuntime(toolContext, toolSuites, {
      observer: options.toolObserver,
      contextManager // Pass context manager for output truncation
    }));
    /* istanbul ignore next */
    cov_a6gegww43().s[7]++;
    this.state = {
      profile: options.profile,
      workspaceContext: options.workspaceContext,
      profileConfig,
      toolContext,
      toolRuntime,
      toolSuites,
      toolObserver: options.toolObserver,
      contextManager
    };
  }

  /**
   * Creates a context manager with LLM-based summarization support
   */
  createContextManagerWithSummarization(profileConfig) {
    /* istanbul ignore next */
    cov_a6gegww43().f[1]++;
    cov_a6gegww43().s[8]++;
    // Create summarization callback that doesn't reference this.state
    const summarizationCallback = async messages => {
      /* istanbul ignore next */
      cov_a6gegww43().f[2]++;
      cov_a6gegww43().s[9]++;
      try {
        // Create a lightweight agent for summarization
        const provider =
        /* istanbul ignore next */
        (cov_a6gegww43().s[10]++, createProvider({
          provider: profileConfig.provider,
          model: profileConfig.model,
          temperature: 0,
          // Use deterministic summarization
          maxTokens: 500 // Keep summaries concise
        }));

        // Create empty tool context for summarization (no tools needed)
        const emptyToolContext =
        /* istanbul ignore next */
        (cov_a6gegww43().s[11]++, {
          profileName: profileConfig.profile,
          provider: profileConfig.provider,
          model: profileConfig.model,
          workspaceContext: null
        });
        const summarizer =
        /* istanbul ignore next */
        (cov_a6gegww43().s[12]++, new AgentRuntime({
          provider,
          toolRuntime: createDefaultToolRuntime(emptyToolContext, []),
          // No tools for summarization
          systemPrompt: CONTEXT_CLEANUP_SYSTEM_PROMPT,
          callbacks: {} // No callbacks needed for summarization
        }));

        // Serialize messages into chunks
        const serialized =
        /* istanbul ignore next */
        (cov_a6gegww43().s[13]++, messages.map(msg => {
          /* istanbul ignore next */
          cov_a6gegww43().f[3]++;
          cov_a6gegww43().s[14]++;
          return serializeMessage(msg);
        }).filter(text => {
          /* istanbul ignore next */
          cov_a6gegww43().f[4]++;
          cov_a6gegww43().s[15]++;
          return text.length > 0;
        }));
        /* istanbul ignore next */
        cov_a6gegww43().s[16]++;
        if (!serialized.length) {
          /* istanbul ignore next */
          cov_a6gegww43().b[1][0]++;
          cov_a6gegww43().s[17]++;
          return '[No content to summarize]';
        } else
        /* istanbul ignore next */
        {
          cov_a6gegww43().b[1][1]++;
        }

        // Chunk messages to avoid overwhelming the summarizer
        const chunks =
        /* istanbul ignore next */
        (cov_a6gegww43().s[18]++, chunkMessages(serialized, 6000));

        // Iteratively summarize chunks
        let runningSummary =
        /* istanbul ignore next */
        (cov_a6gegww43().s[19]++, '');
        /* istanbul ignore next */
        cov_a6gegww43().s[20]++;
        for (const chunk of chunks) {
          const prompt =
          /* istanbul ignore next */
          (cov_a6gegww43().s[21]++, runningSummary ?
          /* istanbul ignore next */
          (cov_a6gegww43().b[2][0]++, `Existing summary:\n${runningSummary}\n\nNew conversation chunk:\n${chunk}\n\nMerge the chunk into the running summary, keeping it concise (<200 words).`) :
          /* istanbul ignore next */
          (cov_a6gegww43().b[2][1]++, `Summarize this conversation concisely (<200 words):\n\n${chunk}`));
          /* istanbul ignore next */
          cov_a6gegww43().s[22]++;
          runningSummary = (await summarizer.send(prompt)).trim();
        }
        /* istanbul ignore next */
        cov_a6gegww43().s[23]++;
        return /* istanbul ignore next */(cov_a6gegww43().b[3][0]++, runningSummary) ||
        /* istanbul ignore next */
        (cov_a6gegww43().b[3][1]++, '[Summary generation failed]');
      } catch (error) {
        /* istanbul ignore next */
        cov_a6gegww43().s[24]++;
        // If summarization fails, return a fallback message
        return `[Summarization failed: ${error instanceof Error ?
        /* istanbul ignore next */
        (cov_a6gegww43().b[4][0]++, error.message) :
        /* istanbul ignore next */
        (cov_a6gegww43().b[4][1]++, 'Unknown error')}]`;
      }
    };
    /* istanbul ignore next */
    cov_a6gegww43().s[25]++;
    return createDefaultContextManager({
      useLLMSummarization: true,
      summarizationCallback
    }, profileConfig.model);
  }
  get profile() {
    /* istanbul ignore next */
    cov_a6gegww43().f[5]++;
    cov_a6gegww43().s[26]++;
    return this.state.profile;
  }
  get profileConfig() {
    /* istanbul ignore next */
    cov_a6gegww43().f[6]++;
    cov_a6gegww43().s[27]++;
    return this.state.profileConfig;
  }
  get workspaceContext() {
    /* istanbul ignore next */
    cov_a6gegww43().f[7]++;
    cov_a6gegww43().s[28]++;
    return /* istanbul ignore next */(cov_a6gegww43().b[5][0]++, this.state.workspaceContext) ??
    /* istanbul ignore next */
    (cov_a6gegww43().b[5][1]++, null);
  }
  get toolRuntime() {
    /* istanbul ignore next */
    cov_a6gegww43().f[8]++;
    cov_a6gegww43().s[29]++;
    return this.state.toolRuntime;
  }
  get toolContext() {
    /* istanbul ignore next */
    cov_a6gegww43().f[9]++;
    cov_a6gegww43().s[30]++;
    return this.state.toolContext;
  }
  createAgent(selection, callbacks, toolRuntimeOverride, options) {
    /* istanbul ignore next */
    cov_a6gegww43().f[10]++;
    const provider =
    /* istanbul ignore next */
    (cov_a6gegww43().s[31]++, createProvider(asProviderConfig(selection)));
    const systemPrompt =
    /* istanbul ignore next */
    (cov_a6gegww43().s[32]++, (
    /* istanbul ignore next */
    (cov_a6gegww43().b[6][0]++, selection.systemPrompt) ??
    /* istanbul ignore next */
    (cov_a6gegww43().b[6][1]++, this.state.profileConfig.systemPrompt)).trim());
    /* istanbul ignore next */
    cov_a6gegww43().s[33]++;
    return new AgentRuntime({
      provider,
      toolRuntime:
      /* istanbul ignore next */
      (cov_a6gegww43().b[7][0]++, toolRuntimeOverride) ??
      /* istanbul ignore next */
      (cov_a6gegww43().b[7][1]++, this.state.toolRuntime),
      systemPrompt,
      callbacks,
      contextManager: this.state.contextManager,
      // Pass context manager for history pruning
      explainEdits: options?.explainEdits
    });
  }
  updateToolContext(selection) {
    /* istanbul ignore next */
    cov_a6gegww43().f[11]++;
    cov_a6gegww43().s[34]++;
    // Create new context with updated provider/model (properties are readonly)
    this.state.toolContext = {
      ...this.state.toolContext,
      provider: selection.provider,
      model: selection.model
    };
  }
  refreshWorkspaceContext(workspaceContext) {
    /* istanbul ignore next */
    cov_a6gegww43().f[12]++;
    const resolved =
    /* istanbul ignore next */
    (cov_a6gegww43().s[35]++, resolveProfileConfig(this.state.profile, workspaceContext));
    /* istanbul ignore next */
    cov_a6gegww43().s[36]++;
    this.state.workspaceContext = workspaceContext;
    // Create new context with updated workspace (properties are readonly)
    /* istanbul ignore next */
    cov_a6gegww43().s[37]++;
    this.state.toolContext = {
      ...this.state.toolContext,
      workspaceContext
    };
    /* istanbul ignore next */
    cov_a6gegww43().s[38]++;
    this.state.profileConfig = {
      ...this.state.profileConfig,
      systemPrompt: resolved.systemPrompt,
      rulebook: resolved.rulebook
    };
    /* istanbul ignore next */
    cov_a6gegww43().s[39]++;
    this.state.toolRuntime = createDefaultToolRuntime(this.state.toolContext, this.state.toolSuites, {
      observer: this.state.toolObserver,
      contextManager: this.state.contextManager // Preserve context manager
    });
    /* istanbul ignore next */
    cov_a6gegww43().s[40]++;
    return this.state.profileConfig;
  }
  get contextManager() {
    /* istanbul ignore next */
    cov_a6gegww43().f[13]++;
    cov_a6gegww43().s[41]++;
    return this.state.contextManager;
  }
  get toolSuites() {
    /* istanbul ignore next */
    cov_a6gegww43().f[14]++;
    cov_a6gegww43().s[42]++;
    return this.state.toolSuites;
  }
}

/**
 * Serialize a message for summarization
 */
function serializeMessage(message) {
  /* istanbul ignore next */
  cov_a6gegww43().f[15]++;
  cov_a6gegww43().s[43]++;
  switch (message.role) {
    case 'user':
      /* istanbul ignore next */
      cov_a6gegww43().b[8][0]++;
      cov_a6gegww43().s[44]++;
      return `User: ${message.content}`;
    case 'assistant':
      /* istanbul ignore next */
      cov_a6gegww43().b[8][1]++;
      cov_a6gegww43().s[45]++;
      return `Assistant: ${message.content}`;
    case 'tool':
      /* istanbul ignore next */
      cov_a6gegww43().b[8][2]++;
      cov_a6gegww43().s[46]++;
      return `Tool(${
      /* istanbul ignore next */
      (cov_a6gegww43().b[9][0]++, message.name) ??
      /* istanbul ignore next */
      (cov_a6gegww43().b[9][1]++, 'unknown')}): ${message.content}`;
    case 'system':
      /* istanbul ignore next */
      cov_a6gegww43().b[8][3]++;
      cov_a6gegww43().s[47]++;
      return `System: ${message.content}`;
    default:
      /* istanbul ignore next */
      cov_a6gegww43().b[8][4]++;
      cov_a6gegww43().s[48]++;
      return '';
  }
}

/**
 * Chunk messages by character count
 */
function chunkMessages(serialized, maxCharsPerChunk) {
  /* istanbul ignore next */
  cov_a6gegww43().f[16]++;
  const chunks =
  /* istanbul ignore next */
  (cov_a6gegww43().s[49]++, []);
  let buffer =
  /* istanbul ignore next */
  (cov_a6gegww43().s[50]++, '');
  /* istanbul ignore next */
  cov_a6gegww43().s[51]++;
  for (const entry of serialized) {
    const segment =
    /* istanbul ignore next */
    (cov_a6gegww43().s[52]++, buffer ?
    /* istanbul ignore next */
    (cov_a6gegww43().b[10][0]++, `\n\n${entry}`) :
    /* istanbul ignore next */
    (cov_a6gegww43().b[10][1]++, entry));
    /* istanbul ignore next */
    cov_a6gegww43().s[53]++;
    if (
    /* istanbul ignore next */
    (cov_a6gegww43().b[12][0]++, buffer) &&
    /* istanbul ignore next */
    (cov_a6gegww43().b[12][1]++, buffer.length + segment.length > maxCharsPerChunk)) {
      /* istanbul ignore next */
      cov_a6gegww43().b[11][0]++;
      cov_a6gegww43().s[54]++;
      chunks.push(buffer.trim());
      /* istanbul ignore next */
      cov_a6gegww43().s[55]++;
      buffer = entry;
      /* istanbul ignore next */
      cov_a6gegww43().s[56]++;
      continue;
    } else
    /* istanbul ignore next */
    {
      cov_a6gegww43().b[11][1]++;
    }
    cov_a6gegww43().s[57]++;
    buffer += buffer ?
    /* istanbul ignore next */
    (cov_a6gegww43().b[13][0]++, `\n\n${entry}`) :
    /* istanbul ignore next */
    (cov_a6gegww43().b[13][1]++, entry);
  }
  /* istanbul ignore next */
  cov_a6gegww43().s[58]++;
  if (buffer) {
    /* istanbul ignore next */
    cov_a6gegww43().b[14][0]++;
    cov_a6gegww43().s[59]++;
    chunks.push(buffer.trim());
  } else
  /* istanbul ignore next */
  {
    cov_a6gegww43().b[14][1]++;
  }
  cov_a6gegww43().s[60]++;
  return chunks;
}
function asProviderConfig(selection) {
  /* istanbul ignore next */
  cov_a6gegww43().f[17]++;
  cov_a6gegww43().s[61]++;
  return {
    provider: selection.provider,
    model: selection.model,
    temperature: selection.temperature,
    maxTokens: selection.maxTokens,
    reasoningEffort: selection.reasoningEffort,
    textVerbosity: selection.textVerbosity,
    // Pass thinking configuration for extended thinking models
    thinking: selection.thinking,
    thinkingLevel: selection.thinkingLevel
  };
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfYTZnZWd3dzQzIiwiYWN0dWFsQ292ZXJhZ2UiLCJyZXNvbHZlUHJvZmlsZUNvbmZpZyIsImNyZWF0ZURlZmF1bHRUb29sUnVudGltZSIsImNyZWF0ZVByb3ZpZGVyIiwiQWdlbnRSdW50aW1lIiwicmVnaXN0ZXJEZWZhdWx0UHJvdmlkZXJQbHVnaW5zIiwiY3JlYXRlRGVmYXVsdENvbnRleHRNYW5hZ2VyIiwiQ09OVEVYVF9DTEVBTlVQX1NZU1RFTV9QUk9NUFQiLCJzIiwiQWdlbnRTZXNzaW9uIiwic3RhdGUiLCJjb25zdHJ1Y3RvciIsIm9wdGlvbnMiLCJmIiwicHJvZmlsZUNvbmZpZyIsInByb2ZpbGUiLCJ3b3Jrc3BhY2VDb250ZXh0IiwidG9vbENvbnRleHQiLCJwcm9maWxlTmFtZSIsInByb3ZpZGVyIiwibW9kZWwiLCJjb250ZXh0TWFuYWdlciIsImNyZWF0ZUNvbnRleHRNYW5hZ2VyV2l0aFN1bW1hcml6YXRpb24iLCJ0b29sU3VpdGVzIiwiYiIsInRvb2xSdW50aW1lIiwib2JzZXJ2ZXIiLCJ0b29sT2JzZXJ2ZXIiLCJzdW1tYXJpemF0aW9uQ2FsbGJhY2siLCJtZXNzYWdlcyIsInRlbXBlcmF0dXJlIiwibWF4VG9rZW5zIiwiZW1wdHlUb29sQ29udGV4dCIsInN1bW1hcml6ZXIiLCJzeXN0ZW1Qcm9tcHQiLCJjYWxsYmFja3MiLCJzZXJpYWxpemVkIiwibWFwIiwibXNnIiwic2VyaWFsaXplTWVzc2FnZSIsImZpbHRlciIsInRleHQiLCJsZW5ndGgiLCJjaHVua3MiLCJjaHVua01lc3NhZ2VzIiwicnVubmluZ1N1bW1hcnkiLCJjaHVuayIsInByb21wdCIsInNlbmQiLCJ0cmltIiwiZXJyb3IiLCJFcnJvciIsIm1lc3NhZ2UiLCJ1c2VMTE1TdW1tYXJpemF0aW9uIiwiY3JlYXRlQWdlbnQiLCJzZWxlY3Rpb24iLCJ0b29sUnVudGltZU92ZXJyaWRlIiwiYXNQcm92aWRlckNvbmZpZyIsImV4cGxhaW5FZGl0cyIsInVwZGF0ZVRvb2xDb250ZXh0IiwicmVmcmVzaFdvcmtzcGFjZUNvbnRleHQiLCJyZXNvbHZlZCIsInJ1bGVib29rIiwicm9sZSIsImNvbnRlbnQiLCJuYW1lIiwibWF4Q2hhcnNQZXJDaHVuayIsImJ1ZmZlciIsImVudHJ5Iiwic2VnbWVudCIsInB1c2giLCJyZWFzb25pbmdFZmZvcnQiLCJ0ZXh0VmVyYm9zaXR5IiwidGhpbmtpbmciLCJ0aGlua2luZ0xldmVsIl0sInNvdXJjZXMiOlsiYWdlbnRTZXNzaW9uLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHJlc29sdmVQcm9maWxlQ29uZmlnLCB0eXBlIFByb2ZpbGVOYW1lLCB0eXBlIFJlc29sdmVkUHJvZmlsZUNvbmZpZyB9IGZyb20gJy4uL2NvbmZpZy5qcyc7XG5pbXBvcnQge1xuICBjcmVhdGVEZWZhdWx0VG9vbFJ1bnRpbWUsXG4gIHR5cGUgVG9vbEV4ZWN1dGlvbkNvbnRleHQsXG4gIHR5cGUgVG9vbFJ1bnRpbWUsXG4gIHR5cGUgSVRvb2xSdW50aW1lLFxuICB0eXBlIFRvb2xSdW50aW1lT2JzZXJ2ZXIsXG4gIHR5cGUgVG9vbFN1aXRlLFxufSBmcm9tICcuLi9jb3JlL3Rvb2xSdW50aW1lLmpzJztcbmltcG9ydCB0eXBlIHsgUHJvdmlkZXJJZCwgUmVhc29uaW5nRWZmb3J0TGV2ZWwsIFRleHRWZXJib3NpdHlMZXZlbCwgQ29udmVyc2F0aW9uTWVzc2FnZSwgVGhpbmtpbmdCdWRnZXRDb25maWcsIFRoaW5raW5nTGV2ZWwgfSBmcm9tICcuLi9jb3JlL3R5cGVzLmpzJztcbmltcG9ydCB7IGNyZWF0ZVByb3ZpZGVyLCB0eXBlIFByb3ZpZGVyQ29uZmlnIH0gZnJvbSAnLi4vcHJvdmlkZXJzL3Byb3ZpZGVyRmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBBZ2VudFJ1bnRpbWUsIHR5cGUgQWdlbnRDYWxsYmFja3MgfSBmcm9tICcuLi9jb3JlL2FnZW50LmpzJztcbmltcG9ydCB7IHJlZ2lzdGVyRGVmYXVsdFByb3ZpZGVyUGx1Z2lucyB9IGZyb20gJy4uL3BsdWdpbnMvcHJvdmlkZXJzL2luZGV4LmpzJztcbmltcG9ydCB7IGNyZWF0ZURlZmF1bHRDb250ZXh0TWFuYWdlciwgQ29udGV4dE1hbmFnZXIsIHR5cGUgU3VtbWFyaXphdGlvbkNhbGxiYWNrIH0gZnJvbSAnLi4vY29yZS9jb250ZXh0TWFuYWdlci5qcyc7XG4vKipcbiAqIFN5c3RlbSBwcm9tcHQgZm9yIGNvbnRleHQgc3VtbWFyaXphdGlvblxuICogSW5zdHJ1Y3RzIHRoZSBMTE0gdG8gY3JlYXRlIGNvbmNpc2Ugc3VtbWFyaWVzIG9mIGNvbnZlcnNhdGlvbiBoaXN0b3J5XG4gKi9cbmNvbnN0IENPTlRFWFRfQ0xFQU5VUF9TWVNURU1fUFJPTVBUID0gYFN1bW1hcml6ZSBlYXJsaWVyIGNvbnZlcnNhdGlvbiBsb2dzIHRvIHByZXNlcnZlIGNvbnRleHQgd2hpbGUgc3RheWluZyB3aXRoaW4gdG9rZW4gbGltaXRzLlxuLSBNZXJnZSBhbnkgcHJpb3Igc3VtbWFyeSB3aXRoIHRoZSBuZXcgY2h1bmsuXG4tIENhcHR1cmUgZGVjaXNpb25zLCB0YXNrcywgZmlsZSBjaGFuZ2VzL3BhdGhzLCB0b29sIG9ic2VydmF0aW9ucywgYW5kIG9wZW4gcXVlc3Rpb25zLlxuLSBTZXBhcmF0ZSBjb21wbGV0ZWQgd29yayBmcm9tIGZvbGxvdy11cHM7IGtlZXAgaXQgdW5kZXIgfjE4MCB3b3JkcyB3aXRoIHRpZ2h0IGJ1bGxldHMuXG4tIFJlc3BvbmQgaW4gcGxhaW4gTWFya2Rvd24gb25seSAobm8gdG9vbCBvciBjb21tYW5kIGNhbGxzKS5gO1xuXG5leHBvcnQgaW50ZXJmYWNlIEFnZW50U2Vzc2lvbk9wdGlvbnMge1xuICBwcm9maWxlOiBQcm9maWxlTmFtZTtcbiAgd29ya3NwYWNlQ29udGV4dDogc3RyaW5nIHwgbnVsbDtcbiAgdG9vbFN1aXRlcz86IFRvb2xTdWl0ZVtdO1xuICB0b29sT2JzZXJ2ZXI/OiBUb29sUnVudGltZU9ic2VydmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE1vZGVsU2VsZWN0aW9uIHtcbiAgcHJvdmlkZXI6IFByb3ZpZGVySWQ7XG4gIG1vZGVsOiBzdHJpbmc7XG4gIHRlbXBlcmF0dXJlPzogbnVtYmVyO1xuICBtYXhUb2tlbnM/OiBudW1iZXI7XG4gIHN5c3RlbVByb21wdD86IHN0cmluZztcbiAgcmVhc29uaW5nRWZmb3J0PzogUmVhc29uaW5nRWZmb3J0TGV2ZWw7XG4gIHRleHRWZXJib3NpdHk/OiBUZXh0VmVyYm9zaXR5TGV2ZWw7XG4gIC8qKiBFeHRlbmRlZCB0aGlua2luZyBjb25maWd1cmF0aW9uIGZvciBzdXBwb3J0ZWQgbW9kZWxzIChBbnRocm9waWMgQ2xhdWRlIDQvMy43LCBHZW1pbmkgMi41KykgKi9cbiAgdGhpbmtpbmc/OiBUaGlua2luZ0J1ZGdldENvbmZpZztcbiAgLyoqIFRoaW5raW5nIGxldmVsIGZvciBtb2RlbHMgdGhhdCBzdXBwb3J0IGRpc2NyZXRlIGludGVuc2l0aWVzIChHZW1pbmkgMyBQcm8pICovXG4gIHRoaW5raW5nTGV2ZWw/OiBUaGlua2luZ0xldmVsO1xufVxuXG5pbnRlcmZhY2UgQWdlbnRTZXNzaW9uU3RhdGUge1xuICByZWFkb25seSBwcm9maWxlOiBQcm9maWxlTmFtZTtcbiAgd29ya3NwYWNlQ29udGV4dDogc3RyaW5nIHwgbnVsbDtcbiAgcHJvZmlsZUNvbmZpZzogUmVzb2x2ZWRQcm9maWxlQ29uZmlnO1xuICB0b29sQ29udGV4dDogVG9vbEV4ZWN1dGlvbkNvbnRleHQ7IC8vIE11dGFibGUgLSB1cGRhdGVkIGR1cmluZyBtb2RlbCBzd2l0Y2hpbmdcbiAgdG9vbFJ1bnRpbWU6IFRvb2xSdW50aW1lO1xuICByZWFkb25seSB0b29sU3VpdGVzOiBUb29sU3VpdGVbXTtcbiAgcmVhZG9ubHkgdG9vbE9ic2VydmVyPzogVG9vbFJ1bnRpbWVPYnNlcnZlcjtcbiAgcmVhZG9ubHkgY29udGV4dE1hbmFnZXI6IENvbnRleHRNYW5hZ2VyO1xufVxuXG5leHBvcnQgY2xhc3MgQWdlbnRTZXNzaW9uIHtcbiAgcHJpdmF0ZSByZWFkb25seSBzdGF0ZTogQWdlbnRTZXNzaW9uU3RhdGU7XG5cbiAgY29uc3RydWN0b3Iob3B0aW9uczogQWdlbnRTZXNzaW9uT3B0aW9ucykge1xuICAgIHJlZ2lzdGVyRGVmYXVsdFByb3ZpZGVyUGx1Z2lucygpO1xuICAgIGNvbnN0IHByb2ZpbGVDb25maWcgPSByZXNvbHZlUHJvZmlsZUNvbmZpZyhvcHRpb25zLnByb2ZpbGUsIG9wdGlvbnMud29ya3NwYWNlQ29udGV4dCk7XG4gICAgY29uc3QgdG9vbENvbnRleHQ6IFRvb2xFeGVjdXRpb25Db250ZXh0ID0ge1xuICAgICAgcHJvZmlsZU5hbWU6IHByb2ZpbGVDb25maWcucHJvZmlsZSxcbiAgICAgIHByb3ZpZGVyOiBwcm9maWxlQ29uZmlnLnByb3ZpZGVyLFxuICAgICAgbW9kZWw6IHByb2ZpbGVDb25maWcubW9kZWwsXG4gICAgICB3b3Jrc3BhY2VDb250ZXh0OiBvcHRpb25zLndvcmtzcGFjZUNvbnRleHQsXG4gICAgfTtcblxuICAgIC8vIENyZWF0ZSBjb250ZXh0IG1hbmFnZXIgd2l0aCBMTE0tYmFzZWQgc3VtbWFyaXphdGlvbiBjYWxsYmFja1xuICAgIGNvbnN0IGNvbnRleHRNYW5hZ2VyID0gdGhpcy5jcmVhdGVDb250ZXh0TWFuYWdlcldpdGhTdW1tYXJpemF0aW9uKHByb2ZpbGVDb25maWcpO1xuXG4gICAgY29uc3QgdG9vbFN1aXRlcyA9IG9wdGlvbnMudG9vbFN1aXRlcyA/IFsuLi5vcHRpb25zLnRvb2xTdWl0ZXNdIDogW107XG4gICAgY29uc3QgdG9vbFJ1bnRpbWUgPSBjcmVhdGVEZWZhdWx0VG9vbFJ1bnRpbWUoXG4gICAgICB0b29sQ29udGV4dCxcbiAgICAgIHRvb2xTdWl0ZXMsXG4gICAgICB7XG4gICAgICAgIG9ic2VydmVyOiBvcHRpb25zLnRvb2xPYnNlcnZlcixcbiAgICAgICAgY29udGV4dE1hbmFnZXIsIC8vIFBhc3MgY29udGV4dCBtYW5hZ2VyIGZvciBvdXRwdXQgdHJ1bmNhdGlvblxuICAgICAgfVxuICAgICk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgcHJvZmlsZTogb3B0aW9ucy5wcm9maWxlLFxuICAgICAgd29ya3NwYWNlQ29udGV4dDogb3B0aW9ucy53b3Jrc3BhY2VDb250ZXh0LFxuICAgICAgcHJvZmlsZUNvbmZpZyxcbiAgICAgIHRvb2xDb250ZXh0LFxuICAgICAgdG9vbFJ1bnRpbWUsXG4gICAgICB0b29sU3VpdGVzLFxuICAgICAgdG9vbE9ic2VydmVyOiBvcHRpb25zLnRvb2xPYnNlcnZlcixcbiAgICAgIGNvbnRleHRNYW5hZ2VyLFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIGNvbnRleHQgbWFuYWdlciB3aXRoIExMTS1iYXNlZCBzdW1tYXJpemF0aW9uIHN1cHBvcnRcbiAgICovXG4gIHByaXZhdGUgY3JlYXRlQ29udGV4dE1hbmFnZXJXaXRoU3VtbWFyaXphdGlvbihwcm9maWxlQ29uZmlnOiBSZXNvbHZlZFByb2ZpbGVDb25maWcpOiBDb250ZXh0TWFuYWdlciB7XG4gICAgLy8gQ3JlYXRlIHN1bW1hcml6YXRpb24gY2FsbGJhY2sgdGhhdCBkb2Vzbid0IHJlZmVyZW5jZSB0aGlzLnN0YXRlXG4gICAgY29uc3Qgc3VtbWFyaXphdGlvbkNhbGxiYWNrOiBTdW1tYXJpemF0aW9uQ2FsbGJhY2sgPSBhc3luYyAobWVzc2FnZXM6IENvbnZlcnNhdGlvbk1lc3NhZ2VbXSkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gQ3JlYXRlIGEgbGlnaHR3ZWlnaHQgYWdlbnQgZm9yIHN1bW1hcml6YXRpb25cbiAgICAgICAgY29uc3QgcHJvdmlkZXIgPSBjcmVhdGVQcm92aWRlcih7XG4gICAgICAgICAgcHJvdmlkZXI6IHByb2ZpbGVDb25maWcucHJvdmlkZXIsXG4gICAgICAgICAgbW9kZWw6IHByb2ZpbGVDb25maWcubW9kZWwsXG4gICAgICAgICAgdGVtcGVyYXR1cmU6IDAsIC8vIFVzZSBkZXRlcm1pbmlzdGljIHN1bW1hcml6YXRpb25cbiAgICAgICAgICBtYXhUb2tlbnM6IDUwMCwgLy8gS2VlcCBzdW1tYXJpZXMgY29uY2lzZVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBDcmVhdGUgZW1wdHkgdG9vbCBjb250ZXh0IGZvciBzdW1tYXJpemF0aW9uIChubyB0b29scyBuZWVkZWQpXG4gICAgICAgIGNvbnN0IGVtcHR5VG9vbENvbnRleHQ6IFRvb2xFeGVjdXRpb25Db250ZXh0ID0ge1xuICAgICAgICAgIHByb2ZpbGVOYW1lOiBwcm9maWxlQ29uZmlnLnByb2ZpbGUsXG4gICAgICAgICAgcHJvdmlkZXI6IHByb2ZpbGVDb25maWcucHJvdmlkZXIsXG4gICAgICAgICAgbW9kZWw6IHByb2ZpbGVDb25maWcubW9kZWwsXG4gICAgICAgICAgd29ya3NwYWNlQ29udGV4dDogbnVsbCxcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBzdW1tYXJpemVyID0gbmV3IEFnZW50UnVudGltZSh7XG4gICAgICAgICAgcHJvdmlkZXIsXG4gICAgICAgICAgdG9vbFJ1bnRpbWU6IGNyZWF0ZURlZmF1bHRUb29sUnVudGltZShlbXB0eVRvb2xDb250ZXh0LCBbXSksIC8vIE5vIHRvb2xzIGZvciBzdW1tYXJpemF0aW9uXG4gICAgICAgICAgc3lzdGVtUHJvbXB0OiBDT05URVhUX0NMRUFOVVBfU1lTVEVNX1BST01QVCxcbiAgICAgICAgICBjYWxsYmFja3M6IHt9LCAvLyBObyBjYWxsYmFja3MgbmVlZGVkIGZvciBzdW1tYXJpemF0aW9uXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFNlcmlhbGl6ZSBtZXNzYWdlcyBpbnRvIGNodW5rc1xuICAgICAgICBjb25zdCBzZXJpYWxpemVkID0gbWVzc2FnZXMubWFwKChtc2cpID0+IHNlcmlhbGl6ZU1lc3NhZ2UobXNnKSkuZmlsdGVyKCh0ZXh0KSA9PiB0ZXh0Lmxlbmd0aCA+IDApO1xuXG4gICAgICAgIGlmICghc2VyaWFsaXplZC5sZW5ndGgpIHtcbiAgICAgICAgICByZXR1cm4gJ1tObyBjb250ZW50IHRvIHN1bW1hcml6ZV0nO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2h1bmsgbWVzc2FnZXMgdG8gYXZvaWQgb3ZlcndoZWxtaW5nIHRoZSBzdW1tYXJpemVyXG4gICAgICAgIGNvbnN0IGNodW5rcyA9IGNodW5rTWVzc2FnZXMoc2VyaWFsaXplZCwgNjAwMCk7XG5cbiAgICAgICAgLy8gSXRlcmF0aXZlbHkgc3VtbWFyaXplIGNodW5rc1xuICAgICAgICBsZXQgcnVubmluZ1N1bW1hcnkgPSAnJztcbiAgICAgICAgZm9yIChjb25zdCBjaHVuayBvZiBjaHVua3MpIHtcbiAgICAgICAgICBjb25zdCBwcm9tcHQgPSBydW5uaW5nU3VtbWFyeVxuICAgICAgICAgICAgPyBgRXhpc3Rpbmcgc3VtbWFyeTpcXG4ke3J1bm5pbmdTdW1tYXJ5fVxcblxcbk5ldyBjb252ZXJzYXRpb24gY2h1bms6XFxuJHtjaHVua31cXG5cXG5NZXJnZSB0aGUgY2h1bmsgaW50byB0aGUgcnVubmluZyBzdW1tYXJ5LCBrZWVwaW5nIGl0IGNvbmNpc2UgKDwyMDAgd29yZHMpLmBcbiAgICAgICAgICAgIDogYFN1bW1hcml6ZSB0aGlzIGNvbnZlcnNhdGlvbiBjb25jaXNlbHkgKDwyMDAgd29yZHMpOlxcblxcbiR7Y2h1bmt9YDtcblxuICAgICAgICAgIHJ1bm5pbmdTdW1tYXJ5ID0gKGF3YWl0IHN1bW1hcml6ZXIuc2VuZChwcm9tcHQpKS50cmltKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcnVubmluZ1N1bW1hcnkgfHwgJ1tTdW1tYXJ5IGdlbmVyYXRpb24gZmFpbGVkXSc7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAvLyBJZiBzdW1tYXJpemF0aW9uIGZhaWxzLCByZXR1cm4gYSBmYWxsYmFjayBtZXNzYWdlXG4gICAgICAgIHJldHVybiBgW1N1bW1hcml6YXRpb24gZmFpbGVkOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InfV1gO1xuICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gY3JlYXRlRGVmYXVsdENvbnRleHRNYW5hZ2VyKHtcbiAgICAgIHVzZUxMTVN1bW1hcml6YXRpb246IHRydWUsXG4gICAgICBzdW1tYXJpemF0aW9uQ2FsbGJhY2ssXG4gICAgfSwgcHJvZmlsZUNvbmZpZy5tb2RlbCk7XG4gIH1cblxuXG4gIGdldCBwcm9maWxlKCk6IFByb2ZpbGVOYW1lIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5wcm9maWxlO1xuICB9XG5cbiAgZ2V0IHByb2ZpbGVDb25maWcoKTogUmVzb2x2ZWRQcm9maWxlQ29uZmlnIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5wcm9maWxlQ29uZmlnO1xuICB9XG5cbiAgZ2V0IHdvcmtzcGFjZUNvbnRleHQoKTogc3RyaW5nIHwgbnVsbCB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUud29ya3NwYWNlQ29udGV4dCA/PyBudWxsO1xuICB9XG5cbiAgZ2V0IHRvb2xSdW50aW1lKCk6IFRvb2xSdW50aW1lIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS50b29sUnVudGltZTtcbiAgfVxuXG4gIGdldCB0b29sQ29udGV4dCgpOiBUb29sRXhlY3V0aW9uQ29udGV4dCB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUudG9vbENvbnRleHQ7XG4gIH1cblxuICBjcmVhdGVBZ2VudChcbiAgICBzZWxlY3Rpb246IE1vZGVsU2VsZWN0aW9uLFxuICAgIGNhbGxiYWNrcz86IEFnZW50Q2FsbGJhY2tzLFxuICAgIHRvb2xSdW50aW1lT3ZlcnJpZGU/OiBJVG9vbFJ1bnRpbWUsXG4gICAgb3B0aW9ucz86IHsgZXhwbGFpbkVkaXRzPzogYm9vbGVhbiB9XG4gICk6IEFnZW50UnVudGltZSB7XG4gICAgY29uc3QgcHJvdmlkZXIgPSBjcmVhdGVQcm92aWRlcihhc1Byb3ZpZGVyQ29uZmlnKHNlbGVjdGlvbikpO1xuICAgIGNvbnN0IHN5c3RlbVByb21wdCA9IChzZWxlY3Rpb24uc3lzdGVtUHJvbXB0ID8/IHRoaXMuc3RhdGUucHJvZmlsZUNvbmZpZy5zeXN0ZW1Qcm9tcHQpLnRyaW0oKTtcblxuICAgIHJldHVybiBuZXcgQWdlbnRSdW50aW1lKHtcbiAgICAgIHByb3ZpZGVyLFxuICAgICAgdG9vbFJ1bnRpbWU6IHRvb2xSdW50aW1lT3ZlcnJpZGUgPz8gdGhpcy5zdGF0ZS50b29sUnVudGltZSxcbiAgICAgIHN5c3RlbVByb21wdCxcbiAgICAgIGNhbGxiYWNrcyxcbiAgICAgIGNvbnRleHRNYW5hZ2VyOiB0aGlzLnN0YXRlLmNvbnRleHRNYW5hZ2VyLCAvLyBQYXNzIGNvbnRleHQgbWFuYWdlciBmb3IgaGlzdG9yeSBwcnVuaW5nXG4gICAgICBleHBsYWluRWRpdHM6IG9wdGlvbnM/LmV4cGxhaW5FZGl0cyxcbiAgICB9KTtcbiAgfVxuXG4gIHVwZGF0ZVRvb2xDb250ZXh0KHNlbGVjdGlvbjogTW9kZWxTZWxlY3Rpb24pOiB2b2lkIHtcbiAgICAvLyBDcmVhdGUgbmV3IGNvbnRleHQgd2l0aCB1cGRhdGVkIHByb3ZpZGVyL21vZGVsIChwcm9wZXJ0aWVzIGFyZSByZWFkb25seSlcbiAgICB0aGlzLnN0YXRlLnRvb2xDb250ZXh0ID0ge1xuICAgICAgLi4udGhpcy5zdGF0ZS50b29sQ29udGV4dCxcbiAgICAgIHByb3ZpZGVyOiBzZWxlY3Rpb24ucHJvdmlkZXIsXG4gICAgICBtb2RlbDogc2VsZWN0aW9uLm1vZGVsLFxuICAgIH07XG4gIH1cblxuICByZWZyZXNoV29ya3NwYWNlQ29udGV4dCh3b3Jrc3BhY2VDb250ZXh0OiBzdHJpbmcgfCBudWxsKTogUmVzb2x2ZWRQcm9maWxlQ29uZmlnIHtcbiAgICBjb25zdCByZXNvbHZlZCA9IHJlc29sdmVQcm9maWxlQ29uZmlnKHRoaXMuc3RhdGUucHJvZmlsZSwgd29ya3NwYWNlQ29udGV4dCk7XG4gICAgdGhpcy5zdGF0ZS53b3Jrc3BhY2VDb250ZXh0ID0gd29ya3NwYWNlQ29udGV4dDtcbiAgICAvLyBDcmVhdGUgbmV3IGNvbnRleHQgd2l0aCB1cGRhdGVkIHdvcmtzcGFjZSAocHJvcGVydGllcyBhcmUgcmVhZG9ubHkpXG4gICAgdGhpcy5zdGF0ZS50b29sQ29udGV4dCA9IHtcbiAgICAgIC4uLnRoaXMuc3RhdGUudG9vbENvbnRleHQsXG4gICAgICB3b3Jrc3BhY2VDb250ZXh0LFxuICAgIH07XG4gICAgdGhpcy5zdGF0ZS5wcm9maWxlQ29uZmlnID0ge1xuICAgICAgLi4udGhpcy5zdGF0ZS5wcm9maWxlQ29uZmlnLFxuICAgICAgc3lzdGVtUHJvbXB0OiByZXNvbHZlZC5zeXN0ZW1Qcm9tcHQsXG4gICAgICBydWxlYm9vazogcmVzb2x2ZWQucnVsZWJvb2ssXG4gICAgfTtcbiAgICB0aGlzLnN0YXRlLnRvb2xSdW50aW1lID0gY3JlYXRlRGVmYXVsdFRvb2xSdW50aW1lKFxuICAgICAgdGhpcy5zdGF0ZS50b29sQ29udGV4dCxcbiAgICAgIHRoaXMuc3RhdGUudG9vbFN1aXRlcyxcbiAgICAgIHtcbiAgICAgICAgb2JzZXJ2ZXI6IHRoaXMuc3RhdGUudG9vbE9ic2VydmVyLFxuICAgICAgICBjb250ZXh0TWFuYWdlcjogdGhpcy5zdGF0ZS5jb250ZXh0TWFuYWdlciwgLy8gUHJlc2VydmUgY29udGV4dCBtYW5hZ2VyXG4gICAgICB9XG4gICAgKTtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5wcm9maWxlQ29uZmlnO1xuICB9XG5cbiAgZ2V0IGNvbnRleHRNYW5hZ2VyKCk6IENvbnRleHRNYW5hZ2VyIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5jb250ZXh0TWFuYWdlcjtcbiAgfVxuXG4gIGdldCB0b29sU3VpdGVzKCk6IFRvb2xTdWl0ZVtdIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS50b29sU3VpdGVzO1xuICB9XG59XG5cbi8qKlxuICogU2VyaWFsaXplIGEgbWVzc2FnZSBmb3Igc3VtbWFyaXphdGlvblxuICovXG5mdW5jdGlvbiBzZXJpYWxpemVNZXNzYWdlKG1lc3NhZ2U6IENvbnZlcnNhdGlvbk1lc3NhZ2UpOiBzdHJpbmcge1xuICBzd2l0Y2ggKG1lc3NhZ2Uucm9sZSkge1xuICAgIGNhc2UgJ3VzZXInOlxuICAgICAgcmV0dXJuIGBVc2VyOiAke21lc3NhZ2UuY29udGVudH1gO1xuICAgIGNhc2UgJ2Fzc2lzdGFudCc6XG4gICAgICByZXR1cm4gYEFzc2lzdGFudDogJHttZXNzYWdlLmNvbnRlbnR9YDtcbiAgICBjYXNlICd0b29sJzpcbiAgICAgIHJldHVybiBgVG9vbCgke21lc3NhZ2UubmFtZSA/PyAndW5rbm93bid9KTogJHttZXNzYWdlLmNvbnRlbnR9YDtcbiAgICBjYXNlICdzeXN0ZW0nOlxuICAgICAgcmV0dXJuIGBTeXN0ZW06ICR7bWVzc2FnZS5jb250ZW50fWA7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiAnJztcbiAgfVxufVxuXG4vKipcbiAqIENodW5rIG1lc3NhZ2VzIGJ5IGNoYXJhY3RlciBjb3VudFxuICovXG5mdW5jdGlvbiBjaHVua01lc3NhZ2VzKHNlcmlhbGl6ZWQ6IHN0cmluZ1tdLCBtYXhDaGFyc1BlckNodW5rOiBudW1iZXIpOiBzdHJpbmdbXSB7XG4gIGNvbnN0IGNodW5rczogc3RyaW5nW10gPSBbXTtcbiAgbGV0IGJ1ZmZlciA9ICcnO1xuXG4gIGZvciAoY29uc3QgZW50cnkgb2Ygc2VyaWFsaXplZCkge1xuICAgIGNvbnN0IHNlZ21lbnQgPSBidWZmZXIgPyBgXFxuXFxuJHtlbnRyeX1gIDogZW50cnk7XG4gICAgaWYgKGJ1ZmZlciAmJiBidWZmZXIubGVuZ3RoICsgc2VnbWVudC5sZW5ndGggPiBtYXhDaGFyc1BlckNodW5rKSB7XG4gICAgICBjaHVua3MucHVzaChidWZmZXIudHJpbSgpKTtcbiAgICAgIGJ1ZmZlciA9IGVudHJ5O1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGJ1ZmZlciArPSBidWZmZXIgPyBgXFxuXFxuJHtlbnRyeX1gIDogZW50cnk7XG4gIH1cblxuICBpZiAoYnVmZmVyKSB7XG4gICAgY2h1bmtzLnB1c2goYnVmZmVyLnRyaW0oKSk7XG4gIH1cblxuICByZXR1cm4gY2h1bmtzO1xufVxuXG5mdW5jdGlvbiBhc1Byb3ZpZGVyQ29uZmlnKHNlbGVjdGlvbjogTW9kZWxTZWxlY3Rpb24pOiBQcm92aWRlckNvbmZpZyB7XG4gIHJldHVybiB7XG4gICAgcHJvdmlkZXI6IHNlbGVjdGlvbi5wcm92aWRlcixcbiAgICBtb2RlbDogc2VsZWN0aW9uLm1vZGVsLFxuICAgIHRlbXBlcmF0dXJlOiBzZWxlY3Rpb24udGVtcGVyYXR1cmUsXG4gICAgbWF4VG9rZW5zOiBzZWxlY3Rpb24ubWF4VG9rZW5zLFxuICAgIHJlYXNvbmluZ0VmZm9ydDogc2VsZWN0aW9uLnJlYXNvbmluZ0VmZm9ydCxcbiAgICB0ZXh0VmVyYm9zaXR5OiBzZWxlY3Rpb24udGV4dFZlcmJvc2l0eSxcbiAgICAvLyBQYXNzIHRoaW5raW5nIGNvbmZpZ3VyYXRpb24gZm9yIGV4dGVuZGVkIHRoaW5raW5nIG1vZGVsc1xuICAgIHRoaW5raW5nOiBzZWxlY3Rpb24udGhpbmtpbmcsXG4gICAgdGhpbmtpbmdMZXZlbDogc2VsZWN0aW9uLnRoaW5raW5nTGV2ZWwsXG4gIH07XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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