9f5a0785a82fd62ae7397e89d36b6181
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.formatClickableLinks = formatClickableLinks;
exports.formatDiffBlock = formatDiffBlock;
exports.formatInlineText = formatInlineText;
exports.formatRichContent = formatRichContent;
exports.renderMessageBody = renderMessageBody;
exports.renderMessagePanel = renderMessagePanel;
var _theme = require("./theme.js");
var _layout = require("./layout.js");
var _codeHighlighter = require("./codeHighlighter.js");
var _outputMode = require("./outputMode.js");
function formatRichContent(content, width) {
  const blocks = parseBlocks(content);
  const lines = [];
  for (const block of blocks) {
    let blockLines = [];
    switch (block.type) {
      case 'paragraph':
        {
          const formatted = formatInlineText(block.text);
          blockLines = (0, _layout.wrapParagraph)(formatted, width);
          break;
        }
      case 'list':
        blockLines = formatList(block.items, width);
        break;
      case 'code':
        blockLines = formatCodeBlock(block.content, width, block.language);
        break;
      case 'diff':
        blockLines = formatDiffBlock(block.content, width);
        break;
      case 'heading':
        blockLines = formatHeadingBlock(block, width);
        break;
      case 'quote':
        blockLines = formatQuoteBlock(block.lines, width);
        break;
      case 'divider':
        blockLines = [formatDivider(width)];
        break;
      default:
        blockLines = [];
    }
    if (!blockLines.length) {
      continue;
    }
    if (lines.length) {
      const lastLine = lines[lines.length - 1];
      if (lastLine?.trim()) {
        lines.push('');
      }
    }
    lines.push(...blockLines);
  }
  while (lines.length) {
    const lastLine = lines[lines.length - 1];
    if (lastLine?.trim()) {
      break;
    }
    lines.pop();
  }
  return lines;
}
function renderMessagePanel(content, options) {
  const width = (0, _layout.normalizePanelWidth)(options.width ?? (0, _layout.getContentWidth)());
  const lines = formatRichContent(content, width);
  return (0, _layout.renderPanel)(lines, {
    ...options,
    width
  });
}
function renderMessageBody(content, width) {
  const normalizedWidth = (0, _layout.normalizePanelWidth)(width ?? (0, _layout.getContentWidth)());
  const lines = formatRichContent(content, normalizedWidth);
  return lines.join('\n');
}

/**
 * Format text to make URLs clickable in the terminal.
 * Handles both bare URLs (https://...) and markdown links [text](url).
 * Uses OSC 8 escape sequences for terminal hyperlinks.
 */
function formatClickableLinks(text) {
  if (!text) {
    return '';
  }

  // Use placeholders to avoid double-processing URLs inside markdown links
  const processedLinks = [];
  const PLACEHOLDER = '\u0002LINK';

  // First pass: handle markdown links [label](url)
  let result = text.replace(/\[([^\]]+)\]\(([^)]+)\)/g, (_match, label, url) => {
    processedLinks.push(formatMarkdownLink(label, url));
    return `${PLACEHOLDER}${processedLinks.length - 1}${PLACEHOLDER}`;
  });

  // Second pass: handle bare URLs (not inside markdown links)
  // Match URLs but stop at trailing punctuation that's likely sentence-ending
  // eslint-disable-next-line no-control-regex
  result = result.replace(/(\bhttps?:\/\/[^\s\u0002<>]+?)([)\]}>,.;:!?"']*(?=\s|$))/g, (_match, url, trailing = '') => {
    // Clean up any trailing colons that might be part of "URL:" patterns
    const cleanUrl = url.replace(/:$/, '');
    const actualTrailing = url.endsWith(':') ? ':' + trailing : trailing;
    processedLinks.push(`${formatBareLink(cleanUrl)}${actualTrailing}`);
    return `${PLACEHOLDER}${processedLinks.length - 1}${PLACEHOLDER}`;
  });

  // Final pass: restore placeholders
  result = result.replace(new RegExp(`${PLACEHOLDER}(\\d+)${PLACEHOLDER}`, 'g'), (_match, index) => processedLinks[Number.parseInt(index, 10)] ?? '');
  return result;
}
function formatDiffBlock(diff, width) {
  const lines = diff.replace(/\t/g, '  ').split('\n');
  const result = [];
  for (const line of lines) {
    if (!line.trim()) {
      result.push('');
      continue;
    }
    const color = pickDiffColor(line);
    const chunks = (0, _layout.wrapPreformatted)(line, width);
    chunks.forEach(chunk => result.push(color(chunk)));
  }
  return result;
}
function parseBlocks(content) {
  const blocks = [];
  const lines = content.split('\n');
  let fence = null;
  let paragraph = [];
  let blockquote = null;
  const flushParagraph = () => {
    if (!paragraph.length) {
      return;
    }
    const merged = paragraph.join('\n');
    const trimmedLines = merged.split('\n').map(line => line.trim()).filter(Boolean);
    if (!trimmedLines.length) {
      paragraph = [];
      return;
    }
    const isList = trimmedLines.every(line => /^(\*|-|â€¢|\d+\.)\s+/.test(line));
    if (isList) {
      blocks.push({
        type: 'list',
        items: trimmedLines.map(line => line.replace(/^(\*|-|â€¢|\d+\.)\s+/, ''))
      });
    } else {
      blocks.push({
        type: 'paragraph',
        text: trimmedLines.join(' ')
      });
    }
    paragraph = [];
  };
  const flushBlockquote = () => {
    if (!blockquote?.length) {
      blockquote = null;
      return;
    }
    blocks.push({
      type: 'quote',
      lines: blockquote
    });
    blockquote = null;
  };
  for (const line of lines) {
    if (line.trimStart().startsWith('```')) {
      const raw = line.trim();
      if (fence) {
        blocks.push(fence.language.includes('diff') ? {
          type: 'diff',
          content: fence.buffer.join('\n')
        } : {
          type: 'code',
          content: fence.buffer.join('\n'),
          language: fence.language
        });
        fence = null;
        continue;
      }
      flushParagraph();
      flushBlockquote();
      const language = raw.slice(3).trim().toLowerCase();
      fence = {
        language,
        buffer: []
      };
      continue;
    }
    if (fence) {
      fence.buffer.push(line);
      continue;
    }
    const trimmed = line.trim();
    if (!trimmed) {
      flushParagraph();
      flushBlockquote();
      continue;
    }
    const quoteMatch = line.match(/^\s*>\s?(.*)$/);
    if (quoteMatch) {
      flushParagraph();
      blockquote = blockquote ?? [];
      blockquote.push(quoteMatch[1] ?? '');
      continue;
    }
    flushBlockquote();
    const headingMatch = trimmed.match(/^(#{1,6})\s+(.*)$/);
    if (headingMatch) {
      flushParagraph();
      const hashes = headingMatch[1] ?? '';
      const text = headingMatch[2] ?? '';
      blocks.push({
        type: 'heading',
        level: hashes.length,
        text: text.trim()
      });
      continue;
    }
    if (/^(-{3,}|_{3,}|\*{3,})$/.test(trimmed)) {
      flushParagraph();
      blocks.push({
        type: 'divider'
      });
      continue;
    }
    paragraph.push(line);
  }
  flushParagraph();
  flushBlockquote();
  return blocks;
}
function formatList(items, width) {
  const lines = [];
  const bulletWidth = 4; // "  â€¢ " or "  âœ“ "
  const contentWidth = Math.max(10, width - bulletWidth);
  for (const item of items) {
    const formatted = formatInlineText(item);

    // Detect status indicators in list items
    let bulletChar = _theme.icons.bullet;
    let bulletColor = _theme.theme.secondary;
    let textColor = s => s; // identity function

    // Check for status patterns like "âœ…", "ðŸ”„", "âœ“", etc.
    if (/^[âœ…âœ“]/u.test(item) || item.toLowerCase().startsWith('done') || item.toLowerCase().startsWith('completed')) {
      bulletChar = 'âœ“';
      bulletColor = _theme.theme.success;
    } else if (/^[ðŸ”„â³]/u.test(item) || item.toLowerCase().startsWith('in progress') || item.toLowerCase().startsWith('pending')) {
      bulletChar = 'â—';
      bulletColor = _theme.theme.warning;
    } else if (/^[âŒâœ—]/u.test(item) || item.toLowerCase().startsWith('failed') || item.toLowerCase().startsWith('error')) {
      bulletChar = 'âœ—';
      bulletColor = _theme.theme.error;
    } else if (
    // eslint-disable-next-line no-misleading-character-class
    /^[â„¹ï¸ðŸ’¡]/u.test(item) || item.toLowerCase().startsWith('note:') || item.toLowerCase().startsWith('tip:')) {
      bulletChar = 'â—‡';
      bulletColor = _theme.theme.info;
      textColor = _theme.theme.dim;
    }
    const bullet = bulletColor(`  ${bulletChar} `);
    const wrapped = (0, _layout.wrapParagraph)(formatted, contentWidth);
    wrapped.forEach((segment, index) => {
      if (index === 0) {
        lines.push(`${bullet}${textColor(segment)}`);
      } else {
        lines.push(`${' '.repeat(bulletWidth)}${textColor(segment)}`);
      }
    });
  }
  return lines;
}
function formatCodeBlock(code, width, language) {
  const gutterRaw = (0, _outputMode.isPlainOutputMode)() ? '' : 'â”‚ ';
  const gutter = _theme.theme.ui.muted(gutterRaw);
  const available = Math.max(16, width - (0, _layout.measure)(gutterRaw));
  const {
    lines,
    languageLabel
  } = (0, _codeHighlighter.highlightAndWrapCode)(code, language, available);
  const headerLabel = (languageLabel ?? 'CODE').toUpperCase();
  const result = [];
  if ((0, _outputMode.isPlainOutputMode)()) {
    result.push(_theme.theme.ui.muted(`[${headerLabel}]`));
    for (const line of lines) {
      result.push(line);
    }
  } else {
    result.push(`${gutter}${_theme.theme.ui.muted(buildCodeDivider(headerLabel, available))}`);
    for (const line of lines) {
      result.push(`${gutter}${line}`);
    }
  }
  return result;
}
function formatHeadingBlock(block, width) {
  const wrapped = (0, _layout.wrapParagraph)(formatInlineText(block.text), width);
  if (!wrapped.length) {
    return [];
  }
  const accent = pickHeadingAccent(block.level);
  const content = [];
  if ((0, _outputMode.isPlainOutputMode)()) {
    content.push(...wrapped.map(line => accent(_theme.theme.bold(line))));
    return content;
  }

  // Enhanced heading styling based on level
  switch (block.level) {
    case 1:
      {
        // H1: Bold with decorative box
        const headingIcon = 'â—†';
        const headerText = wrapped.join(' ');
        const decorWidth = Math.max(0, width - headerText.length - 4);
        const leftDecor = 'â•'.repeat(Math.floor(decorWidth / 2));
        const rightDecor = 'â•'.repeat(decorWidth - leftDecor.length);
        content.push(accent(`${leftDecor} ${headingIcon} ${_theme.theme.bold(headerText)} ${headingIcon} ${rightDecor}`));
        break;
      }
    case 2:
      {
        // H2: Bold with underline
        const headerText = wrapped.join(' ');
        content.push(accent(`â–¸ ${_theme.theme.bold(headerText)}`));
        content.push(accent('â”€'.repeat(Math.min(width, headerText.length + 2))));
        break;
      }
    case 3:
      {
        // H3: Bold with bullet prefix
        content.push(...wrapped.map(line => accent(`  ${_theme.theme.bold(line)}`)));
        break;
      }
    default:
      {
        // H4+: Regular bold
        content.push(...wrapped.map(line => accent(_theme.theme.bold(line))));
      }
  }
  return content;
}
function formatQuoteBlock(lines, width) {
  if (!lines.length) {
    return [];
  }
  const gutterText = (0, _outputMode.isPlainOutputMode)() ? '> ' : 'â”‚ ';
  const gutter = _theme.theme.ui.muted(gutterText);
  const available = Math.max(12, width - (0, _layout.measure)(gutterText));
  const result = [];
  for (const line of lines) {
    if (!line.trim()) {
      result.push(gutter);
      continue;
    }
    const wrapped = (0, _layout.wrapParagraph)(formatInlineText(line), available);
    wrapped.forEach(segment => {
      result.push(`${gutter}${segment}`);
    });
  }
  return result;
}
function formatDivider(width) {
  if ((0, _outputMode.isPlainOutputMode)()) {
    return _theme.theme.ui.muted('---');
  }
  return _theme.theme.ui.muted('â”€'.repeat(width));
}
function buildCodeDivider(label, width) {
  const normalized = label.trim() || 'CODE';
  const targetWidth = Math.max(8, width);
  const title = ` ${normalized} `;
  if (title.length >= targetWidth) {
    return title.slice(0, targetWidth);
  }
  const remaining = targetWidth - title.length;
  const left = 'â”€'.repeat(Math.floor(remaining / 2));
  const right = 'â”€'.repeat(remaining - left.length);
  return `${left}${title}${right}`;
}
function pickDiffColor(line) {
  if (line.startsWith('+++') || line.startsWith('---')) {
    return _theme.theme.diff.header;
  }
  if (line.startsWith('@@')) {
    return _theme.theme.diff.hunk;
  }
  if (line.startsWith('+')) {
    return _theme.theme.diff.added;
  }
  if (line.startsWith('-')) {
    return _theme.theme.diff.removed;
  }
  if (line.startsWith('diff')) {
    return _theme.theme.diff.meta;
  }
  return _theme.theme.ui.text;
}
function formatInlineText(text) {
  if (!text) {
    return '';
  }
  const codeSpans = [];
  const linkSpans = [];
  const LINK_PLACEHOLDER = '\u0001';
  let result = text.replace(/`([^`]+)`/g, (_, inner) => {
    codeSpans.push(inner);
    return `\u0000${codeSpans.length - 1}\u0000`;
  });
  const formatBold = (_match, value) => _theme.theme.bold(value);
  result = result.replace(/\*\*(.+?)\*\*/g, formatBold);
  result = result.replace(/__(.+?)__/g, formatBold);
  const formatItalics = (_match, value) => _theme.theme.italic(value);
  result = result.replace(/(?<!\*)\*(?!\*)([^*]+?)(?<!\*)\*(?!\*)/g, formatItalics);
  result = result.replace(/(?<!_)_(?!_)([^_]+?)(?<!_)_(?!_)/g, formatItalics);
  result = result.replace(/~~(.+?)~~/g, (_match, value) => _theme.theme.dim(value));
  result = result.replace(/\[([^\]]+)\]\(([^)]+)\)/g, (_match, label, url) => {
    linkSpans.push(formatMarkdownLink(label, url));
    return `${LINK_PLACEHOLDER}${linkSpans.length - 1}${LINK_PLACEHOLDER}`;
  });
  result = result.replace(/(\bhttps?:\/\/[^\s)]+)([)\]}>,.;:!?"]*)/g, (_match, url, trailing = '') => {
    linkSpans.push(`${formatBareLink(url)}${trailing}`);
    return `${LINK_PLACEHOLDER}${linkSpans.length - 1}${LINK_PLACEHOLDER}`;
  });
  result = result.replace(new RegExp(`${LINK_PLACEHOLDER}(\\d+)${LINK_PLACEHOLDER}`, 'g'), (_match, index) => linkSpans[Number.parseInt(index, 10)] ?? '');

  // eslint-disable-next-line no-control-regex
  result = result.replace(/\u0000(\d+)\u0000/g, (_match, index) => formatInlineCode(codeSpans[Number.parseInt(index, 10)] ?? ''));
  return result;
}
function formatInlineCode(value) {
  const normalized = value.length ? value.trim() : value;
  const display = normalized.length ? normalized : value;
  const snippet = display.replace(/\s+/g, ' ');
  return _theme.theme.ui.background(_theme.theme.ui.text(` ${snippet} `));
}

/**
 * Wrap text in an OSC 8 hyperlink escape sequence for terminal clickable links.
 * Format: \x1b]8;;URL\x1b\\TEXT\x1b]8;;\x1b\\
 * Supported by: iTerm2, Kitty, Hyper, Windows Terminal, GNOME Terminal 3.26+, etc.
 */
function makeClickableLink(url, displayText) {
  // OSC 8 hyperlink: ESC ] 8 ; ; URL ST text ESC ] 8 ; ; ST
  // ST (String Terminator) can be ESC \ or BEL (\x07)
  const OSC = '\x1b]';
  const ST = '\x1b\\';
  return `${OSC}8;;${url}${ST}${displayText}${OSC}8;;${ST}`;
}
function formatMarkdownLink(label, url) {
  const cleanUrl = url.trim();
  const cleanLabel = label.trim() || cleanUrl;
  const labelColor = _theme.theme.link?.label ?? _theme.theme.secondary;
  const urlColor = _theme.theme.link?.url ?? _theme.theme.info;
  // Make the label clickable, then show URL in parentheses (also clickable)
  const styledLabel = labelColor(cleanLabel);
  const styledUrl = urlColor(`(${cleanUrl})`);
  const clickableLabel = makeClickableLink(cleanUrl, styledLabel);
  const clickableUrl = makeClickableLink(cleanUrl, styledUrl);
  return `${clickableLabel} ${clickableUrl}`;
}
function formatBareLink(url) {
  const colorize = _theme.theme.link?.url ?? _theme.theme.info;
  const styledUrl = colorize(url.trim());
  return makeClickableLink(url.trim(), styledUrl);
}
function pickHeadingAccent(level) {
  if (level <= 1) {
    return _theme.theme.primary;
  }
  if (level === 2) {
    return _theme.theme.secondary;
  }
  return _theme.theme.assistant;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdGhlbWUiLCJyZXF1aXJlIiwiX2xheW91dCIsIl9jb2RlSGlnaGxpZ2h0ZXIiLCJfb3V0cHV0TW9kZSIsImZvcm1hdFJpY2hDb250ZW50IiwiY29udGVudCIsIndpZHRoIiwiYmxvY2tzIiwicGFyc2VCbG9ja3MiLCJsaW5lcyIsImJsb2NrIiwiYmxvY2tMaW5lcyIsInR5cGUiLCJmb3JtYXR0ZWQiLCJmb3JtYXRJbmxpbmVUZXh0IiwidGV4dCIsIndyYXBQYXJhZ3JhcGgiLCJmb3JtYXRMaXN0IiwiaXRlbXMiLCJmb3JtYXRDb2RlQmxvY2siLCJsYW5ndWFnZSIsImZvcm1hdERpZmZCbG9jayIsImZvcm1hdEhlYWRpbmdCbG9jayIsImZvcm1hdFF1b3RlQmxvY2siLCJmb3JtYXREaXZpZGVyIiwibGVuZ3RoIiwibGFzdExpbmUiLCJ0cmltIiwicHVzaCIsInBvcCIsInJlbmRlck1lc3NhZ2VQYW5lbCIsIm9wdGlvbnMiLCJub3JtYWxpemVQYW5lbFdpZHRoIiwiZ2V0Q29udGVudFdpZHRoIiwicmVuZGVyUGFuZWwiLCJyZW5kZXJNZXNzYWdlQm9keSIsIm5vcm1hbGl6ZWRXaWR0aCIsImpvaW4iLCJmb3JtYXRDbGlja2FibGVMaW5rcyIsInByb2Nlc3NlZExpbmtzIiwiUExBQ0VIT0xERVIiLCJyZXN1bHQiLCJyZXBsYWNlIiwiX21hdGNoIiwibGFiZWwiLCJ1cmwiLCJmb3JtYXRNYXJrZG93bkxpbmsiLCJ0cmFpbGluZyIsImNsZWFuVXJsIiwiYWN0dWFsVHJhaWxpbmciLCJlbmRzV2l0aCIsImZvcm1hdEJhcmVMaW5rIiwiUmVnRXhwIiwiaW5kZXgiLCJOdW1iZXIiLCJwYXJzZUludCIsImRpZmYiLCJzcGxpdCIsImxpbmUiLCJjb2xvciIsInBpY2tEaWZmQ29sb3IiLCJjaHVua3MiLCJ3cmFwUHJlZm9ybWF0dGVkIiwiZm9yRWFjaCIsImNodW5rIiwiZmVuY2UiLCJwYXJhZ3JhcGgiLCJibG9ja3F1b3RlIiwiZmx1c2hQYXJhZ3JhcGgiLCJtZXJnZWQiLCJ0cmltbWVkTGluZXMiLCJtYXAiLCJmaWx0ZXIiLCJCb29sZWFuIiwiaXNMaXN0IiwiZXZlcnkiLCJ0ZXN0IiwiZmx1c2hCbG9ja3F1b3RlIiwidHJpbVN0YXJ0Iiwic3RhcnRzV2l0aCIsInJhdyIsImluY2x1ZGVzIiwiYnVmZmVyIiwic2xpY2UiLCJ0b0xvd2VyQ2FzZSIsInRyaW1tZWQiLCJxdW90ZU1hdGNoIiwibWF0Y2giLCJoZWFkaW5nTWF0Y2giLCJoYXNoZXMiLCJsZXZlbCIsImJ1bGxldFdpZHRoIiwiY29udGVudFdpZHRoIiwiTWF0aCIsIm1heCIsIml0ZW0iLCJidWxsZXRDaGFyIiwiaWNvbnMiLCJidWxsZXQiLCJidWxsZXRDb2xvciIsInRoZW1lIiwic2Vjb25kYXJ5IiwidGV4dENvbG9yIiwicyIsInN1Y2Nlc3MiLCJ3YXJuaW5nIiwiZXJyb3IiLCJpbmZvIiwiZGltIiwid3JhcHBlZCIsInNlZ21lbnQiLCJyZXBlYXQiLCJjb2RlIiwiZ3V0dGVyUmF3IiwiaXNQbGFpbk91dHB1dE1vZGUiLCJndXR0ZXIiLCJ1aSIsIm11dGVkIiwiYXZhaWxhYmxlIiwibWVhc3VyZSIsImxhbmd1YWdlTGFiZWwiLCJoaWdobGlnaHRBbmRXcmFwQ29kZSIsImhlYWRlckxhYmVsIiwidG9VcHBlckNhc2UiLCJidWlsZENvZGVEaXZpZGVyIiwiYWNjZW50IiwicGlja0hlYWRpbmdBY2NlbnQiLCJib2xkIiwiaGVhZGluZ0ljb24iLCJoZWFkZXJUZXh0IiwiZGVjb3JXaWR0aCIsImxlZnREZWNvciIsImZsb29yIiwicmlnaHREZWNvciIsIm1pbiIsImd1dHRlclRleHQiLCJub3JtYWxpemVkIiwidGFyZ2V0V2lkdGgiLCJ0aXRsZSIsInJlbWFpbmluZyIsImxlZnQiLCJyaWdodCIsImhlYWRlciIsImh1bmsiLCJhZGRlZCIsInJlbW92ZWQiLCJtZXRhIiwiY29kZVNwYW5zIiwibGlua1NwYW5zIiwiTElOS19QTEFDRUhPTERFUiIsIl8iLCJpbm5lciIsImZvcm1hdEJvbGQiLCJ2YWx1ZSIsImZvcm1hdEl0YWxpY3MiLCJpdGFsaWMiLCJmb3JtYXRJbmxpbmVDb2RlIiwiZGlzcGxheSIsInNuaXBwZXQiLCJiYWNrZ3JvdW5kIiwibWFrZUNsaWNrYWJsZUxpbmsiLCJkaXNwbGF5VGV4dCIsIk9TQyIsIlNUIiwiY2xlYW5MYWJlbCIsImxhYmVsQ29sb3IiLCJsaW5rIiwidXJsQ29sb3IiLCJzdHlsZWRMYWJlbCIsInN0eWxlZFVybCIsImNsaWNrYWJsZUxhYmVsIiwiY2xpY2thYmxlVXJsIiwiY29sb3JpemUiLCJwcmltYXJ5IiwiYXNzaXN0YW50Il0sInNvdXJjZXMiOlsicmljaFRleHQudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaWNvbnMsIHRoZW1lIH0gZnJvbSAnLi90aGVtZS5qcyc7XG5pbXBvcnQge1xuICBnZXRDb250ZW50V2lkdGgsXG4gIG1lYXN1cmUsXG4gIG5vcm1hbGl6ZVBhbmVsV2lkdGgsXG4gIHJlbmRlclBhbmVsLFxuICB0eXBlIFBhbmVsT3B0aW9ucyxcbiAgd3JhcFBhcmFncmFwaCxcbiAgd3JhcFByZWZvcm1hdHRlZCxcbn0gZnJvbSAnLi9sYXlvdXQuanMnO1xuaW1wb3J0IHsgaGlnaGxpZ2h0QW5kV3JhcENvZGUgfSBmcm9tICcuL2NvZGVIaWdobGlnaHRlci5qcyc7XG5pbXBvcnQgeyBpc1BsYWluT3V0cHV0TW9kZSB9IGZyb20gJy4vb3V0cHV0TW9kZS5qcyc7XG5cbnR5cGUgQmxvY2sgPVxuICB8IHsgdHlwZTogJ3BhcmFncmFwaCc7IHRleHQ6IHN0cmluZyB9XG4gIHwgeyB0eXBlOiAnbGlzdCc7IGl0ZW1zOiBzdHJpbmdbXSB9XG4gIHwgeyB0eXBlOiAnY29kZSc7IGNvbnRlbnQ6IHN0cmluZzsgbGFuZ3VhZ2U/OiBzdHJpbmcgfVxuICB8IHsgdHlwZTogJ2RpZmYnOyBjb250ZW50OiBzdHJpbmcgfVxuICB8IHsgdHlwZTogJ2hlYWRpbmcnOyBsZXZlbDogbnVtYmVyOyB0ZXh0OiBzdHJpbmcgfVxuICB8IHsgdHlwZTogJ3F1b3RlJzsgbGluZXM6IHN0cmluZ1tdIH1cbiAgfCB7IHR5cGU6ICdkaXZpZGVyJyB9O1xuXG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0UmljaENvbnRlbnQoY29udGVudDogc3RyaW5nLCB3aWR0aDogbnVtYmVyKTogc3RyaW5nW10ge1xuICBjb25zdCBibG9ja3MgPSBwYXJzZUJsb2Nrcyhjb250ZW50KTtcbiAgY29uc3QgbGluZXM6IHN0cmluZ1tdID0gW107XG5cbiAgZm9yIChjb25zdCBibG9jayBvZiBibG9ja3MpIHtcbiAgICBsZXQgYmxvY2tMaW5lczogc3RyaW5nW10gPSBbXTtcblxuICAgIHN3aXRjaCAoYmxvY2sudHlwZSkge1xuICAgICAgY2FzZSAncGFyYWdyYXBoJzoge1xuICAgICAgICBjb25zdCBmb3JtYXR0ZWQgPSBmb3JtYXRJbmxpbmVUZXh0KGJsb2NrLnRleHQpO1xuICAgICAgICBibG9ja0xpbmVzID0gd3JhcFBhcmFncmFwaChmb3JtYXR0ZWQsIHdpZHRoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlICdsaXN0JzpcbiAgICAgICAgYmxvY2tMaW5lcyA9IGZvcm1hdExpc3QoYmxvY2suaXRlbXMsIHdpZHRoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdjb2RlJzpcbiAgICAgICAgYmxvY2tMaW5lcyA9IGZvcm1hdENvZGVCbG9jayhibG9jay5jb250ZW50LCB3aWR0aCwgYmxvY2subGFuZ3VhZ2UpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2RpZmYnOlxuICAgICAgICBibG9ja0xpbmVzID0gZm9ybWF0RGlmZkJsb2NrKGJsb2NrLmNvbnRlbnQsIHdpZHRoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdoZWFkaW5nJzpcbiAgICAgICAgYmxvY2tMaW5lcyA9IGZvcm1hdEhlYWRpbmdCbG9jayhibG9jaywgd2lkdGgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3F1b3RlJzpcbiAgICAgICAgYmxvY2tMaW5lcyA9IGZvcm1hdFF1b3RlQmxvY2soYmxvY2subGluZXMsIHdpZHRoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdkaXZpZGVyJzpcbiAgICAgICAgYmxvY2tMaW5lcyA9IFtmb3JtYXREaXZpZGVyKHdpZHRoKV07XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYmxvY2tMaW5lcyA9IFtdO1xuICAgIH1cblxuICAgIGlmICghYmxvY2tMaW5lcy5sZW5ndGgpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGlmIChsaW5lcy5sZW5ndGgpIHtcbiAgICAgIGNvbnN0IGxhc3RMaW5lID0gbGluZXNbbGluZXMubGVuZ3RoIC0gMV07XG4gICAgICBpZiAobGFzdExpbmU/LnRyaW0oKSkge1xuICAgICAgICBsaW5lcy5wdXNoKCcnKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsaW5lcy5wdXNoKC4uLmJsb2NrTGluZXMpO1xuICB9XG5cbiAgd2hpbGUgKGxpbmVzLmxlbmd0aCkge1xuICAgIGNvbnN0IGxhc3RMaW5lID0gbGluZXNbbGluZXMubGVuZ3RoIC0gMV07XG4gICAgaWYgKGxhc3RMaW5lPy50cmltKCkpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBsaW5lcy5wb3AoKTtcbiAgfVxuXG4gIHJldHVybiBsaW5lcztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbmRlck1lc3NhZ2VQYW5lbChcbiAgY29udGVudDogc3RyaW5nLFxuICBvcHRpb25zOiBQYW5lbE9wdGlvbnNcbik6IHN0cmluZyB7XG4gIGNvbnN0IHdpZHRoID0gbm9ybWFsaXplUGFuZWxXaWR0aChvcHRpb25zLndpZHRoID8/IGdldENvbnRlbnRXaWR0aCgpKTtcbiAgY29uc3QgbGluZXMgPSBmb3JtYXRSaWNoQ29udGVudChjb250ZW50LCB3aWR0aCk7XG4gIHJldHVybiByZW5kZXJQYW5lbChsaW5lcywgeyAuLi5vcHRpb25zLCB3aWR0aCB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbmRlck1lc3NhZ2VCb2R5KGNvbnRlbnQ6IHN0cmluZywgd2lkdGg/OiBudW1iZXIpOiBzdHJpbmcge1xuICBjb25zdCBub3JtYWxpemVkV2lkdGggPSBub3JtYWxpemVQYW5lbFdpZHRoKHdpZHRoID8/IGdldENvbnRlbnRXaWR0aCgpKTtcbiAgY29uc3QgbGluZXMgPSBmb3JtYXRSaWNoQ29udGVudChjb250ZW50LCBub3JtYWxpemVkV2lkdGgpO1xuICByZXR1cm4gbGluZXMuam9pbignXFxuJyk7XG59XG5cbi8qKlxuICogRm9ybWF0IHRleHQgdG8gbWFrZSBVUkxzIGNsaWNrYWJsZSBpbiB0aGUgdGVybWluYWwuXG4gKiBIYW5kbGVzIGJvdGggYmFyZSBVUkxzIChodHRwczovLy4uLikgYW5kIG1hcmtkb3duIGxpbmtzIFt0ZXh0XSh1cmwpLlxuICogVXNlcyBPU0MgOCBlc2NhcGUgc2VxdWVuY2VzIGZvciB0ZXJtaW5hbCBoeXBlcmxpbmtzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0Q2xpY2thYmxlTGlua3ModGV4dDogc3RyaW5nKTogc3RyaW5nIHtcbiAgaWYgKCF0ZXh0KSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG5cbiAgLy8gVXNlIHBsYWNlaG9sZGVycyB0byBhdm9pZCBkb3VibGUtcHJvY2Vzc2luZyBVUkxzIGluc2lkZSBtYXJrZG93biBsaW5rc1xuICBjb25zdCBwcm9jZXNzZWRMaW5rczogc3RyaW5nW10gPSBbXTtcbiAgY29uc3QgUExBQ0VIT0xERVIgPSAnXFx1MDAwMkxJTksnO1xuXG4gIC8vIEZpcnN0IHBhc3M6IGhhbmRsZSBtYXJrZG93biBsaW5rcyBbbGFiZWxdKHVybClcbiAgbGV0IHJlc3VsdCA9IHRleHQucmVwbGFjZSgvXFxbKFteXFxdXSspXFxdXFwoKFteKV0rKVxcKS9nLCAoX21hdGNoLCBsYWJlbCwgdXJsKSA9PiB7XG4gICAgcHJvY2Vzc2VkTGlua3MucHVzaChmb3JtYXRNYXJrZG93bkxpbmsobGFiZWwsIHVybCkpO1xuICAgIHJldHVybiBgJHtQTEFDRUhPTERFUn0ke3Byb2Nlc3NlZExpbmtzLmxlbmd0aCAtIDF9JHtQTEFDRUhPTERFUn1gO1xuICB9KTtcblxuICAvLyBTZWNvbmQgcGFzczogaGFuZGxlIGJhcmUgVVJMcyAobm90IGluc2lkZSBtYXJrZG93biBsaW5rcylcbiAgLy8gTWF0Y2ggVVJMcyBidXQgc3RvcCBhdCB0cmFpbGluZyBwdW5jdHVhdGlvbiB0aGF0J3MgbGlrZWx5IHNlbnRlbmNlLWVuZGluZ1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29udHJvbC1yZWdleFxuICByZXN1bHQgPSByZXN1bHQucmVwbGFjZSgvKFxcYmh0dHBzPzpcXC9cXC9bXlxcc1xcdTAwMDI8Pl0rPykoWylcXF19PiwuOzohP1wiJ10qKD89XFxzfCQpKS9nLCAoX21hdGNoLCB1cmwsIHRyYWlsaW5nID0gJycpID0+IHtcbiAgICAvLyBDbGVhbiB1cCBhbnkgdHJhaWxpbmcgY29sb25zIHRoYXQgbWlnaHQgYmUgcGFydCBvZiBcIlVSTDpcIiBwYXR0ZXJuc1xuICAgIGNvbnN0IGNsZWFuVXJsID0gdXJsLnJlcGxhY2UoLzokLywgJycpO1xuICAgIGNvbnN0IGFjdHVhbFRyYWlsaW5nID0gdXJsLmVuZHNXaXRoKCc6JykgPyAnOicgKyB0cmFpbGluZyA6IHRyYWlsaW5nO1xuICAgIHByb2Nlc3NlZExpbmtzLnB1c2goYCR7Zm9ybWF0QmFyZUxpbmsoY2xlYW5VcmwpfSR7YWN0dWFsVHJhaWxpbmd9YCk7XG4gICAgcmV0dXJuIGAke1BMQUNFSE9MREVSfSR7cHJvY2Vzc2VkTGlua3MubGVuZ3RoIC0gMX0ke1BMQUNFSE9MREVSfWA7XG4gIH0pO1xuXG4gIC8vIEZpbmFsIHBhc3M6IHJlc3RvcmUgcGxhY2Vob2xkZXJzXG4gIHJlc3VsdCA9IHJlc3VsdC5yZXBsYWNlKFxuICAgIG5ldyBSZWdFeHAoYCR7UExBQ0VIT0xERVJ9KFxcXFxkKykke1BMQUNFSE9MREVSfWAsICdnJyksXG4gICAgKF9tYXRjaCwgaW5kZXgpID0+IHByb2Nlc3NlZExpbmtzW051bWJlci5wYXJzZUludChpbmRleCwgMTApXSA/PyAnJ1xuICApO1xuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXREaWZmQmxvY2soZGlmZjogc3RyaW5nLCB3aWR0aDogbnVtYmVyKTogc3RyaW5nW10ge1xuICBjb25zdCBsaW5lcyA9IGRpZmYucmVwbGFjZSgvXFx0L2csICcgICcpLnNwbGl0KCdcXG4nKTtcbiAgY29uc3QgcmVzdWx0OiBzdHJpbmdbXSA9IFtdO1xuXG4gIGZvciAoY29uc3QgbGluZSBvZiBsaW5lcykge1xuICAgIGlmICghbGluZS50cmltKCkpIHtcbiAgICAgIHJlc3VsdC5wdXNoKCcnKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGNvbnN0IGNvbG9yID0gcGlja0RpZmZDb2xvcihsaW5lKTtcbiAgICBjb25zdCBjaHVua3MgPSB3cmFwUHJlZm9ybWF0dGVkKGxpbmUsIHdpZHRoKTtcbiAgICBjaHVua3MuZm9yRWFjaCgoY2h1bmspID0+IHJlc3VsdC5wdXNoKGNvbG9yKGNodW5rKSkpO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gcGFyc2VCbG9ja3MoY29udGVudDogc3RyaW5nKTogQmxvY2tbXSB7XG4gIGNvbnN0IGJsb2NrczogQmxvY2tbXSA9IFtdO1xuICBjb25zdCBsaW5lcyA9IGNvbnRlbnQuc3BsaXQoJ1xcbicpO1xuICBsZXQgZmVuY2U6IHsgbGFuZ3VhZ2U6IHN0cmluZzsgYnVmZmVyOiBzdHJpbmdbXSB9IHwgbnVsbCA9IG51bGw7XG4gIGxldCBwYXJhZ3JhcGg6IHN0cmluZ1tdID0gW107XG4gIGxldCBibG9ja3F1b3RlOiBzdHJpbmdbXSB8IG51bGwgPSBudWxsO1xuXG4gIGNvbnN0IGZsdXNoUGFyYWdyYXBoID0gKCkgPT4ge1xuICAgIGlmICghcGFyYWdyYXBoLmxlbmd0aCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBtZXJnZWQgPSBwYXJhZ3JhcGguam9pbignXFxuJyk7XG4gICAgY29uc3QgdHJpbW1lZExpbmVzID0gbWVyZ2VkXG4gICAgICAuc3BsaXQoJ1xcbicpXG4gICAgICAubWFwKChsaW5lKSA9PiBsaW5lLnRyaW0oKSlcbiAgICAgIC5maWx0ZXIoQm9vbGVhbik7XG5cbiAgICBpZiAoIXRyaW1tZWRMaW5lcy5sZW5ndGgpIHtcbiAgICAgIHBhcmFncmFwaCA9IFtdO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGlzTGlzdCA9IHRyaW1tZWRMaW5lcy5ldmVyeSgobGluZSkgPT5cbiAgICAgIC9eKFxcKnwtfOKAonxcXGQrXFwuKVxccysvLnRlc3QobGluZSlcbiAgICApO1xuXG4gICAgaWYgKGlzTGlzdCkge1xuICAgICAgYmxvY2tzLnB1c2goe1xuICAgICAgICB0eXBlOiAnbGlzdCcsXG4gICAgICAgIGl0ZW1zOiB0cmltbWVkTGluZXMubWFwKChsaW5lKSA9PiBsaW5lLnJlcGxhY2UoL14oXFwqfC184oCifFxcZCtcXC4pXFxzKy8sICcnKSksXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgYmxvY2tzLnB1c2goeyB0eXBlOiAncGFyYWdyYXBoJywgdGV4dDogdHJpbW1lZExpbmVzLmpvaW4oJyAnKSB9KTtcbiAgICB9XG4gICAgcGFyYWdyYXBoID0gW107XG4gIH07XG5cbiAgY29uc3QgZmx1c2hCbG9ja3F1b3RlID0gKCkgPT4ge1xuICAgIGlmICghYmxvY2txdW90ZT8ubGVuZ3RoKSB7XG4gICAgICBibG9ja3F1b3RlID0gbnVsbDtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgYmxvY2tzLnB1c2goeyB0eXBlOiAncXVvdGUnLCBsaW5lczogYmxvY2txdW90ZSB9KTtcbiAgICBibG9ja3F1b3RlID0gbnVsbDtcbiAgfTtcblxuICBmb3IgKGNvbnN0IGxpbmUgb2YgbGluZXMpIHtcbiAgICBpZiAobGluZS50cmltU3RhcnQoKS5zdGFydHNXaXRoKCdgYGAnKSkge1xuICAgICAgY29uc3QgcmF3ID0gbGluZS50cmltKCk7XG4gICAgICBpZiAoZmVuY2UpIHtcbiAgICAgICAgYmxvY2tzLnB1c2goXG4gICAgICAgICAgZmVuY2UubGFuZ3VhZ2UuaW5jbHVkZXMoJ2RpZmYnKVxuICAgICAgICAgICAgPyB7IHR5cGU6ICdkaWZmJywgY29udGVudDogZmVuY2UuYnVmZmVyLmpvaW4oJ1xcbicpIH1cbiAgICAgICAgICAgIDogeyB0eXBlOiAnY29kZScsIGNvbnRlbnQ6IGZlbmNlLmJ1ZmZlci5qb2luKCdcXG4nKSwgbGFuZ3VhZ2U6IGZlbmNlLmxhbmd1YWdlIH1cbiAgICAgICAgKTtcbiAgICAgICAgZmVuY2UgPSBudWxsO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgZmx1c2hQYXJhZ3JhcGgoKTtcbiAgICAgIGZsdXNoQmxvY2txdW90ZSgpO1xuICAgICAgY29uc3QgbGFuZ3VhZ2UgPSByYXcuc2xpY2UoMykudHJpbSgpLnRvTG93ZXJDYXNlKCk7XG4gICAgICBmZW5jZSA9IHsgbGFuZ3VhZ2UsIGJ1ZmZlcjogW10gfTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGlmIChmZW5jZSkge1xuICAgICAgZmVuY2UuYnVmZmVyLnB1c2gobGluZSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBjb25zdCB0cmltbWVkID0gbGluZS50cmltKCk7XG4gICAgaWYgKCF0cmltbWVkKSB7XG4gICAgICBmbHVzaFBhcmFncmFwaCgpO1xuICAgICAgZmx1c2hCbG9ja3F1b3RlKCk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBjb25zdCBxdW90ZU1hdGNoID0gbGluZS5tYXRjaCgvXlxccyo+XFxzPyguKikkLyk7XG4gICAgaWYgKHF1b3RlTWF0Y2gpIHtcbiAgICAgIGZsdXNoUGFyYWdyYXBoKCk7XG4gICAgICBibG9ja3F1b3RlID0gYmxvY2txdW90ZSA/PyBbXTtcbiAgICAgIGJsb2NrcXVvdGUucHVzaChxdW90ZU1hdGNoWzFdID8/ICcnKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGZsdXNoQmxvY2txdW90ZSgpO1xuXG4gICAgY29uc3QgaGVhZGluZ01hdGNoID0gdHJpbW1lZC5tYXRjaCgvXigjezEsNn0pXFxzKyguKikkLyk7XG4gICAgaWYgKGhlYWRpbmdNYXRjaCkge1xuICAgICAgZmx1c2hQYXJhZ3JhcGgoKTtcbiAgICAgIGNvbnN0IGhhc2hlcyA9IGhlYWRpbmdNYXRjaFsxXSA/PyAnJztcbiAgICAgIGNvbnN0IHRleHQgPSBoZWFkaW5nTWF0Y2hbMl0gPz8gJyc7XG4gICAgICBibG9ja3MucHVzaCh7IHR5cGU6ICdoZWFkaW5nJywgbGV2ZWw6IGhhc2hlcy5sZW5ndGgsIHRleHQ6IHRleHQudHJpbSgpIH0pO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgaWYgKC9eKC17Myx9fF97Myx9fFxcKnszLH0pJC8udGVzdCh0cmltbWVkKSkge1xuICAgICAgZmx1c2hQYXJhZ3JhcGgoKTtcbiAgICAgIGJsb2Nrcy5wdXNoKHsgdHlwZTogJ2RpdmlkZXInIH0pO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgcGFyYWdyYXBoLnB1c2gobGluZSk7XG4gIH1cblxuICBmbHVzaFBhcmFncmFwaCgpO1xuICBmbHVzaEJsb2NrcXVvdGUoKTtcbiAgcmV0dXJuIGJsb2Nrcztcbn1cblxuZnVuY3Rpb24gZm9ybWF0TGlzdChpdGVtczogc3RyaW5nW10sIHdpZHRoOiBudW1iZXIpOiBzdHJpbmdbXSB7XG4gIGNvbnN0IGxpbmVzOiBzdHJpbmdbXSA9IFtdO1xuICBjb25zdCBidWxsZXRXaWR0aCA9IDQ7IC8vIFwiICDigKIgXCIgb3IgXCIgIOKckyBcIlxuICBjb25zdCBjb250ZW50V2lkdGggPSBNYXRoLm1heCgxMCwgd2lkdGggLSBidWxsZXRXaWR0aCk7XG5cbiAgZm9yIChjb25zdCBpdGVtIG9mIGl0ZW1zKSB7XG4gICAgY29uc3QgZm9ybWF0dGVkID0gZm9ybWF0SW5saW5lVGV4dChpdGVtKTtcblxuICAgIC8vIERldGVjdCBzdGF0dXMgaW5kaWNhdG9ycyBpbiBsaXN0IGl0ZW1zXG4gICAgbGV0IGJ1bGxldENoYXIgPSBpY29ucy5idWxsZXQ7XG4gICAgbGV0IGJ1bGxldENvbG9yID0gdGhlbWUuc2Vjb25kYXJ5O1xuICAgIGxldCB0ZXh0Q29sb3IgPSAoczogc3RyaW5nKSA9PiBzOyAvLyBpZGVudGl0eSBmdW5jdGlvblxuXG4gICAgLy8gQ2hlY2sgZm9yIHN0YXR1cyBwYXR0ZXJucyBsaWtlIFwi4pyFXCIsIFwi8J+UhFwiLCBcIuKck1wiLCBldGMuXG4gICAgaWYgKC9eW+KcheKck10vdS50ZXN0KGl0ZW0pIHx8IGl0ZW0udG9Mb3dlckNhc2UoKS5zdGFydHNXaXRoKCdkb25lJykgfHwgaXRlbS50b0xvd2VyQ2FzZSgpLnN0YXJ0c1dpdGgoJ2NvbXBsZXRlZCcpKSB7XG4gICAgICBidWxsZXRDaGFyID0gJ+Kckyc7XG4gICAgICBidWxsZXRDb2xvciA9IHRoZW1lLnN1Y2Nlc3M7XG4gICAgfSBlbHNlIGlmICgvXlvwn5SE4o+zXS91LnRlc3QoaXRlbSkgfHwgaXRlbS50b0xvd2VyQ2FzZSgpLnN0YXJ0c1dpdGgoJ2luIHByb2dyZXNzJykgfHwgaXRlbS50b0xvd2VyQ2FzZSgpLnN0YXJ0c1dpdGgoJ3BlbmRpbmcnKSkge1xuICAgICAgYnVsbGV0Q2hhciA9ICfil5AnO1xuICAgICAgYnVsbGV0Q29sb3IgPSB0aGVtZS53YXJuaW5nO1xuICAgIH0gZWxzZSBpZiAoL15b4p2M4pyXXS91LnRlc3QoaXRlbSkgfHwgaXRlbS50b0xvd2VyQ2FzZSgpLnN0YXJ0c1dpdGgoJ2ZhaWxlZCcpIHx8IGl0ZW0udG9Mb3dlckNhc2UoKS5zdGFydHNXaXRoKCdlcnJvcicpKSB7XG4gICAgICBidWxsZXRDaGFyID0gJ+Kclyc7XG4gICAgICBidWxsZXRDb2xvciA9IHRoZW1lLmVycm9yO1xuICAgIH0gZWxzZSBpZiAoXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbWlzbGVhZGluZy1jaGFyYWN0ZXItY2xhc3NcbiAgICAgIC9eW+KEue+4j/CfkqFdL3UudGVzdChpdGVtKSB8fFxuICAgICAgaXRlbS50b0xvd2VyQ2FzZSgpLnN0YXJ0c1dpdGgoJ25vdGU6JykgfHxcbiAgICAgIGl0ZW0udG9Mb3dlckNhc2UoKS5zdGFydHNXaXRoKCd0aXA6JylcbiAgICApIHtcbiAgICAgIGJ1bGxldENoYXIgPSAn4peHJztcbiAgICAgIGJ1bGxldENvbG9yID0gdGhlbWUuaW5mbztcbiAgICAgIHRleHRDb2xvciA9IHRoZW1lLmRpbTtcbiAgICB9XG5cbiAgICBjb25zdCBidWxsZXQgPSBidWxsZXRDb2xvcihgICAke2J1bGxldENoYXJ9IGApO1xuICAgIGNvbnN0IHdyYXBwZWQgPSB3cmFwUGFyYWdyYXBoKGZvcm1hdHRlZCwgY29udGVudFdpZHRoKTtcbiAgICB3cmFwcGVkLmZvckVhY2goKHNlZ21lbnQsIGluZGV4KSA9PiB7XG4gICAgICBpZiAoaW5kZXggPT09IDApIHtcbiAgICAgICAgbGluZXMucHVzaChgJHtidWxsZXR9JHt0ZXh0Q29sb3Ioc2VnbWVudCl9YCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsaW5lcy5wdXNoKGAkeycgJy5yZXBlYXQoYnVsbGV0V2lkdGgpfSR7dGV4dENvbG9yKHNlZ21lbnQpfWApO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIGxpbmVzO1xufVxuXG5mdW5jdGlvbiBmb3JtYXRDb2RlQmxvY2soY29kZTogc3RyaW5nLCB3aWR0aDogbnVtYmVyLCBsYW5ndWFnZT86IHN0cmluZyk6IHN0cmluZ1tdIHtcbiAgY29uc3QgZ3V0dGVyUmF3ID0gaXNQbGFpbk91dHB1dE1vZGUoKSA/ICcnIDogJ+KUgiAnO1xuICBjb25zdCBndXR0ZXIgPSB0aGVtZS51aS5tdXRlZChndXR0ZXJSYXcpO1xuICBjb25zdCBhdmFpbGFibGUgPSBNYXRoLm1heCgxNiwgd2lkdGggLSBtZWFzdXJlKGd1dHRlclJhdykpO1xuICBjb25zdCB7IGxpbmVzLCBsYW5ndWFnZUxhYmVsIH0gPSBoaWdobGlnaHRBbmRXcmFwQ29kZShjb2RlLCBsYW5ndWFnZSwgYXZhaWxhYmxlKTtcbiAgY29uc3QgaGVhZGVyTGFiZWwgPSAobGFuZ3VhZ2VMYWJlbCA/PyAnQ09ERScpLnRvVXBwZXJDYXNlKCk7XG4gIGNvbnN0IHJlc3VsdDogc3RyaW5nW10gPSBbXTtcblxuICBpZiAoaXNQbGFpbk91dHB1dE1vZGUoKSkge1xuICAgIHJlc3VsdC5wdXNoKHRoZW1lLnVpLm11dGVkKGBbJHtoZWFkZXJMYWJlbH1dYCkpO1xuICAgIGZvciAoY29uc3QgbGluZSBvZiBsaW5lcykge1xuICAgICAgcmVzdWx0LnB1c2gobGluZSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHJlc3VsdC5wdXNoKGAke2d1dHRlcn0ke3RoZW1lLnVpLm11dGVkKGJ1aWxkQ29kZURpdmlkZXIoaGVhZGVyTGFiZWwsIGF2YWlsYWJsZSkpfWApO1xuICAgIGZvciAoY29uc3QgbGluZSBvZiBsaW5lcykge1xuICAgICAgcmVzdWx0LnB1c2goYCR7Z3V0dGVyfSR7bGluZX1gKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBmb3JtYXRIZWFkaW5nQmxvY2soYmxvY2s6IHsgbGV2ZWw6IG51bWJlcjsgdGV4dDogc3RyaW5nIH0sIHdpZHRoOiBudW1iZXIpOiBzdHJpbmdbXSB7XG4gIGNvbnN0IHdyYXBwZWQgPSB3cmFwUGFyYWdyYXBoKGZvcm1hdElubGluZVRleHQoYmxvY2sudGV4dCksIHdpZHRoKTtcbiAgaWYgKCF3cmFwcGVkLmxlbmd0aCkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuICBjb25zdCBhY2NlbnQgPSBwaWNrSGVhZGluZ0FjY2VudChibG9jay5sZXZlbCk7XG4gIGNvbnN0IGNvbnRlbnQ6IHN0cmluZ1tdID0gW107XG5cbiAgaWYgKGlzUGxhaW5PdXRwdXRNb2RlKCkpIHtcbiAgICBjb250ZW50LnB1c2goLi4ud3JhcHBlZC5tYXAoKGxpbmUpID0+IGFjY2VudCh0aGVtZS5ib2xkKGxpbmUpKSkpO1xuICAgIHJldHVybiBjb250ZW50O1xuICB9XG5cbiAgLy8gRW5oYW5jZWQgaGVhZGluZyBzdHlsaW5nIGJhc2VkIG9uIGxldmVsXG4gIHN3aXRjaCAoYmxvY2subGV2ZWwpIHtcbiAgICBjYXNlIDE6IHtcbiAgICAgIC8vIEgxOiBCb2xkIHdpdGggZGVjb3JhdGl2ZSBib3hcbiAgICAgIGNvbnN0IGhlYWRpbmdJY29uID0gJ+KXhic7XG4gICAgICBjb25zdCBoZWFkZXJUZXh0ID0gd3JhcHBlZC5qb2luKCcgJyk7XG4gICAgICBjb25zdCBkZWNvcldpZHRoID0gTWF0aC5tYXgoMCwgd2lkdGggLSBoZWFkZXJUZXh0Lmxlbmd0aCAtIDQpO1xuICAgICAgY29uc3QgbGVmdERlY29yID0gJ+KVkCcucmVwZWF0KE1hdGguZmxvb3IoZGVjb3JXaWR0aCAvIDIpKTtcbiAgICAgIGNvbnN0IHJpZ2h0RGVjb3IgPSAn4pWQJy5yZXBlYXQoZGVjb3JXaWR0aCAtIGxlZnREZWNvci5sZW5ndGgpO1xuICAgICAgY29udGVudC5wdXNoKGFjY2VudChgJHtsZWZ0RGVjb3J9ICR7aGVhZGluZ0ljb259ICR7dGhlbWUuYm9sZChoZWFkZXJUZXh0KX0gJHtoZWFkaW5nSWNvbn0gJHtyaWdodERlY29yfWApKTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBjYXNlIDI6IHtcbiAgICAgIC8vIEgyOiBCb2xkIHdpdGggdW5kZXJsaW5lXG4gICAgICBjb25zdCBoZWFkZXJUZXh0ID0gd3JhcHBlZC5qb2luKCcgJyk7XG4gICAgICBjb250ZW50LnB1c2goYWNjZW50KGDilrggJHt0aGVtZS5ib2xkKGhlYWRlclRleHQpfWApKTtcbiAgICAgIGNvbnRlbnQucHVzaChhY2NlbnQoJ+KUgCcucmVwZWF0KE1hdGgubWluKHdpZHRoLCBoZWFkZXJUZXh0Lmxlbmd0aCArIDIpKSkpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGNhc2UgMzoge1xuICAgICAgLy8gSDM6IEJvbGQgd2l0aCBidWxsZXQgcHJlZml4XG4gICAgICBjb250ZW50LnB1c2goLi4ud3JhcHBlZC5tYXAoKGxpbmUpID0+IGFjY2VudChgICAke3RoZW1lLmJvbGQobGluZSl9YCkpKTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBkZWZhdWx0OiB7XG4gICAgICAvLyBINCs6IFJlZ3VsYXIgYm9sZFxuICAgICAgY29udGVudC5wdXNoKC4uLndyYXBwZWQubWFwKChsaW5lKSA9PiBhY2NlbnQodGhlbWUuYm9sZChsaW5lKSkpKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gY29udGVudDtcbn1cblxuZnVuY3Rpb24gZm9ybWF0UXVvdGVCbG9jayhsaW5lczogc3RyaW5nW10sIHdpZHRoOiBudW1iZXIpOiBzdHJpbmdbXSB7XG4gIGlmICghbGluZXMubGVuZ3RoKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIGNvbnN0IGd1dHRlclRleHQgPSBpc1BsYWluT3V0cHV0TW9kZSgpID8gJz4gJyA6ICfilIIgJztcbiAgY29uc3QgZ3V0dGVyID0gdGhlbWUudWkubXV0ZWQoZ3V0dGVyVGV4dCk7XG4gIGNvbnN0IGF2YWlsYWJsZSA9IE1hdGgubWF4KDEyLCB3aWR0aCAtIG1lYXN1cmUoZ3V0dGVyVGV4dCkpO1xuICBjb25zdCByZXN1bHQ6IHN0cmluZ1tdID0gW107XG5cbiAgZm9yIChjb25zdCBsaW5lIG9mIGxpbmVzKSB7XG4gICAgaWYgKCFsaW5lLnRyaW0oKSkge1xuICAgICAgcmVzdWx0LnB1c2goZ3V0dGVyKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBjb25zdCB3cmFwcGVkID0gd3JhcFBhcmFncmFwaChmb3JtYXRJbmxpbmVUZXh0KGxpbmUpLCBhdmFpbGFibGUpO1xuICAgIHdyYXBwZWQuZm9yRWFjaCgoc2VnbWVudCkgPT4ge1xuICAgICAgcmVzdWx0LnB1c2goYCR7Z3V0dGVyfSR7c2VnbWVudH1gKTtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdERpdmlkZXIod2lkdGg6IG51bWJlcik6IHN0cmluZyB7XG4gIGlmIChpc1BsYWluT3V0cHV0TW9kZSgpKSB7XG4gICAgcmV0dXJuIHRoZW1lLnVpLm11dGVkKCctLS0nKTtcbiAgfVxuICByZXR1cm4gdGhlbWUudWkubXV0ZWQoJ+KUgCcucmVwZWF0KHdpZHRoKSk7XG59XG5cbmZ1bmN0aW9uIGJ1aWxkQ29kZURpdmlkZXIobGFiZWw6IHN0cmluZywgd2lkdGg6IG51bWJlcik6IHN0cmluZyB7XG4gIGNvbnN0IG5vcm1hbGl6ZWQgPSBsYWJlbC50cmltKCkgfHwgJ0NPREUnO1xuICBjb25zdCB0YXJnZXRXaWR0aCA9IE1hdGgubWF4KDgsIHdpZHRoKTtcbiAgY29uc3QgdGl0bGUgPSBgICR7bm9ybWFsaXplZH0gYDtcbiAgaWYgKHRpdGxlLmxlbmd0aCA+PSB0YXJnZXRXaWR0aCkge1xuICAgIHJldHVybiB0aXRsZS5zbGljZSgwLCB0YXJnZXRXaWR0aCk7XG4gIH1cbiAgY29uc3QgcmVtYWluaW5nID0gdGFyZ2V0V2lkdGggLSB0aXRsZS5sZW5ndGg7XG4gIGNvbnN0IGxlZnQgPSAn4pSAJy5yZXBlYXQoTWF0aC5mbG9vcihyZW1haW5pbmcgLyAyKSk7XG4gIGNvbnN0IHJpZ2h0ID0gJ+KUgCcucmVwZWF0KHJlbWFpbmluZyAtIGxlZnQubGVuZ3RoKTtcbiAgcmV0dXJuIGAke2xlZnR9JHt0aXRsZX0ke3JpZ2h0fWA7XG59XG5cbmZ1bmN0aW9uIHBpY2tEaWZmQ29sb3IobGluZTogc3RyaW5nKSB7XG4gIGlmIChsaW5lLnN0YXJ0c1dpdGgoJysrKycpIHx8IGxpbmUuc3RhcnRzV2l0aCgnLS0tJykpIHtcbiAgICByZXR1cm4gdGhlbWUuZGlmZi5oZWFkZXI7XG4gIH1cbiAgaWYgKGxpbmUuc3RhcnRzV2l0aCgnQEAnKSkge1xuICAgIHJldHVybiB0aGVtZS5kaWZmLmh1bms7XG4gIH1cbiAgaWYgKGxpbmUuc3RhcnRzV2l0aCgnKycpKSB7XG4gICAgcmV0dXJuIHRoZW1lLmRpZmYuYWRkZWQ7XG4gIH1cbiAgaWYgKGxpbmUuc3RhcnRzV2l0aCgnLScpKSB7XG4gICAgcmV0dXJuIHRoZW1lLmRpZmYucmVtb3ZlZDtcbiAgfVxuICBpZiAobGluZS5zdGFydHNXaXRoKCdkaWZmJykpIHtcbiAgICByZXR1cm4gdGhlbWUuZGlmZi5tZXRhO1xuICB9XG4gIHJldHVybiB0aGVtZS51aS50ZXh0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0SW5saW5lVGV4dCh0ZXh0OiBzdHJpbmcpOiBzdHJpbmcge1xuICBpZiAoIXRleHQpIHtcbiAgICByZXR1cm4gJyc7XG4gIH1cblxuICBjb25zdCBjb2RlU3BhbnM6IHN0cmluZ1tdID0gW107XG4gIGNvbnN0IGxpbmtTcGFuczogc3RyaW5nW10gPSBbXTtcbiAgY29uc3QgTElOS19QTEFDRUhPTERFUiA9ICdcXHUwMDAxJztcblxuICBsZXQgcmVzdWx0ID0gdGV4dC5yZXBsYWNlKC9gKFteYF0rKWAvZywgKF8sIGlubmVyKSA9PiB7XG4gICAgY29kZVNwYW5zLnB1c2goaW5uZXIpO1xuICAgIHJldHVybiBgXFx1MDAwMCR7Y29kZVNwYW5zLmxlbmd0aCAtIDF9XFx1MDAwMGA7XG4gIH0pO1xuXG4gIGNvbnN0IGZvcm1hdEJvbGQgPSAoX21hdGNoOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcpID0+IHRoZW1lLmJvbGQodmFsdWUpO1xuICByZXN1bHQgPSByZXN1bHQucmVwbGFjZSgvXFwqXFwqKC4rPylcXCpcXCovZywgZm9ybWF0Qm9sZCk7XG4gIHJlc3VsdCA9IHJlc3VsdC5yZXBsYWNlKC9fXyguKz8pX18vZywgZm9ybWF0Qm9sZCk7XG5cbiAgY29uc3QgZm9ybWF0SXRhbGljcyA9IChfbWF0Y2g6IHN0cmluZywgdmFsdWU6IHN0cmluZykgPT4gdGhlbWUuaXRhbGljKHZhbHVlKTtcbiAgcmVzdWx0ID0gcmVzdWx0LnJlcGxhY2UoLyg/PCFcXCopXFwqKD8hXFwqKShbXipdKz8pKD88IVxcKilcXCooPyFcXCopL2csIGZvcm1hdEl0YWxpY3MpO1xuICByZXN1bHQgPSByZXN1bHQucmVwbGFjZSgvKD88IV8pXyg/IV8pKFteX10rPykoPzwhXylfKD8hXykvZywgZm9ybWF0SXRhbGljcyk7XG5cbiAgcmVzdWx0ID0gcmVzdWx0LnJlcGxhY2UoL35+KC4rPyl+fi9nLCAoX21hdGNoLCB2YWx1ZSkgPT4gdGhlbWUuZGltKHZhbHVlKSk7XG5cbiAgcmVzdWx0ID0gcmVzdWx0LnJlcGxhY2UoL1xcWyhbXlxcXV0rKVxcXVxcKChbXildKylcXCkvZywgKF9tYXRjaCwgbGFiZWwsIHVybCkgPT4ge1xuICAgIGxpbmtTcGFucy5wdXNoKGZvcm1hdE1hcmtkb3duTGluayhsYWJlbCwgdXJsKSk7XG4gICAgcmV0dXJuIGAke0xJTktfUExBQ0VIT0xERVJ9JHtsaW5rU3BhbnMubGVuZ3RoIC0gMX0ke0xJTktfUExBQ0VIT0xERVJ9YDtcbiAgfSk7XG5cbiAgcmVzdWx0ID0gcmVzdWx0LnJlcGxhY2UoLyhcXGJodHRwcz86XFwvXFwvW15cXHMpXSspKFspXFxdfT4sLjs6IT9cIl0qKS9nLCAoX21hdGNoLCB1cmwsIHRyYWlsaW5nID0gJycpID0+IHtcbiAgICBsaW5rU3BhbnMucHVzaChgJHtmb3JtYXRCYXJlTGluayh1cmwpfSR7dHJhaWxpbmd9YCk7XG4gICAgcmV0dXJuIGAke0xJTktfUExBQ0VIT0xERVJ9JHtsaW5rU3BhbnMubGVuZ3RoIC0gMX0ke0xJTktfUExBQ0VIT0xERVJ9YDtcbiAgfSk7XG5cbiAgcmVzdWx0ID0gcmVzdWx0LnJlcGxhY2UoXG4gICAgbmV3IFJlZ0V4cChgJHtMSU5LX1BMQUNFSE9MREVSfShcXFxcZCspJHtMSU5LX1BMQUNFSE9MREVSfWAsICdnJyksXG4gICAgKF9tYXRjaCwgaW5kZXgpID0+IGxpbmtTcGFuc1tOdW1iZXIucGFyc2VJbnQoaW5kZXgsIDEwKV0gPz8gJydcbiAgKTtcblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29udHJvbC1yZWdleFxuICByZXN1bHQgPSByZXN1bHQucmVwbGFjZSgvXFx1MDAwMChcXGQrKVxcdTAwMDAvZywgKF9tYXRjaCwgaW5kZXgpID0+XG4gICAgZm9ybWF0SW5saW5lQ29kZShjb2RlU3BhbnNbTnVtYmVyLnBhcnNlSW50KGluZGV4LCAxMCldID8/ICcnKVxuICApO1xuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdElubGluZUNvZGUodmFsdWU6IHN0cmluZyk6IHN0cmluZyB7XG4gIGNvbnN0IG5vcm1hbGl6ZWQgPSB2YWx1ZS5sZW5ndGggPyB2YWx1ZS50cmltKCkgOiB2YWx1ZTtcbiAgY29uc3QgZGlzcGxheSA9IG5vcm1hbGl6ZWQubGVuZ3RoID8gbm9ybWFsaXplZCA6IHZhbHVlO1xuICBjb25zdCBzbmlwcGV0ID0gZGlzcGxheS5yZXBsYWNlKC9cXHMrL2csICcgJyk7XG4gIHJldHVybiB0aGVtZS51aS5iYWNrZ3JvdW5kKHRoZW1lLnVpLnRleHQoYCAke3NuaXBwZXR9IGApKTtcbn1cblxuLyoqXG4gKiBXcmFwIHRleHQgaW4gYW4gT1NDIDggaHlwZXJsaW5rIGVzY2FwZSBzZXF1ZW5jZSBmb3IgdGVybWluYWwgY2xpY2thYmxlIGxpbmtzLlxuICogRm9ybWF0OiBcXHgxYl04OztVUkxcXHgxYlxcXFxURVhUXFx4MWJdODs7XFx4MWJcXFxcXG4gKiBTdXBwb3J0ZWQgYnk6IGlUZXJtMiwgS2l0dHksIEh5cGVyLCBXaW5kb3dzIFRlcm1pbmFsLCBHTk9NRSBUZXJtaW5hbCAzLjI2KywgZXRjLlxuICovXG5mdW5jdGlvbiBtYWtlQ2xpY2thYmxlTGluayh1cmw6IHN0cmluZywgZGlzcGxheVRleHQ6IHN0cmluZyk6IHN0cmluZyB7XG4gIC8vIE9TQyA4IGh5cGVybGluazogRVNDIF0gOCA7IDsgVVJMIFNUIHRleHQgRVNDIF0gOCA7IDsgU1RcbiAgLy8gU1QgKFN0cmluZyBUZXJtaW5hdG9yKSBjYW4gYmUgRVNDIFxcIG9yIEJFTCAoXFx4MDcpXG4gIGNvbnN0IE9TQyA9ICdcXHgxYl0nO1xuICBjb25zdCBTVCA9ICdcXHgxYlxcXFwnO1xuICByZXR1cm4gYCR7T1NDfTg7OyR7dXJsfSR7U1R9JHtkaXNwbGF5VGV4dH0ke09TQ304Ozske1NUfWA7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdE1hcmtkb3duTGluayhsYWJlbDogc3RyaW5nLCB1cmw6IHN0cmluZyk6IHN0cmluZyB7XG4gIGNvbnN0IGNsZWFuVXJsID0gdXJsLnRyaW0oKTtcbiAgY29uc3QgY2xlYW5MYWJlbCA9IGxhYmVsLnRyaW0oKSB8fCBjbGVhblVybDtcbiAgY29uc3QgbGFiZWxDb2xvciA9IHRoZW1lLmxpbms/LmxhYmVsID8/IHRoZW1lLnNlY29uZGFyeTtcbiAgY29uc3QgdXJsQ29sb3IgPSB0aGVtZS5saW5rPy51cmwgPz8gdGhlbWUuaW5mbztcbiAgLy8gTWFrZSB0aGUgbGFiZWwgY2xpY2thYmxlLCB0aGVuIHNob3cgVVJMIGluIHBhcmVudGhlc2VzIChhbHNvIGNsaWNrYWJsZSlcbiAgY29uc3Qgc3R5bGVkTGFiZWwgPSBsYWJlbENvbG9yKGNsZWFuTGFiZWwpO1xuICBjb25zdCBzdHlsZWRVcmwgPSB1cmxDb2xvcihgKCR7Y2xlYW5Vcmx9KWApO1xuICBjb25zdCBjbGlja2FibGVMYWJlbCA9IG1ha2VDbGlja2FibGVMaW5rKGNsZWFuVXJsLCBzdHlsZWRMYWJlbCk7XG4gIGNvbnN0IGNsaWNrYWJsZVVybCA9IG1ha2VDbGlja2FibGVMaW5rKGNsZWFuVXJsLCBzdHlsZWRVcmwpO1xuICByZXR1cm4gYCR7Y2xpY2thYmxlTGFiZWx9ICR7Y2xpY2thYmxlVXJsfWA7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdEJhcmVMaW5rKHVybDogc3RyaW5nKTogc3RyaW5nIHtcbiAgY29uc3QgY29sb3JpemUgPSB0aGVtZS5saW5rPy51cmwgPz8gdGhlbWUuaW5mbztcbiAgY29uc3Qgc3R5bGVkVXJsID0gY29sb3JpemUodXJsLnRyaW0oKSk7XG4gIHJldHVybiBtYWtlQ2xpY2thYmxlTGluayh1cmwudHJpbSgpLCBzdHlsZWRVcmwpO1xufVxuXG5mdW5jdGlvbiBwaWNrSGVhZGluZ0FjY2VudChsZXZlbDogbnVtYmVyKSB7XG4gIGlmIChsZXZlbCA8PSAxKSB7XG4gICAgcmV0dXJuIHRoZW1lLnByaW1hcnk7XG4gIH1cbiAgaWYgKGxldmVsID09PSAyKSB7XG4gICAgcmV0dXJuIHRoZW1lLnNlY29uZGFyeTtcbiAgfVxuICByZXR1cm4gdGhlbWUuYXNzaXN0YW50O1xufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBLElBQUFBLE1BQUEsR0FBQUMsT0FBQTtBQUNBLElBQUFDLE9BQUEsR0FBQUQsT0FBQTtBQVNBLElBQUFFLGdCQUFBLEdBQUFGLE9BQUE7QUFDQSxJQUFBRyxXQUFBLEdBQUFILE9BQUE7QUFXTyxTQUFTSSxpQkFBaUJBLENBQUNDLE9BQWUsRUFBRUMsS0FBYSxFQUFZO0VBQzFFLE1BQU1DLE1BQU0sR0FBR0MsV0FBVyxDQUFDSCxPQUFPLENBQUM7RUFDbkMsTUFBTUksS0FBZSxHQUFHLEVBQUU7RUFFMUIsS0FBSyxNQUFNQyxLQUFLLElBQUlILE1BQU0sRUFBRTtJQUMxQixJQUFJSSxVQUFvQixHQUFHLEVBQUU7SUFFN0IsUUFBUUQsS0FBSyxDQUFDRSxJQUFJO01BQ2hCLEtBQUssV0FBVztRQUFFO1VBQ2hCLE1BQU1DLFNBQVMsR0FBR0MsZ0JBQWdCLENBQUNKLEtBQUssQ0FBQ0ssSUFBSSxDQUFDO1VBQzlDSixVQUFVLEdBQUcsSUFBQUsscUJBQWEsRUFBQ0gsU0FBUyxFQUFFUCxLQUFLLENBQUM7VUFDNUM7UUFDRjtNQUNBLEtBQUssTUFBTTtRQUNUSyxVQUFVLEdBQUdNLFVBQVUsQ0FBQ1AsS0FBSyxDQUFDUSxLQUFLLEVBQUVaLEtBQUssQ0FBQztRQUMzQztNQUNGLEtBQUssTUFBTTtRQUNUSyxVQUFVLEdBQUdRLGVBQWUsQ0FBQ1QsS0FBSyxDQUFDTCxPQUFPLEVBQUVDLEtBQUssRUFBRUksS0FBSyxDQUFDVSxRQUFRLENBQUM7UUFDbEU7TUFDRixLQUFLLE1BQU07UUFDVFQsVUFBVSxHQUFHVSxlQUFlLENBQUNYLEtBQUssQ0FBQ0wsT0FBTyxFQUFFQyxLQUFLLENBQUM7UUFDbEQ7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