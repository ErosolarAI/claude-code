{"version":3,"names":["cov_21488brl2a","actualCoverage","buildInteractiveSystemPrompt","basePrompt","profileLabel","_tools","workspaceDir","f","name","s","b","workspace","process","cwd","header","trim","filter","Boolean","join"],"sources":["systemPrompt.ts"],"sourcesContent":["import type { ProviderToolDefinition } from '../core/types.js';\n\n/**\n * Builds a lean, effective system prompt for the interactive shell.\n *\n * Design principles:\n * - Use native API system prompt (not user message) for better model compliance\n * - Keep instructions minimal - trust tool descriptions for specifics\n * - Focus on critical behavioral constraints only\n * - Avoid redundancy with tool-level guidance\n */\nexport function buildInteractiveSystemPrompt(\n  basePrompt: string,\n  profileLabel: string,\n  _tools: ProviderToolDefinition[],\n  workspaceDir?: string\n): string {\n  const name = profileLabel || 'Agent';\n  const workspace = workspaceDir || process.cwd();\n\n  const header = `You are ${name}, a coding agent in ${workspace}.`;\n  return [basePrompt.trim(), header].filter(Boolean).join('\\n\\n').trim();\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAeY;IAAAA,cAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,cAAA;AAbZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASE,4BAA4BA,CAC1CC,UAAkB,EAClBC,YAAoB,EACpBC,MAAgC,EAChCC,YAAqB,EACb;EAAA;EAAAN,cAAA,GAAAO,CAAA;EACR,MAAMC,IAAI;EAAA;EAAA,CAAAR,cAAA,GAAAS,CAAA;EAAG;EAAA,CAAAT,cAAA,GAAAU,CAAA,UAAAN,YAAY;EAAA;EAAA,CAAAJ,cAAA,GAAAU,CAAA,UAAI,OAAO;EACpC,MAAMC,SAAS;EAAA;EAAA,CAAAX,cAAA,GAAAS,CAAA;EAAG;EAAA,CAAAT,cAAA,GAAAU,CAAA,UAAAJ,YAAY;EAAA;EAAA,CAAAN,cAAA,GAAAU,CAAA,UAAIE,OAAO,CAACC,GAAG,CAAC,CAAC;EAE/C,MAAMC,MAAM;EAAA;EAAA,CAAAd,cAAA,GAAAS,CAAA,OAAG,WAAWD,IAAI,uBAAuBG,SAAS,GAAG;EAAC;EAAAX,cAAA,GAAAS,CAAA;EAClE,OAAO,CAACN,UAAU,CAACY,IAAI,CAAC,CAAC,EAAED,MAAM,CAAC,CAACE,MAAM,CAACC,OAAO,CAAC,CAACC,IAAI,CAAC,MAAM,CAAC,CAACH,IAAI,CAAC,CAAC;AACxE","ignoreList":[]}