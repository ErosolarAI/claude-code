{"version":3,"names":["cov_2lvvxm9c13","actualCoverage","registry","s","Map","registerProvider","id","factory","options","b","f","trim","Error","has","override","set","createProvider","config","get","provider","known","Array","from","keys","sort","join","listRegisteredProviders","hasProvider"],"sources":["providerFactory.ts"],"sourcesContent":["import type {\n  LLMProvider,\n  ProviderId,\n  ReasoningEffortLevel,\n  TextVerbosityLevel,\n  ThinkingBudgetConfig,\n  ThinkingLevel,\n} from '../core/types.js';\n\nexport interface ProviderConfig {\n  provider: ProviderId;\n  model: string;\n  temperature?: number;\n  maxTokens?: number;\n  reasoningEffort?: ReasoningEffortLevel;\n  textVerbosity?: TextVerbosityLevel;\n  /** Extended thinking configuration for supported models (Anthropic Claude 4/3.7, Gemini 2.5+) */\n  thinking?: ThinkingBudgetConfig;\n  /** Thinking level for models that support discrete intensities (Gemini 3 Pro) */\n  thinkingLevel?: ThinkingLevel;\n}\n\nexport type ProviderFactory = (config: ProviderConfig) => LLMProvider;\n\nexport interface RegisterProviderOptions {\n  override?: boolean;\n}\n\nconst registry = new Map<ProviderId, ProviderFactory>();\n\nexport function registerProvider(id: ProviderId, factory: ProviderFactory, options: RegisterProviderOptions = {}): void {\n  if (!id?.trim()) {\n    throw new Error('Provider id cannot be blank.');\n  }\n  if (registry.has(id) && !options.override) {\n    throw new Error(`Provider \"${id}\" is already registered.`);\n  }\n  registry.set(id, factory);\n}\n\nexport function createProvider(config: ProviderConfig): LLMProvider {\n  const factory = registry.get(config.provider);\n  if (!factory) {\n    const known = Array.from(registry.keys()).sort().join(', ');\n    throw new Error(`Provider \"${config.provider}\" is not registered. Registered providers: ${known || 'none'}.`);\n  }\n  return factory(config);\n}\n\nexport function listRegisteredProviders(): ProviderId[] {\n  return Array.from(registry.keys());\n}\n\nexport function hasProvider(id: ProviderId): boolean {\n  return registry.has(id);\n}\n"],"mappings":"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","ignoreList":[]}