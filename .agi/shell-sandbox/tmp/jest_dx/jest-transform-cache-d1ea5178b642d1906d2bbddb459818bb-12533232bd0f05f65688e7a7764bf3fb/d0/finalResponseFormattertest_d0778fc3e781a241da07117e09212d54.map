{"version":3,"names":["_finalResponseFormatter","require","describe","it","input","output","appended","ensureNextSteps","expect","toBe","toBeNull"],"sources":["finalResponseFormatter.test.ts"],"sourcesContent":["import { ensureNextSteps } from '../src/core/finalResponseFormatter.ts';\n\ndescribe('ensureNextSteps', () => {\n  it('returns original content when Next steps already present', () => {\n    const input = 'Work done.\\n\\nNext steps:\\n- Ship it';\n    const { output, appended } = ensureNextSteps(input);\n\n    expect(output).toBe(input);\n    expect(appended).toBeNull();\n  });\n\n  it('returns content as-is when no Next steps present (no auto-append)', () => {\n    const input = 'Implemented the feature.';\n    const { output, appended } = ensureNextSteps(input);\n\n    expect(output).toBe(input);\n    expect(appended).toBeNull();\n  });\n\n  it('handles empty content gracefully', () => {\n    const { output, appended } = ensureNextSteps('');\n    expect(output).toBe('');\n    expect(appended).toBeNull();\n  });\n});\n"],"mappings":";;AAAA,IAAAA,uBAAA,GAAAC,OAAA;AAEAC,QAAQ,CAAC,iBAAiB,EAAE,MAAM;EAChCC,EAAE,CAAC,0DAA0D,EAAE,MAAM;IACnE,MAAMC,KAAK,GAAG,sCAAsC;IACpD,MAAM;MAAEC,MAAM;MAAEC;IAAS,CAAC,GAAG,IAAAC,uCAAe,EAACH,KAAK,CAAC;IAEnDI,MAAM,CAACH,MAAM,CAAC,CAACI,IAAI,CAACL,KAAK,CAAC;IAC1BI,MAAM,CAACF,QAAQ,CAAC,CAACI,QAAQ,CAAC,CAAC;EAC7B,CAAC,CAAC;EAEFP,EAAE,CAAC,mEAAmE,EAAE,MAAM;IAC5E,MAAMC,KAAK,GAAG,0BAA0B;IACxC,MAAM;MAAEC,MAAM;MAAEC;IAAS,CAAC,GAAG,IAAAC,uCAAe,EAACH,KAAK,CAAC;IAEnDI,MAAM,CAACH,MAAM,CAAC,CAACI,IAAI,CAACL,KAAK,CAAC;IAC1BI,MAAM,CAACF,QAAQ,CAAC,CAACI,QAAQ,CAAC,CAAC;EAC7B,CAAC,CAAC;EAEFP,EAAE,CAAC,kCAAkC,EAAE,MAAM;IAC3C,MAAM;MAAEE,MAAM;MAAEC;IAAS,CAAC,GAAG,IAAAC,uCAAe,EAAC,EAAE,CAAC;IAChDC,MAAM,CAACH,MAAM,CAAC,CAACI,IAAI,CAAC,EAAE,CAAC;IACvBD,MAAM,CAACF,QAAQ,CAAC,CAACI,QAAQ,CAAC,CAAC;EAC7B,CAAC,CAAC;AACJ,CAAC,CAAC","ignoreList":[]}