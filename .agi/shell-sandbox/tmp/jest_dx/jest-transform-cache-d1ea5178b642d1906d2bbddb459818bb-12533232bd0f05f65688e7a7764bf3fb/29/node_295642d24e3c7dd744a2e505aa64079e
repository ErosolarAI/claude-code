a49f9af6cb7dfd6c102890bbae0ea2d5
/* istanbul ignore next */
function cov_12jedclgk7() {
  var path = "/Volumes/4TB/GitHub/src/runtime/node.ts";
  var hash = "749f2bbe729684b4aff3f40a5044dd201f7c8367";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/Volumes/4TB/GitHub/src/runtime/node.ts",
    statementMap: {
      "0": {
        start: {
          line: 20,
          column: 2
        },
        end: {
          line: 27,
          column: 4
        }
      },
      "1": {
        start: {
          line: 31,
          column: 22
        },
        end: {
          line: 31,
          column: 51
        }
      },
      "2": {
        start: {
          line: 32,
          column: 28
        },
        end: {
          line: 32,
          column: 59
        }
      },
      "3": {
        start: {
          line: 34,
          column: 2
        },
        end: {
          line: 37,
          column: 5
        }
      }
    },
    fnMap: {
      "0": {
        name: "createNodeCapabilityModules",
        decl: {
          start: {
            line: 19,
            column: 9
          },
          end: {
            line: 19,
            column: 36
          }
        },
        loc: {
          start: {
            line: 19,
            column: 59
          },
          end: {
            line: 28,
            column: 1
          }
        },
        line: 19
      },
      "1": {
        name: "createNodeRuntime",
        decl: {
          start: {
            line: 30,
            column: 22
          },
          end: {
            line: 30,
            column: 39
          }
        },
        loc: {
          start: {
            line: 30,
            column: 96
          },
          end: {
            line: 38,
            column: 1
          }
        },
        line: 30
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 32,
            column: 28
          },
          end: {
            line: 32,
            column: 59
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 32,
            column: 28
          },
          end: {
            line: 32,
            column: 53
          }
        }, {
          start: {
            line: 32,
            column: 57
          },
          end: {
            line: 32,
            column: 59
          }
        }],
        line: 32
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0
    },
    f: {
      "0": 0,
      "1": 0
    },
    b: {
      "0": [0, 0]
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "749f2bbe729684b4aff3f40a5044dd201f7c8367"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_12jedclgk7 = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_12jedclgk7();
import { createUniversalRuntime } from './universal.js';
import { FilesystemCapabilityModule, EditCapabilityModule, BashCapabilityModule, SearchCapabilityModule, WebCapabilityModule } from '../capabilities/index.js';
/**
 * Create core Node.js capability modules for the CLI.
 */
function createNodeCapabilityModules() {
  /* istanbul ignore next */
  cov_12jedclgk7().f[0]++;
  cov_12jedclgk7().s[0]++;
  return [new FilesystemCapabilityModule(), new EditCapabilityModule(), new BashCapabilityModule(), new SearchCapabilityModule(), new WebCapabilityModule()
  // Note: GlobCapabilityModule removed - it's deprecated and duplicates the Search tool from SearchCapabilityModule
  ];
}
export async function createNodeRuntime(options) {
  /* istanbul ignore next */
  cov_12jedclgk7().f[1]++;
  const coreModules =
  /* istanbul ignore next */
  (cov_12jedclgk7().s[1]++, createNodeCapabilityModules());
  const additionalModules =
  /* istanbul ignore next */
  (cov_12jedclgk7().s[2]++,
  /* istanbul ignore next */
  (cov_12jedclgk7().b[0][0]++, options.additionalModules) ??
  /* istanbul ignore next */
  (cov_12jedclgk7().b[0][1]++, []));
  /* istanbul ignore next */
  cov_12jedclgk7().s[3]++;
  return createUniversalRuntime({
    ...options,
    additionalModules: [...coreModules, ...additionalModules]
  });
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMTJqZWRjbGdrNyIsImFjdHVhbENvdmVyYWdlIiwiY3JlYXRlVW5pdmVyc2FsUnVudGltZSIsIkZpbGVzeXN0ZW1DYXBhYmlsaXR5TW9kdWxlIiwiRWRpdENhcGFiaWxpdHlNb2R1bGUiLCJCYXNoQ2FwYWJpbGl0eU1vZHVsZSIsIlNlYXJjaENhcGFiaWxpdHlNb2R1bGUiLCJXZWJDYXBhYmlsaXR5TW9kdWxlIiwiY3JlYXRlTm9kZUNhcGFiaWxpdHlNb2R1bGVzIiwiZiIsInMiLCJjcmVhdGVOb2RlUnVudGltZSIsIm9wdGlvbnMiLCJjb3JlTW9kdWxlcyIsImFkZGl0aW9uYWxNb2R1bGVzIiwiYiJdLCJzb3VyY2VzIjpbIm5vZGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlVW5pdmVyc2FsUnVudGltZSwgdHlwZSBVbml2ZXJzYWxSdW50aW1lLCB0eXBlIFVuaXZlcnNhbFJ1bnRpbWVPcHRpb25zIH0gZnJvbSAnLi91bml2ZXJzYWwuanMnO1xuaW1wb3J0IHR5cGUgeyBDYXBhYmlsaXR5TW9kdWxlIH0gZnJvbSAnLi9hZ2VudEhvc3QuanMnO1xuaW1wb3J0IHtcbiAgRmlsZXN5c3RlbUNhcGFiaWxpdHlNb2R1bGUsXG4gIEVkaXRDYXBhYmlsaXR5TW9kdWxlLFxuICBCYXNoQ2FwYWJpbGl0eU1vZHVsZSxcbiAgU2VhcmNoQ2FwYWJpbGl0eU1vZHVsZSxcbiAgV2ViQ2FwYWJpbGl0eU1vZHVsZSxcbn0gZnJvbSAnLi4vY2FwYWJpbGl0aWVzL2luZGV4LmpzJztcblxuZXhwb3J0IGludGVyZmFjZSBOb2RlUnVudGltZU9wdGlvbnNcbiAgZXh0ZW5kcyBPbWl0PFVuaXZlcnNhbFJ1bnRpbWVPcHRpb25zLCAnYWRkaXRpb25hbE1vZHVsZXMnPiB7XG4gIGFkZGl0aW9uYWxNb2R1bGVzPzogQ2FwYWJpbGl0eU1vZHVsZVtdO1xufVxuXG4vKipcbiAqIENyZWF0ZSBjb3JlIE5vZGUuanMgY2FwYWJpbGl0eSBtb2R1bGVzIGZvciB0aGUgQ0xJLlxuICovXG5mdW5jdGlvbiBjcmVhdGVOb2RlQ2FwYWJpbGl0eU1vZHVsZXMoKTogQ2FwYWJpbGl0eU1vZHVsZVtdIHtcbiAgcmV0dXJuIFtcbiAgICBuZXcgRmlsZXN5c3RlbUNhcGFiaWxpdHlNb2R1bGUoKSxcbiAgICBuZXcgRWRpdENhcGFiaWxpdHlNb2R1bGUoKSxcbiAgICBuZXcgQmFzaENhcGFiaWxpdHlNb2R1bGUoKSxcbiAgICBuZXcgU2VhcmNoQ2FwYWJpbGl0eU1vZHVsZSgpLFxuICAgIG5ldyBXZWJDYXBhYmlsaXR5TW9kdWxlKCksXG4gICAgLy8gTm90ZTogR2xvYkNhcGFiaWxpdHlNb2R1bGUgcmVtb3ZlZCAtIGl0J3MgZGVwcmVjYXRlZCBhbmQgZHVwbGljYXRlcyB0aGUgU2VhcmNoIHRvb2wgZnJvbSBTZWFyY2hDYXBhYmlsaXR5TW9kdWxlXG4gIF07XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVOb2RlUnVudGltZShvcHRpb25zOiBOb2RlUnVudGltZU9wdGlvbnMpOiBQcm9taXNlPFVuaXZlcnNhbFJ1bnRpbWU+IHtcbiAgY29uc3QgY29yZU1vZHVsZXMgPSBjcmVhdGVOb2RlQ2FwYWJpbGl0eU1vZHVsZXMoKTtcbiAgY29uc3QgYWRkaXRpb25hbE1vZHVsZXMgPSBvcHRpb25zLmFkZGl0aW9uYWxNb2R1bGVzID8/IFtdO1xuXG4gIHJldHVybiBjcmVhdGVVbml2ZXJzYWxSdW50aW1lKHtcbiAgICAuLi5vcHRpb25zLFxuICAgIGFkZGl0aW9uYWxNb2R1bGVzOiBbLi4uY29yZU1vZHVsZXMsIC4uLmFkZGl0aW9uYWxNb2R1bGVzXSxcbiAgfSk7XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUFlWTtJQUFBQSxjQUFBLFlBQUFBLENBQUE7TUFBQSxPQUFBQyxjQUFBO0lBQUE7RUFBQTtFQUFBLE9BQUFBLGNBQUE7QUFBQTtBQUFBRCxjQUFBO0FBZlosU0FBU0Usc0JBQXNCLFFBQTZELGdCQUFnQjtBQUU1RyxTQUNFQywwQkFBMEIsRUFDMUJDLG9CQUFvQixFQUNwQkMsb0JBQW9CLEVBQ3BCQyxzQkFBc0IsRUFDdEJDLG1CQUFtQixRQUNkLDBCQUEwQjtBQU9qQztBQUNBO0FBQ0E7QUFDQSxTQUFTQywyQkFBMkJBLENBQUEsRUFBdUI7RUFBQTtFQUFBUixjQUFBLEdBQUFTLENBQUE7RUFBQVQsY0FBQSxHQUFBVSxDQUFBO0VBQ3pELE9BQU8sQ0FDTCxJQUFJUCwwQkFBMEIsQ0FBQyxDQUFDLEVBQ2hDLElBQUlDLG9CQUFvQixDQUFDLENBQUMsRUFDMUIsSUFBSUMsb0JBQW9CLENBQUMsQ0FBQyxFQUMxQixJQUFJQyxzQkFBc0IsQ0FBQyxDQUFDLEVBQzVCLElBQUlDLG1CQUFtQixDQUFDO0VBQ3hCO0VBQUEsQ0FDRDtBQUNIO0FBRUEsT0FBTyxlQUFlSSxpQkFBaUJBLENBQUNDLE9BQTJCLEVBQTZCO0VBQUE7RUFBQVosY0FBQSxHQUFBUyxDQUFBO0VBQzlGLE1BQU1JLFdBQVc7RUFBQTtFQUFBLENBQUFiLGNBQUEsR0FBQVUsQ0FBQSxPQUFHRiwyQkFBMkIsQ0FBQyxDQUFDO0VBQ2pELE1BQU1NLGlCQUFpQjtFQUFBO0VBQUEsQ0FBQWQsY0FBQSxHQUFBVSxDQUFBO0VBQUc7RUFBQSxDQUFBVixjQUFBLEdBQUFlLENBQUEsVUFBQUgsT0FBTyxDQUFDRSxpQkFBaUI7RUFBQTtFQUFBLENBQUFkLGNBQUEsR0FBQWUsQ0FBQSxVQUFJLEVBQUU7RUFBQztFQUFBZixjQUFBLEdBQUFVLENBQUE7RUFFMUQsT0FBT1Isc0JBQXNCLENBQUM7SUFDNUIsR0FBR1UsT0FBTztJQUNWRSxpQkFBaUIsRUFBRSxDQUFDLEdBQUdELFdBQVcsRUFBRSxHQUFHQyxpQkFBaUI7RUFDMUQsQ0FBQyxDQUFDO0FBQ0oiLCJpZ25vcmVMaXN0IjpbXX0=