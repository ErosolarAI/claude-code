{"version":3,"names":["cov_1f5zac16va","actualCoverage","execSync","MAX_OUTPUT","s","GitHistoryCapabilityModule","id","create","context","f","workingDir","description","toolSuite","tools","name","parameters","type","properties","mode","enum","query","path","limit","required","handler","args","b","filePath","Math","min","cmd","result","cwd","encoding","maxBuffer","replace","trim","length","slice","error","msg","Error","message","String","commit","preview"],"sources":["gitHistoryCapability.ts"],"sourcesContent":["import type { CapabilityContribution, CapabilityContext, CapabilityModule } from '../runtime/agentHost.js';\nimport { execSync } from 'node:child_process';\n\nconst MAX_OUTPUT = 5000;\n\nexport class GitHistoryCapabilityModule implements CapabilityModule {\n  readonly id = 'capability.git-history';\n\n  async create(context: CapabilityContext): Promise<CapabilityContribution> {\n    const workingDir = context.workingDir;\n\n    return {\n      id: 'git-history.tools',\n      description: 'Git history search and file restoration',\n      toolSuite: {\n        id: 'git-history',\n        description: 'Search git history for commits, file changes, and deleted content',\n        tools: [\n          {\n            name: 'GitHistory',\n            description: 'Search git history for commits, file changes, and deleted content. Use mode=\"log\" for commit history, mode=\"search\" to find commits by content, mode=\"show\" to view a specific commit, mode=\"deleted\" to find deleted files.',\n            parameters: {\n              type: 'object',\n              properties: {\n                mode: {\n                  type: 'string',\n                  enum: ['log', 'search', 'show', 'deleted', 'blame', 'diff'],\n                  description: 'Search mode: log (commit history), search (find by content), show (view commit), deleted (find deleted files), blame (line history), diff (compare)',\n                },\n                query: {\n                  type: 'string',\n                  description: 'Search query - commit hash for show, search text for search, file path for blame/log',\n                },\n                path: {\n                  type: 'string',\n                  description: 'File or directory path to filter results',\n                },\n                limit: {\n                  type: 'number',\n                  description: 'Max results to return (default: 10)',\n                },\n              },\n              required: ['mode'],\n            },\n            handler: async (args: Record<string, unknown>) => {\n              const mode = args['mode'] as string;\n              const query = (args['query'] as string) || '';\n              const filePath = (args['path'] as string) || '';\n              const limit = Math.min((args['limit'] as number) || 10, 50);\n\n              try {\n                let cmd: string;\n                let result: string;\n\n                switch (mode) {\n                  case 'log':\n                    cmd = `git log --oneline -n ${limit}${filePath ? ` -- \"${filePath}\"` : ''}`;\n                    result = execSync(cmd, { cwd: workingDir, encoding: 'utf-8', maxBuffer: 10 * 1024 * 1024 });\n                    break;\n\n                  case 'search':\n                    if (!query) return 'Error: query required for search mode';\n                    cmd = `git log --oneline -n ${limit} --all -S \"${query.replace(/\"/g, '\\\\\"')}\"`;\n                    result = execSync(cmd, { cwd: workingDir, encoding: 'utf-8', maxBuffer: 10 * 1024 * 1024 });\n                    if (!result.trim()) {\n                      cmd = `git log --oneline -n ${limit} --all --grep=\"${query.replace(/\"/g, '\\\\\"')}\"`;\n                      result = execSync(cmd, { cwd: workingDir, encoding: 'utf-8', maxBuffer: 10 * 1024 * 1024 });\n                    }\n                    break;\n\n                  case 'show':\n                    if (!query) return 'Error: query (commit hash) required for show mode';\n                    cmd = `git show --stat --name-only ${query}`;\n                    result = execSync(cmd, { cwd: workingDir, encoding: 'utf-8', maxBuffer: 10 * 1024 * 1024 });\n                    break;\n\n                  case 'deleted':\n                    cmd = query\n                      ? `git log --all --full-history --diff-filter=D --name-only --oneline -n ${limit} -- \"*${query}*\"`\n                      : `git log --all --full-history --diff-filter=D --name-only --oneline -n ${limit}`;\n                    result = execSync(cmd, { cwd: workingDir, encoding: 'utf-8', maxBuffer: 10 * 1024 * 1024 });\n                    break;\n\n                  case 'blame':\n                    if (!filePath) return 'Error: path required for blame mode';\n                    cmd = `git blame --line-porcelain \"${filePath}\" | head -200`;\n                    result = execSync(cmd, { cwd: workingDir, encoding: 'utf-8', maxBuffer: 10 * 1024 * 1024 });\n                    break;\n\n                  case 'diff':\n                    if (query) {\n                      cmd = `git diff ${query}${filePath ? ` -- \"${filePath}\"` : ''}`;\n                    } else {\n                      cmd = `git diff HEAD${filePath ? ` -- \"${filePath}\"` : ''}`;\n                    }\n                    result = execSync(cmd, { cwd: workingDir, encoding: 'utf-8', maxBuffer: 10 * 1024 * 1024 });\n                    break;\n\n                  default:\n                    return `Unknown mode: ${mode}`;\n                }\n\n                if (!result.trim()) {\n                  return `No results found for ${mode} mode${query ? ` with query \"${query}\"` : ''}`;\n                }\n\n                if (result.length > MAX_OUTPUT) {\n                  return result.slice(0, MAX_OUTPUT) + `\\n... [truncated, ${result.length - MAX_OUTPUT} more chars]`;\n                }\n\n                return result;\n              } catch (error) {\n                const msg = error instanceof Error ? error.message : String(error);\n                return `Git error: ${msg}`;\n              }\n            },\n          },\n          {\n            name: 'GitRestore',\n            description: 'Restore a file from git history. Use to recover deleted files or previous versions.',\n            parameters: {\n              type: 'object',\n              properties: {\n                path: {\n                  type: 'string',\n                  description: 'File path to restore',\n                },\n                commit: {\n                  type: 'string',\n                  description: 'Commit hash to restore from (use HEAD~1 for previous, or specific hash)',\n                },\n                preview: {\n                  type: 'boolean',\n                  description: 'If true, show content without restoring',\n                },\n              },\n              required: ['path'],\n            },\n            handler: async (args: Record<string, unknown>) => {\n              const filePath = args['path'] as string;\n              const commit = (args['commit'] as string) || 'HEAD~1';\n              const preview = args['preview'] === true;\n\n              if (!filePath) return 'Error: path required';\n\n              try {\n                if (preview) {\n                  const cmd = `git show \"${commit}:${filePath}\"`;\n                  const result = execSync(cmd, { cwd: workingDir, encoding: 'utf-8', maxBuffer: 10 * 1024 * 1024 });\n                  if (result.length > MAX_OUTPUT) {\n                    return result.slice(0, MAX_OUTPUT) + `\\n... [truncated]`;\n                  }\n                  return result;\n                } else {\n                  const cmd = `git checkout \"${commit}\" -- \"${filePath}\"`;\n                  execSync(cmd, { cwd: workingDir, encoding: 'utf-8' });\n                  return `Restored ${filePath} from ${commit}`;\n                }\n              } catch (error) {\n                const msg = error instanceof Error ? error.message : String(error);\n                return `Git restore error: ${msg}`;\n              }\n            },\n          },\n        ],\n      },\n    };\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}