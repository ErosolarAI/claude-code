{"code":"var __defProp=Object.defineProperty;var __name=(target,value)=>__defProp(target,\"name\",{value,configurable:true});import{icons,theme}from\"./theme.js\";import{getContentWidth,measure,normalizePanelWidth,renderPanel,wrapParagraph,wrapPreformatted}from\"./layout.js\";import{highlightAndWrapCode}from\"./codeHighlighter.js\";import{isPlainOutputMode}from\"./outputMode.js\";function formatRichContent(content,width){const blocks=parseBlocks(content);const lines=[];for(const block of blocks){let blockLines=[];switch(block.type){case\"paragraph\":{const formatted=formatInlineText(block.text);blockLines=wrapParagraph(formatted,width);break}case\"list\":blockLines=formatList(block.items,width);break;case\"code\":blockLines=formatCodeBlock(block.content,width,block.language);break;case\"diff\":blockLines=formatDiffBlock(block.content,width);break;case\"heading\":blockLines=formatHeadingBlock(block,width);break;case\"quote\":blockLines=formatQuoteBlock(block.lines,width);break;case\"divider\":blockLines=[formatDivider(width)];break;default:blockLines=[]}if(!blockLines.length){continue}if(lines.length){const lastLine=lines[lines.length-1];if(lastLine?.trim()){lines.push(\"\")}}lines.push(...blockLines)}while(lines.length){const lastLine=lines[lines.length-1];if(lastLine?.trim()){break}lines.pop()}return lines}__name(formatRichContent,\"formatRichContent\");function renderMessagePanel(content,options){const width=normalizePanelWidth(options.width??getContentWidth());const lines=formatRichContent(content,width);return renderPanel(lines,{...options,width})}__name(renderMessagePanel,\"renderMessagePanel\");function renderMessageBody(content,width){const normalizedWidth=normalizePanelWidth(width??getContentWidth());const lines=formatRichContent(content,normalizedWidth);return lines.join(\"\\n\")}__name(renderMessageBody,\"renderMessageBody\");function formatClickableLinks(text){if(!text){return\"\"}const processedLinks=[];const PLACEHOLDER=\"\u0002LINK\";let result=text.replace(/\\[([^\\]]+)\\]\\(([^)]+)\\)/g,(_match,label,url)=>{processedLinks.push(formatMarkdownLink(label,url));return`${PLACEHOLDER}${processedLinks.length-1}${PLACEHOLDER}`});result=result.replace(/(\\bhttps?:\\/\\/[^\\s\\u0002<>]+?)([)\\]}>,.;:!?\"']*(?=\\s|$))/g,(_match,url,trailing=\"\")=>{const cleanUrl=url.replace(/:$/,\"\");const actualTrailing=url.endsWith(\":\")?\":\"+trailing:trailing;processedLinks.push(`${formatBareLink(cleanUrl)}${actualTrailing}`);return`${PLACEHOLDER}${processedLinks.length-1}${PLACEHOLDER}`});result=result.replace(new RegExp(`${PLACEHOLDER}(\\\\d+)${PLACEHOLDER}`,\"g\"),(_match,index)=>processedLinks[Number.parseInt(index,10)]??\"\");return result}__name(formatClickableLinks,\"formatClickableLinks\");function formatDiffBlock(diff,width){const lines=diff.replace(/\\t/g,\"  \").split(\"\\n\");const result=[];for(const line of lines){if(!line.trim()){result.push(\"\");continue}const color=pickDiffColor(line);const chunks=wrapPreformatted(line,width);chunks.forEach(chunk=>result.push(color(chunk)))}return result}__name(formatDiffBlock,\"formatDiffBlock\");function parseBlocks(content){const blocks=[];const lines=content.split(\"\\n\");let fence=null;let paragraph=[];let blockquote=null;const flushParagraph=__name(()=>{if(!paragraph.length){return}const merged=paragraph.join(\"\\n\");const trimmedLines=merged.split(\"\\n\").map(line=>line.trim()).filter(Boolean);if(!trimmedLines.length){paragraph=[];return}const isList=trimmedLines.every(line=>/^(\\*|-|â€¢|\\d+\\.)\\s+/.test(line));if(isList){blocks.push({type:\"list\",items:trimmedLines.map(line=>line.replace(/^(\\*|-|â€¢|\\d+\\.)\\s+/,\"\"))})}else{blocks.push({type:\"paragraph\",text:trimmedLines.join(\" \")})}paragraph=[]},\"flushParagraph\");const flushBlockquote=__name(()=>{if(!blockquote?.length){blockquote=null;return}blocks.push({type:\"quote\",lines:blockquote});blockquote=null},\"flushBlockquote\");for(const line of lines){if(line.trimStart().startsWith(\"```\")){const raw=line.trim();if(fence){blocks.push(fence.language.includes(\"diff\")?{type:\"diff\",content:fence.buffer.join(\"\\n\")}:{type:\"code\",content:fence.buffer.join(\"\\n\"),language:fence.language});fence=null;continue}flushParagraph();flushBlockquote();const language=raw.slice(3).trim().toLowerCase();fence={language,buffer:[]};continue}if(fence){fence.buffer.push(line);continue}const trimmed=line.trim();if(!trimmed){flushParagraph();flushBlockquote();continue}const quoteMatch=line.match(/^\\s*>\\s?(.*)$/);if(quoteMatch){flushParagraph();blockquote=blockquote??[];blockquote.push(quoteMatch[1]??\"\");continue}flushBlockquote();const headingMatch=trimmed.match(/^(#{1,6})\\s+(.*)$/);if(headingMatch){flushParagraph();const hashes=headingMatch[1]??\"\";const text=headingMatch[2]??\"\";blocks.push({type:\"heading\",level:hashes.length,text:text.trim()});continue}if(/^(-{3,}|_{3,}|\\*{3,})$/.test(trimmed)){flushParagraph();blocks.push({type:\"divider\"});continue}paragraph.push(line)}flushParagraph();flushBlockquote();return blocks}__name(parseBlocks,\"parseBlocks\");function formatList(items,width){const lines=[];const bulletWidth=4;const contentWidth=Math.max(10,width-bulletWidth);for(const item of items){const formatted=formatInlineText(item);let bulletChar=icons.bullet;let bulletColor=theme.secondary;let textColor=__name(s=>s,\"textColor\");if(/^[âœ…âœ“]/u.test(item)||item.toLowerCase().startsWith(\"done\")||item.toLowerCase().startsWith(\"completed\")){bulletChar=\"\\u2713\";bulletColor=theme.success}else if(/^[ðŸ”„â³]/u.test(item)||item.toLowerCase().startsWith(\"in progress\")||item.toLowerCase().startsWith(\"pending\")){bulletChar=\"\\u25D0\";bulletColor=theme.warning}else if(/^[âŒâœ—]/u.test(item)||item.toLowerCase().startsWith(\"failed\")||item.toLowerCase().startsWith(\"error\")){bulletChar=\"\\u2717\";bulletColor=theme.error}else if(/^[â„¹ï¸ðŸ’¡]/u.test(item)||item.toLowerCase().startsWith(\"note:\")||item.toLowerCase().startsWith(\"tip:\")){bulletChar=\"\\u25C7\";bulletColor=theme.info;textColor=theme.dim}const bullet=bulletColor(`  ${bulletChar} `);const wrapped=wrapParagraph(formatted,contentWidth);wrapped.forEach((segment,index)=>{if(index===0){lines.push(`${bullet}${textColor(segment)}`)}else{lines.push(`${\" \".repeat(bulletWidth)}${textColor(segment)}`)}})}return lines}__name(formatList,\"formatList\");function formatCodeBlock(code,width,language){const gutterRaw=isPlainOutputMode()?\"\":\"\\u2502 \";const gutter=theme.ui.muted(gutterRaw);const available=Math.max(16,width-measure(gutterRaw));const{lines,languageLabel}=highlightAndWrapCode(code,language,available);const headerLabel=(languageLabel??\"CODE\").toUpperCase();const result=[];if(isPlainOutputMode()){result.push(theme.ui.muted(`[${headerLabel}]`));for(const line of lines){result.push(line)}}else{result.push(`${gutter}${theme.ui.muted(buildCodeDivider(headerLabel,available))}`);for(const line of lines){result.push(`${gutter}${line}`)}}return result}__name(formatCodeBlock,\"formatCodeBlock\");function formatHeadingBlock(block,width){const wrapped=wrapParagraph(formatInlineText(block.text),width);if(!wrapped.length){return[]}const accent=pickHeadingAccent(block.level);const content=[];if(isPlainOutputMode()){content.push(...wrapped.map(line=>accent(theme.bold(line))));return content}switch(block.level){case 1:{const headingIcon=\"\\u25C6\";const headerText=wrapped.join(\" \");const decorWidth=Math.max(0,width-headerText.length-4);const leftDecor=\"\\u2550\".repeat(Math.floor(decorWidth/2));const rightDecor=\"\\u2550\".repeat(decorWidth-leftDecor.length);content.push(accent(`${leftDecor} ${headingIcon} ${theme.bold(headerText)} ${headingIcon} ${rightDecor}`));break}case 2:{const headerText=wrapped.join(\" \");content.push(accent(`\\u25B8 ${theme.bold(headerText)}`));content.push(accent(\"\\u2500\".repeat(Math.min(width,headerText.length+2))));break}case 3:{content.push(...wrapped.map(line=>accent(`  ${theme.bold(line)}`)));break}default:{content.push(...wrapped.map(line=>accent(theme.bold(line))))}}return content}__name(formatHeadingBlock,\"formatHeadingBlock\");function formatQuoteBlock(lines,width){if(!lines.length){return[]}const gutterText=isPlainOutputMode()?\"> \":\"\\u2502 \";const gutter=theme.ui.muted(gutterText);const available=Math.max(12,width-measure(gutterText));const result=[];for(const line of lines){if(!line.trim()){result.push(gutter);continue}const wrapped=wrapParagraph(formatInlineText(line),available);wrapped.forEach(segment=>{result.push(`${gutter}${segment}`)})}return result}__name(formatQuoteBlock,\"formatQuoteBlock\");function formatDivider(width){if(isPlainOutputMode()){return theme.ui.muted(\"---\")}return theme.ui.muted(\"\\u2500\".repeat(width))}__name(formatDivider,\"formatDivider\");function buildCodeDivider(label,width){const normalized=label.trim()||\"CODE\";const targetWidth=Math.max(8,width);const title=` ${normalized} `;if(title.length>=targetWidth){return title.slice(0,targetWidth)}const remaining=targetWidth-title.length;const left=\"\\u2500\".repeat(Math.floor(remaining/2));const right=\"\\u2500\".repeat(remaining-left.length);return`${left}${title}${right}`}__name(buildCodeDivider,\"buildCodeDivider\");function pickDiffColor(line){if(line.startsWith(\"+++\")||line.startsWith(\"---\")){return theme.diff.header}if(line.startsWith(\"@@\")){return theme.diff.hunk}if(line.startsWith(\"+\")){return theme.diff.added}if(line.startsWith(\"-\")){return theme.diff.removed}if(line.startsWith(\"diff\")){return theme.diff.meta}return theme.ui.text}__name(pickDiffColor,\"pickDiffColor\");function formatInlineText(text){if(!text){return\"\"}const codeSpans=[];const linkSpans=[];const LINK_PLACEHOLDER=\"\u0001\";let result=text.replace(/`([^`]+)`/g,(_,inner)=>{codeSpans.push(inner);return`\\0${codeSpans.length-1}\\0`});const formatBold=__name((_match,value)=>theme.bold(value),\"formatBold\");result=result.replace(/\\*\\*(.+?)\\*\\*/g,formatBold);result=result.replace(/__(.+?)__/g,formatBold);const formatItalics=__name((_match,value)=>theme.italic(value),\"formatItalics\");result=result.replace(/(?<!\\*)\\*(?!\\*)([^*]+?)(?<!\\*)\\*(?!\\*)/g,formatItalics);result=result.replace(/(?<!_)_(?!_)([^_]+?)(?<!_)_(?!_)/g,formatItalics);result=result.replace(/~~(.+?)~~/g,(_match,value)=>theme.dim(value));result=result.replace(/\\[([^\\]]+)\\]\\(([^)]+)\\)/g,(_match,label,url)=>{linkSpans.push(formatMarkdownLink(label,url));return`${LINK_PLACEHOLDER}${linkSpans.length-1}${LINK_PLACEHOLDER}`});result=result.replace(/(\\bhttps?:\\/\\/[^\\s)]+)([)\\]}>,.;:!?\"]*)/g,(_match,url,trailing=\"\")=>{linkSpans.push(`${formatBareLink(url)}${trailing}`);return`${LINK_PLACEHOLDER}${linkSpans.length-1}${LINK_PLACEHOLDER}`});result=result.replace(new RegExp(`${LINK_PLACEHOLDER}(\\\\d+)${LINK_PLACEHOLDER}`,\"g\"),(_match,index)=>linkSpans[Number.parseInt(index,10)]??\"\");result=result.replace(/\\u0000(\\d+)\\u0000/g,(_match,index)=>formatInlineCode(codeSpans[Number.parseInt(index,10)]??\"\"));return result}__name(formatInlineText,\"formatInlineText\");function formatInlineCode(value){const normalized=value.length?value.trim():value;const display=normalized.length?normalized:value;const snippet=display.replace(/\\s+/g,\" \");return theme.ui.background(theme.ui.text(` ${snippet} `))}__name(formatInlineCode,\"formatInlineCode\");function makeClickableLink(url,displayText){const OSC=\"\\x1B]\";const ST=\"\\x1B\\\\\";return`${OSC}8;;${url}${ST}${displayText}${OSC}8;;${ST}`}__name(makeClickableLink,\"makeClickableLink\");function formatMarkdownLink(label,url){const cleanUrl=url.trim();const cleanLabel=label.trim()||cleanUrl;const labelColor=theme.link?.label??theme.secondary;const urlColor=theme.link?.url??theme.info;const styledLabel=labelColor(cleanLabel);const styledUrl=urlColor(`(${cleanUrl})`);const clickableLabel=makeClickableLink(cleanUrl,styledLabel);const clickableUrl=makeClickableLink(cleanUrl,styledUrl);return`${clickableLabel} ${clickableUrl}`}__name(formatMarkdownLink,\"formatMarkdownLink\");function formatBareLink(url){const colorize=theme.link?.url??theme.info;const styledUrl=colorize(url.trim());return makeClickableLink(url.trim(),styledUrl)}__name(formatBareLink,\"formatBareLink\");function pickHeadingAccent(level){if(level<=1){return theme.primary}if(level===2){return theme.secondary}return theme.assistant}__name(pickHeadingAccent,\"pickHeadingAccent\");export{formatClickableLinks,formatDiffBlock,formatInlineText,formatRichContent,renderMessageBody,renderMessagePanel};\n","warnings":[],"map":{"version":3,"mappings":"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","names":[],"ignoreList":[],"sources":["/Volumes/4TB/GitHub/src/ui/richText.ts"],"sourcesContent":[null]}}