{"code":"var __defProp=Object.defineProperty;var __name=(target,value)=>__defProp(target,\"name\",{value,configurable:true});import{theme,icons}from\"./theme.js\";import{getContentWidth,wrapParagraph,measure}from\"./layout.js\";const toneConfigs={neutral:{primary:theme.ui.text,secondary:theme.ui.muted,icon:\"\\u25CB\",gradient:theme.gradient.cool},info:{primary:theme.info,secondary:theme.ui.muted,icon:\"\\u2139\\uFE0F\",gradient:theme.gradient.ocean},success:{primary:theme.success,secondary:theme.ui.muted,icon:\"\\u2705\",gradient:theme.gradient.success},warning:{primary:theme.warning,secondary:theme.ui.muted,icon:\"\\u26A0\\uFE0F\",gradient:theme.gradient.warm},danger:{primary:theme.error,secondary:theme.ui.muted,icon:\"\\u274C\",gradient:theme.gradient.fire},accent:{primary:theme.secondary,secondary:theme.ui.muted,icon:\"\\u2728\",gradient:theme.gradient.neon},thinking:{primary:theme.neon.cyan,secondary:theme.ui.muted,icon:\"\\u{1F4AD}\",gradient:theme.gradient.ocean},planning:{primary:theme.neon.blue,secondary:theme.ui.muted,icon:\"\\u{1F5FA}\\uFE0F\",gradient:theme.gradient.cool},analysis:{primary:theme.neon.orange,secondary:theme.ui.muted,icon:\"\\u{1F50D}\",gradient:theme.gradient.warm}};function formatThought(content,options={}){const config=toneConfigs[options.tone||\"thinking\"];const icon=options.icon||config.icon;const label=options.label||(options.tone===\"thinking\"?\"thinking\":options.tone||\"note\");const timestamp=options.showTimestamp?theme.ui.muted(` [${new Date().toLocaleTimeString([],{hour:\"2-digit\",minute:\"2-digit\"})}]`):\"\";const coloredLabel=options.gradientLabel?config.gradient(`${icon} ${label}`):config.primary(`${icon} ${label}`);const bullet=\"\\u23FA\";const labelPrefix=`${bullet} ${coloredLabel}${timestamp}${theme.ui.muted(\" \\xB7 \")}`;const indent=\" \".repeat(measure(labelPrefix)+1);const cleaned=content.replace(/^[⏺•○]\\s*/,\"\").trim();const lines=cleaned.split(\"\\n\");const result=[];for(let i=0;i<lines.length;i++){const line=lines[i];if(!line.trim()){result.push(\"\");continue}if(i===0){const wrapped=wrapParagraph(line,getContentWidth()-measure(labelPrefix));result.push(`${labelPrefix}${config.primary(wrapped[0]||\"\")}`);for(let j=1;j<wrapped.length;j++){result.push(`${indent}${config.primary(wrapped[j]||\"\")}`)}}else{const wrapped=wrapParagraph(line,getContentWidth()-measure(indent));for(const wrappedLine of wrapped){result.push(`${indent}${config.primary(wrappedLine)}`)}}}return result.join(\"\\n\")+\"\\n\"}__name(formatThought,\"formatThought\");function formatToolResult(content,options){const toolColor=theme.toolColors[options.toolName]||theme.toolColors.default;const resultIndent=\"  \";const diffIndent=\"    \";const lines=[];const bullet=\"\\u23BF\";const coloredToolName=toolColor(`[${options.toolName}]`);const summary=options.summary||extractSummary(content);lines.push(`${resultIndent}${theme.ui.muted(bullet)}  ${coloredToolName} ${theme.ui.text(summary)}`);if(options.showDiff&&(options.oldContent||options.newContent)){lines.push(`${resultIndent}${theme.ui.muted(\"\\u251C\\u2500\\u2510\")}`);if(options.oldContent){const oldPreview=truncateWithEllipsis(options.oldContent,60);lines.push(`${resultIndent}${theme.ui.muted(\"\\u2502\")} ${theme.error(\"\\u2500 \"+oldPreview)}`)}if(options.newContent){const newPreview=truncateWithEllipsis(options.newContent,60);lines.push(`${resultIndent}${theme.ui.muted(\"\\u2502\")} ${theme.success(\"+ \"+newPreview)}`)}lines.push(`${resultIndent}${theme.ui.muted(\"\\u2514\\u2500\")}`)}if(options.showExpandHint&&content.length>summary.length+50){lines[lines.length-1]+=` ${theme.ui.muted(\"(ctrl+o to expand)\")}`}return lines.join(\"\\n\")+\"\\n\"}__name(formatToolResult,\"formatToolResult\");function formatProgressIndicator(options){const width=options.width||getContentWidth()-20;const percentage=Math.round(options.current/options.total*100);const elements=[];elements.push(icons.spinner[0]||\"\\u25D0\");elements.push(theme.info(options.phase));if(options.showBar!==false){const barWidth=Math.min(20,width-30);const filled=Math.round(percentage/100*barWidth);const empty=barWidth-filled;const bar=`${theme.success(\"\\u2588\".repeat(filled))}${theme.ui.muted(\"\\u2591\".repeat(empty))}`;elements.push(`[${bar}]`)}if(options.showPercentage!==false){elements.push(theme.success(`${percentage}%`))}if(options.showSteps!==false){elements.push(theme.ui.muted(`(${options.current}/${options.total})`))}return elements.join(\" \")}__name(formatProgressIndicator,\"formatProgressIndicator\");function formatSectionHeader(title,subtitle,tone=\"accent\"){const config=toneConfigs[tone];const width=getContentWidth();const headerLine=config.gradient(\"\\u2501\".repeat(width));const titleLine=config.gradient(padCenter(title.toUpperCase(),width));const lines=[headerLine,titleLine];if(subtitle){const subtitleLine=theme.ui.muted(padCenter(subtitle,width));lines.push(subtitleLine)}return lines.join(\"\\n\")+\"\\n\"}__name(formatSectionHeader,\"formatSectionHeader\");function extractSummary(content){const firstLine=content.split(\"\\n\")[0]||content;if(firstLine.match(/(\\d+)\\s*lines?/i)){const match=firstLine.match(/(\\d+)\\s*lines?/i);return`Found ${match[1]} line${match[1]===\"1\"?\"\":\"s\"}`}if(firstLine.match(/(\\d+)\\s*(?:files?|matches?)/i)){const match=firstLine.match(/(\\d+)\\s*(?:files?|matches?)/i);return`Found ${match[1]} file${match[1]===\"1\"?\"\":\"s\"}`}if(firstLine.match(/read.*?(\\d+)\\s*lines?/i)){const match=firstLine.match(/read.*?(\\d+)\\s*lines?/i);return`Read ${match[1]} lines`}const maxLength=80;if(firstLine.length<=maxLength){return firstLine}const sentenceEnd=firstLine.slice(0,maxLength).search(/[.!?;]\\s|[.!?;]$/);if(sentenceEnd>30){return firstLine.slice(0,sentenceEnd+1)}const truncated=firstLine.slice(0,maxLength);const lastSpace=truncated.lastIndexOf(\" \");return lastSpace>40?truncated.slice(0,lastSpace)+\"\\u2026\":truncated+\"\\u2026\"}__name(extractSummary,\"extractSummary\");function truncateWithEllipsis(text,maxLength){if(text.length<=maxLength)return text;return text.slice(0,maxLength-1)+\"\\u2026\"}__name(truncateWithEllipsis,\"truncateWithEllipsis\");function padCenter(text,width){const visible=measure(text);if(visible>=width)return text;const left=Math.floor((width-visible)/2);const right=width-visible-left;return\" \".repeat(left)+text+\" \".repeat(right)}__name(padCenter,\"padCenter\");export{formatProgressIndicator,formatSectionHeader,formatThought,formatToolResult};\n","warnings":[],"map":{"version":3,"mappings":"kHAWA,OAAS,MAAO,UAAa,aAC7B,OAAS,gBAAsC,cAAe,YAA0B,cAIxF,MAAM,YAKD,CACH,QAAS,CACP,QAAS,MAAM,GAAG,KAClB,UAAW,MAAM,GAAG,MACpB,KAAM,SACN,SAAU,MAAM,SAAS,IAC3B,EACA,KAAM,CACJ,QAAS,MAAM,KACf,UAAW,MAAM,GAAG,MACpB,KAAM,eACN,SAAU,MAAM,SAAS,KAC3B,EACA,QAAS,CACP,QAAS,MAAM,QACf,UAAW,MAAM,GAAG,MACpB,KAAM,SACN,SAAU,MAAM,SAAS,OAC3B,EACA,QAAS,CACP,QAAS,MAAM,QACf,UAAW,MAAM,GAAG,MACpB,KAAM,eACN,SAAU,MAAM,SAAS,IAC3B,EACA,OAAQ,CACN,QAAS,MAAM,MACf,UAAW,MAAM,GAAG,MACpB,KAAM,SACN,SAAU,MAAM,SAAS,IAC3B,EACA,OAAQ,CACN,QAAS,MAAM,UACf,UAAW,MAAM,GAAG,MACpB,KAAM,SACN,SAAU,MAAM,SAAS,IAC3B,EACA,SAAU,CACR,QAAS,MAAM,KAAK,KACpB,UAAW,MAAM,GAAG,MACpB,KAAM,YACN,SAAU,MAAM,SAAS,KAC3B,EACA,SAAU,CACR,QAAS,MAAM,KAAK,KACpB,UAAW,MAAM,GAAG,MACpB,KAAM,kBACN,SAAU,MAAM,SAAS,IAC3B,EACA,SAAU,CACR,QAAS,MAAM,KAAK,OACpB,UAAW,MAAM,GAAG,MACpB,KAAM,YACN,SAAU,MAAM,SAAS,IAC3B,CACF,EAkCO,SAAS,cACd,QACA,QAAiC,CAAC,EAC1B,CACR,MAAM,OAAS,YAAY,QAAQ,MAAQ,UAAU,EACrD,MAAM,KAAO,QAAQ,MAAQ,OAAO,KACpC,MAAM,MAAQ,QAAQ,QAAU,QAAQ,OAAS,WAAa,WAAa,QAAQ,MAAQ,QAE3F,MAAM,UAAY,QAAQ,cACtB,MAAM,GAAG,MAAM,KAAK,IAAI,KAAK,EAAE,mBAAmB,CAAC,EAAG,CAAE,KAAM,UAAW,OAAQ,SAAU,CAAC,CAAC,GAAG,EAChG,GAEJ,MAAM,aAAe,QAAQ,cACzB,OAAO,SAAS,GAAG,IAAI,IAAI,KAAK,EAAE,EAClC,OAAO,QAAQ,GAAG,IAAI,IAAI,KAAK,EAAE,EAErC,MAAM,OAAS,SACf,MAAM,YAAc,GAAG,MAAM,IAAI,YAAY,GAAG,SAAS,GAAG,MAAM,GAAG,MAAM,QAAK,CAAC,GACjF,MAAM,OAAS,IAAI,OAAO,QAAQ,WAAW,EAAI,CAAC,EAGlD,MAAM,QAAU,QAAQ,QAAQ,YAAa,EAAE,EAAE,KAAK,EACtD,MAAM,MAAQ,QAAQ,MAAM,IAAI,EAChC,MAAM,OAAmB,CAAC,EAE1B,QAAS,EAAI,EAAG,EAAI,MAAM,OAAQ,IAAK,CACrC,MAAM,KAAO,MAAM,CAAC,EACpB,GAAI,CAAC,KAAK,KAAK,EAAG,CAChB,OAAO,KAAK,EAAE,EACd,QACF,CAEA,GAAI,IAAM,EAAG,CAEX,MAAM,QAAU,cAAc,KAAM,gBAAgB,EAAI,QAAQ,WAAW,CAAC,EAE5E,OAAO,KAAK,GAAG,WAAW,GAAG,OAAO,QAAQ,QAAQ,CAAC,GAAK,EAAE,CAAC,EAAE,EAG/D,QAAS,EAAI,EAAG,EAAI,QAAQ,OAAQ,IAAK,CACvC,OAAO,KAAK,GAAG,MAAM,GAAG,OAAO,QAAQ,QAAQ,CAAC,GAAK,EAAE,CAAC,EAAE,CAC5D,CACF,KAAO,CAEL,MAAM,QAAU,cAAc,KAAM,gBAAgB,EAAI,QAAQ,MAAM,CAAC,EAEvE,UAAW,eAAe,QAAS,CACjC,OAAO,KAAK,GAAG,MAAM,GAAG,OAAO,QAAQ,WAAW,CAAC,EAAE,CACvD,CACF,CACF,CAEA,OAAO,OAAO,KAAK,IAAI,EAAI,IAC7B,CArDgB,sCA0DT,SAAS,iBACd,QACA,QACQ,CACR,MAAM,UAAY,MAAM,WAAW,QAAQ,QAAyC,GAAK,MAAM,WAAW,QAC1G,MAAM,aAAe,KACrB,MAAM,WAAa,OAEnB,MAAM,MAAkB,CAAC,EACzB,MAAM,OAAS,SAGf,MAAM,gBAAkB,UAAU,IAAI,QAAQ,QAAQ,GAAG,EACzD,MAAM,QAAU,QAAQ,SAAW,eAAe,OAAO,EAEzD,MAAM,KAAK,GAAG,YAAY,GAAG,MAAM,GAAG,MAAM,MAAM,CAAC,KAAK,eAAe,IAAI,MAAM,GAAG,KAAK,OAAO,CAAC,EAAE,EAGnG,GAAI,QAAQ,WAAa,QAAQ,YAAc,QAAQ,YAAa,CAClE,MAAM,KAAK,GAAG,YAAY,GAAG,MAAM,GAAG,MAAM,oBAAK,CAAC,EAAE,EAEpD,GAAI,QAAQ,WAAY,CACtB,MAAM,WAAa,qBAAqB,QAAQ,WAAY,EAAE,EAC9D,MAAM,KAAK,GAAG,YAAY,GAAG,MAAM,GAAG,MAAM,QAAG,CAAC,IAAI,MAAM,MAAM,UAAO,UAAU,CAAC,EAAE,CACtF,CAEA,GAAI,QAAQ,WAAY,CACtB,MAAM,WAAa,qBAAqB,QAAQ,WAAY,EAAE,EAC9D,MAAM,KAAK,GAAG,YAAY,GAAG,MAAM,GAAG,MAAM,QAAG,CAAC,IAAI,MAAM,QAAQ,KAAO,UAAU,CAAC,EAAE,CACxF,CAEA,MAAM,KAAK,GAAG,YAAY,GAAG,MAAM,GAAG,MAAM,cAAI,CAAC,EAAE,CACrD,CAGA,GAAI,QAAQ,gBAAkB,QAAQ,OAAS,QAAQ,OAAS,GAAI,CAClE,MAAM,MAAM,OAAS,CAAC,GAAK,IAAI,MAAM,GAAG,MAAM,oBAAoB,CAAC,EACrE,CAEA,OAAO,MAAM,KAAK,IAAI,EAAI,IAC5B,CAxCgB,4CA6CT,SAAS,wBACd,QACQ,CACR,MAAM,MAAQ,QAAQ,OAAS,gBAAgB,EAAI,GACnD,MAAM,WAAa,KAAK,MAAO,QAAQ,QAAU,QAAQ,MAAS,GAAG,EAErE,MAAM,SAAqB,CAAC,EAG5B,SAAS,KAAK,MAAM,QAAQ,CAAC,GAAK,QAAG,EAGrC,SAAS,KAAK,MAAM,KAAK,QAAQ,KAAK,CAAC,EAGvC,GAAI,QAAQ,UAAY,MAAO,CAC7B,MAAM,SAAW,KAAK,IAAI,GAAI,MAAQ,EAAE,EACxC,MAAM,OAAS,KAAK,MAAO,WAAa,IAAO,QAAQ,EACvD,MAAM,MAAQ,SAAW,OAEzB,MAAM,IAAM,GAAG,MAAM,QAAQ,SAAI,OAAO,MAAM,CAAC,CAAC,GAAG,MAAM,GAAG,MAAM,SAAI,OAAO,KAAK,CAAC,CAAC,GACpF,SAAS,KAAK,IAAI,GAAG,GAAG,CAC1B,CAGA,GAAI,QAAQ,iBAAmB,MAAO,CACpC,SAAS,KAAK,MAAM,QAAQ,GAAG,UAAU,GAAG,CAAC,CAC/C,CAGA,GAAI,QAAQ,YAAc,MAAO,CAC/B,SAAS,KAAK,MAAM,GAAG,MAAM,IAAI,QAAQ,OAAO,IAAI,QAAQ,KAAK,GAAG,CAAC,CACvE,CAEA,OAAO,SAAS,KAAK,GAAG,CAC1B,CAnCgB,0DAwCT,SAAS,oBACd,MACA,SACA,KAAmB,SACX,CACR,MAAM,OAAS,YAAY,IAAI,EAC/B,MAAM,MAAQ,gBAAgB,EAE9B,MAAM,WAAa,OAAO,SAAS,SAAI,OAAO,KAAK,CAAC,EACpD,MAAM,UAAY,OAAO,SAAS,UAAU,MAAM,YAAY,EAAG,KAAK,CAAC,EAEvE,MAAM,MAAQ,CAAC,WAAY,SAAS,EAEpC,GAAI,SAAU,CACZ,MAAM,aAAe,MAAM,GAAG,MAAM,UAAU,SAAU,KAAK,CAAC,EAC9D,MAAM,KAAK,YAAY,CACzB,CAEA,OAAO,MAAM,KAAK,IAAI,EAAI,IAC5B,CAnBgB,kDAwBhB,SAAS,eAAe,QAAyB,CAC/C,MAAM,UAAY,QAAQ,MAAM,IAAI,EAAE,CAAC,GAAK,QAG5C,GAAI,UAAU,MAAM,iBAAiB,EAAG,CACtC,MAAM,MAAQ,UAAU,MAAM,iBAAiB,EAC/C,MAAO,SAAS,MAAO,CAAC,CAAC,QAAQ,MAAO,CAAC,IAAM,IAAM,GAAK,GAAG,EAC/D,CAEA,GAAI,UAAU,MAAM,8BAA8B,EAAG,CACnD,MAAM,MAAQ,UAAU,MAAM,8BAA8B,EAC5D,MAAO,SAAS,MAAO,CAAC,CAAC,QAAQ,MAAO,CAAC,IAAM,IAAM,GAAK,GAAG,EAC/D,CAEA,GAAI,UAAU,MAAM,wBAAwB,EAAG,CAC7C,MAAM,MAAQ,UAAU,MAAM,wBAAwB,EACtD,MAAO,QAAQ,MAAO,CAAC,CAAC,QAC1B,CAGA,MAAM,UAAY,GAClB,GAAI,UAAU,QAAU,UAAW,CACjC,OAAO,SACT,CAEA,MAAM,YAAc,UAAU,MAAM,EAAG,SAAS,EAAE,OAAO,kBAAkB,EAC3E,GAAI,YAAc,GAAI,CACpB,OAAO,UAAU,MAAM,EAAG,YAAc,CAAC,CAC3C,CAEA,MAAM,UAAY,UAAU,MAAM,EAAG,SAAS,EAC9C,MAAM,UAAY,UAAU,YAAY,GAAG,EAC3C,OAAO,UAAY,GAAK,UAAU,MAAM,EAAG,SAAS,EAAI,SAAM,UAAY,QAC5E,CAjCS,wCAsCT,SAAS,qBAAqB,KAAc,UAA2B,CACrE,GAAI,KAAK,QAAU,UAAW,OAAO,KACrC,OAAO,KAAK,MAAM,EAAG,UAAY,CAAC,EAAI,QACxC,CAHS,oDAQT,SAAS,UAAU,KAAc,MAAuB,CACtD,MAAM,QAAU,QAAQ,IAAI,EAC5B,GAAI,SAAW,MAAO,OAAO,KAE7B,MAAM,KAAO,KAAK,OAAO,MAAQ,SAAW,CAAC,EAC7C,MAAM,MAAQ,MAAQ,QAAU,KAEhC,MAAO,IAAI,OAAO,IAAI,EAAI,KAAO,IAAI,OAAO,KAAK,CACnD,CARS","names":[],"ignoreList":[],"sources":["/Volumes/4TB/GitHub/src/ui/premiumComponents.ts"],"sourcesContent":[null]}}